{"version":3,"file":"bundle.js","sources":["../../src/configs/EnumType.ts","../../src/platforms/Platform.ts","../../src/platforms/oppo/OppoPlatform.ts","../../src/platforms/vivo/VivoPlatform.ts","../../src/platforms/wx/WxPlatform.ts","../../src/platforms/tt/TtPlatform.ts","../../src/extensionTools/MyVector3.ts","../../src/d3Components/D3Component.ts","../../src/nimo_Mods/cal/Nimo3D.ts","../../src/gameComponents/Bullet.ts","../../src/gameComponents/Enemy.ts","../../src/gameComponents/Gun/HandGrip.ts","../../src/gameComponents/Gun/HandGun/HandGun.ts","../../src/gameComponents/Gun/HandGun/HandGun1.ts","../../src/gameComponents/Gun/Rifle/Rifle.ts","../../src/gameComponents/Gun/Rifle/Rifle1.ts","../../src/gameComponents/Gun/Rifle/Rifle2.ts","../../src/extensionTools/D3Tween.ts","../../src/gameComponents/Gun/Snpier/Sniper.ts","../../src/gameComponents/Gun/Snpier/Sniper1.ts","../../src/gameComponents/Obs.ts","../../src/gameComponents/Tower.ts","../../src/nimo_Mods/ctrl/TouchScan.ts","../../src/nimo_Mods/Tools.ts","../../src/managers/LevelMgr.ts","../../src/configs/StorageData.ts","../../src/managers/StorageMgr.ts","../../src/configs/GlobalData.ts","../../src/managers/EventMgr.ts","../../src/managers/ResMgr.ts","../../src/managers/PrefabMgr.ts","../../src/managers/UiMgr.ts","../../src/managers/SoundMgr.ts","../../src/managers/NetMgr.ts","../../src/managers/GameMgr.ts","../../src/extensionTools/ExtensionTool.ts","../../src/extensionTools/D2Tween.ts","../../src/d2Components/D2Component.ts","../../src/d2Components/TestPanel.ts","../../src/uiScenes/UiScene.ts","../../src/uiScenes/Game.ts","../../src/nimo_Mods/ctrl/TouchWayCheck.ts","../../src/nimo_Mods/uiTween/RotUITween.ts","../../src/uiScenes/Home.ts","../../src/uiScenes/Load.ts","../../src/uiScenes/Over.ts","../../src/GameConfig.ts","../../src/Main.ts"],"sourcesContent":["/**平台类型 */\r\nexport enum PlatformType {\r\n    WX = 'wx',\r\n    OPPO = 'oppo',\r\n    VIVO = \"vivo\",\r\n    PC = 'pc',\r\n    TT = 'tt'\r\n}\r\n\r\n/**预制体类型 */\r\n\r\nexport enum PrefabType {\r\n    TestPanel = \"prefab/testPanel.prefab\"\r\n}\r\n\r\n/**ui界面类型 */\r\nexport enum UiSceneType {\r\n    /**加载页 */\r\n    Load = \"uiScene/Load.scene\",\r\n    /**首页 */\r\n    Home = \"uiScene/Home.scene\",\r\n    /**游戏页 */\r\n    Game = \"uiScene/Game.scene\",\r\n    /**结束页 */\r\n    Over = \"uiScene/Over.scene\",\r\n}\r\n\r\n/**事件类型 */\r\n\r\nexport enum EventType {\r\n    /**资源加载事件 */\r\n    Load_Res_Msg_Event,\r\n    /**游戏初始化事件 */\r\n    Init_Game_Event,\r\n    /**游戏开始事件 */\r\n    Play_Game_Event,\r\n    /**游戏结束事件 */\r\n    Over_Game_Event,\r\n    /**ui开启事件 */\r\n    Open_Ui_Event,\r\n    /**ui关闭事件 */\r\n    Close_Ui_Event,\r\n    /**更新金币事件 */\r\n    Update_Coin_Event,\r\n    /**更换皮肤事件 */\r\n    Update_Skin_Event,\r\n    /**关闭视频事件 */\r\n    Close_Video_Event,\r\n    /**平台唤醒事件 */\r\n    Platform_Wake_Event,\r\n    Platform_Sleep_Event,\r\n\r\n    /**游戏内-是否瞄准镜事件 */\r\n    Game_ShowAim_Event,\r\n    /**游戏内-是否显示准星事件 */\r\n    Game_ShowSmallAim_Event,\r\n    /**键盘按下事件 */\r\n    KeyDown_Event,\r\n    /**游戏内-更新回合情况事件 */\r\n    Game_RoundUpdate_Event,\r\n    /**游戏内鬼火更新事件 */\r\n    Game_FireUpdate_Event,\r\n    /**游戏内建筑UI更新事件 */\r\n    Game_BuildUIUpdate_Event,\r\n    /**游戏内基地的血条变化事件 */\r\n    Game_PlayerBaseUpdate_Event,\r\n}\r\n\r\n/**音效类型 */\r\nexport enum SoundType {\r\n    /************* 音乐 *************/\r\n    /**背景音乐 */\r\n    BGM = \"Bgm\",\r\n\r\n    /************* 音效 *************/\r\n    /**点击 */\r\n    CLICK = \"Click\",\r\n\r\n    /**游戏常用 */\r\n    win = \"win\",\r\n    fail = \"fail\",\r\n\r\n    /**枪通用 */\r\n    aim_in = \"aim_in\",\r\n    shoot = \"shoot\",\r\n\r\n    /**Sniper1 */\r\n    snipe1_reload_open = \"snipe1_reload_open\",\r\n    sniper1_reload_close = \"sniper1_reload_close\",\r\n    sniper1_reload_insert = \"sniper1_reload_insert\",\r\n\r\n    /**HandGun */\r\n    handgun_reload = \"handgun_reload\",\r\n\r\n    /**Rifle1 */\r\n    rifle1_reload = \"rifle1_reload\",\r\n    /**Rifel2 */\r\n    rifle2_reload = \"rifle2_reload\",\r\n\r\n}\r\n/**设备性能 */\r\nexport enum EquipmentPerformance {\r\n    Low = \"Low\",\r\n    Mid = \"Mid\",\r\n    High = \"High\",\r\n}","import { EventType } from \"../configs/EnumType\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\n\r\n/**平台管理类 */\r\nexport default class Platform {\r\n    /**Banner广告Id */\r\n    bannerId: string = '';\r\n    /**激励视频广告Id */\r\n    videoId: string = '';\r\n    /**插屏广告Id */\r\n    interId: string = '';\r\n    /**格子广告Id */\r\n    gridId: string = '';\r\n    /**原生广告Id */\r\n    nativeId: string = '';\r\n    /**九宫格广告Id */\r\n    boxPortalId: string = '';\r\n\r\n    /**Banner广告组件 */\r\n    bannerAd: any;\r\n    /**激励视频广告组件 */\r\n    videoAd: any;\r\n    /**插屏广告组件 */\r\n    interAd: any;\r\n    /**格子广告组件 */\r\n    gridAd: any;\r\n    /**原生广告组件 */\r\n    nativeAd: any;\r\n    /**九宫格广告组件 */\r\n    boxPortalAd: any;\r\n\r\n    /**激励视频广告播放完成回调 */\r\n    videoFinishCallback: Function;\r\n    /**激励视频广告播放取消回调 */\r\n    videoCancelCallback: Function;\r\n\r\n    /**九宫格广告关闭回调 */\r\n    boxPortalCloseCallback: Function;\r\n\r\n    /**平台api对象 */\r\n    platformApi: any;\r\n    /**系统信息 */\r\n    sysInfo: any;\r\n\r\n    /**是否支持分包 */\r\n    canSubPackage: boolean = false;\r\n\r\n    constructor() {\r\n        this.initAd();\r\n        this.regisiterCallback();\r\n    }\r\n\r\n    //#region 广告\r\n    /**初始化广告 */\r\n    initAd() { console.warn(\"未初始化广告组件\"); }\r\n    /**创建Banner广告 */\r\n    createBannerAd(isShow?: boolean) { console.warn(\"暂不支持Banner广告\"); }\r\n    /**创建Video广告 */\r\n    createVideoAd() { console.warn(\"暂不支持激励视频广告\"); }\r\n    /**创建插屏广告 */\r\n    createInterAd() { console.warn(\"暂不支持插屏广告\"); }\r\n    /**创建格子广告 */\r\n    createGridAd() { console.warn(\"暂不支持格子广告\"); }\r\n    /**创建原生广告 */\r\n    createNativeAd(id?: string, cb?: Function): NativeAd { console.warn(\"暂不支持原生广告\"); return null }\r\n    /**创建九宫格广告 */\r\n    createBoxProtalAd() { console.warn(\"暂不支持九宫格广告\"); }\r\n\r\n    /**展示Banner广告 */\r\n    showBannerAd() { }\r\n    /**隐藏Banner广告 */\r\n    hideBannerAd() { }\r\n    /**销毁Banner广告 */\r\n    destroyBannerAd() { }\r\n\r\n    /**展示激励视频广告 */\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        finishCB && finishCB();\r\n    }\r\n\r\n    /**销毁激励视频广告 */\r\n    destroyVideoAd() { }\r\n\r\n    /**展示插屏广告 */\r\n    showInterAd() { }\r\n    /**销毁插屏广告 */\r\n    destroyInterAd() { }\r\n\r\n    /**展示格子广告 */\r\n    showGridAd() { }\r\n    /**隐藏格子广告 */\r\n    hideGridAd() { }\r\n    /**销毁格子广告 */\r\n    destroyGridAd() { }\r\n\r\n    /**展示原生广告 */\r\n    showNativeAd(ad: NativeAd, cb?: Function) { };\r\n    /**隐藏原生广告 */\r\n    loadNativeAd(ad: NativeAd, cb?: Function) { };\r\n    /**销毁原生广告 */\r\n    destroyNativeAd(ad: NativeAd) { }\r\n\r\n    /**展示九宫格广告 */\r\n    showBoxProtalAd(closeCB?: Function, successCB?: Function) {\r\n        successCB && successCB();\r\n    }\r\n    /**销毁九宫格广告 */\r\n    destroyBoxProtalAd() { }\r\n    //#endregion\r\n\r\n    //#region 通用\r\n\r\n    /**获取系统信息 */\r\n    getSystemInfoSync() {\r\n        if (!this.sysInfo) {\r\n            this.sysInfo = this.platformApi.getSystemInfoSync();\r\n        }\r\n        return this.sysInfo;\r\n    }\r\n    /**弹窗 */\r\n    showToast(msg: string, duration?: number) { }\r\n    /**短震动 */\r\n    vibrateShort() {\r\n        if (this.platformApi)\r\n            this.platformApi.vibrateShort();\r\n    }\r\n    /**长震动 */\r\n    vibrateLong() {\r\n        if (this.platformApi)\r\n            this.platformApi.vibrateLong();\r\n    }\r\n    /**\r\n     * 分包 \r\n     * 需配置game.json\r\n     * \"subpackages\": [\r\n         {\r\n            \"name\": \"scene\", //包名\r\n            \"root\": \"res/scene\" //路径\r\n         }\r\n        ],\r\n     */\r\n    loadSubpackage(loadName: string, caller: any, callback: Function) {\r\n        let loadTask = this.platformApi.loadSubpackage({\r\n            name: loadName,\r\n            success: function (res) {\r\n                GameMgr.ConsoleLog(\"分包加载成功：\", loadName);\r\n                callback.call(res, caller, true);\r\n            },\r\n            fail: function (res) {\r\n                GameMgr.ConsoleError(\"分包加载失败：\", loadName, JSON.stringify(res));\r\n                callback.call(res, caller, false);\r\n            }\r\n        })\r\n\r\n        loadTask.onProgressUpdate(res => {\r\n            GameMgr.ConsoleLog(\"分包================\", JSON.stringify(res));\r\n        });\r\n    }\r\n    /**同步加载多个分包 */\r\n    loadSubpackagesSync(loadNames: string[], caller, callback) {\r\n        var loadCount = loadNames.length;\r\n        for (let i = 0; i < loadCount; i++) {\r\n            this.loadSubpackage(loadNames[i], caller, (caller, isSuccess) => {\r\n                if (isSuccess && --loadCount == 0) {\r\n                    GameMgr.ConsoleLog(\"全部分包加载完成\");\r\n                    callback.call(this, caller, isSuccess);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**前后台切换回调 */\r\n    regisiterCallback() {\r\n        if (this.platformApi) {\r\n            this.platformApi.offShow(this.onShowEvent);\r\n            this.platformApi.onShow(this.onShowEvent);\r\n            this.platformApi.offHide(this.onHideEvent);\r\n            this.platformApi.onHide(this.onHideEvent);\r\n        }\r\n    }\r\n\r\n    onShowEvent(e) {\r\n        GameMgr.Event.event(EventType.Platform_Wake_Event, { param: e });\r\n    }\r\n\r\n    onHideEvent(e) {\r\n        GameMgr.Event.event(EventType.Platform_Sleep_Event, { param: e });\r\n    }\r\n\r\n\r\n    /**创建桌面图标 */\r\n    createShortcut(cb?: Function) { }\r\n    /**是否已创建桌面图标 */\r\n    hasShortcut(cb?: Function) { }\r\n    //#endregion\r\n}\r\n\r\nexport class NativeAd {\r\n    nativeAd: any;\r\n    title: string;\r\n    desc: string;\r\n    imgUrl: string;\r\n    adId: string;\r\n}","import Platform, { NativeAd } from \"../Platform\";\r\n\r\n/**oppo平台 */\r\nexport default class OppoPlatform extends Platform{\r\n    /******************** 广告 ********************/\r\n    initAd() {\r\n        this.canSubPackage = true;\r\n        this.platformApi = Laya.Browser.window.qg;\r\n\r\n        this.bannerId = '368663';\r\n        this.videoId = '368667';\r\n        this.nativeId = '368665';\r\n        this.boxPortalId = '368668';\r\n\r\n        this.createBannerAd();\r\n        this.createVideoAd();\r\n        this.createBoxProtalAd();\r\n    }\r\n\r\n    //#region Banner广告\r\n    createBannerAd(isShow: boolean = false) {\r\n        if (this.getPlatformVersionCode < 1051) {\r\n            console.warn(\"版本过低暂不支持Banner广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.bannerAd) {\r\n            this.destroyBannerAd();\r\n        }\r\n\r\n        this.bannerAd = Laya.Browser.window.qg.createBannerAd({\r\n            adUnitId: this.bannerId,\r\n            // style: {},//top,left,width,height\r\n        });\r\n\r\n        this.bannerAd.onLoad(() => {\r\n            if (isShow) {\r\n                this.bannerAd.show().then(() => { }).catch(err => {\r\n                    this.createBannerAd();\r\n                });\r\n            }\r\n            console.log(\"Banner广告加载成功\");\r\n        });\r\n\r\n        this.bannerAd.onError(err => {\r\n            this.bannerAd = null;\r\n            console.error(\"Banner广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.bannerAd.onResize(res => {\r\n            // console.log(res.width, res.height);\r\n        });\r\n    }\r\n\r\n    showBannerAd() {\r\n        if (!this.bannerAd) {\r\n            this.createBannerAd(true);\r\n            return;\r\n        }\r\n\r\n        this.bannerAd.show().then(() => { }).catch((err) => {\r\n            this.createBannerAd(true);\r\n        });\r\n    }\r\n\r\n    hideBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.hide();\r\n    }\r\n\r\n    destroyBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.destroy();\r\n        this.bannerAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 激励视频广告\r\n    createVideoAd() {\r\n        if (this.getPlatformVersionCode < 1051) {\r\n            console.warn(\"版本过低暂不支持激励视频广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.videoAd) {\r\n            this.destroyVideoAd();\r\n        }\r\n\r\n        this.videoAd = Laya.Browser.window.qg.createRewardedVideoAd({\r\n            adUnitId: this.videoId\r\n        });\r\n\r\n        this.videoAd.onLoad(res => {\r\n            console.log(\"激励视频广告加载成功\");\r\n        });\r\n\r\n        this.videoAd.onError(err => {\r\n            this.videoAd = null;\r\n            console.error(\"激励视频广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.videoAd.onClose((res) => {\r\n            if (res) {\r\n                if (res.isEnded) {\r\n                    this.videoFinishCallback && this.videoFinishCallback();\r\n                }\r\n                else {\r\n                    this.videoCancelCallback && this.videoCancelCallback();\r\n                }\r\n\r\n                this.videoFinishCallback = null;\r\n                this.videoCancelCallback = null;\r\n                this.videoAd.load();\r\n            }\r\n        })\r\n    }\r\n\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        if (!this.videoAd) {\r\n            this.createVideoAd();\r\n            finishCB && finishCB();\r\n            return;\r\n        }\r\n\r\n        this.videoFinishCallback = finishCB;\r\n        this.videoCancelCallback = cancelCB;\r\n\r\n        //vivo播放视频需要中断游戏音效\r\n        Laya.SoundManager.muted = true;\r\n        this.videoAd.show().then(() => { }).catch(err => {\r\n            finishCB && finishCB();\r\n            this.createVideoAd();\r\n            this.videoFinishCallback = null;\r\n            this.videoCancelCallback = null;\r\n            //恢复游戏音效\r\n            Laya.SoundManager.muted = false;\r\n        })\r\n    }\r\n\r\n    destroyVideoAd() {\r\n        if (!this.videoAd) return;\r\n        this.videoAd.destroy();\r\n        this.videoAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 九宫格广告\r\n    createBoxProtalAd() {\r\n        if (this.getPlatformVersionCode < 1076) {\r\n            console.warn(\"版本过低暂不支持九宫格广告组件\");\r\n            return;\r\n        }\r\n\r\n        this.boxPortalAd = Laya.Browser.window.qg.createGamePortalAd({\r\n            adUnitId: this.boxPortalId\r\n        });\r\n        this.boxPortalAd.load();\r\n\r\n        this.boxPortalAd.onLoad(() => {\r\n            console.log(\"九宫格广告加载成功\");\r\n        });\r\n\r\n        this.boxPortalAd.onError(err => {\r\n            this.boxPortalAd = null;\r\n            console.error(\"九宫格广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.boxPortalAd.onClose(() => {\r\n            this.boxPortalCloseCallback && this.boxPortalCloseCallback()\r\n            this.boxPortalCloseCallback = null\r\n        });\r\n    }\r\n\r\n    showBoxProtalAd(closeCB?: Function) {\r\n        if (!this.boxPortalAd) {\r\n            closeCB && closeCB();\r\n            this.createBoxProtalAd();\r\n            return;\r\n        }\r\n\r\n        this.boxPortalAd.show().then(() => {\r\n            this.boxPortalCloseCallback = closeCB;\r\n        }).catch(err => {\r\n            this.destroyBoxProtalAd();\r\n            closeCB && closeCB();\r\n        })\r\n    }\r\n\r\n    destroyBoxProtalAd() {\r\n        if (!this.boxPortalAd) return;\r\n        this.boxPortalAd.destroy();\r\n        this.boxPortalAd = null;\r\n        this.createBoxProtalAd();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 原生广告\r\n    createNativeAd(id?: string): NativeAd {\r\n        if (this.getPlatformVersionCode < 1051) {\r\n            console.warn(\"版本过低暂不支持原生广告组件\");\r\n            return;\r\n        }\r\n        var ad = new NativeAd;\r\n\r\n        var nativeAd = Laya.Browser.window.qg.createNativeAd({\r\n            adUnitId: id ? id : this.nativeId,\r\n        });\r\n        nativeAd.load();\r\n\r\n        nativeAd.onLoad((res) => {\r\n            if (res && res.adList) {\r\n                ad.nativeAd = nativeAd;\r\n                let curAd = res.adList.pop();\r\n                ad.title = curAd.title;\r\n                ad.adId = curAd.adId.toString();\r\n                ad.imgUrl = curAd.imgUrlList[0];\r\n                ad.desc = curAd.desc;\r\n                console.log(\"原生广告加载成功\");\r\n            }\r\n        });\r\n\r\n        nativeAd.onError(err => {\r\n            console.error(\"原生广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        return ad;\r\n    }\r\n\r\n    showNativeAd(ad?: NativeAd) {\r\n        if (ad) {\r\n            ad.nativeAd.reportAdShow({ adId: ad.adId });\r\n            ad.nativeAd.reportAdClick({ adId: ad.adId });\r\n        }\r\n    }\r\n\r\n    loadNativeAd(ad?: NativeAd) {\r\n        if (ad) {\r\n            ad.nativeAd.load();\r\n        }\r\n    }\r\n\r\n    destroyNativeAd(ad?: NativeAd) {\r\n        if (ad) {\r\n            ad.nativeAd.offLoad();\r\n            ad = null;\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    /******************** 平台API ********************/\r\n    /**当前平台版本号 */\r\n    get getPlatformVersionCode() {\r\n        return this.getSystemInfoSync().platformVersionCode;\r\n    }\r\n\r\n    /**\r\n     * 弹窗\r\n     * @param msg 文本\r\n     * @param duration 提示的延迟时间\r\n     */\r\n    showToast(msg: string, duration: number = 1500) {\r\n        Laya.Browser.window.qg.showToast({\r\n            title: msg,//提示文字\r\n            duration: duration,//显示时长\r\n        })\r\n    }\r\n}","import Platform, { NativeAd } from \"../Platform\";\r\n\r\n/**vivo平台 */\r\nexport default class VivoPlatform extends Platform {\r\n    /******************** 广告 ********************/\r\n    initAd() {\r\n        this.canSubPackage = true;\r\n        this.platformApi = Laya.Browser.window.qg;\r\n\r\n        this.bannerId = 'b0f1cd20a8fb46d5ad5fc76115c0f439';\r\n        this.videoId = 'a8e27c60943c4160944608eedb1ab3eb';\r\n        this.nativeId = 'f6396fe1edca4b6b93b069897d26fc23';\r\n        this.boxPortalId = '0f1a6cdf82c84dcd971812d710a54def';\r\n\r\n        this.createBannerAd();\r\n        this.createVideoAd();\r\n        this.createBoxProtalAd();\r\n    }\r\n\r\n    //#region Banner广告\r\n    createBannerAd(isShow: boolean = false) {\r\n        // style内无需设置任何字段，banner会在屏幕底部居中显示，\r\n        // 没有style字段，banner会在上边显示\r\n        // 1053以及以上版本支持属性设置\r\n        if (this.getPlatformVersionCode < 1031) {\r\n            console.warn(\"版本过低暂不支持Banner广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.bannerAd) {\r\n            this.destroyBannerAd();\r\n        }\r\n\r\n        this.bannerAd = Laya.Browser.window.qg.createBannerAd({\r\n            posId: this.bannerId,\r\n            style: {},//left:0,top:0\r\n            adIntervals: 30\r\n        });\r\n\r\n        this.bannerAd.onLoad(() => {\r\n            if (isShow) {\r\n                this.bannerAd.show().then(() => { }).catch(err => {\r\n                    this.createBannerAd();\r\n                });\r\n            }\r\n            console.log(\"Banner广告加载成功\");\r\n        });\r\n\r\n        this.bannerAd.onError(err => {\r\n            this.bannerAd = null;\r\n            console.error(\"Banner广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.bannerAd.onClose(() => {\r\n            this.createBannerAd();\r\n        });\r\n\r\n        this.bannerAd.onSize(res => {\r\n            // console.log(res.width, res.height);\r\n        });\r\n    }\r\n\r\n    showBannerAd() {\r\n        if (!this.bannerAd) {\r\n            this.createBannerAd(true);\r\n            return;\r\n        }\r\n\r\n        this.bannerAd.show().then(() => { }).catch((err) => {\r\n            this.createBannerAd(true);\r\n        });\r\n    }\r\n\r\n    hideBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.hide();\r\n    }\r\n\r\n    destroyBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.destroy();\r\n        this.bannerAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 激励视频广告\r\n    createVideoAd() {\r\n        if (this.getPlatformVersionCode < 1041) {\r\n            console.warn(\"版本过低暂不支持激励视频广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.videoAd) {\r\n            this.destroyVideoAd();\r\n        }\r\n\r\n        this.videoAd = Laya.Browser.window.qg.createRewardedVideoAd({\r\n            posId: this.videoId\r\n        });\r\n\r\n        this.videoAd.onLoad(res => {\r\n            console.log(\"激励视频广告加载成功\");\r\n        });\r\n\r\n        this.videoAd.onError(err => {\r\n            this.videoAd = null;\r\n            console.error(\"激励视频广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.videoAd.onClose((res) => {\r\n            if (res) {\r\n                if (res.isEnded) {\r\n                    this.videoFinishCallback && this.videoFinishCallback();\r\n                }\r\n                else {\r\n                    this.videoCancelCallback && this.videoCancelCallback();\r\n                }\r\n\r\n                this.videoFinishCallback = null;\r\n                this.videoCancelCallback = null;\r\n                this.videoAd.load();\r\n            }\r\n        })\r\n    }\r\n\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        if (!this.videoAd) {\r\n            this.createVideoAd();\r\n            finishCB && finishCB();\r\n            return;\r\n        }\r\n\r\n        this.videoFinishCallback = finishCB;\r\n        this.videoCancelCallback = cancelCB;\r\n\r\n        //vivo播放视频需要中断游戏音效\r\n        Laya.SoundManager.muted = true;\r\n        this.videoAd.show().then(() => { }).catch(err => {\r\n            finishCB && finishCB();\r\n            this.createVideoAd();\r\n            this.videoFinishCallback = null;\r\n            this.videoCancelCallback = null;\r\n            //恢复游戏音效\r\n            Laya.SoundManager.muted = false;\r\n        })\r\n    }\r\n\r\n    destroyVideoAd() {\r\n        if (!this.videoAd) return;\r\n        this.videoAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 九宫格广告\r\n    createBoxProtalAd() {\r\n        if (!Laya.Browser.window.qg.createBoxPortalAd) {\r\n            console.warn(\"版本过低暂不支持九宫格广告组件\");\r\n            return;\r\n        }\r\n\r\n        this.boxPortalAd = Laya.Browser.window.qg.createBoxPortalAd({\r\n            posId: this.boxPortalId,\r\n            marginTop: this.getSystemInfoSync().screenHeight * 0.4\r\n        });\r\n        this.boxPortalAd.onLoad(() => {\r\n            console.log(\"九宫格广告加载成功\");\r\n        });\r\n        this.boxPortalAd.onError(err => {\r\n            this.boxPortalAd = null;\r\n            console.error(\"九宫格广告加载失败\", JSON.stringify(err));\r\n        });\r\n        this.boxPortalAd.onClose(() => {\r\n            this.boxPortalCloseCallback && this.boxPortalCloseCallback()\r\n            this.boxPortalCloseCallback = null\r\n        });\r\n    }\r\n\r\n    showBoxProtalAd(closeCB?: Function) {\r\n        if (!this.boxPortalAd) {\r\n            closeCB && closeCB();\r\n            this.createBoxProtalAd();\r\n            return;\r\n        }\r\n\r\n        this.boxPortalAd.show().then(() => {\r\n            this.boxPortalCloseCallback = closeCB;\r\n        }).catch(err => {\r\n            this.destroyBoxProtalAd();\r\n            closeCB && closeCB();\r\n        })\r\n    }\r\n\r\n    destroyBoxProtalAd() {\r\n        if (!this.boxPortalAd) return;\r\n        this.boxPortalAd.destroy();\r\n        this.boxPortalAd = null;\r\n        this.createBoxProtalAd();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 原生广告\r\n    createNativeAd(id?: string): NativeAd {\r\n        if (this.getPlatformVersionCode < 1053) {\r\n            console.warn(\"版本过低暂不支持原生广告组件\");\r\n            return;\r\n        }\r\n        var ad = new NativeAd;\r\n\r\n        var nativeAd = Laya.Browser.window.qg.createNativeAd({\r\n            posId: id ? id : this.nativeId,\r\n        });\r\n        nativeAd.onLoad((res) => {\r\n            if (res && res.adList) {\r\n                ad.nativeAd = nativeAd;\r\n                let curAd = res.adList.pop();\r\n                ad.title = curAd.title;\r\n                ad.adId = curAd.adId.toString();\r\n                ad.imgUrl = curAd.imgUrlList[0];\r\n                ad.desc = curAd.desc;\r\n                console.log(\"原生广告加载成功\");\r\n            }\r\n        });\r\n\r\n        nativeAd.onError(err => {\r\n            console.error(\"原生广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        return ad;\r\n    }\r\n\r\n    showNativeAd(ad?: NativeAd) {\r\n        if (ad) {\r\n            ad.nativeAd.reportAdShow({ adId: ad.adId });\r\n            ad.nativeAd.reportAdClick({ adId: ad.adId });\r\n        }\r\n    }\r\n\r\n    loadNativeAd(ad?: NativeAd) {\r\n        if (ad) {\r\n            ad.nativeAd.load();\r\n        }\r\n    }\r\n\r\n    destroyNativeAd(ad?: NativeAd) {\r\n        if (ad) {\r\n            ad.nativeAd.offLoad();\r\n            ad = null;\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    /******************** 平台API ********************/\r\n    /**当前平台版本号 */\r\n    get getPlatformVersionCode() {\r\n        return this.getSystemInfoSync().platformVersionCode;\r\n    }\r\n\r\n    /**\r\n     * 弹窗\r\n     * @param msg 文本\r\n     * @param duration 0为短时，1为长时 \r\n     */\r\n    showToast(msg: string, duration: number = 0) {\r\n        Laya.Browser.window.qg.showToast({\r\n            message: msg,//提示文字\r\n            duration: duration,//显示时长\r\n        })\r\n    }\r\n}","import GameConfig from \"../../GameConfig\";\r\nimport Platform from \"../Platform\";\r\n\r\n/**微信平台 */\r\nexport default class WxPlatform extends Platform {\r\n    /******************** 广告 ********************/\r\n    initAd() {\r\n        this.canSubPackage = true;\r\n        this.platformApi = Laya.Browser.window.wx;\r\n\r\n        this.bannerId = ''; \r\n        this.videoId = '';\r\n        this.interId = '';\r\n        this.gridId = '';\r\n\r\n        // this.createBannerAd();\r\n        // this.createVideoAd();\r\n        // this.createBoxProtalAd();\r\n\r\n        this.showShareMenuWithTicket(true);\r\n        this.regisiterWXShareCallback();\r\n    }\r\n\r\n    //#region Banner广告\r\n    createBannerAd(isShow: boolean = false) {\r\n        if (this.compareSDKVersion(\"2.0.4\")) {\r\n            console.warn(\"版本过低暂不支持Banner广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.bannerAd) {\r\n            this.destroyBannerAd();\r\n        }\r\n\r\n        let sysInfo = this.getSystemInfoSync();\r\n        this.bannerAd = Laya.Browser.window.wx.createBannerAd({\r\n            adUnitId: this.bannerId,\r\n            style: {\r\n                top: sysInfo.screenHeight * 0.8,\r\n                width: 300,\r\n                left: sysInfo.screenWidth / 2 - 150\r\n            },\r\n            adIntervals: 30\r\n        });\r\n\r\n        this.bannerAd.onLoad(() => {\r\n            if (isShow) {\r\n                this.bannerAd.show().then(() => { }).catch(err => {\r\n                    this.createBannerAd();\r\n                });\r\n            }\r\n            console.log(\"Banner广告加载成功\");\r\n        });\r\n\r\n        this.bannerAd.onError(err => {\r\n            this.bannerAd = null;\r\n            console.error(\"Banner广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.bannerAd.onResize(res => {\r\n            let realHeight = this.bannerAd.style.realHeight + 0.1;\r\n            if (sysInfo.model.startsWith(\"iPhone X\")) realHeight += (40 / Laya.Browser.height) * GameConfig.height;\r\n            this.bannerAd.style.top = sysInfo.screenHeight - realHeight;\r\n        });\r\n    }\r\n\r\n    showBannerAd() {\r\n        if (!this.bannerAd) {\r\n            this.createBannerAd(true);\r\n            return;\r\n        }\r\n\r\n        this.bannerAd.show().then(() => { }).catch((err) => {\r\n            this.createBannerAd(true);\r\n        });\r\n    }\r\n\r\n    hideBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.hide();\r\n    }\r\n\r\n    destroyBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.destroy();\r\n        this.bannerAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 激励视频广告\r\n    createVideoAd() {\r\n        if (this.compareSDKVersion(\"2.0.4\")) {\r\n            console.warn(\"版本过低暂不支持激励视频广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.videoAd) {\r\n            this.destroyVideoAd();\r\n        }\r\n\r\n        this.videoAd = Laya.Browser.window.wx.createRewardedVideoAd({\r\n            adUnitId: this.videoId\r\n        });\r\n\r\n        this.videoAd.onLoad(res => {\r\n            console.log(\"激励视频广告加载成功\");\r\n        });\r\n\r\n        this.videoAd.onError(err => {\r\n            this.videoAd = null;\r\n            console.error(\"激励视频广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.videoAd.onClose((res) => {\r\n            if (res) {\r\n                if (res.isEnded) {\r\n                    this.videoFinishCallback && this.videoFinishCallback();\r\n                }\r\n                else {\r\n                    this.videoCancelCallback && this.videoCancelCallback();\r\n                }\r\n\r\n                this.videoFinishCallback = null;\r\n                this.videoCancelCallback = null;\r\n                this.videoAd.load();\r\n            }\r\n        })\r\n    }\r\n\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        if (!this.videoAd) {\r\n            this.createVideoAd();\r\n            finishCB && finishCB();\r\n            return;\r\n        }\r\n\r\n        this.videoFinishCallback = finishCB;\r\n        this.videoCancelCallback = cancelCB;\r\n\r\n        //vivo播放视频需要中断游戏音效\r\n        Laya.SoundManager.muted = true;\r\n        this.videoAd.show().then(() => { }).catch(err => {\r\n            finishCB && finishCB();\r\n            this.createVideoAd();\r\n            this.videoFinishCallback = null;\r\n            this.videoCancelCallback = null;\r\n            //恢复游戏音效\r\n            Laya.SoundManager.muted = false;\r\n        })\r\n    }\r\n\r\n    destroyVideoAd() {\r\n        if (!this.videoAd) return;\r\n        this.videoAd.destroy();\r\n        this.videoAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    /******************** 平台API ********************/\r\n    /**当前平台版本号 */\r\n    get getPlatformVersionCode() {\r\n        return this.getSystemInfoSync().SDKVersion;\r\n    }\r\n    /**比对当前版本是否支持广告组件 */\r\n    compareSDKVersion(version: string = \"1.0.0\"): boolean {\r\n        let sdkVersion: string = this.getPlatformVersionCode; //当前版本\r\n        let arr1 = sdkVersion.split('.');\r\n        let arr2 = version.split('.');\r\n\r\n        let isMismatch = false; //默认版本支持\r\n        for (let i = 0; i < arr1.length; i++) {\r\n            if (arr1[i] > arr2[i]) break;\r\n            else if (arr1[i] == arr2[i]) continue;\r\n            else { isMismatch = true; } //版本不支持\r\n        }\r\n\r\n        return isMismatch;\r\n    }\r\n\r\n    /**\r\n     * 弹窗\r\n     * @param msg 文本\r\n     * @param duration 提示的延迟时间\r\n     */\r\n    showToast(msg: string, duration: number = 1500) {\r\n        Laya.Browser.window.wx.showToast({\r\n            title: msg,//提示文字\r\n            duration: duration,//显示时长\r\n        })\r\n    }\r\n\r\n    /**显示右上角转发分享功能 */\r\n    showShareMenuWithTicket(ticket) {\r\n        wx.showShareMenu({\r\n            withShareTicket: ticket,\r\n            success: function () { },\r\n            fail: function () { },\r\n            complete: function () { }\r\n        })\r\n    }\r\n\r\n    /**注册右上角转发分享监听 */\r\n    regisiterWXShareCallback() {\r\n        var shareId = 1;\r\n        if (Laya.Browser.onWeiXin) {\r\n            var object = { title: \"分享\", image: \"\" };\r\n            Laya.Browser.window.wx.onShareAppMessage(function () {\r\n                console.log(\"用户点击了转发按钮\");\r\n                let shareObj = {\r\n                    title: object.title,\r\n                    imageUrl: object.image,\r\n                    query: \"share_id=\" + shareId,\r\n                }\r\n                return shareObj;\r\n            })\r\n        }\r\n    }\r\n}","import { EventType } from \"../../configs/EnumType\";\r\nimport GameMgr from \"../../managers/GameMgr\";\r\nimport Platform from \"../Platform\";\r\n\r\n/**字节跳动平台 */\r\nexport default class TtPlatform extends Platform {\r\n\r\n    initAd() {\r\n        this.canSubPackage = true;\r\n        this.platformApi = Laya.Browser.window.tt;\r\n\r\n        this.videoId = \"2ka6315g9a3a2orxua\";\r\n        this.interId = \"tfmsrei55720jflc8e\";\r\n\r\n        this.initRecorder();\r\n        this.createVideoAd();\r\n        this.createInterAd();\r\n    }\r\n\r\n\r\n    /*************************** 视频-start ***************************/\r\n    createVideoAd() {\r\n        if (this.compareSDKVersion(\"1.3.0\")) {\r\n            console.warn(\"版本过低暂不支持激励视频广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.videoAd) {\r\n            this.destroyVideoAd();\r\n        }\r\n        this.videoAd = Laya.Browser.window.tt.createRewardedVideoAd({\r\n            adUnitId: this.videoId\r\n        });\r\n\r\n        this.videoAd.onLoad(res => {\r\n            console.log(\"激励视频广告加载成功\");\r\n        });\r\n\r\n        this.videoAd.onError(err => {\r\n            this.videoAd = null;\r\n            console.error(\"激励视频广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.videoAd.onClose((res) => {\r\n            // 小于 2.1.0 的基础库版本，res 是一个 undefined\r\n            if (res || res === undefined) {\r\n                if (res && res.isEnded) {\r\n                    this.videoFinishCallback && this.videoFinishCallback();\r\n                }\r\n                else {\r\n                    this.showToast(\"未看完视频\", 2000);\r\n                    this.videoCancelCallback && this.videoCancelCallback();\r\n                }\r\n\r\n                this.videoFinishCallback = null;\r\n                this.videoCancelCallback = null;\r\n                this.videoAd.load();\r\n\r\n                GameMgr.Event.event(EventType.Close_Video_Event, { isEnded: res.isEnded });\r\n            }\r\n        })\r\n    }\r\n\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        if (!this.videoAd) {\r\n            this.createVideoAd();\r\n            this.showToast(\"广告暂未准备好,请稍后再试\", 2000);\r\n            return;\r\n        }\r\n\r\n        this.videoFinishCallback = finishCB;\r\n        this.videoCancelCallback = cancelCB;\r\n\r\n        this.videoAd.show().then(() => { }).catch(err => {\r\n            this.createVideoAd();\r\n            this.videoFinishCallback = null;\r\n            this.videoCancelCallback = null;\r\n            this.showToast(\"广告暂未准备好,请稍后再试\", 2000);\r\n        })\r\n    }\r\n\r\n    destroyVideoAd() {\r\n        if (!this.videoAd) return;\r\n        this.videoAd.destroy();\r\n        this.videoAd = null;\r\n    }\r\n    /*************************** 视频-end ***************************/\r\n\r\n    /*************************** 插屏-start ***************************/\r\n    createInterAd(isShow?) {\r\n        if (this.compareSDKVersion(\"1.71.0\")) {\r\n            console.warn(\"版本过低暂不支持插屏广告组件\")\r\n            return;\r\n        }\r\n\r\n        this.interAd = Laya.Browser.window.tt.createInterstitialAd({ adUnitId: this.interId });\r\n\r\n        this.interAd.onLoad(() => {\r\n            console.log(\"插屏广告加载成功\");\r\n            if (isShow) this.interAd.show();\r\n        });\r\n\r\n        this.interAd.onError((err) => {\r\n            console.error(\"插屏广告加载失败\");\r\n            this.interAd.destroy();\r\n            this.interAd = null;\r\n        })\r\n    }\r\n\r\n    showInterAd() {\r\n        if (this.interAd) {\r\n            this.interAd.load().then(() => { this.interAd.show() }).catch(err => { console.error(err) });\r\n        }\r\n        else { this.createInterAd(true); }\r\n    }\r\n    /*************************** 插屏-end ***************************/\r\n\r\n    /******************** 录屏功能-start ********************/\r\n    static recorder: any = null;\r\n    isRecording: boolean = false;\r\n    videoPath: string = '';\r\n\r\n    recorderVideoCB: Function;\r\n\r\n    initRecorder() {\r\n        TtPlatform.recorder = Laya.Browser.window.tt.getGameRecorderManager();\r\n        this.stopListener()\r\n        this.onInterrupBegin()\r\n        this.onInterrupEnd()\r\n\r\n        console.log(\"录屏组件初始化\");\r\n    }\r\n\r\n    //开始录屏\r\n    recordStart() {\r\n        if (!TtPlatform.recorder) return;\r\n        console.log('录屏开始');\r\n        TtPlatform.recorder.start({\r\n            duration: 300,\r\n        })\r\n        this.isRecording = true;\r\n    }\r\n    //暂停录屏\r\n    recordPause() {\r\n        if (!TtPlatform.recorder) return;\r\n        console.log('录屏暂停');\r\n        TtPlatform.recorder.pause();\r\n    }\r\n    //继续录屏\r\n    recordResume() {\r\n        if (!TtPlatform.recorder) return;\r\n        console.log('录屏继续');\r\n        TtPlatform.recorder.resume();\r\n    }\r\n    //停止录屏\r\n    recordStop(cb?) {\r\n        if (!TtPlatform.recorder) return;\r\n        if (!this.isRecording) {\r\n            return;\r\n        }\r\n        console.log('录屏停止');\r\n        TtPlatform.recorder.stop();\r\n\r\n        this.recorderVideoCB = cb;\r\n    }\r\n\r\n    /**剪辑视频 */\r\n    clipVideo(lasttime = 30) {\r\n        if (!TtPlatform.recorder) return;\r\n        if (!this.isRecording) return;\r\n\r\n        var self = this;\r\n        TtPlatform.recorder.clipVideo({\r\n            path: this.videoPath,\r\n            timeRange: [lasttime, 0], //最后30秒\r\n            success(res) {\r\n                console.log(\"录屏剪辑成功\");\r\n                self.videoPath = res.videoPath;\r\n            },\r\n            fail(e) {\r\n                console.log(\"录屏剪辑失败\");\r\n            }\r\n        })\r\n    }\r\n\r\n    //监听录屏结束\r\n    stopListener() {\r\n        TtPlatform.recorder.onStop(res => {\r\n            console.log('录屏结束：', res.videoPath);\r\n            this.videoPath = res.videoPath\r\n            this.isRecording = false\r\n            // this.clipVideo();\r\n\r\n            if (this.recorderVideoCB) {\r\n                this.recorderVideoCB();\r\n            }\r\n        })\r\n    }\r\n\r\n    //监听中断开始\r\n    onInterrupBegin() {\r\n        TtPlatform.recorder.onInterruptionBegin(() => {\r\n            console.log('录屏被打断开始');\r\n            this.recordPause();\r\n        });\r\n    }\r\n    //监听中断结束\r\n    onInterrupEnd() {\r\n        TtPlatform.recorder.onInterruptionEnd(() => {\r\n            console.log('录屏被打断结束');\r\n            this.recordResume();\r\n        });\r\n    }\r\n\r\n    //分享视频\r\n    shareVideo(cb?, topics = [\"变形机甲超人\", \"抖音小游戏\"]) {\r\n        if (this.videoPath == '') {\r\n            this.showToast(\"没有录制视频\", 2000);\r\n            return;\r\n        }\r\n        Laya.Browser.window.tt.shareAppMessage({\r\n            channel: 'video',\r\n            extra: {\r\n                videoPath: this.videoPath,\r\n                videoTopics: topics,\r\n                createChallenge: true\r\n            },\r\n            success: () => {\r\n                console.log(\"分享成功\");\r\n                cb && cb(true)\r\n            },\r\n            fail: (e) => {\r\n                console.log(\"分享失败\");\r\n                GameMgr.Platform.showToast(\"分享失败！\", 2000);\r\n                cb && cb(false)\r\n            }\r\n        });\r\n    }\r\n    /******************** 录屏功能-end ********************/\r\n\r\n    /******************** 平台API ********************/\r\n    /**当前平台版本号 */\r\n    get getPlatformVersionCode() {\r\n        return this.getSystemInfoSync().SDKVersion;\r\n    }\r\n    /**比对当前版本是否支持广告组件 */\r\n    compareSDKVersion(version: string = \"1.0.0\"): boolean {\r\n        let sdkVersion: string = this.getPlatformVersionCode; //当前版本\r\n        let arr1 = sdkVersion.split('.');\r\n        let arr2 = version.split('.');\r\n\r\n        let isMismatch = false; //默认版本支持\r\n        for (let i = 0; i < arr1.length; i++) {\r\n            if (arr1[i] > arr2[i]) break;\r\n            else if (arr1[i] == arr2[i]) continue;\r\n            else { isMismatch = true; } //版本不支持\r\n        }\r\n\r\n        return isMismatch;\r\n    }\r\n\r\n    /**\r\n     * 弹窗\r\n     * @param msg 文本\r\n     * @param duration 提示的延迟时间\r\n     */\r\n    showToast(msg: string, duration: number = 1500) {\r\n        Laya.Browser.window.tt.showToast({\r\n            title: msg,//提示文字\r\n            duration: duration,//显示时长\r\n        })\r\n    }\r\n\r\n}","export default class MyVector3 {\r\n    static add(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.add(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static subtract(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.subtract(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static mull(v1, multipy) {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.scale(v1, multipy, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static dot(v1, v2): number {\r\n        return Laya.Vector3.dot(v1, v2);\r\n    }\r\n\r\n    static cross(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3\r\n        Laya.Vector3.cross(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static normalized(v): Laya.Vector3 {\r\n        var vTmp = new Laya.Vector3\r\n        Laya.Vector3.normalize(v, vTmp);\r\n        return vTmp.clone();\r\n    }\r\n\r\n    static distance(v1, v2): number{\r\n        var vT = MyVector3.subtract(v1,v2);\r\n        var dis = Laya.Vector3.scalarLength(vT);\r\n        return dis\r\n    }\r\n}","import GameMgr from \"../managers/GameMgr\";\r\n\r\n/**3D组件基类 */\r\nexport default class D3Component extends Laya.Script3D {\r\n    /**自身对象 */\r\n    self: Laya.Sprite3D;\r\n\r\n    onAwake() {\r\n        this.self = this.owner as Laya.Sprite3D;\r\n        this.init();\r\n    }\r\n\r\n    /**初始化 */\r\n    init(...data: any[]) { }\r\n\r\n    onDestroy() {\r\n        Laya.timer.clearAll(this);\r\n        GameMgr.Event.offAllCaller(this);\r\n    }\r\n\r\n    \r\n}","import MyVector3 from \"../../extensionTools/MyVector3\";\r\n\r\nexport default class Nimo3D {\r\n    //#region boxAABB 3D\r\n    static BoxToBox(a, b) {\r\n        return (a.minX <= b.maxX && a.maxX >= b.minX) &&\r\n            (a.minY <= b.maxY && a.maxY >= b.minY) &&\r\n            (a.minZ <= b.maxZ && a.maxZ >= b.minZ);\r\n    }\r\n    static SphereToSphere(sphere1, sphere2) {\r\n        let distancePow2 = Math.pow(sphere1.x - sphere2.x, 2) + Math.pow(sphere1.y - sphere2.y, 2) + Math.pow(sphere1.z - sphere2.z, 2);\r\n        let radiusPow2 = Math.pow(sphere1.radius, 2) + Math.pow(sphere2.radius, 2)\r\n        return distancePow2 < radiusPow2;\r\n    }\r\n    //boxAABB and Sphere\r\n    static SphereToBox(sphere, box) {\r\n        var x = Math.max(box.minX, Math.min(sphere.x, box.maxX));\r\n        var y = Math.max(box.minY, Math.min(sphere.y, box.maxY));\r\n        var z = Math.max(box.minZ, Math.min(sphere.z, box.maxZ));\r\n\r\n        var distance = Math.sqrt((x - sphere.x) * (x - sphere.x) +\r\n            (y - sphere.y) * (y - sphere.y) +\r\n            (z - sphere.z) * (z - sphere.z));\r\n\r\n        return distance < sphere.radius;\r\n    }\r\n    //计算对应网格的BOXAABB数值\r\n    static calcBounds(meshObj: Laya.MeshSprite3D) {\r\n        let pos = [];\r\n        meshObj.meshFilter.sharedMesh.getPositions(pos);\r\n        let newSprtit3D = new Laya.Sprite3D();\r\n        meshObj.addChild(newSprtit3D);\r\n\r\n        for (let i = 0; i < pos.length; i++) {\r\n            newSprtit3D.transform.localPosition = new Laya.Vector3(pos[i].x, pos[i].y, pos[i].z);\r\n            pos[i] = newSprtit3D.transform.position.clone();\r\n        }\r\n\r\n        let maxX = pos[0].x;\r\n        let maxY = pos[0].y;\r\n        let maxZ = pos[0].z;\r\n        let minX = maxX;\r\n        let minY = maxY;\r\n        let minZ = maxZ;\r\n        for (var i = 0; i < pos.length; i++) {\r\n            maxX = Math.max(maxX, pos[i].x);\r\n            maxY = Math.max(maxY, pos[i].y);\r\n            maxZ = Math.max(maxZ, pos[i].z);\r\n            minX = Math.min(minX, pos[i].x);\r\n            minY = Math.min(minY, pos[i].y);\r\n            minZ = Math.min(minZ, pos[i].z);\r\n        }\r\n        return {\r\n            maxX: maxX,\r\n            maxY: maxY,\r\n            maxZ: maxZ,\r\n            minX: minX,\r\n            minY: minY,\r\n            minZ: minZ\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //射线 pt1,pt2线段,pt点,distance点到线段最短距离\r\n    static calculateDistance(pt1: Laya.Vector3, pt2: Laya.Vector3, pt: Laya.Vector3) {\r\n        let egdeV1 = MyVector3.subtract(pt2, pt1);\r\n        let egdeV2 = MyVector3.subtract(pt, pt1);\r\n\r\n        // translate to normalize\r\n        let v1Norm = MyVector3.normalized(egdeV1.clone())\r\n        let v2Norm = MyVector3.normalized(egdeV2.clone())\r\n        // calculate the cos@ between vector 1 and vector 2\r\n        let cos1 = Math.abs(MyVector3.dot(v1Norm, v2Norm))\r\n\r\n        let egdeV3 = MyVector3.subtract(pt, pt2);\r\n        let egdeV4 = MyVector3.subtract(pt1, pt2)\r\n\r\n        let v3Norm = MyVector3.normalized(egdeV3.clone())\r\n        let v4Norm = MyVector3.normalized(egdeV4.clone())\r\n        // calculate the cos@ between vector 1 and vector 2\r\n        let cos2 = Math.abs(MyVector3.dot(v3Norm, v4Norm))\r\n\r\n\r\n        // make sure to angel are less than 90, the distance will be located at red line\r\n        if (cos2 > 0 && cos1 > 0) {\r\n\r\n            let sin = Math.sqrt(1 - cos1 * cos1)\r\n\r\n\r\n            let yDistance = MyVector3.distance(pt1, pt);\r\n            let distance = yDistance * sin\r\n\r\n            // calculate target point\r\n            // let xDistance = yDistance * cos1\r\n            // let dir = MyVector3.mull(MyVector3.normalized(egdeV1.clone()), xDistance);\r\n\r\n            // let targetPt = MyVector3.add(pt1.clone(), dir);\r\n\r\n            // let warningDir = MyVector3.mull(MyVector3.normalized(egdeV1.clone()), xDistance + 200)\r\n            // let warningPt = MyVector3.add(pt1.clone(), warningDir)\r\n\r\n            // return { 'pt1': pt1, 'pt2': pt2, 'pt': pt, 'distance': distance, 'targetPt': targetPt, 'warningPt': warningPt }\r\n            return { 'pt1': pt1, 'pt2': pt2, 'pt': pt, 'distance': distance }\r\n        }\r\n\r\n        return null\r\n    }\r\n}\r\n","import D3Component from \"../d3Components/D3Component\";\r\nimport MyVector3 from \"../extensionTools/MyVector3\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport Nimo3D from \"../nimo_Mods/cal/Nimo3D\";\r\n\r\nexport default class Bullet extends D3Component {\r\n\r\n    bigColliderAxis = 0.012;\r\n\r\n    targets: D3Component[];\r\n\r\n    pointA: Laya.Vector3;\r\n    pointB: Laya.Vector3;\r\n\r\n    damage: number = 1;\r\n\r\n    isThrough: boolean = false;\r\n\r\n    init(...data: any[]): void {\r\n        //倘若由外部调用有信息的初始化，则加个卡进程\r\n        if (data.length == 0) return;\r\n        this.damage = data[0];\r\n        this.isThrough = data[1];\r\n        this.self.transform.getForward(this.goWay);\r\n        Laya.timer.once(2000, this, this.autoDestroy)\r\n        this.hitAllEnemyData = [];\r\n        this.pointA = this.self.transform.position.clone();\r\n        this.pointB = MyVector3.add(this.pointA, MyVector3.mull(this.goWay, 10000))\r\n        this.oneWayScale = Laya.Vector3.scalarLength(this.goWay);\r\n        this.bulletWillHit()\r\n\r\n    }\r\n    goWay: Laya.Vector3 = new Laya.Vector3();\r\n    speed: number = 10;\r\n    oneWayScale: number;\r\n    nowDis: number = 0;\r\n    onUpdate(): void {\r\n        let dt = Laya.timer.delta / 1000 * Laya.timer.scale;\r\n        this.self.transform.translate(MyVector3.mull(this.goWay, dt * this.speed * -1), false);\r\n        this.nowDis -= this.oneWayScale * dt * this.speed * -1;\r\n        this.enemyHitCheck(this.nowDis);\r\n    }\r\n\r\n    hitEnemyData: any;\r\n    hitAllEnemyData: any[];\r\n    bulletWillHit() {\r\n        //敌人击中判定\r\n        let enemys = GameMgr.Level.enemys;\r\n        let minEnemyDis = 100000;\r\n        let minEmenyDisCollider;\r\n        for (let j = enemys.length - 1; j >= 0; j--) {\r\n            if (enemys[j].nowHp <= 0) {\r\n                continue;\r\n            }\r\n            let colliders = enemys[j].colliders;\r\n            for (let k = 0; k < colliders.length; k++) {\r\n                let colliderPos = colliders[k].obj.transform.position.clone();\r\n                let rayData = Nimo3D.calculateDistance(this.pointA, this.pointB, colliderPos);\r\n                let dis = MyVector3.distance(colliderPos, this.pointA);\r\n                if (rayData) {\r\n                    if (rayData.distance < colliders[k].raidus + this.bigColliderAxis) {\r\n                        if (dis < minEnemyDis) {\r\n                            minEmenyDisCollider = colliders[k];\r\n                            minEnemyDis = dis;\r\n                        }\r\n                        if (this.isThrough) {\r\n                            this.hitAllEnemyData.push({\r\n                                collider: colliders[k],\r\n                                dis: dis\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (minEmenyDisCollider) {\r\n            this.hitEnemyData = {\r\n                collider: minEmenyDisCollider,\r\n                dis: minEnemyDis\r\n            }\r\n        }\r\n\r\n        //#region 传送检测(测试用)\r\n        // let bulidPlaceRaidus = 0.5;\r\n        // let bulidPlaces = GameMgr.Level.levelTower;\r\n        // let pointA = this.pointA\r\n        // let pointB = this.pointB\r\n        // let minBulidPlaceDis = 10000;\r\n        // let minBulidPlace = null;\r\n        // for (let i = 0; i < bulidPlaces.length; i++) {\r\n        //     bulidPlaces[i].transform.localScale = new Laya.Vector3(1, 1, 1);\r\n        //     let colliderPos = bulidPlaces[i].transform.position.clone();\r\n        //     let rayData = Nimo3D.calculateDistance(pointA, pointB, colliderPos);\r\n        //     let dis = MyVector3.distance(colliderPos, pointA);\r\n        //     if (dis < minBulidPlaceDis) {\r\n        //         if (rayData) {\r\n        //             if (rayData.distance < bulidPlaceRaidus) {\r\n        //                 minBulidPlace = bulidPlaces[i];\r\n        //                 minBulidPlaceDis = dis;\r\n        //             }\r\n        //         }\r\n        //     }\r\n        // }\r\n        // if (minBulidPlace) {\r\n        //     GameMgr.Level.playerTp(minBulidPlace);\r\n        // }\r\n        //#endregion\r\n\r\n\r\n\r\n    }\r\n    enemyHitCheck(nowDis) {\r\n        if (!this.hitEnemyData)\r\n            return;\r\n\r\n        if (this.isThrough) {\r\n            if (this.hitAllEnemyData.length == 0)\r\n                return;\r\n            for (let i = this.hitAllEnemyData.length - 1; i >= 0; i--) {\r\n                if (nowDis > this.hitAllEnemyData[i].dis) {\r\n                    let collider = this.hitAllEnemyData[i].collider;\r\n                    let info = collider.obj.name.split(\"_\");\r\n                    if (info[2] != \"body\") {\r\n                        //流血效果\r\n                        // let fx = GameMgr.Level.bornFxStage(\"EffectGiantBlood\", collider.obj.parent, 0.01);\r\n                        // fx.transform.rotationEuler = new Laya.Vector3(0, 0, 0);\r\n                        // fx.transform.localPosition = collider.obj.transform.localPosition.clone();\r\n                    }\r\n                    if (collider.comp.hitInfo(info[2], this.damage)) {\r\n                        //TODO 击中特效\r\n                        GameMgr.Level.bornFxDestroy(\"EffectGiantBoom\", GameMgr.Level.mainScene, 1000, 1.2, collider.obj.transform.position.clone());\r\n                    }\r\n                    this.hitAllEnemyData.splice(i, 1);\r\n                }\r\n            }\r\n        } else {\r\n            if (nowDis > this.hitEnemyData.dis) {\r\n                let collider = this.hitEnemyData.collider;\r\n                let info = collider.obj.name.split(\"_\");\r\n                if (info[2] != \"body\") {\r\n                    //流血效果\r\n                    // let fx = GameMgr.Level.bornFxStage(\"EffectGiantBlood\", collider.obj.parent, 0.01);\r\n                    // fx.transform.rotationEuler = new Laya.Vector3(0, 0, 0);\r\n                    // fx.transform.localPosition = collider.obj.transform.localPosition.clone();\r\n                }\r\n                if (collider.comp.hitInfo(info[2], this.damage)) {\r\n                    //TODO 击中特效\r\n                    GameMgr.Level.bornFxDestroy(\"EffectGiantBoom\", GameMgr.Level.mainScene, 1000, 1.2, collider.obj.transform.position.clone());\r\n                }\r\n                this.hit(true);\r\n            }\r\n        }\r\n    }\r\n    buildHitCheck(nowDis) {\r\n\r\n    }\r\n\r\n    hit(isDestroy = false) {\r\n        Laya.timer.clear(this, this.autoDestroy);\r\n        if (isDestroy)\r\n            this.self.destroy();\r\n    }\r\n    autoDestroy() {\r\n        this.self.destroy();\r\n    }\r\n\r\n\r\n}","import { EventType, SoundType } from \"../configs/EnumType\";\r\nimport D3Component from \"../d3Components/D3Component\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport MyVector3 from \"../extensionTools/MyVector3\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport Game from \"../uiScenes/Game\";\r\n\r\n\r\nexport default class Enemy extends D3Component {\r\n\r\n    static mat: Laya.Material = null;\r\n\r\n    // bigColliderBoxAxis = 1.85;\r\n\r\n    colliders = [];\r\n\r\n    // body: Laya.Sprite3D;\r\n    // head: Laya.Sprite3D;\r\n    // armL: Laya.Sprite3D[] = [];\r\n    // armR: Laya.Sprite3D[] = [];\r\n    // legL: Laya.Sprite3D[] = [];\r\n    // legR: Laya.Sprite3D[] = [];\r\n\r\n    anim: Laya.Animator;\r\n\r\n    pathData: any[];\r\n    isDeadMove: boolean = false;\r\n\r\n    init(...data: any[]): void {\r\n        if (data.length == 0) return;\r\n        this.speed = GameMgr.Level.baseData[0].MonsterMoveSpeed;\r\n        this.pathData = data[0];\r\n        // return;\r\n        this.searchCollider(this.self);\r\n        // this.searchSkin();\r\n        this.hpInit();\r\n        this.anim = this.self.getChildAt(0).getComponent(Laya.Animator);\r\n        this.setGaintSpeed(GameMgr.Level.isAimSlow);\r\n        this.thinkUpdate(true);\r\n        GameMgr.Event.on(EventType.Game_ShowAim_Event, this, this.setGaintSpeed)\r\n    }\r\n\r\n    nowHp: number = 0;\r\n    hpInit() {\r\n        this.nowHp = GameMgr.Level.stageData[0].MonsterHP;\r\n    }\r\n    // searchSkin() {\r\n    //     let skin = this.self.getChildByName(\"level_49\").getChildByName(\"giants\").getChildByName(\"Giants_skin Award\").getChildByName(\"Giants_skin\") as Laya.Sprite3D;\r\n    //     let armL: Laya.Sprite3D = skin;\r\n    //     for (let i = 1; i <= 4; i++) {\r\n    //         let url = \"Giants_mesh_armL_0\" + i.toString();\r\n    //         armL = armL.getChildByName(url) as Laya.Sprite3D;\r\n    //         this.armL.push(armL);\r\n    //     }\r\n    //     let armR: Laya.Sprite3D = skin;\r\n    //     for (let i = 1; i <= 4; i++) {\r\n    //         let url = \"Giants_mesh_armR_0\" + i.toString();\r\n    //         armR = armR.getChildByName(url) as Laya.Sprite3D;\r\n    //         this.armR.push(armR);\r\n    //     }\r\n    //     this.body = skin.getChildByName(\"Giants_mesh_body\") as Laya.Sprite3D;\r\n    //     this.head = skin.getChildByName(\"Giants_mesh_head\") as Laya.Sprite3D;\r\n    //     let legL = skin as Laya.Sprite3D;\r\n    //     for (let i = 1; i <= 5; i++) {\r\n    //         let url = \"Giants_mesh_legL_0\" + i.toString();\r\n    //         legL = legL.getChildByName(url) as Laya.MeshSprite3D;\r\n    //         this.legL.push(legL);\r\n    //     }\r\n\r\n    //     let legR: Laya.Sprite3D = skin;\r\n    //     for (let i = 1; i <= 5; i++) {\r\n    //         let url = \"Giants_mesh_legR_0\" + i.toString();\r\n    //         legR = legR.getChildByName(url) as Laya.Sprite3D;\r\n    //         this.legR.push(legR);\r\n    //     }\r\n    // }\r\n    searchCollider(node: Laya.Sprite3D) {\r\n        for (let i = 0; i < node.numChildren; i++) {\r\n            let child = node.getChildAt(i) as Laya.Sprite3D;\r\n            let nameData = child.name.split(\"_\");\r\n            if (nameData[0] == \"collider\") {\r\n                let self = this;\r\n                let scale = this.self.transform.localScaleX;\r\n                this.colliders.push({\r\n                    obj: child,\r\n                    comp: self,\r\n                    raidus: parseFloat(nameData[1]) / 2 * 0.1 * scale,\r\n                    type: nameData[2]\r\n                })\r\n            }\r\n            this.searchCollider(child);\r\n        }\r\n    }\r\n\r\n    walkSoundPlayTime = 1;\r\n    onUpdate(): void {\r\n        if (this.isDeadMove) {\r\n            let dt = Laya.timer.delta / 1000 * Laya.timer.scale;\r\n            let pos = this.self.transform.position.clone();\r\n            pos.y -= dt * 0.5;\r\n            this.self.transform.position = pos;\r\n            return;\r\n        }\r\n        if (this.isAttack || this.isHurting || this.isDead)\r\n            return;\r\n        let dt = Laya.timer.delta / 1000 * Laya.timer.scale;\r\n        if (this.isMoving && this.target && !this.target.destroyed) {\r\n            let goWay = MyVector3.subtract(this.target.transform.position.clone(), this.self.transform.position.clone());\r\n            let angle = Math.atan2(goWay.x, goWay.z) / Math.PI * 180;\r\n            this.self.transform.rotationEuler = new Laya.Vector3(0, angle, 0);\r\n            if (Laya.Vector3.scalarLength(goWay) > 0.05) {\r\n                let speedAxis = this.nowHp > 10 ? 1 : 0.75;\r\n                this.self.transform.translate(MyVector3.mull(MyVector3.normalized(goWay), dt * this.speed * speedAxis), false);\r\n            } else {\r\n                this.thinkUpdate(true);\r\n            }\r\n            this.walkSoundPlayTime -= dt;\r\n            if (this.walkSoundPlayTime <= 0) {\r\n                this.walkSoundPlayTime = 1;\r\n            }\r\n        }\r\n    }\r\n    target;\r\n    speed: number = 1;\r\n    pathId: number = 0;\r\n    thinkUpdate(isArrive = false) {\r\n        if (this.isAttack || this.isHurting || this.isDead) {\r\n            return;\r\n        }\r\n        if (isArrive)\r\n            this.search();\r\n        if (this.target) {\r\n            this.move();\r\n        } else {\r\n            this.idle();\r\n        }\r\n    }\r\n    search() {\r\n        let targets = this.pathData;\r\n        if (this.pathId < targets.length) {\r\n            this.target = targets[this.pathId];\r\n            this.pathId++;\r\n        } else {\r\n            GameMgr.Level.playerBaseHurt();\r\n            this.die(true);\r\n        }\r\n    }\r\n    setGaintSpeed(isSlow) {\r\n        this.speed = isSlow ? 0.5 : 1;\r\n        this.anim.speed = isSlow ? 0.5 : 1;\r\n    }\r\n\r\n    isHurting = false;\r\n    isDead = false;\r\n    isMoving = false;\r\n    isAttack = false;\r\n\r\n    idle() {\r\n        if (!this.isMoving && !this.isHurting)\r\n            return;\r\n        this.isMoving = false;\r\n        this.anim.crossFade(\"Idle\", 0.1, 0, 0);\r\n    }\r\n    move() {\r\n        if (this.isMoving)\r\n            return;\r\n        this.isMoving = true;\r\n        if (this.nowHp > 10) {\r\n            this.anim.crossFade(\"Walk\", 0.1, 0, Math.random());\r\n        } else {\r\n            this.anim.crossFade(\"WalkShaking\", 0.1, 0, 0);\r\n        }\r\n    }\r\n    startAttack() {\r\n        this.isAttack = true;\r\n        this.anim.crossFade(\"Attack\", 0.1, 0, 0);\r\n        let time = this.anim.getControllerLayer(0).getAnimatorState(\"Attack\").clip.duration() * 1000\r\n        Laya.timer.once(time * 0.8, this, this.doAttack)\r\n    }\r\n    doAttack() {\r\n        GameMgr.Level.playerBaseHurt();\r\n        this.stopAttack();\r\n    }\r\n    stopAttack(isHurtBreak = false) {\r\n        Laya.timer.clear(this, this.doAttack);\r\n        this.isAttack = false;\r\n        // this.thinkUpdate();\r\n        if (!isHurtBreak)\r\n            this.die(true);\r\n    }\r\n    hurt(damage) {\r\n        if (this.isDead) return;\r\n        this.stopAttack(true);\r\n        this.nowHp -= damage;\r\n        GameMgr.ConsoleLog(\"巨人剩余血量\", this.nowHp)\r\n        if (this.nowHp > 0) {\r\n            // GameMgr.Sound.play(SoundType.giant_hit);\r\n            this.isHurting = true;\r\n            this.anim.crossFade(\"Hit\", 0.1, 0, 0);\r\n            let time = this.anim.getControllerLayer(0).getAnimatorState(\"Hit\").clip.duration() * 1000\r\n            Laya.timer.once(time, this, () => {\r\n                this.isMoving = false;\r\n                this.isHurting = false;\r\n                this.thinkUpdate();\r\n            })\r\n        } else {\r\n            this.die();\r\n            //增加鬼火\r\n            GameMgr.Level.fireAdd(GameMgr.Level.baseData[0].MonsterDeadCoin, ExtensionTool.d3_getSpritePosBySprite3DPoint(GameMgr.Level.mainCamera, this.self));\r\n        }\r\n    }\r\n    die(isImmediately = false) {\r\n        if (this.isDead) return;\r\n        Laya.timer.clear(this, this.thinkUpdate);\r\n        this.isDead = true;\r\n        if (!isImmediately) {\r\n            // GameMgr.Sound.play(SoundType.giant_die);\r\n            this.anim.crossFade(\"Deadth\", 0.2, 0, 0);\r\n            this.anim.speed = 1;\r\n            GameMgr.Level.enemyDie(this);\r\n            let time = this.anim.getControllerLayer(0).getAnimatorState(\"Deadth\").clip.duration() * 1000\r\n            Laya.timer.once(time, this, () => {\r\n                this.isDeadMove = true;\r\n            })\r\n            Laya.timer.once(time + 2000, this, () => {\r\n                this.self.destroy();\r\n            })\r\n        } else {\r\n            GameMgr.Level.enemyDie(this);\r\n            this.self.destroy();\r\n        }\r\n    }\r\n    onDestroy(): void {\r\n        this.self.destroy();\r\n    }\r\n\r\n    //#region 击中信息处理\r\n    armLHitIndex = 4;\r\n    armRHitIndex = 4;\r\n    legLHitIndex = 5;\r\n    legRHitIndex = 5;\r\n    hitInfo(info: string, damage: number = 1): boolean {\r\n        let isHit = false;\r\n        switch (info) {\r\n            case \"head\":\r\n                GameMgr.ConsoleLog(\"爆头\");\r\n                // this.head.active = false;\r\n                isHit = true;\r\n                // damage = GameMgr.GlData.enemyHeadShotDamage;\r\n                damage *= 2;\r\n                break;\r\n            case \"body\":\r\n                GameMgr.ConsoleLog(\"打中身体\");\r\n                isHit = true;\r\n                // damage = GameMgr.GlData.enemyOtherShotDamage;\r\n                break;\r\n            default:\r\n                GameMgr.ConsoleLog(\"打中身体\");\r\n                isHit = true;\r\n                // damage = GameMgr.GlData.enemyOtherShotDamage;\r\n                // let armOfLeg = info.substring(0, 3);\r\n                // let lr = info.substring(3, 4);\r\n                // let number = parseInt(info.substring(4, 5));\r\n                // switch (armOfLeg) {\r\n                //     case \"arm\":\r\n                //         if (lr == \"L\") {\r\n                //             if (number - 1 < this.armLHitIndex) {\r\n                //                 this.armL[number - 1].active = false;\r\n                //                 this.armLHitIndex = number - 1;\r\n                //                 isHit = true;\r\n                //             }\r\n                //         }\r\n                //         else {\r\n                //             if (number - 1 < this.armRHitIndex) {\r\n                //                 this.armR[number - 1].active = false;\r\n                //                 this.armRHitIndex = number - 1;\r\n                //                 isHit = true;\r\n                //             }\r\n                //         }\r\n                //         break;\r\n                //     case \"leg\":\r\n                //         if (lr == \"L\") {\r\n                //             if (number - 1 < this.legLHitIndex) {\r\n                //                 this.legL[number - 1].active = false;\r\n                //                 this.legLHitIndex = number - 1;\r\n                //                 isHit = true;\r\n                //             }\r\n                //         }\r\n                //         else {\r\n                //             if (number - 1 < this.legRHitIndex) {\r\n                //                 this.legR[number - 1].active = false;\r\n                //                 this.legRHitIndex = number - 1;\r\n                //                 isHit = true;\r\n                //             }\r\n                //         }\r\n                //         break;\r\n                // }\r\n                // if (isHit) {\r\n                //     GameMgr.ConsoleLog(\"击中部位info\", armOfLeg, lr, number);\r\n                //     damage = armOfLeg == \"leg\" ? GameMgr.GlData.enemy0LegShotDamage : GameMgr.GlData.enemy0OtherShotDamage;\r\n                // }\r\n                break;\r\n        }\r\n        if (isHit) {\r\n            Game.instance.hitAimEffect();\r\n            this.hurt(damage);\r\n        }\r\n\r\n        return isHit;\r\n    }\r\n    //#endregion\r\n\r\n\r\n\r\n}","import { EventType, SoundType } from \"../../configs/EnumType\";\r\nimport D3Tween from \"../../extensionTools/D3Tween\";\r\nimport GameMgr from \"../../managers/GameMgr\";\r\n\r\nexport default class HandGrip {\r\n\r\n    constructor(handGrip) {\r\n        this.handGrip = handGrip;\r\n        let anim1 = handGrip.getChildByName(\"Left\").getComponent(Laya.Animator);\r\n        let anim2 = handGrip.getChildByName(\"Right\").getComponent(Laya.Animator);\r\n        this.anim = [anim1, anim2];\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.idle();\r\n    }\r\n\r\n    isCanShoot: boolean = false;\r\n    isNotControl: boolean = false;\r\n    anim: Laya.Animator[];\r\n    handGrip: Laya.Sprite3D;\r\n\r\n\r\n    //#region 操控接口\r\n    shoot_Touch() {\r\n        if (this.isNotControl) {\r\n            Laya.timer.frameOnce(1, this, this.shoot_Touch);\r\n            return;\r\n        }\r\n        this.holdIn();\r\n    }\r\n    shoot_Release() {\r\n        if (this.isNotControl) {\r\n            Laya.timer.clear(this, this.shoot_Touch);\r\n            return;\r\n        }\r\n        this.holdOut();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 状态机\r\n    idle() {\r\n        this.animPlay(\"idle\");\r\n    }\r\n    holdIn() {\r\n        this.animPlay(\"holdIn\");\r\n        Laya.timer.once(40 / 30 * 1000, this, this.hold)\r\n    }\r\n    hold() {\r\n        this.animPlay(\"hold\");\r\n    }\r\n    holdOut() {\r\n        Laya.timer.clear(this, this.hold);\r\n        this.animPlay(\"holdOut\");\r\n        this.isNotControl = true;\r\n        Laya.timer.once(6 / 30 * 1000, this, () => {\r\n            this.isNotControl = false;\r\n            GameMgr.Level.rayDo();\r\n            this.idle();\r\n        })\r\n    }\r\n    //#endregion\r\n\r\n    animPlay(name) {\r\n        for (let i = 0; i < this.anim.length; i++) {\r\n            this.anim[i].play(name, 0, 0);\r\n        }\r\n    }\r\n}","import { EventType, SoundType } from \"../../../configs/EnumType\";\r\nimport D3Tween from \"../../../extensionTools/D3Tween\";\r\nimport ExtensionTool from \"../../../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../../../managers/GameMgr\";\r\n\r\nexport default class HandGun {\r\n\r\n    //改配置\r\n    initData() {\r\n        // this.bulletMaxCount = 5;\r\n        // this.reloadTime = 1000;\r\n        // /**装弹开始声音*/\r\n        // this.reloadSound =  \"\";\r\n        // /**开枪时间 */\r\n        // this.shootTime = 73 / 60 * 1000;\r\n        // /**开枪声音 */\r\n        // this.shootSound = \"\";\r\n    }\r\n\r\n    constructor(weaponName) {\r\n        let weapon = GameMgr.Level.weaponGrip.getChildByName(weaponName) as Laya.Sprite3D;\r\n        let anim = weapon.getChildByName(\"gun\").getComponent(Laya.Animator);\r\n        this.weapon = weapon;\r\n        this.weaponName = weaponName;\r\n        this.anim = anim;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.initData();\r\n        this.idleWeaponPos = new Laya.Vector3(0.01, 0, 0.05);\r\n        this.idelWeaponRot = new Laya.Vector3(12.5, 0, 0);\r\n        this.idleWeaponFov = 70;\r\n        GameMgr.Level.weaponGrip.active = true;\r\n        GameMgr.Level.isAutoShoot = true;\r\n        this.bulletCount = this.bulletMaxCount;\r\n        this.idle();\r\n        GameMgr.Level.isSmallAimShow = true;\r\n    }\r\n\r\n\r\n    //#region 参数\r\n    /**装弹一时间，装弹二时间，装弹三时间*/\r\n    reloadTime = 1000;\r\n    /**装弹开始声音*/\r\n    reloadSound = \"\";\r\n    /**射出子弹时间 */\r\n    shootDoTime = 100;\r\n    /**开枪时间 */\r\n    shootTime = 73 / 60 * 1000;\r\n    /**开枪声音 */\r\n    shootSound = \"\";\r\n    damage: number = 1;\r\n    //#endregion\r\n\r\n    //#region 瞄准\r\n    idleWeaponPos: Laya.Vector3\r\n    idelWeaponRot: Laya.Vector3\r\n    idleWeaponFov: number\r\n\r\n\r\n    weapon: Laya.Sprite3D;\r\n    weaponName: string = \"Weapon0\";\r\n    bulletMaxCount: number = 10;\r\n    bulletCount: number = 0;\r\n    isCanShoot: boolean = false;\r\n    isNotControl: boolean = false;\r\n    anim: Laya.Animator;\r\n    //#endregion\r\n\r\n\r\n\r\n    //#region 操控接口\r\n    shoot_Touch() {\r\n        if (this.isNotControl) {\r\n            Laya.timer.frameOnce(1, this, this.shoot_Touch);\r\n            return;\r\n        }\r\n        GameMgr.Level.weaponGrip.transform.localPosition = this.idleWeaponPos;\r\n        GameMgr.Level.mainCamera.fieldOfView = this.idleWeaponFov;\r\n        GameMgr.Level.weaponGrip.active = true;\r\n        this.isCanShoot = true;\r\n    }\r\n    shoot_Release() {\r\n        if (this.isNotControl) {\r\n            Laya.timer.clear(this, this.shoot_Touch);\r\n            this.isCanShoot = false;\r\n            return;\r\n        }\r\n        GameMgr.Level.weaponGrip.active = true;\r\n        this.isCanShoot = false;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 状态机\r\n    shoot() {\r\n        if (this.isNotControl)\r\n            return;\r\n        // this.idle()\r\n        // return;\r\n        let weapon = this.weapon;\r\n        let weaponAnim = this.anim;\r\n        this.isNotControl = true;\r\n        //生成子弹\r\n        this.bulletCount--;\r\n        Laya.timer.once(this.shootDoTime, this, () => {\r\n            GameMgr.Level.bornBullet(this.damage);\r\n        })\r\n        //射击动画\r\n        weaponAnim.play(\"fire\", 0, 0);\r\n        //射击声音\r\n        GameMgr.Sound.play(this.shootSound)\r\n        //射击设备震动\r\n        GameMgr.Platform.vibrateShort();\r\n        //射击特效\r\n        let effectShotPoint = ExtensionTool.d3_FindNodeByName(weapon, \"EffectShot\");\r\n        GameMgr.Level.bornFxDestroy(\"EffectShot\", effectShotPoint);\r\n        //射击完成后 (检测是否返回可操控状态)\r\n        Laya.timer.once(this.shootTime, this, () => {\r\n            this.isNotControl = false;\r\n            if (this.bulletCount > 0) {\r\n                this.idle();\r\n            } else {\r\n                this.reload();\r\n            }\r\n        })\r\n    }\r\n    idle() {\r\n        let weaponAnim: Laya.Animator = this.anim;\r\n        weaponAnim.play(\"idle\", 0, 0);\r\n        this.isNotControl = false;\r\n        GameMgr.Level.weaponGrip.transform.localPosition = this.idleWeaponPos;\r\n        GameMgr.Level.weaponGrip.transform.localRotationEuler = this.idelWeaponRot;\r\n        GameMgr.Level.mainCamera.fieldOfView = this.idleWeaponFov;\r\n    }\r\n    reload() {\r\n        this.isNotControl = true;\r\n        let weaponAnim: Laya.Animator = this.anim;\r\n        let self = this;\r\n        //播放换单动画\r\n        weaponAnim.play(\"reload\", 0, 0);\r\n        GameMgr.Sound.play(this.reloadSound);\r\n        this.bulletCount = this.bulletMaxCount;\r\n        Laya.timer.once(this.reloadTime, this, () => {\r\n            this.isNotControl = false;\r\n        })\r\n    }\r\n    //#endregion\r\n\r\n}","import { SoundType } from \"../../../configs/EnumType\";\r\nimport HandGun from \"./HandGun\";\r\n\r\nexport default class HandGun1 extends HandGun {\r\n\r\n    initData(): void {\r\n        this.bulletMaxCount = 10;\r\n        this.reloadTime = 65 / 30 * 1000;\r\n        /**装弹开始声音*/\r\n        this.reloadSound = SoundType.handgun_reload;\r\n        /**子弹生成时间 */\r\n        this.shootDoTime = 1 / 30 * 1000\r\n        /**开枪时间 */\r\n        this.shootTime = 500;\r\n        /**开枪声音 */\r\n        this.shootSound = SoundType.shoot;\r\n        this.damage = 2;\r\n    }\r\n}","import { EventType, SoundType } from \"../../../configs/EnumType\";\r\nimport D3Tween from \"../../../extensionTools/D3Tween\";\r\nimport ExtensionTool from \"../../../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../../../managers/GameMgr\";\r\n\r\nexport default class Rifle {\r\n\r\n    //改配置\r\n    initData() {\r\n        // this.bulletMaxCount = 5;\r\n        // this.reloadTime = 1000;\r\n        // /**装弹开始声音*/\r\n        // this.reloadSound =  \"\";\r\n        // /**开枪时间 */\r\n        // this.shootTime = 73 / 60 * 1000;\r\n        // /**开枪声音 */\r\n        // this.shootSound = \"\";\r\n    }\r\n\r\n    constructor(weaponName) {\r\n        let weapon = GameMgr.Level.weaponGrip.getChildByName(weaponName) as Laya.Sprite3D;\r\n        let anim = weapon.getChildByName(\"gun\").getComponent(Laya.Animator);\r\n        this.weapon = weapon;\r\n        this.weaponName = weaponName;\r\n        this.anim = anim;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.initData();\r\n        this.idleWeaponPos = new Laya.Vector3(0.01, 0, 0.05);\r\n        this.idelWeaponRot = new Laya.Vector3(12.5, 0, 0);\r\n        this.idleWeaponFov = 70;\r\n        GameMgr.Level.weaponGrip.active = true;\r\n        GameMgr.Level.isAutoShoot = true;\r\n        this.bulletCount = this.bulletMaxCount;\r\n        this.idle();\r\n        GameMgr.Level.isSmallAimShow = true;\r\n    }\r\n\r\n\r\n    //#region 参数\r\n    /**装弹一时间，装弹二时间，装弹三时间*/\r\n    reloadTime = 1000;\r\n    /**装弹开始声音*/\r\n    reloadSound = \"\";\r\n    /**开枪时间 */\r\n    shootTime = 100;\r\n    /**射出子弹时间 */\r\n    shootDoTime = 100;\r\n    /**开枪声音 */\r\n    shootSound = \"\";\r\n    /**开枪CD */\r\n    shootCD = 100;\r\n    damage = 1;\r\n    //#endregion\r\n\r\n    //#region 瞄准\r\n    idleWeaponPos: Laya.Vector3\r\n    idelWeaponRot: Laya.Vector3\r\n    idleWeaponFov: number\r\n\r\n\r\n    weapon: Laya.Sprite3D;\r\n    weaponName: string = \"Weapon0\";\r\n    bulletMaxCount: number = 10;\r\n    bulletCount: number = 0;\r\n    isCanShoot: boolean = false;\r\n    isNotControl: boolean = false;\r\n    anim: Laya.Animator;\r\n    //#endregion\r\n\r\n\r\n\r\n    //#region 操控接口\r\n    shoot_Touch() {\r\n        if (this.isNotControl) {\r\n            Laya.timer.frameOnce(1, this, this.shoot_Touch);\r\n            return;\r\n        }\r\n        GameMgr.Level.weaponGrip.transform.localPosition = this.idleWeaponPos;\r\n        GameMgr.Level.mainCamera.fieldOfView = this.idleWeaponFov;\r\n        GameMgr.Level.weaponGrip.active = true;\r\n        this.isCanShoot = true;\r\n        this.isCanShootRifle = true;\r\n    }\r\n    shoot_Release() {\r\n        if (this.isNotControl) {\r\n            Laya.timer.clear(this, this.shoot_Touch);\r\n            this.isCanShoot = false;\r\n            return;\r\n        }\r\n        GameMgr.Level.weaponGrip.active = true;\r\n        this.isCanShoot = false;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 状态机\r\n    isCanShootRifle = false;\r\n    shoot() {\r\n        if (!this.isCanShootRifle)\r\n            return;\r\n        if (this.isNotControl)\r\n            return;\r\n        // this.idle()\r\n        // return;\r\n        let weapon = this.weapon;\r\n        let weaponAnim = this.anim;\r\n        this.isCanShootRifle = false;\r\n        //生成子弹\r\n        this.bulletCount--;\r\n        Laya.timer.once(this.shootDoTime, this, () => {\r\n            GameMgr.Level.bornBullet(this.damage);\r\n        })\r\n        //射击动画\r\n        weaponAnim.play(\"fire\", 0, 0);\r\n        //射击声音\r\n        GameMgr.Sound.play(this.shootSound)\r\n        //射击设备震动\r\n        GameMgr.Platform.vibrateShort();\r\n        //射击特效\r\n        let effectShotPoint = ExtensionTool.d3_FindNodeByName(weapon, \"EffectShot\");\r\n        GameMgr.Level.bornFxDestroy(\"EffectShot\", effectShotPoint);\r\n\r\n\r\n        //射击完成后 (检测是否返回可操控状态)\r\n        Laya.timer.once(this.shootCD, this, () => {\r\n            this.isCanShootRifle = true;\r\n            if (this.bulletCount > 0) {\r\n\r\n            } else {\r\n                this.reload();\r\n            }\r\n        })\r\n        Laya.timer.once(this.shootTime, this, this.shootEnd);\r\n    }\r\n    shootEnd() {\r\n        if (!this.isNotControl)\r\n            this.idle();\r\n    }\r\n    idle() {\r\n        let weaponAnim: Laya.Animator = this.anim;\r\n        weaponAnim.play(\"idle\", 0, 0);\r\n        this.isNotControl = false;\r\n        GameMgr.Level.weaponGrip.transform.localPosition = this.idleWeaponPos;\r\n        GameMgr.Level.weaponGrip.transform.localRotationEuler = this.idelWeaponRot;\r\n        GameMgr.Level.mainCamera.fieldOfView = this.idleWeaponFov;\r\n    }\r\n    reload() {\r\n        this.isNotControl = true;\r\n        let weaponAnim: Laya.Animator = this.anim;\r\n        let self = this;\r\n        //播放换单动画\r\n        weaponAnim.play(\"reload\", 0, 0);\r\n        GameMgr.Sound.play(this.reloadSound);\r\n        this.bulletCount = this.bulletMaxCount;\r\n        Laya.timer.once(this.reloadTime, this, () => {\r\n            this.isNotControl = false;\r\n        })\r\n    }\r\n    //#endregion\r\n\r\n}","import { SoundType } from \"../../../configs/EnumType\";\r\nimport Rifle from \"./Rifle\";\r\n\r\nexport default class Rifle1 extends Rifle {\r\n\r\n    initData(): void {\r\n        this.bulletMaxCount = 30;\r\n        this.reloadTime = 89 / 30 * 1000;\r\n        /**装弹开始声音*/\r\n        this.reloadSound = SoundType.rifle1_reload;\r\n        /**子弹生成时间 */\r\n        this.shootDoTime = 5 / 30 * 1000\r\n        /**开枪时间 */\r\n        this.shootTime = 25 / 30 * 1000;\r\n        /**开枪声音 */\r\n        this.shootSound = SoundType.shoot;\r\n        this.shootCD = 100;\r\n        this.damage = 2;\r\n    }\r\n}","import { SoundType } from \"../../../configs/EnumType\";\r\nimport Rifle from \"./Rifle\";\r\n\r\nexport default class Rifel2 extends Rifle {\r\n\r\n    initData(): void {\r\n        this.bulletMaxCount = 30;\r\n        this.reloadTime = 83 / 30 * 1000;\r\n        /**装弹开始声音*/\r\n        this.reloadSound = SoundType.rifle2_reload;\r\n        /**子弹生成时间 */\r\n        this.shootDoTime = 5 / 30 * 1000\r\n        /**开枪时间 */\r\n        this.shootTime = 25 / 30 * 1000;\r\n        /**开枪声音 */\r\n        this.shootSound = SoundType.shoot;\r\n        this.shootCD = 50;\r\n        this.damage = 1;\r\n    }\r\n}","export default class D3Tween {\r\n    /**动画帧数与时间换算：每帧时间（ms) = 1000 / 帧数 */\r\n    tween: Laya.Tween;\r\n    /**动画组 */\r\n    tweens: any[];\r\n\r\n    /**目标 */\r\n    target: Laya.Sprite3D;\r\n    /**是否本地坐标 */\r\n    isLocal: boolean;\r\n\r\n    /**动画帧回调 args: progress(进度 0 - 1) */\r\n    updateTweenCallback: Function;\r\n\r\n    constructor() {\r\n        this.tween = new Laya.Tween();\r\n        this.tweens = [];\r\n    }\r\n\r\n    getTimeByFrame(frame) {\r\n        return Math.round(1000 / 100 * frame); // 60可替换为实际帧率\r\n    }\r\n\r\n    toTween(target: Laya.Sprite3D, value: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }, time: number, completeFun?: Function, ease?: Function, isLocal: boolean = true) {\r\n        this.target = target;\r\n        this.isLocal = isLocal;\r\n\r\n        //当前值\r\n        var ov: any = {};\r\n        //目标值\r\n        var tv: any = {};\r\n\r\n        if (value.pos) {\r\n            var targetPos = isLocal ? target.transform.localPosition.clone() : target.transform.position.clone();\r\n\r\n            ov.posX = targetPos.x\r\n            ov.posY = targetPos.y;\r\n            ov.posZ = targetPos.z;\r\n\r\n            tv.posX = value.pos.x;\r\n            tv.posY = value.pos.y;\r\n            tv.posZ = value.pos.z;\r\n        }\r\n        if (value.rot) {\r\n            var targetRot = isLocal ? target.transform.localRotationEuler.clone() : target.transform.rotationEuler.clone(); //target.transform.rotationEuler.clone();//\r\n\r\n            ov.rotX = targetRot.x;\r\n            ov.rotY = targetRot.y;\r\n            ov.rotZ = targetRot.z;\r\n\r\n            tv.rotX = value.rot.x;\r\n            tv.rotY = value.rot.y;\r\n            tv.rotZ = value.rot.z;\r\n        }\r\n        if (value.sca) {\r\n            var targetSca = target.transform.getWorldLossyScale().clone();\r\n\r\n            ov.scaX = targetSca.x;\r\n            ov.scaY = targetSca.y;\r\n            ov.scaZ = targetSca.z;\r\n\r\n            tv.scaX = value.sca.x;\r\n            tv.scaY = value.sca.y;\r\n            tv.scaZ = value.sca.z;\r\n        }\r\n\r\n        this.tween.to(ov, {\r\n            posX: tv.posX, posY: tv.posY, posZ: tv.posZ,\r\n            rotX: tv.rotX, rotY: tv.rotY, rotZ: tv.rotZ,\r\n            scaX: tv.scaX, scaY: tv.scaY, scaZ: tv.scaZ\r\n        }, time, ease, Laya.Handler.create(this, () => {\r\n            completeFun && completeFun();\r\n            var nextTWeen = this.tweens.shift();\r\n            if (nextTWeen) {\r\n                this.toTween(this.target, nextTWeen.value, nextTWeen.time, nextTWeen.completeFun, ease);\r\n            }\r\n            else {\r\n                if (this.updateTweenCallback) {\r\n                    this.updateTweenCallback = null;\r\n                }\r\n            }\r\n        }));\r\n\r\n        var progressTimer = 0;\r\n        this.tween.update = new Laya.Handler(this, () => {\r\n            //进度\r\n            progressTimer += Laya.timer.delta;\r\n            let progress = progressTimer / time;\r\n            if (progress > 1) progress = 1;\r\n\r\n            if (value.pos) {\r\n                if (isLocal) {\r\n                    target.transform.localPosition = new Laya.Vector3(ov.posX, ov.posY, ov.posZ);\r\n                }\r\n                else {\r\n                    target.transform.position = new Laya.Vector3(ov.posX, ov.posY, ov.posZ);\r\n                }\r\n            }\r\n            if (value.rot) {\r\n                if (isLocal) {\r\n                    target.transform.localRotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n                }\r\n                else {\r\n                    target.transform.rotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n                }\r\n            }\r\n            if (value.sca) {\r\n                target.transform.setWorldLossyScale(new Laya.Vector3(ov.scaX, ov.scaY, ov.scaZ));\r\n            }\r\n\r\n            this.updateTweenCallback && this.updateTweenCallback(progress)\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    clearTween(value?: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }) {\r\n        this.tweens = [];\r\n        this.tween.clear();\r\n\r\n        if (this.target && value) {\r\n            if (value.pos) {\r\n                if (this.isLocal) {\r\n                    this.target.transform.localPosition = new Laya.Vector3(value.pos.x, value.pos.y, value.pos.z);\r\n                }\r\n                else {\r\n                    this.target.transform.position = new Laya.Vector3(value.pos.x, value.pos.y, value.pos.z);\r\n                }\r\n            }\r\n            if (value.rot) {\r\n                this.target.transform.rotationEuler = new Laya.Vector3(value.rot.x, value.rot.y, value.rot.z);\r\n            }\r\n            if (value.sca) {\r\n                this.target.transform.setWorldLossyScale(new Laya.Vector3(value.sca.x, value.sca.y, value.sca.z));\r\n            }\r\n        }\r\n    }\r\n\r\n    then(value: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }, time: number, completeFun?: Function) {\r\n        this.tweens.push({ value: value, time: time, completeFun: completeFun });\r\n        return this;\r\n    }\r\n}","import { EventType, SoundType } from \"../../../configs/EnumType\";\r\nimport D3Tween from \"../../../extensionTools/D3Tween\";\r\nimport ExtensionTool from \"../../../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../../../managers/GameMgr\";\r\n\r\nexport default class Sniper {\r\n\r\n    //改配置\r\n    initData() {\r\n        this.bulletMaxCount = 5;\r\n        this.reloadTime = [28 / 30 * 1000, 23 / 60 * 1000, 32 / 30 * 1000];\r\n        /**装弹开始声音*/\r\n        this.reloadSound = [\"\", \"\", \"\"];\r\n        /**开枪时间 */\r\n        this.shootTime = 73 / 60 * 1000;\r\n        /**开枪声音 */\r\n        this.shootSound = \"\";\r\n    }\r\n\r\n    constructor(weaponName) {\r\n        let weapon = GameMgr.Level.weaponGrip.getChildByName(weaponName) as Laya.Sprite3D;\r\n        let anim = weapon.getChildByName(\"gun\").getComponent(Laya.Animator);\r\n        this.weapon = weapon;\r\n        this.weaponName = weaponName;\r\n        this.anim = anim;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.initData();\r\n        this.idleWeaponPos = new Laya.Vector3(0.01, 0, 0.05);\r\n        this.idelWeaponRot = new Laya.Vector3(12.5, 0, 0);\r\n        this.idleWeaponFov = 70;\r\n        this.aimWeaponPos = new Laya.Vector3(0, 0, 0);\r\n        this.aimWeaponRot = new Laya.Vector3(0, 0, 0);\r\n        this.aimWeaponFov = 30;\r\n        this.aimPrepareTime = 0;\r\n        this.aimTime = 200;\r\n        this.isCanAim = true;\r\n        this.isPreparingAim = false;\r\n        GameMgr.Level.isAutoShoot = false;\r\n        this.bulletCount = this.bulletMaxCount;\r\n        this.aimTween = new D3Tween();\r\n        // this.reload()\r\n        this.idle();\r\n        GameMgr.Level.isSmallAimShow = false;\r\n    }\r\n\r\n\r\n    //#region 参数\r\n    /**装弹一时间，装弹二时间，装弹三时间*/\r\n    reloadTime = [28 / 30 * 1000, 23 / 60 * 1000, 32 / 30 * 1000];\r\n    /**装弹开始声音*/\r\n    reloadSound = [\"\", \"\", \"\"];\r\n    /**开枪时间 */\r\n    shootTime = 73 / 60 * 1000;\r\n    /**开枪声音 */\r\n    shootSound = \"\";\r\n    daamge = 4;\r\n    //#endregion\r\n\r\n    //#region 瞄准\r\n    idleWeaponPos: Laya.Vector3\r\n    idelWeaponRot: Laya.Vector3\r\n    idleWeaponFov: number\r\n    aimWeaponPos: Laya.Vector3\r\n    aimWeaponRot: Laya.Vector3;\r\n    aimWeaponFov: number\r\n    aimPrepareTime: number\r\n    aimTime: number\r\n    isCanAim: boolean\r\n    isPreparingAim: boolean\r\n    aimTween: D3Tween;\r\n    aimProgress = 0;\r\n    weapon: Laya.Sprite3D;\r\n    weaponName: string = \"Weapon0\";\r\n    bulletMaxCount: number = 10;\r\n    bulletCount: number = 0;\r\n    isCanShoot: boolean = false;\r\n    isNotControl: boolean = false;\r\n    anim: Laya.Animator;\r\n\r\n    aimStart() {\r\n        let level = GameMgr.Level;\r\n        let self = this;\r\n        this.aimTween.updateTweenCallback = this.aimUpdate.bind(this);\r\n        this.aimProgress = 0;\r\n        this.isPreparingAim = false;\r\n        this.anim.play(\"aim_in\");\r\n        this.aimTween.toTween(GameMgr.Level.weaponGrip, { pos: self.aimWeaponPos, rot: self.aimWeaponRot }, this.aimTime, () => {\r\n            self.aimProgress = 1;\r\n            GameMgr.Event.event(EventType.Game_ShowAim_Event, [true]);\r\n            level.weaponGrip.transform.localPosition = self.aimWeaponPos;\r\n            level.weaponGrip.transform.localRotationEuler = self.aimWeaponRot;\r\n            level.mainCamera.fieldOfView = self.aimWeaponFov;\r\n            level.weaponGrip.active = false;\r\n            self.isCanShoot = true;\r\n        })\r\n    }\r\n    aimUpdate(progress) {\r\n        if (progress > 0.75) {\r\n            GameMgr.Level.mainCamera.fieldOfView = this.idleWeaponFov - (progress - 0.75) * 2 * (this.idleWeaponFov - this.aimWeaponFov);\r\n        }\r\n        this.aimProgress = progress;\r\n    }\r\n    aimBackUpdate(progress) {\r\n        if (this.aimProgress > 0.75) {\r\n            let p = (this.aimProgress - 0.75) * 2 * (1 - progress);\r\n            GameMgr.Level.mainCamera.fieldOfView = this.idleWeaponFov - p * (this.idleWeaponFov - this.aimWeaponFov);\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n\r\n\r\n    //#region 操控接口\r\n    shoot_Touch() {\r\n        if (this.isNotControl) {\r\n            Laya.timer.frameOnce(1, this, this.shoot_Touch);\r\n            return;\r\n        }\r\n        this.isCanShoot = false;\r\n        this.isCanShoot = false;\r\n        GameMgr.Level.weaponGrip.transform.localPosition = this.idleWeaponPos;\r\n        GameMgr.Level.mainCamera.fieldOfView = this.idleWeaponFov;\r\n        if (this.isCanAim) {\r\n            this.isCanAim = false;\r\n            this.isPreparingAim = true;\r\n            Laya.timer.once(this.aimPrepareTime, this, this.aimStart);\r\n        }\r\n    }\r\n    shoot_Release() {\r\n        if (this.isNotControl) {\r\n            Laya.timer.clear(this, this.shoot_Touch);\r\n            return;\r\n        }\r\n        //瞄准状态切换\r\n        GameMgr.Event.event(EventType.Game_ShowAim_Event, [false]);\r\n        this.aimTween.clearTween();\r\n        GameMgr.Level.weaponGrip.active = true;\r\n        if (this.isCanShoot) {\r\n            this.idle();\r\n            //生成子弹\r\n            this.shoot();\r\n\r\n        } else if (!this.isNotControl) {\r\n            //瞄准回正处理\r\n            if (!this.isPreparingAim) {\r\n                let progress = this.aimProgress;\r\n                this.aimTween.updateTweenCallback = this.aimBackUpdate.bind(this);\r\n                this.anim.play(\"aim_out\");\r\n                this.aimTween.toTween(GameMgr.Level.weaponGrip, { pos: this.idleWeaponPos }, this.aimTime * 0.25 * progress, () => {\r\n                    this.aimProgress = 0;\r\n                    this.idle();\r\n                    this.isCanAim = true;\r\n                })\r\n            } else {\r\n                this.isPreparingAim = false;\r\n                this.isCanAim = true;\r\n                Laya.timer.clear(this, this.aimStart);\r\n            }\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 状态机\r\n    shoot() {\r\n        if (this.isNotControl)\r\n            return;\r\n        // this.idle()\r\n        // return;\r\n        let weapon = this.weapon;\r\n        let weaponAnim = this.anim;\r\n        this.isNotControl = true;\r\n        //生成子弹\r\n        this.bulletCount--;\r\n        GameMgr.Level.bornBullet(this.daamge,true);\r\n        //射击动画\r\n        weaponAnim.play(\"fire\", 0, 0);\r\n        //射击声音\r\n        GameMgr.Sound.play(this.shootSound)\r\n        //射击设备震动\r\n        GameMgr.Platform.vibrateShort();\r\n        //射击特效\r\n        let effectShotPoint = ExtensionTool.d3_FindNodeByName(weapon, \"EffectShot\");\r\n        GameMgr.Level.bornFxDestroy(\"EffectShot\", effectShotPoint);\r\n        //拉栓音效\r\n        Laya.timer.once(13 / 43 * 1000, this, () => {\r\n            GameMgr.Sound.play(this.reloadSound[0])\r\n        })\r\n        Laya.timer.once(25 / 43 * 1000, this, () => {\r\n            GameMgr.Sound.play(this.reloadSound[3])\r\n        })\r\n        //射击完成后 (检测是否返回可操控状态)\r\n        Laya.timer.once(this.shootTime, this, () => {\r\n            if (this.bulletCount > 0) {\r\n                this.idle();\r\n            } else {\r\n                this.reload();\r\n            }\r\n        })\r\n    }\r\n    idle() {\r\n        let weaponAnim: Laya.Animator = this.anim;\r\n        weaponAnim.play(\"idle\", 0, 0);\r\n        this.isNotControl = false;\r\n        this.isCanAim = true;\r\n        GameMgr.Level.weaponGrip.transform.localPosition = this.idleWeaponPos;\r\n        GameMgr.Level.weaponGrip.transform.localRotationEuler = this.idelWeaponRot;\r\n        GameMgr.Level.mainCamera.fieldOfView = this.idleWeaponFov;\r\n    }\r\n    reload() {\r\n        this.isNotControl = true;\r\n        let weaponAnim: Laya.Animator = this.anim;\r\n        let self = this;\r\n        //播放换单动画\r\n        let cb3 = () => {\r\n            weaponAnim.play(\"reload_close\", 0, 0);\r\n            GameMgr.Sound.play(SoundType.sniper1_reload_close)\r\n            Laya.timer.once(self.reloadTime[2], self, () => {\r\n                self.isNotControl = false;\r\n            })\r\n        }\r\n        let cb2 = () => {\r\n            weaponAnim.play(\"reload_insert\", 0, 0);\r\n            GameMgr.Sound.play(SoundType.sniper1_reload_insert)\r\n            Laya.timer.once(self.reloadTime[1], self, () => {\r\n                self.bulletCount++;\r\n                if (self.bulletCount >= 3) {\r\n                    self.bulletCount = self.bulletMaxCount\r\n                    cb3();\r\n                } else {\r\n                    cb2();\r\n                }\r\n            })\r\n\r\n        }\r\n        let cb1 = () => {\r\n            weaponAnim.play(\"reload_open\", 0, 0);\r\n            GameMgr.Sound.play(SoundType.snipe1_reload_open)\r\n            Laya.timer.once(self.reloadTime[0], self, cb2);\r\n        }\r\n        cb1();\r\n    }\r\n    //#endregion\r\n\r\n}","import { SoundType } from \"../../../configs/EnumType\";\r\nimport Sniper from \"./Sniper\";\r\n\r\nexport default class Sniper1 extends Sniper {\r\n    initData(): void {\r\n        this.bulletMaxCount = 10;\r\n        this.reloadTime = [28 / 30 * 1000, 23 / 90 * 1000, 32 / 30 * 1000];\r\n        /**装弹开始声音*/\r\n        this.reloadSound = [SoundType.snipe1_reload_open, SoundType.sniper1_reload_insert, SoundType.sniper1_reload_close];\r\n        /**开枪时间 */\r\n        this.shootTime = 73 / 60 * 1000;\r\n        /**开枪声音 */\r\n        this.shootSound = SoundType.shoot;\r\n        this.daamge = 4;\r\n    }\r\n}","import { EventType } from \"../configs/EnumType\";\r\nimport D3Component from \"../d3Components/D3Component\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport { OutLineController_Green } from \"../nimo_Mods/shader/OutLineController_Green\";\r\nimport { OutLineController_Red } from \"../nimo_Mods/shader/OutLineController_Red\";\r\nimport Game from \"../uiScenes/Game\";\r\n\r\nexport enum ObsState {\r\n    unBuild = 0,\r\n    level1,\r\n    level2,\r\n    level3,\r\n}\r\n\r\nexport default class Obs extends D3Component {\r\n    name: string;\r\n    state: ObsState\r\n\r\n    normalModel: Laya.Sprite3D;\r\n    fadeModel: Laya.Sprite3D;\r\n\r\n    anim: Laya.Animator;\r\n\r\n    colliders: any[];\r\n    damage: number = 1;\r\n\r\n    init(...data: any[]): void {\r\n        //倘若由外部调用有信息的初始化，则加个卡进程\r\n        // if (data.length == 0) return;\r\n        this.name = this.self.name;\r\n        this.state = ObsState.unBuild;\r\n        this.normalModel = this.self.getChildByName(\"normal\") as Laya.Sprite3D;\r\n        this.fadeModel = this.self.getChildByName(\"fade\") as Laya.Sprite3D;\r\n        this.anim = this.normalModel.getChildAt(0).getComponent(Laya.Animator);\r\n        this.colliders = [];\r\n        this.initData();\r\n        this.stateUpdate();\r\n        this.searchCollider(this.self);\r\n    }\r\n\r\n    needFire: number[];\r\n    initData() {\r\n        switch (this.name) {\r\n            case \"1spikes\":\r\n                this.needFire = GameMgr.Level.baseData[0].CannonCreateCoin[0];\r\n                break;\r\n            case \"2hand\":\r\n                this.needFire = GameMgr.Level.baseData[0].CannonCreateCoin[1];\r\n                break;\r\n            case \"3punch\":\r\n                this.needFire = GameMgr.Level.baseData[0].CannonCreateCoin[2];\r\n                break;\r\n            case \"4knife\":\r\n                this.needFire = GameMgr.Level.baseData[0].CannonCreateCoin[3];\r\n                break;\r\n            default:\r\n                this.needFire = [0, 0, 0];\r\n                break;\r\n        }\r\n    }\r\n    searchCollider(node: Laya.Sprite3D) {\r\n        for (let i = 0; i < node.numChildren; i++) {\r\n            let child = node.getChildAt(i) as Laya.Sprite3D;\r\n            let nameData = child.name\r\n            if (nameData == \"collider\") {\r\n                let self = this;\r\n                let scale = this.self.transform.localScaleX;\r\n                this.colliders.push({\r\n                    obj: child,\r\n                    comp: self,\r\n                    raidus: 0.5,\r\n                })\r\n            }\r\n            this.searchCollider(child);\r\n        }\r\n    }\r\n    chooseUpdate(isChooses) {\r\n        let isFade = this.state == ObsState.unBuild;\r\n        let isNeedFire = this.needFire[this.state];\r\n        //在level处统一清除\r\n        // OutLineController_Green.clearAllOutline();\r\n        // OutLineController_Red.clearAllOutline();\r\n        if (isFade) {\r\n            let model1 = this.nowModel1;\r\n            let model2 = this.nowModel2;\r\n            let mat1 = model1.meshRenderer.material.clone();\r\n            let mat2 = model2.meshRenderer.material.clone();\r\n            mat1.albedoColor = isChooses ? GameMgr.Level.fireCount >= isNeedFire ? new Laya.Vector4(0, 1, 0, 0.5) : new Laya.Vector4(1, 0, 0, 0.5) : new Laya.Vector4(1, 1, 1, 0.3);\r\n            mat2.albedoColor = isChooses ? GameMgr.Level.fireCount >= isNeedFire ? new Laya.Vector4(0, 1, 0, 0.5) : new Laya.Vector4(1, 0, 0, 0.5) : new Laya.Vector4(1, 1, 1, 0.3);\r\n            model1.meshRenderer.material = mat1;\r\n            model2.meshRenderer.material = mat2;\r\n        } else {\r\n            if (isChooses && this.state != ObsState.level3) {\r\n                if (GameMgr.Level.fireCount >= isNeedFire) {\r\n                    // OutLineController_Green.addSprite_Outline(this.nowModel1);\r\n                    // OutLineController_Green.addSprite_Outline(this.nowModel2);\r\n                } else {\r\n                    // OutLineController_Red.addSprite_Outline(this.nowModel1);\r\n                    // OutLineController_Red.addSprite_Outline(this.nowModel2);\r\n                }\r\n            }\r\n        }\r\n        if (isChooses && this.state != ObsState.level3) {\r\n            GameMgr.Event.event(EventType.Game_BuildUIUpdate_Event, [true, this.self, isNeedFire]);\r\n        } else {\r\n            GameMgr.Event.event(EventType.Game_BuildUIUpdate_Event, [false]);\r\n        }\r\n    }\r\n    nowModel1: Laya.MeshSprite3D\r\n    nowModel2: Laya.MeshSprite3D\r\n    stateUpdate() {\r\n        let isFade = this.state == ObsState.unBuild;\r\n        this.normalModel.active = !isFade;\r\n        this.fadeModel.active = isFade;\r\n        this.normalModel.getChildAt(0).getChildAt(0).active = false;\r\n        this.normalModel.getChildAt(0).getChildAt(1).active = false;\r\n        this.normalModel.getChildAt(0).getChildAt(2).active = false;\r\n        this.nowModel1 = isFade ? this.fadeModel.getChildAt(0) as Laya.MeshSprite3D : this.normalModel.getChildAt(0) as Laya.MeshSprite3D;\r\n        switch (this.state) {\r\n            case ObsState.unBuild:\r\n                this.nowModel2 = this.fadeModel.getChildAt(0).getChildAt(0) as Laya.MeshSprite3D;\r\n                break;\r\n            case ObsState.level1:\r\n                this.nowModel2 = this.normalModel.getChildAt(0).getChildAt(0) as Laya.MeshSprite3D;\r\n                break;\r\n            case ObsState.level2:\r\n                this.nowModel2 = this.normalModel.getChildAt(0).getChildAt(1) as Laya.MeshSprite3D;\r\n                break;\r\n            case ObsState.level3:\r\n                this.nowModel2 = this.normalModel.getChildAt(0).getChildAt(2) as Laya.MeshSprite3D;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.nowModel1.active = true;\r\n        this.nowModel2.active = true;\r\n    }\r\n    levelUp() {\r\n        if (this.state != ObsState.level3) {\r\n            if (GameMgr.Level.fireCount >= this.needFire[this.state]) {\r\n                GameMgr.Level.fireCount -= this.needFire[this.state];\r\n                Game.instance.fireValue.value = GameMgr.Level.fireCount.toString();\r\n                this.state++;\r\n                this.endAutoAttack();\r\n                this.startAutoAttack();\r\n                this.stateUpdate();\r\n                // this.chooseUpdate(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    attackInvertal = 2000;\r\n    startAutoAttack() {\r\n        this.isAttack = false\r\n        Laya.timer.loop(this.attackInvertal, this, this.autoAttack)\r\n    }\r\n    isAttack = false;\r\n    autoAttack() {\r\n        this.isAttack = true;\r\n        Laya.timer.once(500, this, () => { this.isAttack = false })\r\n        this.anim.play(\"attack\", 0, 0);\r\n    }\r\n    endAutoAttack() {\r\n        this.isAttack = false\r\n        Laya.timer.clear(this, this.autoAttack)\r\n    }\r\n\r\n    onDestroy(): void {\r\n        super.onDestroy();\r\n        this.endAutoAttack();\r\n    }\r\n}","import D3Component from \"../d3Components/D3Component\";\r\n\r\nexport default class Tower extends D3Component {\r\n    colliders: any[] = [];\r\n\r\n    init(...data: any[]): void {\r\n        this.searchCollider(this.self);\r\n    }\r\n    searchCollider(node: Laya.Sprite3D) {\r\n        for (let i = 0; i < node.numChildren; i++) {\r\n            let child = node.getChildAt(i) as Laya.Sprite3D;\r\n            let nameData = child.name;\r\n            if (nameData == \"collider\") {\r\n                let self = this;\r\n                this.colliders.push({\r\n                    obj: child,\r\n                    comp: self,\r\n                    raidus: 1,\r\n                })\r\n            }\r\n            this.searchCollider(child);\r\n        }\r\n    }\r\n\r\n}","import GameMgr from \"../../managers/GameMgr\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport enum TouchEventType {\r\n    start = \"touchStart\",\r\n    move = \"touchMove\",\r\n    end = \"touchEnd\",\r\n    getAxis = \"GetAxis\",\r\n    slideWay = \"slideWay\",\r\n    singleTouchStart = \"singleTouchStart\",\r\n    singleTouchMove = \"singleTouchMove\",\r\n    singleTouchEnd = \"singleTouchEnd\",\r\n    secondTouchStart = \"secondTouchStart\",\r\n    secondTouchMove = \"secondTouchMove\",\r\n    secondTouchEnd = \"secondTouchEnd\",\r\n    getAxisAlways = \"getAxisAlways\"\r\n}\r\nexport default class TouchScan extends Laya.Script {\r\n    static instance;\r\n    onEnable() {\r\n        TouchScan.instance = this;\r\n    }\r\n    //点击事件\r\n    isPressed = false;\r\n    hOriginal = 0;\r\n    vOriginal = 0;\r\n    hAxis = 0;\r\n    vAxis = 0;\r\n    //输出数值\r\n    outAxis = 0;\r\n\r\n    touchId = -1;\r\n    onMouseDown(e) {\r\n        // this.isPressed = true;\r\n        // this.hOriginal = e.stageX / Laya.stage.width;\r\n        // this.vOriginal = e.stageY / Laya.stage.height;\r\n        // if (this.touchId == -1) {\r\n        GameMgr.Event.event(TouchEventType.start, [e])\r\n        // this.touchId = e.touchId;\r\n        // }\r\n    }\r\n    onMouseMove(e) {\r\n        // if (this.isPressed) {\r\n        //     this.hAxis = e.stageX / Laya.stage.width - this.hOriginal\r\n        //     this.vAxis = e.stageY / Laya.stage.height - this.vOriginal;\r\n        //     //重置初始点\r\n        //     if (false) {\r\n        //         this.hOriginal = e.stageX / Laya.stage.width\r\n        //         this.vOriginal = e.stageY / Laya.stage.height;\r\n        //     }\r\n        // }\r\n        // if (e.touchId == this.touchId) {\r\n        GameMgr.Event.event(TouchEventType.move, [e])\r\n        // }\r\n    }\r\n    onMouseOut(e) {\r\n        // this.isPressed = false;\r\n        // if (e.touchId == this.touchId) {\r\n        GameMgr.Event.event(TouchEventType.end, [e])\r\n        // this.touchId = -1;\r\n        // }\r\n    }\r\n    onMouseOver(e: laya.events.Event): void {\r\n        GameMgr.Event.event(TouchEventType.end, [e])\r\n    }\r\n    onMouseUp(e) {\r\n        // if (e.touchId == this.touchId) {\r\n        GameMgr.Event.event(TouchEventType.end, [e])\r\n        // this.touchId = -1;\r\n        // }\r\n    }\r\n\r\n}","import ExtensionTool from \"../extensionTools/ExtensionTool\";\r\n\r\nexport default class CamShake {\r\n\r\n\r\n    static Vector2Reduce(a: Laya.Vector2, b: Laya.Vector2) {\r\n        return new Laya.Vector2(a.x - b.x, a.y - b.y);\r\n    }\r\n    static isVibrating = false;\r\n    static vibrateSoft(cam: Laya.Sprite3D, scale: number = 1): void {\r\n        if (this.isVibrating)\r\n            return;\r\n        this.isVibrating = true;\r\n        Laya.timer.once(100, this, () => {\r\n            this.isVibrating = false;\r\n        })\r\n        ExtensionTool.d3_objectShake(cam, 0.1, 0.05 * scale);\r\n    }\r\n    static vibrateShort(cam: Laya.Sprite3D, scale: number = 1): void {\r\n        if (this.isVibrating)\r\n            return;\r\n        this.isVibrating = true;\r\n        Laya.timer.once(100, this, () => {\r\n            this.isVibrating = false;\r\n        })\r\n        ExtensionTool.d3_objectShake(cam, 0.1, 0.25 * scale);\r\n\r\n    }\r\n    static vibrateLong(cam: Laya.Sprite3D, scale: number = 1): void {\r\n        if (this.isVibrating)\r\n            return;\r\n        this.isVibrating = true;\r\n        Laya.timer.once(1000, this, () => {\r\n            this.isVibrating = false;\r\n        })\r\n        ExtensionTool.d3_objectShake(cam, 1, 0.25 * scale);\r\n    }\r\n}\r\n","import { EquipmentPerformance, EventType, SoundType, UiSceneType } from \"../configs/EnumType\";;\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport MyVector3 from \"../extensionTools/MyVector3\";\r\nimport Bullet from \"../gameComponents/Bullet\";\r\nimport Enemy from \"../gameComponents/Enemy\";\r\nimport HandGrip from \"../gameComponents/Gun/HandGrip\";\r\nimport HandGun1 from \"../gameComponents/Gun/HandGun/HandGun1\";\r\nimport Rifle1 from \"../gameComponents/Gun/Rifle/Rifle1\";\r\nimport Rifel2 from \"../gameComponents/Gun/Rifle/Rifle2\";\r\nimport Sniper from \"../gameComponents/Gun/Snpier/Sniper\";\r\nimport Sniper1 from \"../gameComponents/Gun/Snpier/Sniper1\";\r\nimport Obs, { ObsState } from \"../gameComponents/Obs\";\r\nimport Tower from \"../gameComponents/Tower\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport Nimo3D from \"../nimo_Mods/cal/Nimo3D\";\r\nimport { TouchEventType } from \"../nimo_Mods/ctrl/TouchScan\";\r\nimport { OutLineController_Green } from \"../nimo_Mods/shader/OutLineController_Green\";\r\nimport { OutLineController_Red } from \"../nimo_Mods/shader/OutLineController_Red\";\r\nimport CamShake from \"../nimo_Mods/Tools\";\r\nimport Game from \"../uiScenes/Game\";\r\n\r\n\r\n/**关卡管理器 */\r\nexport default class LevelMgr {\r\n\r\n\r\n    //#region 基础\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        if (GameMgr.GlData.isSubPackage && GameMgr.Platform.canSubPackage) {\r\n            let loadNames = [\"scene\"];\r\n            GameMgr.Res.addLoadRes(\"分包\");\r\n            GameMgr.Platform.loadSubpackagesSync(loadNames, this, (caller, isSuccess) => {\r\n                if (isSuccess) {\r\n                    caller.load3DRes();\r\n                    GameMgr.Res.removeLoadRes(\"分包\");\r\n                }\r\n            });\r\n        }\r\n        else { this.load3DRes(); }\r\n        this.initEvent();\r\n        if (!this.isObjToJson)\r\n            this.readJson();\r\n    }\r\n\r\n    /**3D游戏加载 */\r\n    load3DRes() {\r\n        GameMgr.Res.addLoadRes(\"场景\");\r\n        var resource = [\r\n            { url: GameMgr.GlData.sceneResUrl, clas: Laya.Scene3D, priority: 1 },   //场景\r\n            // { url: GameMgr.GlData.modelResUrl, clas: Laya.Sprite3D, priority: 2 },  //预设\r\n        ];\r\n\r\n        Laya.loader.create(resource,\r\n            Laya.Handler.create(this, this.onLoadFinished, [{ target: \"3dRes\" }], false),\r\n            Laya.Handler.create(this, this.onLoading, null, false));\r\n        Laya.loader.on(Laya.Event.ERROR, this, err => {\r\n            console.error(\"资源加载失败\", err);\r\n        });\r\n    }\r\n    onLoadFinished(evt) {\r\n        GameMgr.ConsoleLog(\"资源加载完成\", evt);\r\n        GameMgr.Res.removeLoadRes(\"场景\");\r\n    }\r\n    onLoading(pres) {\r\n        GameMgr.Res.updateLoadRes(\"场景\", pres, false);\r\n    }\r\n\r\n\r\n    /************ 3D资源调用-结合游戏实际需求 ************/\r\n    /**加载场景资源 */\r\n    loadSceneRes(index = 0) {\r\n        //主场景\r\n        let scene = Laya.loader.getRes(GameMgr.GlData.sceneResUrl);\r\n        Laya.stage.addChild(scene);\r\n        Laya.stage.setChildIndex(scene, index);\r\n        this.mainScene = scene;\r\n\r\n        //遍历查找主相机\r\n        let camera = ExtensionTool.d3_FindNodeByName(scene, 'Main Camera') as Laya.Camera;\r\n        if (camera) {\r\n            this.mainCamera = camera;\r\n        }\r\n        else { GameMgr.ConsoleWarn(\"未找到场景主相机\"); }\r\n\r\n        return scene;\r\n    }\r\n\r\n    /**加载预制体资源 */\r\n    loadModelRes() {\r\n        return this.loadResByUrl(GameMgr.GlData.modelResUrl);\r\n    }\r\n\r\n    /**根据url加载预制体资源 */\r\n    loadResByUrl(url: string) {\r\n        return Laya.loader.getRes(url);\r\n    }\r\n\r\n    /**开启场景阴影 */\r\n    createShadow(light: Laya.DirectionLight, distance = 120) {\r\n        light.shadowMode = Laya.ShadowMode.SoftLow;\r\n        light.shadowDistance = distance;\r\n        light.shadowResolution = 1024;\r\n        light.shadowCascadesMode = Laya.ShadowCascadesMode.TwoCascades;\r\n        light.shadowNormalBias = 0.4;\r\n    }\r\n    hideShadow(light) {\r\n        light.shadowMode = Laya.ShadowMode.None;\r\n    }\r\n    /**抗锯齿 */\r\n    useRetinalCanvas() {\r\n        Laya.stage.useRetinalCanvas = true;\r\n    }\r\n    disabelRetinalCanvas() {\r\n        Laya.stage.useRetinalCanvas = false;\r\n\r\n    }\r\n    /**设置场景雾化 */\r\n    setFog(isOpen: boolean, scene?: Laya.Scene3D, color?: Laya.Vector3) {\r\n        scene.enableFog = isOpen;\r\n        if (isOpen) {\r\n            //设置雾化的颜色\r\n            scene.fogColor = color; //\"#33D7E3\"转RGB\r\n            //设置雾化的起始位置，相对于相机的距离\r\n            scene.fogStart = 80;\r\n            //设置雾化最浓处的距离。\r\n            scene.fogRange = 100;\r\n        }\r\n    }\r\n    /**读Json */\r\n    readJson() {\r\n        let path = [\"res/json/levelsInfo.json\", \"res/json/stageData.json\", \"res/json/baseData.json\"]\r\n        GameMgr.Res.addLoadRes(\"关卡\");\r\n        GameMgr.Res.addLoadRes(\"关卡配置\");\r\n        GameMgr.Res.addLoadRes(\"数值配置\");\r\n        let cb = () => {\r\n            Laya.loader.load(path, Laya.Handler.create(this, (isSuccess) => {\r\n                if (isSuccess) {\r\n                    for (let i = 0; i < path.length; i++) {\r\n                        Laya.loader.load(path[i], Laya.Handler.create(this, (data) => {\r\n                            switch (i) {\r\n                                case 0:\r\n                                    this.levelsInfo = data;\r\n                                    GameMgr.Res.removeLoadRes(\"关卡\");\r\n                                    break;\r\n                                case 1:\r\n                                    this.stageData = data;\r\n                                    GameMgr.Res.removeLoadRes(\"关卡配置\");\r\n                                    break;\r\n                                case 2:\r\n                                    this.baseData = data;\r\n                                    GameMgr.Res.removeLoadRes(\"数值配置\");\r\n                                    break;\r\n                                default:\r\n                                    console.log(data);\r\n                                    break;\r\n                            }\r\n                        }), null, Laya.Loader.JSON)\r\n                    }\r\n                } else {\r\n                    console.log(\"load json fail,reload after 1s\")\r\n                    Laya.timer.once(1000, this, cb);\r\n                }\r\n            }), null, Laya.Loader.JSON);\r\n        }\r\n        cb();\r\n    }\r\n    JsonV3(V3) {\r\n        return new Laya.Vector3(parseFloat(V3.x), parseFloat(V3.y), parseFloat(V3.z));\r\n    }\r\n    V3ToJson(v3: Laya.Vector3) {\r\n        return {\r\n            x: v3.x.toString(),\r\n            y: v3.y.toString(),\r\n            z: v3.z.toString()\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 常用事件\r\n    /**加载事件 */\r\n    onLoadResEvent(e) {\r\n        if (e.allComplete) {\r\n            this.loadSceneRes();\r\n            this.firstIn();\r\n        }\r\n    }\r\n    /**游戏初始化事件 */\r\n    onInitGameEvent(e) {\r\n        this.roundInit();\r\n        GameMgr.UI.closeScene(UiSceneType.Over);\r\n        GameMgr.UI.openScene(UiSceneType.Home);\r\n    }\r\n    /**游戏开始时间 */\r\n    onPlayGameEvent(e) {\r\n        this.gameStart();\r\n        GameMgr.UI.closeScene(UiSceneType.Home);\r\n        GameMgr.UI.openScene(UiSceneType.Game);\r\n    }\r\n    /**游戏结束事件 */\r\n    onOverGameEvent(e) {\r\n        GameMgr.UI.closeScene(UiSceneType.Game);\r\n        GameMgr.UI.openScene(UiSceneType.Over, false, e);\r\n    }\r\n    //#endregion\r\n\r\n    //事件绑定接口\r\n    initEvent() {\r\n        GameMgr.Event.on(EventType.Load_Res_Msg_Event, this, this.onLoadResEvent);\r\n        GameMgr.Event.on(EventType.Init_Game_Event, this, this.onInitGameEvent);\r\n        GameMgr.Event.on(EventType.Play_Game_Event, this, this.onPlayGameEvent);\r\n        GameMgr.Event.on(EventType.Over_Game_Event, this, this.onOverGameEvent);\r\n        GameMgr.Event.on(EventType.Game_ShowAim_Event, this, this.isAimSlowUpdate);\r\n    }\r\n\r\n    //#region 游戏参数\r\n    mainScene: Laya.Scene3D;\r\n    mainCamera: Laya.Camera;\r\n    mainCam: Laya.Sprite3D;\r\n    prefabs: Laya.Sprite3D;\r\n    fxs: Laya.Sprite3D;\r\n    light: Laya.DirectionLight;\r\n    stage: Laya.Sprite3D;\r\n    player: Laya.Sprite3D;\r\n    camPoint: Laya.Sprite3D;\r\n    weaponGrip: Laya.Sprite3D;\r\n    handGrip: Laya.Sprite3D;\r\n    bulletPoint: Laya.Sprite3D;\r\n    levelsInfo: any;\r\n    stageData: any;\r\n    baseData: any;\r\n    handComp: HandGrip;\r\n\r\n    bullets: Bullet[] = [];\r\n    dropObj = [];\r\n    levelPaths = [];\r\n    levelObs = [];\r\n    levelTower = [];\r\n    enemys: Enemy[] = [];\r\n    nowPickBulidPlace: Laya.Sprite3D;\r\n\r\n    roundCount: number = 2;\r\n    nowRound: number = 0;\r\n    playerBaseHp: number = 20;\r\n    isLevelEnd = false;\r\n    isSmallAimShow = false;\r\n    levelIndex = 0;\r\n    fireCount = 0;\r\n    roundCounts = [];\r\n\r\n    //true是读场景，false是读json\r\n    isObjToJson: boolean = false;\r\n    //#endregion\r\n\r\n    //#region 常用流程\r\n    firstIn() {\r\n        for (let i = 0; i < this.mainScene.numChildren; i++) {\r\n            let child = this.mainScene.getChildAt(i) as Laya.Sprite3D;\r\n            switch (child.name) {\r\n                case \"MainCam\":\r\n                    this.mainCam = child;\r\n                    break;\r\n                case \"Prefabs\":\r\n                    this.prefabs = child;\r\n                    break;\r\n                case \"Light\":\r\n                    this.light = child as Laya.DirectionLight;\r\n                    break;\r\n                case \"Fxs\":\r\n                    this.fxs = child;\r\n                    Laya.timer.once(2000, this, () => {\r\n                        this.fxs.active = false\r\n                    })\r\n                    break;\r\n                case \"Stage\":\r\n                    this.stage = child;\r\n                    if (this.isObjToJson) {\r\n                        let levels = this.stage.getChildByName(\"Level\") as Laya.Sprite3D;\r\n                        let levelsInfo = [];\r\n                        for (let i = 0; i < levels.numChildren; i++) {\r\n                            let level = levels.getChildAt(i) as Laya.Sprite3D;\r\n                            let paths = [];\r\n                            let obs = [];\r\n                            let tower = [];\r\n                            for (let j = 0; j < level.numChildren; j++) {\r\n                                let type = level.getChildAt(j) as Laya.Sprite3D;\r\n                                switch (type.name) {\r\n                                    case \"Obs\":\r\n                                        for (let k = 0; k < type.numChildren; k++) {\r\n                                            let obj = type.getChildAt(k) as Laya.Sprite3D;\r\n                                            obs.push({\r\n                                                name: obj.name.split(\" \")[0],\r\n                                                pos: this.V3ToJson(obj.transform.localPosition.clone()),\r\n                                                rot: this.V3ToJson(obj.transform.localRotationEuler.clone())\r\n                                            })\r\n                                        }\r\n                                        break;\r\n                                    case \"Tower\":\r\n                                        for (let k = 0; k < type.numChildren; k++) {\r\n                                            let obj = type.getChildAt(k) as Laya.Sprite3D;\r\n                                            tower.push({\r\n                                                name: obj.name.split(\" \")[0],\r\n                                                pos: this.V3ToJson(obj.transform.localPosition.clone()),\r\n                                                rot: this.V3ToJson(obj.transform.localRotationEuler.clone())\r\n                                            })\r\n                                        }\r\n                                        break;\r\n                                    default:\r\n                                        if (type.name.indexOf(\"P\") != -1) {\r\n                                            if (type.numChildren > 0) {\r\n                                                let path = [];\r\n                                                for (let k = 0; k < type.numChildren; k++) {\r\n                                                    let obj = type.getChildAt(k) as Laya.Sprite3D;\r\n                                                    path.push({\r\n                                                        name: obj.name.split(\" \")[0],\r\n                                                        pos: this.V3ToJson(obj.transform.localPosition.clone()),\r\n                                                        rot: this.V3ToJson(obj.transform.localRotationEuler.clone())\r\n                                                    })\r\n                                                }\r\n                                                paths.push(path);\r\n                                            }\r\n                                        }\r\n                                        break;\r\n                                }\r\n                            }\r\n                            levelsInfo.push({\r\n                                paths: paths,\r\n                                obs: obs,\r\n                                tower: tower,\r\n                            });\r\n                        }\r\n                        console.log(JSON.stringify(levelsInfo));\r\n                        this.levelsInfo = levelsInfo;\r\n                        levels.destroy();\r\n                    }\r\n                    break;\r\n                case \"Player\":\r\n                    this.player = child;\r\n                    this.camPoint = child.getChildByName(\"CamPoint\") as Laya.Sprite3D;\r\n                    this.weaponGrip = child.getChildByName(\"WeaponGrip\") as Laya.Sprite3D;\r\n                    this.handGrip = child.getChildByName(\"HandGrip\") as Laya.Sprite3D;\r\n                    this.bulletPoint = child.getChildByName(\"CamPoint\") as Laya.Sprite3D;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        GameMgr.checkPerformance(() => {\r\n            switch (GameMgr.equipmentPerformance) {\r\n                case EquipmentPerformance.High:\r\n                    break;\r\n                case EquipmentPerformance.Mid:\r\n                    break;\r\n                case EquipmentPerformance.Low:\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        })\r\n        this.useRetinalCanvas();\r\n        this.randomPlayMusic();\r\n        // OutLineController_Green.init(this.mainCamera);\r\n        // OutLineController_Red.init(this.mainCamera);\r\n    }\r\n    gameStart() {\r\n        this.levelInit();\r\n    }\r\n    roundInit() {\r\n        Laya.timer.clear(this, this.gameUpdate);\r\n        this.stageObjClear();\r\n        //数组初始化\r\n        this.bullets = [];\r\n        this.dropObj = [];\r\n        this.levelPaths = [];\r\n        this.levelObs = [];\r\n        this.levelTower = [];\r\n        this.enemys = [];\r\n        //关卡数据初始化\r\n        let levelIndex = GameMgr.Storage.storageData.level > 5 ? ExtensionTool.randomInt(2, 5) : GameMgr.Storage.storageData.level;\r\n        this.levelIndex = levelIndex;\r\n        this.roundCount = this.stageData[levelIndex - 1].Rounds;\r\n        this.nowRound = 0;\r\n        this.roundCounts = this.stageData[levelIndex - 1].RoundMonsterCount.split(\",\");\r\n        this.playerBaseHp = this.baseData[0].CastleHP;\r\n        this.isLevelEnd = false;\r\n        this.fireCount = this.stageData[levelIndex - 1].BeginCoin;\r\n        //武器初始化\r\n        this.handGrip.active = false;\r\n        this.weaponGrip.active = true;\r\n        this.isHandBulid = false;\r\n        this.changeWeapon(0);\r\n        this.handComp = new HandGrip(this.handGrip);\r\n        //按照json生成关卡\r\n        let levelData = this.levelsInfo[levelIndex - 1];\r\n        let paths = levelData.paths;\r\n        let obs = levelData.obs;\r\n        let tower = levelData.tower;\r\n        for (let i = 0; i < paths.length; i++) {\r\n            this.bornPaths(paths[i]);\r\n        }\r\n        for (let i = 0; i < obs.length; i++) {\r\n            this.bornObs(obs[i]);\r\n        }\r\n        for (let i = 0; i < tower.length; i++) {\r\n            this.bornTower(tower[i], i == 0 ? 1 : 2);\r\n        }\r\n        //玩家位置初始化\r\n        this.playerTp(this.levelTower[0])\r\n        //光照初始化\r\n        this.light.transform.rotationEuler = new Laya.Vector3(-25.464, 150, 92.94);\r\n        //控制初始化\r\n        this.controlInit();\r\n        //游戏update开始执行\r\n        Laya.timer.frameLoop(1, this, this.gameUpdate)\r\n    }\r\n    roundEnd(isWin) {\r\n        this.isLevelEnd = true;\r\n        if (isWin)\r\n            GameMgr.Storage.passLevel();\r\n        GameMgr.Sound.play(isWin ? SoundType.win : SoundType.fail);\r\n        GameMgr.Event.event(EventType.Over_Game_Event, { isWin: isWin })\r\n    }\r\n\r\n    levelInit() {\r\n        //游戏开始\r\n        //第一次进入\r\n        if (this.nowRound == 0) {\r\n            this.controlOn();\r\n            Laya.timer.loop(16, this, this.fixUpdate);\r\n        }\r\n        //波次+1\r\n        this.nowRound++;\r\n        //敌人生成开启\r\n        if (this.nowRound == 1) {\r\n            Laya.timer.once(this.baseData[0].RoundWaitTime * 1000, this, () => {\r\n                this.levelEnemyBornStart(this.roundCounts[this.nowRound - 1].toString());\r\n            })\r\n        } else {\r\n            this.levelEnemyBornStart(this.roundCounts[this.nowRound - 1].toString());\r\n        }\r\n\r\n    }\r\n    levelEnd(isWin) {\r\n        if (this.isLevelEnd)\r\n            return;\r\n        if (isWin) {\r\n            //判定是否已经波数出完了\r\n            if (this.nowRound >= this.roundCount) {\r\n                //敌人生成关闭\r\n                this.levelEnemyBornEnd();\r\n                //游戏结束\r\n                this.controlOff();\r\n                Laya.timer.clear(this, this.fixUpdate);\r\n                this.roundEnd(true);\r\n            } else {\r\n                Laya.timer.once(this.baseData[0].RoundWaitTime * 1000, this, this.levelInit)\r\n                Game.instance.timeCount(this.baseData[0].RoundWaitTime);\r\n            }\r\n        } else {\r\n            //敌人生成关闭\r\n            this.levelEnemyBornEnd();\r\n            //游戏结束\r\n            this.controlOff();\r\n            Laya.timer.clear(this, this.fixUpdate);\r\n            this.roundEnd(false);\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    gameUpdate() {\r\n        let dt = Laya.timer.delta / 1000;\r\n        //视角控制Update\r\n        this.rotUpdate();\r\n        this.rayCheckWhenRot();\r\n        //掉落物Update\r\n        for (var i = this.dropObj.length - 1; i >= 0; i--) {\r\n            this.dropObj[i].upforce -= GameMgr.GlData.Gravity;\r\n            let obj = this.dropObj[i].obj as Laya.Sprite3D;\r\n            obj.transform.translate(new Laya.Vector3(this.dropObj[i].dir.x * this.dropObj[i].forwardfoce, this.dropObj[i].upforce, this.dropObj[i].dir.z * this.dropObj[i].horizontalforre), false);\r\n            obj.transform.rotate(this.dropObj[i].rotate, false)\r\n            if (this.dropObj[i].obj.transform.position.y < -1) {\r\n                this.dropObj[i].obj.destroy();\r\n                this.dropObj.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    fixUpdate() {\r\n        this.obsToEnemyCheck();\r\n    }\r\n    obsToEnemyCheck() {\r\n        for (let i = 0; i < this.levelObs.length; i++) {\r\n            let obsComp = this.levelObs[i].getComponent(Obs);\r\n            if (obsComp.isAttack) {\r\n                for (let j = 0; j < this.enemys.length; j++) {\r\n                    let enemyComp = this.enemys[j];\r\n                    if (enemyComp.isDead || enemyComp.isHurting)\r\n                        continue;\r\n                    for (let a = 0; a < obsComp.colliders.length; a++) {\r\n                        let pos1 = obsComp.colliders[a].obj.transform.position.clone();\r\n                        let raidus1 = obsComp.colliders[a].raidus;\r\n                        for (let b = 0; b < enemyComp.colliders.length; b++) {\r\n                            let pos2 = enemyComp.colliders[b].obj.transform.position.clone();\r\n                            let radius2 = enemyComp.colliders[b].raidus;\r\n                            let data = ExtensionTool.CircleCheck_2D(pos1.z, pos1.x, raidus1, pos2.z, pos2.x, radius2);\r\n                            if (data.isHit) {\r\n                                enemyComp.hurt(obsComp.damage);\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //#region 敌人自动生成\r\n    nowBornEnemyCount = 0;\r\n    nowEndEnemyCount = 0;\r\n    needBorEnemyCount = 0;\r\n    levelEnemyBornStart(needBorEnemyCount) {\r\n        this.needBorEnemyCount = needBorEnemyCount;\r\n        this.nowBornEnemyCount = 0;\r\n        this.nowEndEnemyCount = 0;\r\n        for (let i = 0; i < this.levelPaths.length; i++) {\r\n            let enmeyBase = this.levelPaths[i][0].getChildAt(0).getComponent(Laya.Animator);\r\n            enmeyBase.play(\"open\", 0, 0);\r\n        }\r\n\r\n        Laya.timer.loop(this.baseData[0].MonsterCreateTime * 1000, this, this.levelEnemyBorn);\r\n        this.levelEnemyBorn();\r\n        GameMgr.Event.event(EventType.Game_RoundUpdate_Event, [this.nowRound, this.roundCount])\r\n    }\r\n    levelEnemyBorn() {\r\n        let url = \"Enemy\" + ExtensionTool.randomInt(1, 7);\r\n        this.bornEnemy(url, ExtensionTool.getRandomInArray(this.levelPaths));\r\n        this.nowBornEnemyCount++;\r\n        if (this.nowBornEnemyCount >= this.needBorEnemyCount) {\r\n            this.levelEnemyBornEnd();\r\n        }\r\n    }\r\n    levelEnemyBornEnd() {\r\n        Laya.timer.clear(this, this.levelEnemyBorn);\r\n        for (let i = 0; i < this.levelPaths.length; i++) {\r\n            let enmeyBase = this.levelPaths[i][0].getChildAt(0).getComponent(Laya.Animator);\r\n            enmeyBase.play(\"close\", 0, 0);\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    /** 实时的射线检测 */\r\n    isAutoShoot: boolean = false;\r\n    rayTower: Laya.Sprite3D = null;\r\n    rayObs: Laya.Sprite3D = null;\r\n    rayCheckWhenRot() {\r\n        // OutLineController_Green.clearAllOutline();\r\n        // OutLineController_Red.clearAllOutline();\r\n        //创建射线\r\n        let rayWay = new Laya.Vector3();\r\n        this.bulletPoint.transform.getForward(rayWay);\r\n        let pointA = this.bulletPoint.transform.position.clone();\r\n        let pointB = MyVector3.add(pointA, MyVector3.mull(rayWay, 10000))\r\n        //各检测开关\r\n        let isTowerCheck: boolean = this.isHandBulid;\r\n        let isEnemyCheck: boolean = this.isAutoShoot && this.weaponComp.isCanShoot;\r\n        let isObsCheck: boolean = this.isHandBulid;\r\n\r\n        //#region 传送点的射线范围检测\r\n        if (isTowerCheck) {\r\n            let bulidPlaces = GameMgr.Level.levelTower;\r\n            let minBulidPlaceDis = 10000;\r\n            let minBulidPlace = null;\r\n            for (let i = 0; i < bulidPlaces.length; i++) {\r\n                //塔初始化\r\n                // OutLineController_Green.removeSprite_Outline(bulidPlaces[i].getChildAt(0) as Laya.Sprite3D);\r\n                let towerComp: Tower = bulidPlaces[i].getComponent(Tower);\r\n                for (let j = 0; j < towerComp.colliders.length; j++) {\r\n                    let colliderPos = towerComp.colliders[j].obj.transform.position.clone();\r\n                    let rayData = Nimo3D.calculateDistance(pointA, pointB, colliderPos);\r\n                    let dis = MyVector3.distance(colliderPos, pointA);\r\n                    if (dis < minBulidPlaceDis) {\r\n                        if (rayData) {\r\n                            if (rayData.distance < towerComp.colliders[j].raidus) {\r\n                                minBulidPlace = bulidPlaces[i];\r\n                                minBulidPlaceDis = dis;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.rayTower = minBulidPlace;\r\n            if (this.rayTower) {\r\n                // OutLineController_Green.addSprite_Outline(this.rayTower.getChildAt(0) as Laya.Sprite3D);\r\n            }\r\n        } else {\r\n            this.rayTower = null;\r\n            let bulidPlaces = GameMgr.Level.levelTower;\r\n            for (let i = 0; i < bulidPlaces.length; i++) {\r\n                //塔初始化\r\n                // OutLineController_Green.removeSprite_Outline(bulidPlaces[i].getChildAt(0) as Laya.Sprite3D);\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region 敌人的射线范围检测\r\n        let isHitEnemy = false;\r\n        if (isEnemyCheck) {\r\n            let enemys = this.enemys;\r\n            let minEnemyDis = 10000;\r\n            let minEmenyDisCollider;\r\n            for (let j = enemys.length - 1; j >= 0; j--) {\r\n                if (isHitEnemy)\r\n                    break;\r\n                if (enemys[j].nowHp <= 0) {\r\n                    continue;\r\n                }\r\n                let colliders = enemys[j].colliders;\r\n                for (let k = 0; k < colliders.length; k++) {\r\n                    let colliderPos = colliders[k].obj.transform.position.clone();\r\n                    let rayData = Nimo3D.calculateDistance(pointA, pointB, colliderPos);\r\n                    let dis = MyVector3.distance(colliderPos, pointA);\r\n                    if (dis < minEnemyDis) {\r\n                        if (rayData) {\r\n                            if (rayData.distance < colliders[k].raidus + 0.012) {\r\n                                isHitEnemy = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isHitEnemy)\r\n            this.weaponComp.shoot();\r\n        //#endregion\r\n\r\n        //#region 炮台的射线范围检测\r\n        if (isObsCheck) {\r\n            let obsRaidus = 0.5;\r\n            let obs = this.levelObs;\r\n            let minObsDis = 10000;\r\n            let minObs = null;\r\n            for (let i = 0; i < obs.length; i++) {\r\n                obs[i].getComponent(Obs).chooseUpdate(false)\r\n                let colliderPos = obs[i].transform.position.clone();\r\n                let rayData = Nimo3D.calculateDistance(pointA, pointB, colliderPos);\r\n                let dis = MyVector3.distance(colliderPos, pointA);\r\n                if (dis < minObsDis) {\r\n                    if (rayData) {\r\n                        if (rayData.distance < obsRaidus) {\r\n                            minObs = obs[i];\r\n                            minObsDis = dis;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.ObsUpdate(minObs);\r\n            this.rayObs = minObs;\r\n        } else {\r\n            this.rayObs = null;\r\n            let obs = this.levelObs;\r\n            for (let i = 0; i < obs.length; i++) {\r\n                obs[i].getComponent(Obs).chooseUpdate(false)\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n    }\r\n    /**敌人死亡 */\r\n    enemyDie(enemy: Enemy) {\r\n        for (let i = this.enemys.length - 1; i >= 0; i--) {\r\n            if (this.enemys[i] === enemy) {\r\n                this.enemys.splice(i, 1);\r\n            }\r\n        }\r\n        GameMgr.ConsoleLog(\"敌人死亡\");\r\n        this.nowEndEnemyCount++;\r\n        if (this.nowEndEnemyCount >= this.needBorEnemyCount) {\r\n            this.levelEnd(true);\r\n        }\r\n    }\r\n    /**友军基地受到伤害 */\r\n    playerBaseHurt() {\r\n        GameMgr.ConsoleLog(\"友军基地受到伤害\");\r\n        this.playerBaseHp--;\r\n        if (this.playerBaseHp >= 0) {\r\n            GameMgr.Event.event(EventType.Game_PlayerBaseUpdate_Event, [this.playerBaseHp / this.baseData[0].CastleHP])\r\n        }\r\n        if (this.playerBaseHp <= 0) {\r\n            this.levelEnd(false);\r\n        }\r\n    }\r\n    /**玩家传送 */\r\n    playerTp(place) {\r\n        if (place) {\r\n            let pos = place.getChildByName(\"tpPoint\").transform.position.clone();\r\n            // let offset = new Laya.Vector3(pos.x, 0, pos.z);\r\n            // pos = MyVector3.add(pos, MyVector3.mull(MyVector3.normalized(offset), 1));\r\n            this.player.transform.position = pos;\r\n            //转回去中间处理\r\n            let dir = new Laya.Vector2(pos.z, pos.x);\r\n            let angle = Math.atan2(dir.y, dir.x) / Math.PI * 180;\r\n            this.player.transform.localRotationEuler = new Laya.Vector3(0, angle + 180, 0);\r\n            this.targetRot = new Laya.Vector3(this.player.transform.localRotationEuler.x, this.player.transform.localRotationEuler.y, 0)\r\n            this.nowRot = this.targetRot;\r\n        }\r\n    }\r\n    fireAdd(value, enemyPos) {\r\n        this.fireCount += value;\r\n        GameMgr.Event.event(EventType.Game_FireUpdate_Event, [value, enemyPos]);\r\n    }\r\n    isAimSlow: boolean\r\n    isAimSlowUpdate(value) {\r\n        this.isAimSlow = value;\r\n    }\r\n\r\n\r\n    //#region 可交互方块逻辑\r\n    /**切换建造模式和战斗模式，true建造，false武器 */\r\n    isHandBulid = false;\r\n    changeHand() {\r\n        this.weaponComp.shoot_Release();\r\n        this.isHandBulid = !this.isHandBulid;\r\n        this.handGrip.active = this.isHandBulid;\r\n        this.weaponGrip.active = !this.isHandBulid;\r\n        Game.instance.showBuildAim(this.isHandBulid);\r\n        if (this.isHandBulid) {\r\n            Game.instance.showSmallAim(false);\r\n        } else {\r\n            Game.instance.showSmallAim(this.isSmallAimShow);\r\n        }\r\n    }\r\n    //建筑炮台\r\n    isChoosingObs = false;\r\n    ObsUpdate(obs) {\r\n        if (obs) {\r\n            obs.getComponent(Obs).chooseUpdate(true)\r\n            this.isChoosingObs = true;\r\n            Game.instance.showBuildAim(!this.isChoosingObs && this.isHandBulid)\r\n        } else {\r\n            this.isChoosingObs = false;\r\n            Game.instance.showBuildAim(!this.isChoosingObs && this.isHandBulid)\r\n        }\r\n    }\r\n    /**射线实时检测执行 */\r\n    rayDo() {\r\n        if (this.rayObs) {\r\n            this.rayObs.getComponent(Obs).levelUp();\r\n        } else if (this.rayTower) {\r\n            GameMgr.Level.playerTp(this.rayTower);\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 生成关卡物体\r\n    bornBullet(damage: number = 1, isThrough: boolean = false) {\r\n        let bullet = this.bornStageObj(\"Bullet\");\r\n        bullet.transform.position = this.bulletPoint.transform.position.clone();\r\n        bullet.transform.rotation = this.bulletPoint.transform.rotation.clone();\r\n        let comp = bullet.addComponent(Bullet)\r\n        comp.init(damage, isThrough);\r\n        this.bullets.push(comp);\r\n        Game.instance.smallAimEffect();\r\n        CamShake.vibrateShort(this.mainCamera, 0.02);\r\n    }\r\n    bornPaths(pathData) {\r\n        let path = [];\r\n        for (let i = 0; i < pathData.length; i++) {\r\n            let name = pathData[i].name;\r\n            let pos = this.JsonV3(pathData[i].pos);\r\n            let rot = this.JsonV3(pathData[i].rot);\r\n            let obj = this.bornLevelObj(name, pos, rot)\r\n            path.push(obj);\r\n            if (name.indexOf(\"WatchTower\") != -1) {\r\n                obj.active = false;\r\n            }\r\n        }\r\n        this.levelPaths.push(path);\r\n    }\r\n    bornObs(obsData) {\r\n        let name = obsData.name;\r\n        let pos = this.JsonV3(obsData.pos);\r\n        let rot = this.JsonV3(obsData.rot);\r\n        let obs = this.bornLevelObj(name, pos, rot);\r\n        obs.addComponent(Obs);\r\n        this.levelObs.push(obs);\r\n    }\r\n    bornTower(towerData, type = 2) {\r\n        let name = towerData.name + (type == 1 ? \"\" : \"2\");\r\n        let pos = this.JsonV3(towerData.pos);\r\n        let rot = this.JsonV3(towerData.rot);\r\n        let tower = this.bornLevelObj(name, pos, rot);\r\n        tower.addComponent(Tower);\r\n        this.levelTower.push(tower);\r\n    }\r\n    bornLevelObj(name, pos, rot) {\r\n        let obj = this.bornStageObj(name);\r\n        this.stage.addChild(obj);\r\n        obj.transform.localPosition = pos;\r\n        obj.transform.localRotationEuler = rot;\r\n        return obj;\r\n    }\r\n    bornEnemy(enemyName, path) {\r\n        let obj = this.bornStageObj(enemyName);\r\n        obj.transform.position = path[0].transform.position.clone();\r\n        let comp = obj.addComponent(Enemy)\r\n        this.enemys.push(comp);\r\n        comp.init(path)\r\n    }\r\n    //#endregion\r\n\r\n    //#region 枪械逻辑\r\n    weaponName: string = \"\";\r\n    bulletMaxCount: number = 10;\r\n    bulletCount: number = 0;\r\n    isCanShoot: boolean = false;\r\n    isReloadingOrChamring: boolean = false;\r\n\r\n    weaponComp: Sniper;\r\n    changeWeapon(id) {\r\n        id = id % this.weaponGrip.numChildren;\r\n        let name;\r\n        let comp;\r\n        switch (id) {\r\n            case 0:\r\n                name = \"0Sniper1\";\r\n                comp = new Sniper1(name)\r\n                break;\r\n            case 1:\r\n                name = \"1HandGun1\";\r\n                comp = new HandGun1(name);\r\n                break;\r\n            case 2:\r\n                name = \"2Rifle1\";\r\n                comp = new Rifle1(name);\r\n                break;\r\n            case 3:\r\n                name = \"3Rifle2\";\r\n                comp = new Rifel2(name);\r\n                break;\r\n        }\r\n        if (name != this.weaponName) {\r\n            this.weaponName = name\r\n            for (let i = 0; i < this.weaponGrip.numChildren; i++) {\r\n                this.weaponGrip.getChildAt(i).active = i == id;\r\n            }\r\n            this.weaponComp = comp\r\n        }\r\n\r\n    }\r\n    shoot_Touch() {\r\n        if (!this.isHandBulid) {\r\n            this.weaponComp.shoot_Touch();\r\n        }\r\n        else {\r\n            this.handComp.shoot_Touch();\r\n        }\r\n    }\r\n    shoot_Release() {\r\n        if (!this.isHandBulid) {\r\n            this.weaponComp.shoot_Release();\r\n        }\r\n        else {\r\n            this.handComp.shoot_Release();\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 控制\r\n    //控制改变\r\n    isSecond = false;\r\n    isSawCanControl = false;\r\n    rotLerpAxis;\r\n    rotateSawAxisSpeed = 27;\r\n    rotateSawHorizontalSpeed = 15;\r\n    maxLerpAxis = 0.15;\r\n    minLerpAxis = 0.001;\r\n    targetRot = new Laya.Vector3();\r\n    nowRot = new Laya.Vector3();\r\n    startTimer: number;\r\n    startPos: Laya.Vector2;\r\n    controlOn() {\r\n        GameMgr.Event.on(TouchEventType.getAxis, this, this.sawControl);\r\n        GameMgr.Event.on(TouchEventType.singleTouchStart, this, this.cubeTouch);\r\n        GameMgr.Event.on(TouchEventType.singleTouchEnd, this, this.cubeTouchEnd);\r\n    }\r\n    controlOff() {\r\n        GameMgr.Event.off(TouchEventType.getAxis, this, this.sawControl);\r\n        GameMgr.Event.off(TouchEventType.singleTouchStart, this, this.cubeTouch);\r\n        GameMgr.Event.off(TouchEventType.singleTouchEnd, this, this.cubeTouchEnd);\r\n    }\r\n    controlInit() {\r\n        this.player.transform.localRotationEuler = new Laya.Vector3(15, 193, 0);\r\n\r\n        //武器初始化(旧)\r\n        // this.weaponGrip.transform.localPosition = this.idleWeaponPos;\r\n        // this.mainCamera.fieldOfView = this.idleWeaponFov;\r\n        // this.weaponGrip.active = true;\r\n        // this.aimTween = new D3Tween();\r\n\r\n        this.targetRot = new Laya.Vector3(this.player.transform.localRotationEuler.x, this.player.transform.localRotationEuler.y, 0)\r\n        this.nowRot = this.targetRot;\r\n\r\n    }\r\n    cubeTouch(e) {\r\n        // GameMgr.ConsoleLog(\"转动视角\");\r\n        this.isSawCanControl = true;\r\n        if (!this.isSecond) {\r\n            this.shoot_Touch();\r\n        }\r\n    }\r\n    cubeTouchEnd(e) {\r\n        let x = e.stageX;\r\n        let y = e.stageY;\r\n        if (!this.isSecond) {\r\n            this.shoot_Release();\r\n        }\r\n    }\r\n    //视角update\r\n    rotUpdate() {\r\n        let goRot = new Laya.Vector3();\r\n        // let distance = MyVector3.distance(this.targetRot, this.nowRot)\r\n        this.rotLerpAxis = this.maxLerpAxis;\r\n        Laya.Vector3.lerp(this.nowRot, this.targetRot, this.rotLerpAxis, goRot);\r\n        this.nowRot = goRot;\r\n        this.player.transform.localRotationEuler = new Laya.Vector3(this.nowRot.x, this.nowRot.y, 0);\r\n        this.mainCam.transform.position = this.camPoint.transform.position.clone();\r\n        this.mainCam.transform.rotation = this.camPoint.transform.rotation.clone();\r\n    }\r\n    sawControl(e) {\r\n        if (!this.isSawCanControl)\r\n            return;\r\n        if (this.isSecond)\r\n            return;\r\n        let x = e.x;\r\n        let y = e.y;\r\n        let rot = new Laya.Vector3(y * this.rotateSawAxisSpeed * 0.0025, -x * this.rotateSawHorizontalSpeed * 0.0075, 0)\r\n        let nowX;\r\n        let nowY;\r\n        nowX = this.targetRot.x + rot.x;\r\n        if (nowX >= 90) {\r\n            nowX = 90;\r\n        } else if (nowX <= -20) {\r\n            nowX = -20;\r\n        }\r\n        nowY = this.targetRot.y + rot.y;\r\n        this.targetRot = new Laya.Vector3(nowX, nowY, 0);\r\n        // this.XGrip.transform.localRotationEuler = new Laya.Vector3(nowX, 0, 0);\r\n        // this.cubeStage.transform.rotate(new Laya.Vector3(0, rot.y, 0), true, false);\r\n    }\r\n    //#endregion\r\n\r\n    //#region 声音播放\r\n    //背景音乐播放\r\n    randomPlayMusic() {\r\n        let url = \"Bgm\";\r\n        // GameMgr.Sound.playMusic(url);\r\n        // let index = ExtensionTool.randomInt(1, 3)\r\n        // let url = \"Bgm\" + index.toString();\r\n        // GameMgr.Sound.playMusic(url);\r\n        // switch (index) {\r\n        //     case 1:\r\n        //         Laya.timer.once(64000, this, this.randomPlayMusic)\r\n        //         break;\r\n        //     case 2:\r\n        //         Laya.timer.once(54000, this, this.randomPlayMusic)\r\n        //         break;\r\n        //     case 3:\r\n        //         Laya.timer.once(61000, this, this.randomPlayMusic)\r\n        //         break;\r\n        // }\r\n    }\r\n    // isBulidingSoundCanPlay = true;\r\n    // playBulidingDestroy() {\r\n    //     if (this.isBulidingSoundCanPlay) {\r\n    //         this.isBulidingSoundCanPlay = false;\r\n    //         Laya.timer.once(1000, this, () => {\r\n    //             this.isBulidingSoundCanPlay = true;\r\n    //         })\r\n    //     }\r\n    // }\r\n    //#endregion\r\n\r\n    //#region 关卡生成统一接口\r\n    stageObj: any[] = [];\r\n    bornStageObj(name: prefab3D | string, parent: Laya.Sprite3D | Laya.Scene3D = this.mainScene) {\r\n        let prefab = this.prefabs.getChildByName(name) as Laya.Sprite3D;\r\n        if (!prefab) {\r\n            GameMgr.ConsoleWarn(\"生成物体不存在\", name);\r\n            return null;\r\n        }\r\n        let obj = Laya.Sprite3D.instantiate(prefab, parent);\r\n        obj.transform.localPosition = new Laya.Vector3();\r\n        this.stageObj.push(obj);\r\n        // GameMgr.ConsoleLog(\"生成\", name);\r\n        return obj;\r\n    }\r\n    stageObjClear() {\r\n        for (let i = this.stageObj.length - 1; i >= 0; i--) {\r\n            if (this.stageObj[i] && !this.stageObj[i].destroyed) {\r\n                this.stageObj[i].destroy();\r\n            }\r\n        }\r\n        this.stageObj = [];\r\n    }\r\n    //#endregion\r\n\r\n    //#region 特效组\r\n    bornFxDestroy(name: string, parent: Laya.Sprite3D | Laya.Scene3D, destroyTime: number = 1000, scale: number = 1, offset: Laya.Vector3 = new Laya.Vector3()) {\r\n        let prefab = this.fxs.getChildByName(name) as Laya.Sprite3D;\r\n        let obj = prefab.clone() as Laya.Sprite3D;\r\n        parent.addChild(obj);\r\n        obj.transform.localPosition = offset;\r\n        obj.transform.localRotationEuler = new Laya.Vector3();\r\n        obj.transform.localScale = new Laya.Vector3(scale, scale, scale);\r\n        Laya.timer.once(destroyTime, this, () => { obj.destroy() })\r\n        return obj\r\n    }\r\n    bornFxStage(name: string, parent: Laya.Sprite3D, scale: number = 1, offset: Laya.Vector3 = new Laya.Vector3()) {\r\n        let prefab = this.fxs.getChildByName(name) as Laya.Sprite3D;\r\n        let obj = prefab.clone() as Laya.Sprite3D;\r\n        parent.addChild(obj);\r\n        obj.transform.localPosition = offset;\r\n        obj.transform.localRotationEuler = new Laya.Vector3();\r\n        obj.transform.localScale = new Laya.Vector3(scale, scale, scale);\r\n        this.stageObj.push(obj);\r\n        return obj;\r\n    }\r\n    //#endregion\r\n\r\n}\r\nexport enum prefab3D {\r\n    prefab3D = \"prefab3D\"\r\n}\r\nexport enum Fxs3D {\r\n    Fxs3D = \"Fxs3D\"\r\n}\r\n","/**\r\n * 缓存数据类型\r\n * 根据游戏去做配置\r\n */\r\nexport class StorageData {\r\n    //常用缓存数据\r\n\r\n    /**分数 */\r\n    score = 0;\r\n    /**关卡 */\r\n    level = 1;\r\n    /**金币 */\r\n    coin = 0;\r\n\r\n    /**游戏刷新时间 */\r\n    freshTime = new Date().getTime() - 86400000;\r\n    /**游戏次数 */\r\n    playCount = 0;\r\n\r\n    /**签到天数 */\r\n    signDay = 1;\r\n    /**签到周数 */\r\n    signWeek = 1;\r\n    /**当日是否已签到 */\r\n    isSign = false;\r\n\r\n    /**皮肤列表：角色/武器(可扩展) */\r\n    skinList = [[1], [1]];\r\n    /**当前皮肤：角色/武器(可扩展) */\r\n    skinId = [1, 1];\r\n\r\n    /**存档赋予版本*/\r\n    gameVersion = \"1.0.0\";\r\n\r\n}","import { EventType } from \"../configs/EnumType\";\r\nimport { StorageData } from \"../configs/StorageData\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\n/**缓存管理类 */\r\nexport default class StorageMgr {\r\n    /**缓存数据 */\r\n    storageData: StorageData = new StorageData;\r\n    /**缓存键名 */\r\n    storageName: StorageData = new StorageData;\r\n\r\n    constructor() {\r\n        for (let key in this.storageData) {\r\n            let jsonData = this.readStorage(key);\r\n            if (!jsonData) {\r\n                this.writeStorage(key, this.storageName[key]);\r\n                GameMgr.ConsoleLog(\"初始化缓存数据\", key, this.storageName[key]);\r\n            }\r\n            else {\r\n                this.storageData[key] = JSON.parse(jsonData);\r\n                GameMgr.ConsoleLog(\"加载缓存数据\", key, this.storageData[key]);\r\n            }\r\n            this.storageName[key] = key; //数据键名更新\r\n        }\r\n        this.refreshData();\r\n    }\r\n\r\n    /**写入缓存 */\r\n    writeStorage(key: any, value: any) {\r\n        Laya.LocalStorage.setItem(key, JSON.stringify(value));\r\n        this.storageData[key] = value;\r\n    }\r\n\r\n    /**读取缓存 */\r\n    readStorage(key: any) {\r\n        return Laya.LocalStorage.getItem(key);\r\n    }\r\n\r\n    /**移除缓存 */\r\n    removeStorage(key: string) {\r\n        Laya.LocalStorage.removeItem(key);\r\n    }\r\n\r\n    /**更新每日数据 */\r\n    private refreshData() {\r\n        var gameTime = Math.floor((this.storageData.freshTime) / 86400000);\r\n        var curTime = Math.floor(new Date().getTime() / 86400000);\r\n        if (gameTime != curTime) { //测试签到 -86400000\r\n            GameMgr.ConsoleLog(\"更新每日数据\");\r\n            //更新当日游戏次数\r\n            this.writeStorage(this.storageName.playCount, 0);\r\n            //更新刷新时间\r\n            this.writeStorage(this.storageName.freshTime, new Date().getTime());\r\n        }\r\n    }\r\n\r\n\r\n    /*********** 常用缓存数据 ***********/\r\n    /**重置签到 */\r\n    initSign() {\r\n        this.writeStorage(this.storageName.isSign, false);\r\n        if (this.storageData.signDay > 7) {\r\n            this.writeStorage(this.storageName.signDay, 1);\r\n            this.writeStorage(this.storageName.signWeek, this.storageData.signWeek + 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 签到\r\n     * @param callback 回调\r\n     */\r\n    sign(callback?: Function) {\r\n        this.writeStorage(this.storageName.isSign, true);\r\n        this.writeStorage(this.storageName.signDay, this.storageData.signDay + 1);\r\n\r\n        callback && callback();\r\n    }\r\n\r\n    /**通关 */\r\n    passLevel() {\r\n        this.writeStorage(this.storageName.level, this.storageData.level + 1);\r\n    }\r\n\r\n    /**\r\n     * 金币更新\r\n     * @param value 更新值\r\n     * @param callback 回调\r\n     */\r\n    updateCoin(value, callback?: Function) {\r\n        this.writeStorage(this.storageName.coin, this.storageData.coin + value);\r\n        GameMgr.Event.event(EventType.Update_Coin_Event, { coin: this.storageData.coin });\r\n        callback && callback(this.storageData.coin);\r\n    }\r\n\r\n    /**解锁新皮肤 */\r\n    unlockSkin(id, type = 0) {\r\n        if (!this.hasSkin(id, type)) {\r\n            this.storageData.skinList[type].push(id);\r\n            this.writeStorage(this.storageName.skinList, this.storageData.skinList);\r\n            this.changeSkin(id,type);\r\n        }\r\n    }\r\n\r\n    /**是否拥有此皮肤 */\r\n    hasSkin(id, type = 0): boolean {\r\n        return this.storageData.skinList[type].indexOf(id) != -1;\r\n    }\r\n\r\n    /**更换皮肤 */\r\n    changeSkin(id, type = 0, callback?: Function) {\r\n        this.storageData.skinId[type] = id;\r\n        this.writeStorage(this.storageName.skinId, this.storageData.skinId);\r\n        GameMgr.Event.event(EventType.Update_Skin_Event);\r\n        callback && callback();\r\n    }\r\n}","import { PlatformType } from \"./EnumType\";\r\n\r\n/**全局数据 */\r\nexport default class GlobalData {\r\n    /**游戏版本号 */\r\n    gameVersion = '1.0.0';\r\n    /**游戏平台 */\r\n    platform: PlatformType;\r\n    /**本次进入游戏局数 */\r\n    playCount: number = 0;\r\n\r\n    /**是否输出日志 */\r\n    isShowLog: boolean = true;\r\n    /**是否分包 */\r\n    isSubPackage: boolean = true;\r\n    /**分包包名 */\r\n    subpackagesNames: string[] = [\"scene\"]\r\n\r\n    /**场景资源路径 */\r\n    sceneResUrl: string = \"res/scene/Conventional/ResScene.ls\";\r\n    /**预设资源路径 */\r\n    modelResUrl: string = \"res/model/Conventional/ResScene.lh\";\r\n    /**分批加载可选路径 */\r\n    modelsResUrl: string[] = [];\r\n\r\n    //#region 敌人0参数\r\n    /**敌人基础血量 */\r\n    enemyBaseHp: number = 20;\r\n    /**敌人爆头伤害 */\r\n    enemyHeadShotDamage: number = 20;\r\n    /**敌人断肢/身体伤害 */\r\n    enemyOtherShotDamage: number = 10;\r\n    /**敌人短腿伤害 */\r\n    enemyLegShotDamage: number = 15;\r\n    //#endregion\r\n\r\n    //#region 建筑爆破参数\r\n    //参数\r\n    //横向爆破力\r\n    BoomHVMin = 0.1;\r\n    BoomHVMax = 0.3;\r\n    //竖向爆破力\r\n    BoomVVMin = 0.1;\r\n    BoomVVMax = 0.5;\r\n    //上升爆破力\r\n    BoomUPMin = 0.10;\r\n    BoomUPMax = 0.55;\r\n    //重力\r\n    // MinGravity = -0.000496 * ;\r\n    Gravity = 0.0155;\r\n    //旋转\r\n    RotMin = -0.08;\r\n    RotMax = 0.08;\r\n\r\n    //#endregion\r\n\r\n    /**建筑信息 */\r\n    // buildingData: any = [{ \"type\": \"loufang1chaifen\", \"pos\": { \"x\": \"0.0646\", \"y\": \"-0.0047\", \"z\": \"0.3546\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang1chaifen\", \"pos\": { \"x\": \"0.1533\", \"y\": \"-0.0047\", \"z\": \"0.3761\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1.296\", \"z\": \"1\" } }, { \"type\": \"loufang1chaifen\", \"pos\": { \"x\": \"-0.0873\", \"y\": \"-0.0047\", \"z\": \"0.1315\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1.4655\", \"y\": \"1.799705\", \"z\": \"1\" } }, { \"type\": \"loufang1chaifen\", \"pos\": { \"x\": \"0.162\", \"y\": \"-0.0047\", \"z\": \"-0.167\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang1chaifen\", \"pos\": { \"x\": \"-0.137\", \"y\": \"-0.0047\", \"z\": \"-0.314\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1.433\", \"z\": \"1\" } }, { \"type\": \"loufang1chaifen\", \"pos\": { \"x\": \"-0.0096\", \"y\": \"-0.0011\", \"z\": \"0.3406\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang1chaifen\", \"pos\": { \"x\": \"-0.0013\", \"y\": \"-0.0047\", \"z\": \"-0.0868\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1.433\", \"z\": \"1\" } }, { \"type\": \"loufang1chaifen\", \"pos\": { \"x\": \"-0.0877\", \"y\": \"-0.0047\", \"z\": \"-0.06579998\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1.296\", \"z\": \"1\" } }, { \"type\": \"loufang2chaifen\", \"pos\": { \"x\": \"-0.1448\", \"y\": \"-0.0047\", \"z\": \"0.392\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1.8307\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang2chaifen\", \"pos\": { \"x\": \"-0.154\", \"y\": \"-0.0047\", \"z\": \"0.2416\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang2chaifen\", \"pos\": { \"x\": \"0.1317\", \"y\": \"-0.0047\", \"z\": \"0.244\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1.271403\", \"z\": \"1\" } }, { \"type\": \"loufang2chaifen\", \"pos\": { \"x\": \"-0.1586\", \"y\": \"-0.0047\", \"z\": \"-0.1586\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang2chaifen\", \"pos\": { \"x\": \"0.145\", \"y\": \"-0.0047\", \"z\": \"-0.075\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1.8307\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang2chaifen\", \"pos\": { \"x\": \"-0.044\", \"y\": \"-0.0047\", \"z\": \"-0.1974\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1.271403\", \"z\": \"1\" } }, { \"type\": \"loufang2chaifen\", \"pos\": { \"x\": \"0.0298\", \"y\": \"-0.0047\", \"z\": \"-0.281\" }, \"rot\": { \"x\": \"0\", \"y\": \"0\", \"z\": \"0\" }, \"size\": { \"x\": \"1.8307\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang8chaifen\", \"pos\": { \"x\": \"-0.0802\", \"y\": \"-0.0047\", \"z\": \"0.3125\" }, \"rot\": { \"x\": \"0\", \"y\": \"90\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang8chaifen\", \"pos\": { \"x\": \"0.08\", \"y\": \"-0.0047\", \"z\": \"-0.136\" }, \"rot\": { \"x\": \"0\", \"y\": \"90\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1\", \"z\": \"1\" } }, { \"type\": \"loufang8chaifen\", \"pos\": { \"x\": \"-0.1207\", \"y\": \"-0.0047\", \"z\": \"0.01630001\" }, \"rot\": { \"x\": \"0\", \"y\": \"90\", \"z\": \"0\" }, \"size\": { \"x\": \"1\", \"y\": \"1\", \"z\": \"1\" } }]\r\n}\r\n","import { EventType } from \"../configs/EnumType\";\r\n\r\n/**事件管理类 */\r\nexport default class EventMgr {\r\n    private eventDispatcher: Laya.EventDispatcher;\r\n    private getTypeKey(type) {\r\n        let key = Event[EventType[type]];\r\n        if (!key) key = type;\r\n        return key\r\n    }\r\n\r\n    constructor() {\r\n        this.eventDispatcher = new Laya.EventDispatcher;\r\n\r\n        for (var prop in EventType) {\r\n            if (prop.length > 1) continue;\r\n            // console.log(prop, EventType[prop]);\r\n            Event[EventType[prop]] = EventType[prop];\r\n        }\r\n    }\r\n\r\n    on(type, caller, listener, args?: any[]) {\r\n        this.eventDispatcher.on(this.getTypeKey(type), caller, listener, args)\r\n    }\r\n\r\n    once(type, caller, listener, args?: any[]) {\r\n        this.eventDispatcher.once(this.getTypeKey(type), caller, listener, args);\r\n    }\r\n\r\n    off(type, caller, listener, onceonly?) {\r\n        this.eventDispatcher.off(this.getTypeKey(type), caller, listener, onceonly)\r\n    }\r\n\r\n    offAll(type?) {\r\n        this.eventDispatcher.offAll(this.getTypeKey(type));\r\n    }\r\n\r\n    offAllCaller(caller) {\r\n        this.eventDispatcher.offAllCaller(caller);\r\n    }\r\n\r\n    event(type, data?: any) {\r\n        this.eventDispatcher.event(this.getTypeKey(type), data);\r\n    }\r\n\r\n    hasListener(type) {\r\n        this.eventDispatcher.hasListener(this.getTypeKey(type));\r\n    }\r\n\r\n    isMouseEvent(type) {\r\n        this.eventDispatcher.isMouseEvent(this.getTypeKey(type));\r\n    }\r\n}\r\n\r\nclass Event {\r\n}","import { EventType } from \"../configs/EnumType\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\n/**资源管理类 */\r\nexport default class ResMgr {\r\n    resList: string[];\r\n    currentLoadType: string;\r\n\r\n    /**加载的数量 */\r\n    resCount: number;\r\n\r\n    constructor() {\r\n        this.resList = [];\r\n        this.resCount = 0;\r\n    }\r\n\r\n    addLoadRes(type) {\r\n        if (this.resList.indexOf(type) == -1) {\r\n            this.resCount++;\r\n            this.resList.push(type);\r\n            if (!this.currentLoadType) {\r\n                this.currentLoadType = type;\r\n                GameMgr.Event.event(EventType.Load_Res_Msg_Event, { type: type, progress: 0, isComplete: false });\r\n            }\r\n        }\r\n    }\r\n\r\n    removeLoadRes(type) {\r\n        let index = this.resList.indexOf(type);\r\n        if (index != -1) {\r\n            this.resList.splice(index, 1);\r\n            this.resCount--;\r\n            GameMgr.Event.event(EventType.Load_Res_Msg_Event, { type: type, progress: 1, isComplete: true });\r\n\r\n            if (this.resList.length > 0) {\r\n                this.currentLoadType = this.resList[0];\r\n                GameMgr.Event.event(EventType.Load_Res_Msg_Event, { type: this.resList[0], progress: 0, isComplete: false });\r\n            }\r\n            else if (this.resCount == 0) {\r\n                GameMgr.ConsoleLog(\"全部资源加载完成\");\r\n                GameMgr.Event.event(EventType.Load_Res_Msg_Event, { allComplete: true });\r\n            }\r\n            else {\r\n                this.currentLoadType = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    updateLoadRes(type, progress, isComplete) {\r\n        GameMgr.Event.event(EventType.Load_Res_Msg_Event, { type: type, progress: progress, isComplete: isComplete });\r\n    }\r\n}","import { PrefabType } from \"../configs/EnumType\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\n/**预制体管理器 */\r\nexport default class PrefabMgr {\r\n    constructor() {\r\n        let url = [];\r\n        for (let prefab in PrefabType) {\r\n            url.push(PrefabType[prefab]);\r\n        }\r\n\r\n        if (url.length > 0) {\r\n            GameMgr.Res.addLoadRes(\"预制体\");\r\n            Laya.loader.load(url, Laya.Handler.create(this, this.loadComplete), Laya.Handler.create(this, this.loadProgress), Laya.Loader.PREFAB);\r\n        }\r\n    }\r\n\r\n    private loadProgress(res) {\r\n        console.log(\"预制体资源加载中...\", res);\r\n    }\r\n\r\n    private loadComplete() {\r\n        console.log(\"预制体资源加载完成!\");\r\n        GameMgr.Res.removeLoadRes(\"预制体\");\r\n    }\r\n\r\n    /**\r\n     * 获取预制体对象\r\n     * @param name 预制体名称\r\n     */\r\n    getItem(name: string): any {\r\n        let prefab: Laya.Prefab = Laya.loader.getRes(name);\r\n\r\n        if (prefab) {\r\n            return Laya.Pool.getItemByCreateFun(name, prefab.create, prefab);\r\n        }\r\n        else {\r\n            console.warn(\"预制体加载失败：确认是否已添加PrefabType成员\");\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 回收预制体对象\r\n     * @param name 预制体名称\r\n     * @param item 预制体对象\r\n     */\r\n    recoverItem(name, item) {\r\n        Laya.Pool.recover(name, item);\r\n        item.parent.removeChild(item);\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\n/**UI管理类 */\r\nexport default class UiMgr {\r\n    private scenes: Laya.Scene[];\r\n    private topScene: Laya.Scene;\r\n\r\n    constructor() {\r\n        this.scenes = [];\r\n    }\r\n\r\n    get TopScene() {\r\n        return this.topScene;\r\n    }\r\n\r\n    openScene(url: UiSceneType, closeOther: boolean = false, param?: any, callBack?: Function, parent?: Laya.Node) {\r\n        let scene = this.scenes.filter((w) => { return w.url == url; });\r\n        if (scene && scene.length > 0) {\r\n            GameMgr.ConsoleLog(\"已打开此场景\", scene);\r\n            scene[0].close();\r\n            this.scenes.splice(this.scenes.indexOf(scene[0]), 1);\r\n        }\r\n\r\n        /**关闭其他页面 */\r\n        if (closeOther) {\r\n            for (let i = this.scenes.length - 1; i >= 0; i--) {\r\n                this.closeScene(this.scenes[i].url as UiSceneType);\r\n            }\r\n        }\r\n\r\n        Laya.Scene.open(url, false, param, Laya.Handler.create(this, s => {\r\n            //重置父对象，此操作会再次触发生命周期OnEnable\r\n            if (parent) parent.addChild(s);\r\n            // else Laya.stage.addChild(s);\r\n\r\n            this.scenes.push(s);\r\n            this.topScene = s;\r\n\r\n            callBack && callBack(s);\r\n            GameMgr.Event.event(EventType.Open_Ui_Event, s.url);\r\n        }))\r\n    }\r\n\r\n    closeScene(url?: UiSceneType, param?: any) {\r\n        let scene = null;\r\n        if (url) {\r\n            this.scenes.forEach(s => {\r\n                if (s.url == url) {\r\n                    scene = s;\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n        else if (this.topScene) {\r\n            scene = this.topScene;\r\n        }\r\n\r\n        if (scene && scene instanceof Laya.Scene) {\r\n            this.scenes.splice(this.scenes.indexOf(scene), 1);\r\n            if (this.scenes.length > 0) this.topScene = this.scenes[this.scenes.length - 1];\r\n            else this.topScene = null;\r\n\r\n            scene.close();\r\n            GameMgr.Event.event(EventType.Close_Ui_Event, { url: scene.url, param: param });\r\n        }\r\n    }\r\n}","import { SoundType } from \"../configs/EnumType\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\n/**音效管理类 */\r\nexport default class SoundMgr {\r\n    private _soundFile: string[];\r\n    private _pathRoot: string;\r\n    private _soundCtx: any;\r\n\r\n    currentBgm: string; //当前播放背景音乐\r\n    loopSounds: string[]; //循环的音效列表\r\n\r\n    soundType:string = \".mp3\"//音乐格式\r\n\r\n    constructor() {\r\n        this._pathRoot = \"res/sound/\";\r\n        this._soundCtx = {};\r\n\r\n        this._soundFile = [];\r\n        this.loopSounds = [];\r\n        for (var key in SoundType) {\r\n            let sound = SoundType[key];\r\n            this._soundFile.push(sound);\r\n        }\r\n        GameMgr.ConsoleLog(\"音效：\", this._soundFile);\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        let path = this._pathRoot;\r\n        let file = \"\";\r\n        let soundFile = this._soundFile;\r\n        let soundCount = this._soundFile.length;\r\n        for (let i = 0; i < soundCount; ++i) {\r\n            file = soundFile[i];\r\n            let innerAudioContext = new Laya.SoundChannel;\r\n            innerAudioContext.url = path + file + this.soundType;\r\n\r\n            //innerAudioContext.loops = 0; 循环\r\n            Laya.SoundManager.addChannel(innerAudioContext);\r\n            this._soundCtx[file] = true;\r\n        }\r\n\r\n\r\n        // Laya.SoundManager.autoReleaseSound = false;\r\n        Laya.SoundManager.autoStopMusic = true;\r\n    }\r\n\r\n    /**设置音量 */\r\n    setSoundVolume(name, value) {\r\n        if (this._soundCtx[name]) {\r\n            Laya.SoundManager.setSoundVolume(value, this._pathRoot + name + this.soundType)\r\n        }\r\n    }\r\n\r\n    play(name, isLoop = false) {\r\n        if (this._soundCtx[name]) {\r\n            if (isLoop && this.loopSounds.indexOf(name) == -1) {\r\n                this.loopSounds.push(name);\r\n                Laya.SoundManager.playSound(this._pathRoot + name + this.soundType, 0);\r\n            }\r\n            else {\r\n                Laya.SoundManager.playSound(this._pathRoot + name + this.soundType);\r\n            }\r\n        }\r\n    }\r\n\r\n    stop(name, isLoop = false) {\r\n        if (this._soundCtx[name]) {\r\n            if (isLoop) {\r\n                let index = this.loopSounds.indexOf(name);\r\n                if (index != -1)\r\n                    this.loopSounds.splice(index, 1);\r\n            }\r\n\r\n            Laya.SoundManager.stopSound(this._pathRoot + name + this.soundType);\r\n        }\r\n    }\r\n\r\n    playMusic(name?) {\r\n        Laya.SoundManager.stopMusic();\r\n        if (name) {\r\n            Laya.SoundManager.playMusic(this._pathRoot + name + this.soundType, 0);\r\n            this.currentBgm = name;\r\n        }\r\n        else if (this.currentBgm) {\r\n            Laya.SoundManager.playMusic(this._pathRoot + this.currentBgm + this.soundType, 0);\r\n        }\r\n        else {\r\n            Laya.SoundManager.playMusic(this._pathRoot + SoundType.BGM + this.soundType, 0);\r\n        }\r\n    }\r\n\r\n    stopMusic() {\r\n        Laya.SoundManager.stopMusic();\r\n    }\r\n}","/**网络管理类 */\r\nexport default class NetMgr{\r\n\r\n}","import Platform from \"../platforms/Platform\";\r\nimport OppoPlatform from \"../platforms/oppo/OppoPlatform\";\r\nimport VivoPlatform from \"../platforms/vivo/VivoPlatform\";\r\nimport WxPlatform from \"../platforms/wx/WxPlatform\";\r\nimport TtPlatform from \"../platforms/tt/TtPlatform\";\r\nimport LevelMgr from \"./LevelMgr\";\r\nimport StorageMgr from \"./StorageMgr\";\r\nimport GlobalData from \"../configs/GlobalData\";\r\nimport EventMgr from \"./EventMgr\";\r\nimport ResMgr from \"./ResMgr\";\r\nimport PrefabMgr from \"./PrefabMgr\";\r\nimport UiMgr from \"./UiMgr\";\r\nimport SoundMgr from \"./SoundMgr\";\r\nimport NetMgr from \"./NetMgr\";\r\n\r\nimport { EquipmentPerformance, PlatformType } from \"../configs/EnumType\";\r\nimport { StorageData } from \"../configs/StorageData\";\r\n\r\n/**游戏管理器 */\r\nexport default class GameMgr {\r\n    /**资源管理类 */\r\n    static Res: ResMgr;\r\n    /**UI管理类 */\r\n    static UI: UiMgr;\r\n    /**全局数据 */\r\n    static GlData: GlobalData;\r\n    /**游戏全局逻辑控制器 */\r\n    static Level: LevelMgr;\r\n    /**平台管理类 */\r\n    static Platform: Platform;\r\n    /**缓存管理类 */\r\n    static Storage: StorageMgr;\r\n    /**事件管理类 */\r\n    static Event: EventMgr;\r\n    /**2D预制体管理类 */\r\n    static Prefab: PrefabMgr;\r\n    /**音效管理类 */\r\n    static Sound: SoundMgr;\r\n    /**网络管理类 */\r\n    static Net: NetMgr;\r\n\r\n    /**缓存键名 */\r\n    static StorageKey: StorageData;\r\n    /**缓存键值 */\r\n    static StorageData: StorageData;\r\n\r\n    static init() {\r\n        this.GlData = new GlobalData;\r\n        this.initPlatform();\r\n        this.UI = new UiMgr;\r\n        this.Event = new EventMgr;\r\n        this.Res = new ResMgr;\r\n        this.Prefab = new PrefabMgr;\r\n        this.Sound = new SoundMgr;\r\n        this.Net = new NetMgr;\r\n        this.initStorage();\r\n        this.Level = new LevelMgr;\r\n    }\r\n\r\n    /**初始化缓存 */\r\n    private static initStorage() {\r\n        this.Storage = new StorageMgr;\r\n        this.StorageKey = this.Storage.storageName;\r\n        this.StorageData = this.Storage.storageData;\r\n    }\r\n\r\n    /**初始化平台 */\r\n    private static initPlatform() {\r\n        if (Laya.Browser.onTTMiniGame) { //抖音平台\r\n            this.GlData.platform = PlatformType.TT;\r\n            this.Platform = new TtPlatform;\r\n        }\r\n        else if (Laya.Browser.onWeiXin) { //微信平台\r\n            this.GlData.platform = PlatformType.WX;\r\n            this.Platform = new WxPlatform;\r\n        }\r\n        else if (Laya.Browser.onVVMiniGame) { //vivo平台\r\n            this.GlData.platform = PlatformType.VIVO;\r\n            this.Platform = new VivoPlatform;\r\n        }\r\n        else if (Laya.Browser.onQGMiniGame) { //oppo平台\r\n            this.GlData.platform = PlatformType.OPPO;\r\n            this.Platform = new OppoPlatform;\r\n        }\r\n        else if (Laya.Browser.onPC || Laya.Browser.onMobile) { //PC\r\n            this.GlData.platform = PlatformType.PC;\r\n            this.Platform = new Platform;\r\n        }\r\n    }\r\n\r\n    static ConsoleLog(...data: any[]) {\r\n        if (this.GlData.isShowLog) {\r\n            console.log(...data);\r\n        }\r\n    }\r\n\r\n    static ConsoleWarn(...data: any[]) {\r\n        if (this.GlData.isShowLog) {\r\n            console.warn(...data);\r\n        }\r\n    }\r\n\r\n    static ConsoleError(...data: any[]) {\r\n        if (this.GlData.isShowLog) {\r\n            console.error(...data);\r\n        }\r\n    }\r\n\r\n    private static _isStartGame: boolean = false;\r\n    /**是否开始游戏 */\r\n    static get IsStartGame() {\r\n        return this._isStartGame;\r\n    }\r\n    /**是否开始游戏 */\r\n    static set IsStartGame(value) {\r\n        this._isStartGame = value;\r\n    }\r\n\r\n    /**当前帧率 */\r\n    static get FPS() {\r\n        return 1000 / Laya.timer.delta;\r\n    }\r\n    /**设备性能 */\r\n    static equipmentPerformance: EquipmentPerformance;\r\n    /**检测设备性能 */\r\n    static checkPerformance(cb?: Function) {\r\n        let value = 0;\r\n        let count = 50;\r\n        let curCount = count;\r\n        Laya.timer.loop(100, this, addValue);\r\n\r\n        function addValue() {\r\n            value += GameMgr.FPS;\r\n            curCount--;\r\n\r\n            if (curCount <= 0) {\r\n                Laya.timer.clear(this, addValue);\r\n                let fps = value / count;\r\n                if (fps > 50) {\r\n                    GameMgr.equipmentPerformance = EquipmentPerformance.High;\r\n                }\r\n                else if (fps > 40) {\r\n                    GameMgr.equipmentPerformance = EquipmentPerformance.Mid;\r\n                }\r\n                else {\r\n                    GameMgr.equipmentPerformance = EquipmentPerformance.Low;\r\n                }\r\n\r\n                cb && cb();\r\n            }\r\n        }\r\n    }\r\n}","import { SoundType } from \"../configs/EnumType\"\r\nimport GameMgr from \"../managers/GameMgr\"\r\nimport D3Tween from \"./D3Tween\"\r\nimport MyVector3 from \"./MyVector3\"\r\n\r\nexport default class ExtensionTool {\r\n    //#region File\r\n    /**\r\n     * 遍历Scene所有Var值及类型 输出\r\n     * @param jsonDir Scene.json路径 example:'MyScenes/LvMoneyUI.json'\r\n     * example out:\r\n     * 遍历Var开始：\r\n       xxx:Laya.Image\r\n       xxx:Laya.List\r\n       遍历Var结束！\r\n     */\r\n    static file_ExportVarByUIScene(jsonDir: string) {\r\n        Laya.loader.load(jsonDir, Laya.Handler.create(this, (data: any) => {\r\n            let str: string = '遍历Var开始：\\n'\r\n            let checkVar = (node: any) => {\r\n                if (node && node.props && node.props.var != undefined && node.props.var != null) {\r\n                    let type = node.type\r\n                    let v = node.props.var\r\n                    str += v + ':Laya.' + type + '\\n'\r\n                }\r\n            }\r\n            let checkChild = (node: any) => {\r\n                let child: any[] = node.child ? node.child : []\r\n                for (let i = 0; i < child.length; i++) {\r\n                    let c: any = child[i]\r\n                    checkVar(c)\r\n                    if (c.child) checkChild(c)\r\n                }\r\n            }\r\n            checkChild(data)\r\n            str += '遍历Var结束！'\r\n            console.log(str)\r\n        }), null, Laya.Loader.JSON)\r\n    }\r\n\r\n    /**\r\n     * 保存字符串内容到文件。效果相当于从浏览器下载了一个文件到本地。\r\n     * @param textToWrite 要保存的文件内容\r\n     * @param fileNameToSaveAs 要保存的文件名\r\n     */\r\n    static file_SaveForBrowser(textToWrite, fileNameToSaveAs) {\r\n        console.log(\"浏览器\");\r\n        let textFileAsBlob = new Blob([textToWrite], { type: 'application/json' });\r\n        let downloadLink = document.createElement(\"a\");\r\n        downloadLink.download = fileNameToSaveAs;\r\n        downloadLink.innerHTML = \"Download File\";\r\n        if (window.webkitURL != null) {\r\n            downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);\r\n        }\r\n        downloadLink.click();\r\n    }\r\n\r\n    /**\r\n     * 读取json文件\r\n     * @param jsonUrl json路径\r\n     * @param completeCB 加载完成回调\r\n     */\r\n    static file_LoadJson(jsonUrl: string, completeCB?: Function) {\r\n        Laya.loader.load(jsonUrl, Laya.Handler.create(this, () => {\r\n            let data = Laya.Loader.getRes(jsonUrl);\r\n            completeCB && completeCB(data);\r\n        }), null, Laya.Loader.JSON);\r\n    }\r\n    //#endregion\r\n\r\n    //#region 3D\r\n    /**3D转屏幕坐标 */\r\n    static d3_getSpritePosBySprite3DPoint(cam: Laya.Camera, target: Laya.Sprite3D, offset: Laya.Vector2 = new Laya.Vector2(0, 0)): Laya.Point {\r\n        var pos = target.transform.position.clone();\r\n        var outPos = new Laya.Vector4;\r\n        cam.viewport.project(pos, cam.projectionViewMatrix, outPos);\r\n        var pos2d = new Laya.Vector2(outPos.x / Laya.stage.clientScaleX, outPos.y / Laya.stage.clientScaleY);\r\n        pos2d.x += offset.x;\r\n        pos2d.y += offset.y;\r\n        return new Laya.Point(pos2d.x, pos2d.y);\r\n    }\r\n    /**\r\n     * 遍历rootNode的子节点，查找name匹配的节点\r\n     * @param rootNode 根节点\r\n     * @param name 需要查找的节点的name\r\n     */\r\n    static d3_FindNodeByName(rootNode: Laya.Sprite3D, name: string): Laya.Sprite3D {\r\n        let targetNode: Laya.Sprite3D = null\r\n\r\n        let funC = (node: Laya.Sprite3D) => {\r\n            for (let i = 0; i < node.numChildren; i++) {\r\n                if (node.getChildAt(i).name == name) {\r\n                    targetNode = node.getChildAt(i) as Laya.Sprite3D\r\n                    return\r\n                } else {\r\n                    funC(node.getChildAt(i) as Laya.Sprite3D)\r\n                }\r\n            }\r\n        }\r\n\r\n        funC(rootNode)\r\n        return targetNode\r\n    }\r\n\r\n    /**\r\n     * 随机获取半径范围内坐标点\r\n     * @param maxRadius 最大半径范围\r\n     * @param centerPos 中心点\r\n     * @param minRadius 最小半径范围\r\n     * @returns \r\n     */\r\n    static d3_GetRandomPointInCircle(maxRadius: number, centerPos: Laya.Vector3, minRadius: number = 0) {\r\n        let dir = new Laya.Vector3()\r\n        let r = Math.random() * (maxRadius - minRadius) + minRadius\r\n\r\n        dir.x = Math.random() * 2 - 1\r\n        dir.z = Math.random() * 2 - 1\r\n        Laya.Vector3.normalize(dir, dir)\r\n\r\n        let pos = new Laya.Vector3()\r\n        Laya.Vector3.scale(dir, r, dir)\r\n        Laya.Vector3.add(centerPos, dir, pos)\r\n        return pos\r\n    }\r\n\r\n    /**获取粒子系统 */\r\n    static d3_GetParticleSystem(particle: Laya.ShuriKenParticle3D | any) {\r\n        return particle.particleSystem;\r\n    }\r\n\r\n    /**克隆目标 */\r\n    static d3_CloneSprite(spr: any) {\r\n        if (!spr || !spr.clone) return null;\r\n        return spr.clone();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 2D\r\n    /**\r\n     * 按钮事件\r\n     * @param btn 按钮\r\n     * @param caller 事件对象\r\n     * @param callBack 回调函数\r\n     * @param args 参数\r\n     * @param isStopPropagation 是否阻止穿透\r\n     */\r\n    static d2_AddClickEvent(btn: Laya.Sprite, caller: any, callBack: Function, args?: any[], isStopPropagation: boolean = false, isSound: boolean = true, isTween: boolean = true) {\r\n        btn.offAllCaller(caller);\r\n\r\n        /**tween参数 */\r\n        let tweenTime = 60;\r\n        let oldSize = btn.scaleX;\r\n        let newSize = oldSize * 0.9;\r\n\r\n        let isPressed = false;\r\n        let cbDown = (evt) => {\r\n            isPressed = true;\r\n            if (isTween)\r\n                Laya.Tween.to(btn, { scaleX: newSize, scaleY: newSize }, tweenTime);\r\n            if (isStopPropagation) evt.stopPropagation;\r\n        }\r\n        btn.on(Laya.Event.MOUSE_DOWN, caller, cbDown, args);\r\n\r\n        let cbUp = (evt) => {\r\n            if (isPressed == false) return;\r\n            isPressed = false;\r\n            if (isStopPropagation) evt.stopPropagation;\r\n            if (isTween)\r\n                Laya.Tween.to(btn, { scaleX: oldSize, scaleY: oldSize }, tweenTime);\r\n            if (callBack) callBack.call(caller, evt);\r\n            if (isSound)\r\n                GameMgr.Sound.play(SoundType.CLICK);\r\n        }\r\n        btn.on(Laya.Event.MOUSE_UP, caller, cbUp, args);\r\n\r\n        let cbOut = (evt) => {\r\n            if (isPressed == false) return;\r\n            isPressed = false;\r\n            if (isTween)\r\n                Laya.Tween.to(btn, { scaleX: oldSize, scaleY: oldSize }, tweenTime);\r\n            if (isStopPropagation) evt.stopPropagation;\r\n        }\r\n        btn.on(Laya.Event.MOUSE_OUT, caller, cbOut, args);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Math\r\n    static clamp01(v): number {\r\n        if (v > 1) return 1;\r\n        if (v < 0) return 0;\r\n        return v;\r\n    }\r\n\r\n    static clamp(value, min, max) {\r\n        if (value < min) return min;\r\n        if (value > max) return max;\r\n        return value;\r\n    }\r\n    //#endregion\r\n\r\n    //#region System\r\n    /**获取当前时间戳 ms*/\r\n    static get getCurrentTime() {\r\n        return new Date().getTime();\r\n    }\r\n    /**获取当前时间戳 s*/\r\n    static get getCurrentTime_Second() {\r\n        return Math.floor(Date.parse((new Date()).toString()) / 1000);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Nimo增加\r\n\r\n    //#region 数值,数组、3D计算\r\n    /**求最大公约数 */\r\n    static math_gcd(a: number, b: number) {\r\n        return b == 0 ? a : this.math_gcd(b, a % b);\r\n    }\r\n    /**数值固定值靠近*/\r\n    static numberTo(base, target, dt) {\r\n        if (Math.abs((target - base)) < dt) {\r\n            base = target\r\n        } else if (base < target) {\r\n            base += dt;\r\n        } else if (base > target) {\r\n            base -= dt;\r\n        }\r\n        return base;\r\n    }\r\n    //**随机范围数值 a是小，b是大*/\r\n    static randomNumber(a, b) {\r\n        return a + (b - a) * Math.random();\r\n    }\r\n    //**随机范围整数（包含最大值），a是小，b是大 */\r\n    static randomInt(a, b) {\r\n        return Math.floor(a + (b + 1 - a) * Math.random());\r\n    }\r\n    //**一半几率 */\r\n    static halfPercent() {\r\n        return Math.random() < 0.5;\r\n    }\r\n    //**指定几率 */\r\n    static percent(axis) {\r\n        return Math.random() < axis;\r\n    }\r\n    //**获取向量间夹角度-180~180*/\r\n    static getAngle(v1: Laya.Vector3, v2: Laya.Vector3): number {\r\n        var a = Laya.Vector3.dot(v1, v2)\r\n        var b = Laya.Vector3.scalarLength(v1) * Laya.Vector3.scalarLength(v2);\r\n        if (b == 0) {\r\n            if (v1.z > v2.z) return 0;\r\n            else if (v1.z < v2.z) return 180;\r\n\r\n            if (v1.y > v2.y) return 90;\r\n            else if (v1.y < v2.y) return -90;\r\n        }\r\n        var cosAngle = a / b;\r\n        if (cosAngle < -1) {\r\n            cosAngle = -1;\r\n        }\r\n        if (cosAngle > 1) {\r\n            cosAngle = 1;\r\n        }\r\n        var angle = Math.acos(cosAngle) * 180 / Math.PI;\r\n        return angle;\r\n    }\r\n    static getAngleUp(v1: Laya.Vector3, v2: Laya.Vector3, up: Laya.Vector3): number {\r\n        let angle = ExtensionTool.getAngle(v1, v2);\r\n        let crossNoraml = new Laya.Vector3();\r\n        Laya.Vector3.cross(v2, v1, crossNoraml);\r\n        if (ExtensionTool.getAngle(up, crossNoraml) > 90) {\r\n            angle *= -1;\r\n        }\r\n        return angle;\r\n    }\r\n    /**\r\n   * 2D向量夹角 顺时针(0,180)，逆时针(0,-180) ,v2相对与v1的什么方向\r\n   */\r\n    static getAngle2DWay(v1: Laya.Vector2, v2: Laya.Vector2): number {\r\n        var a = Laya.Vector2.dot(v1, v2);\r\n        var b = Laya.Vector2.scalarLength(v1) * Laya.Vector2.scalarLength(v2);\r\n        var angle = Math.acos(a / b) * 180 / Math.PI\r\n        var axis = v1.x * v2.y - v2.x * v1.y;\r\n        if (axis > 0) {\r\n            angle *= 1\r\n        } else if (axis < 0) {\r\n            angle *= -1;\r\n        } else {\r\n            angle = 0;\r\n        }\r\n        return angle\r\n    }\r\n    //**获得法线对应平面投影 */\r\n    static getProjection(dir, normal) {\r\n        let upProject = MyVector3.mull(normal, MyVector3.dot(dir, normal));\r\n        let downProject = MyVector3.subtract(dir, upProject)\r\n        return downProject;\r\n    }\r\n    //**复制数组 */\r\n    static cloneArray(array) {\r\n        let outArray = [].concat(array);\r\n        return outArray;\r\n    }\r\n    //**随机抽取数组中一个元素(不删除) */\r\n    static getRandomInArray(array) {\r\n        if (array.length) {\r\n            let r = Math.random() * array.length;\r\n            r = Math.floor(r);\r\n            return array[r];\r\n        } else {\r\n            GameMgr.ConsoleLog(\"传入错误参数,返回空\")\r\n            return null;\r\n        }\r\n    }\r\n    //**随机抽取数组中一个元素(删除) */\r\n    static takeRandomInArray(array) {\r\n        if (array.length) {\r\n            let r = Math.random() * array.length;\r\n            r = Math.floor(r);\r\n            let obj = array[r]\r\n            array.splice(r, 1);\r\n            return obj;\r\n        } else {\r\n            GameMgr.ConsoleLog(\"传入错误参数,返回空\")\r\n            return null;\r\n        }\r\n    }\r\n    //**打乱数组元素（洗牌） */\r\n    static randomArray(array) {\r\n        let newArray = new Array(array.length);\r\n        let length = newArray.length;\r\n        for (let i = 0; i < length; i++) {\r\n            let obj = this.takeRandomInArray(array);\r\n            newArray[i] = obj;\r\n        }\r\n        return newArray;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 碰撞类计算\r\n    //**2D格子碰撞判定 */\r\n    static BoxCheck_2D_Normal(axis1, horizontal1, range1, width1, axis2, horizontal2, range2, width2) {\r\n        let axisWay = axis2 - axis1;\r\n        let horizontalWay = horizontal2 - horizontal1;\r\n\r\n        let horizontalDis = Math.abs(horizontalWay);\r\n        let axisDis = Math.abs(axisWay);\r\n        let horizontalRange = (width1 + width2) / 2;\r\n        let axisRange = (range1 + range2) / 2;\r\n        // console.log(dirZ,hitZ)\r\n        return { isHit: horizontalDis < horizontalRange && axisDis < axisRange, axisDis: axisDis, axisRange: axisRange, horizontalDis: horizontalDis, horizontalRange: horizontalRange, axisWay: axisWay, horizontalWay: horizontalWay }\r\n    }\r\n    //**2D圆形碰撞判定 */\r\n    static CircleCheck_2D(z1, x1, radius1, z2, x2, radius2) {\r\n        let distancePow2 = Math.pow(z1 - z2, 2) + Math.pow(x1 - x2, 2);\r\n        let rangePow2 = Math.pow(radius1 + radius2, 2);\r\n        return { isHit: distancePow2 < rangePow2, distancePow2: distancePow2, rangePow2: rangePow2 };\r\n    }\r\n    //#endregion\r\n\r\n    //#region 3D表现类\r\n    //**3D物体变小后变大提醒 */\r\n    static objectScaleTips(target: Laya.Sprite3D) {\r\n        let t = new D3Tween();\r\n        let normalScale = target.transform.localScale.clone();\r\n        let smallScale = MyVector3.mull(normalScale, 0.8);\r\n        let bigScale = MyVector3.mull(normalScale, 1.2);\r\n        t.toTween(target, { sca: smallScale }, 50)\r\n            .then({ sca: bigScale }, 50)\r\n            .then({ sca: normalScale }, 50);\r\n    }\r\n    /**16进制RGB转colorV3 */\r\n    static d3_getRgbByHex(_hexColor) {\r\n        var color = [], rgb = [];\r\n        let hexColor = _hexColor.replace(/#/, \"\");\r\n        if (hexColor.length == 3) { // 处理 \"#abc\" 成 \"#aabbcc\"\r\n            var tmp = [];\r\n            for (var i = 0; i < 3; i++) {\r\n                tmp.push(hexColor.charAt(i) + hexColor.charAt(i));\r\n            }\r\n            hexColor = tmp.join(\"\");\r\n        }\r\n        for (var i = 0; i < 3; i++) {\r\n            color[i] = \"0x\" + hexColor.substr(i * 2, 2);\r\n            // rgb.push(parseInt(Number(color[i])));\r\n            rgb.push(parseInt(color[i]));\r\n        }\r\n        return new Laya.Vector3(rgb[0] / 255, rgb[1] / 255, rgb[2] / 255);\r\n    }\r\n    /**物体抖动\r\n  * (抖动期间，会修改物体的localPosition，抖动期间移动会有bug，会有Bug)\r\n  *  */\r\n    static d3_objectShake(target: Laya.Sprite3D, shakeTime: number = 1, shakeAmount: number = 0.7) {\r\n        var shake = shakeTime;\r\n        var decreaseFactor = 1;\r\n        var originalPos = target.transform.localPosition.clone();\r\n\r\n        Laya.timer.frameLoop(1, this, updateShake);\r\n\r\n        function randomPos(): Laya.Vector3 {\r\n            var x = Math.random() > 0.5 ? Math.random() : -(Math.random());\r\n            var y = Math.random() > 0.5 ? Math.random() : -(Math.random());\r\n            return new Laya.Vector3(x, y, 0);\r\n        }\r\n\r\n        function updateShake() {\r\n            if (shake > 0) {\r\n                var pos = new Laya.Vector3();\r\n                Laya.Vector3.scale(randomPos(), shakeAmount, pos);\r\n                Laya.Vector3.add(originalPos, pos, pos);\r\n                target.transform.localPosition = pos;\r\n\r\n                shake -= 0.02 * decreaseFactor;\r\n            }\r\n            else {\r\n                shake = 0;\r\n                target.transform.localPosition = originalPos;\r\n                Laya.timer.clear(this, updateShake);\r\n            }\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 2DUI表现类\r\n    //#region 收集金币动效\r\n    static d2_coinCollectAnim(url, startPos, endPos, parent, amount = 15, callBack = null, coinArriveCallBack = null) {\r\n        var amountTmp = amount;\r\n        for (var i = 0; i < amount; i++) {\r\n            let coin = Laya.Pool.getItemByClass(\"coin\", Laya.Image);\r\n            coin.skin = url;\r\n            coin.x = startPos.x;\r\n            coin.y = startPos.y;\r\n\r\n            coin.scale(1, 1);\r\n\r\n            parent.addChild(coin);\r\n\r\n            let time = 300 + Math.random() * 100 - 50;\r\n            Laya.Tween.to(coin, { x: coin.x + Math.random() * 250 - 125, y: coin.y + Math.random() * 250 - 125 }, time);\r\n            Laya.timer.once(time + 50, this, function () {\r\n                Laya.Tween.to(coin, { x: endPos.x, y: endPos.y }, 400, null, new Laya.Handler(this, function () {\r\n                    parent.removeChild(coin);\r\n                    Laya.Pool.recover(\"coin\", coin);\r\n                    amountTmp--;\r\n                    coinArriveCallBack && coinArriveCallBack();\r\n                    if (amountTmp == 0 && callBack) callBack(parent);\r\n                }));\r\n            })\r\n        }\r\n    }\r\n    static d2_coinCollectAnimAni(ani, startPos, endPos, parent, amount = 15, callBack = null) {\r\n        var amountTmp = amount;\r\n        for (var i = 0; i < amount; i++) {\r\n            let coin = Laya.Pool.getItemByClass(\"coinAnim\", Laya.Clip);\r\n            coin.skin = ani.skin;\r\n            coin.index = ani.index;\r\n            coin.clipX = ani.clipX;\r\n            coin.clipY = ani.clipY;\r\n            coin.autoPlay = ani.autoPlay;\r\n            coin.x = startPos.x;\r\n            coin.y = startPos.y;\r\n\r\n            coin.scale(0.8, 0.8);\r\n\r\n            parent.addChild(coin);\r\n\r\n            let time = 300 + Math.random() * 100 - 50;\r\n            Laya.Tween.to(coin, { x: coin.x + Math.random() * 250 - 125, y: coin.y + Math.random() * 250 - 125 }, time);\r\n            Laya.timer.once(time + 50, this, function () {\r\n                Laya.Tween.to(coin, { x: endPos.x, y: endPos.y }, 400, null, new Laya.Handler(this, function () {\r\n                    parent.removeChild(coin);\r\n                    Laya.Pool.recover(\"coinAnim\", coin);\r\n                    amountTmp--;\r\n                    if (amountTmp == 0 && callBack) callBack(parent);\r\n                }));\r\n            })\r\n        }\r\n    }\r\n    //#endregion\r\n    //**表情弹出淡化Toast */\r\n    public static faceToast(faceUrl, parent, startPos: Laya.Vector2, endPos: Laya.Vector2) {\r\n        let image: Laya.Image = new Laya.Image(faceUrl)\r\n        image.anchorX = 0.5;\r\n        image.anchorY = 0.5;\r\n        image.alpha = 1;\r\n        image.size(100, 100)\r\n        parent.addChild(image);\r\n        image.x = startPos.x;\r\n        image.y = startPos.y;\r\n        Laya.Tween.to(image, { x: endPos.x, y: endPos.y, alpha: 0.9 }, 1000, Laya.Ease.strongOut, Laya.Handler.create(this, () => {\r\n            if (image && !image.destroyed) {\r\n                Laya.Tween.to(image, { x: endPos.x, y: endPos.y - 100, alpha: 0 }, 1000, null, Laya.Handler.create(this, () => {\r\n                    if (image && !image.destroyed) {\r\n                        image.destroy();\r\n                    }\r\n                }))\r\n            }\r\n        }))\r\n    }\r\n\r\n    //#region 开心与伤心表情（需配合素材库使用，未整理）\r\n    // public static faceHappyToast(startPos, parent, axis = 1) {\r\n    //     let x = Math.random() * 75 + 100\r\n    //     let xAxis = axis;\r\n    //     if (Math.random() > 0.5) {\r\n    //         xAxis = -axis;\r\n    //     }\r\n    //     let y = Math.random() * 75 + 100;\r\n    //     y *= axis;\r\n    //     let endPos = Tools.Vector2Add(startPos, new Laya.Vector2(xAxis * x, -y));\r\n    //     let url = \"HAPPY\"\r\n    //     let index = 1 + Math.floor(Math.random() * 5);\r\n    //     url = url + index.toString();\r\n    //     Tools.faceToast(faceUrl[url], parent, startPos, endPos)\r\n    // }\r\n    // public static faceSadToast(startPos, parent, axis = 1) {\r\n    //     let x = Math.random() * 75 + 100\r\n    //     let xAxis = axis;\r\n    //     if (Math.random() > 0.5) {\r\n    //         xAxis = -axis;\r\n    //     }\r\n    //     let y = Math.random() * 75 + 100;\r\n    //     y *= axis;\r\n    //     let endPos = Tools.Vector2Add(startPos, new Laya.Vector2(xAxis * x, -y));\r\n    //     let url = \"SAD\"\r\n    //     let index = 1 + Math.floor(Math.random() * 3);\r\n    //     url = url + index.toString();\r\n    //     Tools.faceToast(faceUrl[url], parent, startPos, endPos)\r\n    // }\r\n    //#endregion\r\n\r\n    //**文字淡出Toast */\r\n    static wordToastOk = true;\r\n    public static d2_wordToast(wordUrl, parent, startPos: Laya.Vector2) {\r\n        if (!this.wordToastOk)\r\n            return;\r\n        ExtensionTool.wordToastOk = false;\r\n        let image: Laya.Image = new Laya.Image(wordUrl)\r\n        image.anchorX = 0.5;\r\n        image.anchorY = 0.5;\r\n        image.alpha = 1;\r\n        parent.addChild(image);\r\n        image.top = 300;\r\n        image.centerX = 0;\r\n        let endPos = startPos;\r\n        image.scaleX = 0;\r\n        image.scaleY = 0;\r\n        Laya.Tween.to(image, { scaleX: 1, scaleY: 1 }, 500, Laya.Ease.strongOut, Laya.Handler.create(this, () => {\r\n            ExtensionTool.wordToastOk = true;\r\n            if (image && !image.destroyed) {\r\n                Laya.Tween.to(image, { top: 200, alpha: 0 }, 500, null, Laya.Handler.create(this, () => {\r\n                    if (image && !image.destroyed) {\r\n                        image.destroy();\r\n                    }\r\n                }))\r\n            }\r\n        }))\r\n    }\r\n\r\n    //#region 开心与伤心语言（需配合素材库使用，未整理）\r\n    // public static wordHappyToast(startPos, parent, axis = 1) {\r\n    //     let x = Math.random() * 75 + 100\r\n    //     let xAxis = axis;\r\n    //     if (Math.random() > 0.5) {\r\n    //         xAxis = -axis;\r\n    //     }\r\n    //     let y = Math.random() * 75 + 100;\r\n    //     y *= axis;\r\n    //     let url = \"HAPPY\"\r\n    //     let index = this.randomInt(1, 2)\r\n    //     url = url + index.toString();\r\n    //     Tools.wordToast(wordUrl[url], parent, startPos)\r\n    // }\r\n    // public static wordSadToast(startPos, parent, axis = 1) {\r\n    //     let x = Math.random() * 75 + 100\r\n    //     let xAxis = axis;\r\n    //     if (Math.random() > 0.5) {\r\n    //         xAxis = -axis;\r\n    //     }\r\n    //     let y = Math.random() * 75 + 100;\r\n    //     y *= axis;\r\n    //     let url = \"SAD\"\r\n    //     let index = this.randomInt(1, 2)\r\n    //     url = url + index.toString();\r\n    //     Tools.wordToast(wordUrl[url], parent, startPos)\r\n    // }\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#endregion\r\n}","/**2D缓动扩展类 */\r\nexport default class D2Tween {\r\n    /**\r\n     * 透明缓动\r\n     * @param target 缓动目标\r\n     * @param startValue 初始值\r\n     * @param endValue 目标值\r\n     * @param duration 缓动时间-毫秒\r\n     * @param ease 缓动类型\r\n     * @param completeCB 完成回调(循环无效)\r\n     * @param isReset 是否复位\r\n     * @param isLoop 是否循环\r\n     * @returns \r\n     */\r\n    static toAlpha(target: Laya.Sprite, startValue: number, endValue: number, duration: number, ease?: Function, completeCB?: Function, isReset: boolean = false, isLoop: boolean = false) {\r\n        if (!target || target.destroyed) return;\r\n        this.clearTween(target);\r\n        target.alpha = startValue;\r\n        alpha1();\r\n\r\n        function alpha1() {\r\n            let handler = isLoop || isReset ? new Laya.Handler(this, alpha2) : new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null });\r\n            Laya.Tween.to(target, { alpha: endValue }, duration, ease, handler);\r\n        }\r\n        function alpha2() {\r\n            let handler = isLoop ? new Laya.Handler(this, alpha1) : new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null });\r\n            Laya.Tween.to(target, { alpha: startValue }, duration, ease, handler);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 缩放缓动\r\n     * @param target 缓动目标\r\n     * @param startValue 初始值\r\n     * @param endValue 目标值\r\n     * @param duration 缓动时间-毫秒\r\n     * @param ease 缓动类型\r\n     * @param completeCB 完成回调(循环无效)\r\n     * @param isReset 是否复位\r\n     * @param isLoop 是否循环\r\n     * @returns \r\n     */\r\n    static toScale(target: Laya.Sprite, startValue: number, endValue: number, duration: number, ease?: Function, completeCB?: Function, isReset: boolean = false, isLoop: boolean = false) {\r\n        if (!target || target.destroyed) return;\r\n        this.clearTween(target);\r\n        target.scale(startValue, startValue);\r\n        scale1();\r\n\r\n        function scale1() {\r\n            let handler = isLoop || isReset ? new Laya.Handler(this, scale2) : new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null });\r\n            Laya.Tween.to(target, { scaleX: endValue, scaleY: endValue }, duration, ease, handler);\r\n        }\r\n        function scale2() {\r\n            let handler = isLoop ? new Laya.Handler(this, scale1) : new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null });\r\n            Laya.Tween.to(target, { scaleX: startValue, scaleY: startValue }, duration, ease, handler);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 移动缓动\r\n     * @param target 缓动目标\r\n     * @param position 目标值(x?, y?)\r\n     * @param duration 缓动时间-毫秒\r\n     * @param ease 缓动类型\r\n     * @param completeCB 完成回调(循环无效)\r\n     * @param isLoop 是否循环\r\n     * @param loopType 循环类型：0-往返、1-单向\r\n     * @returns \r\n     */\r\n    static toPosition(target: Laya.Sprite, position: { x?: number, y?: number }, duration: number, ease?: Function, completeCB?: Function, isLoop = false, loopType = 0) {\r\n        if (!target || target.destroyed) return;\r\n        this.clearTween(target);\r\n\r\n        let curPos: any = {}, targetPos: any = {};\r\n        if (position.x != null) { curPos.x = target.x; targetPos.x = position.x; }\r\n        if (position.y != null) { curPos.y = target.y; targetPos.y = position.y; }\r\n        pos1();\r\n\r\n        function pos1() {\r\n            if (isLoop) {\r\n                var handler = loopType == 0 ? new Laya.Handler(this, pos2) : new Laya.Handler(this, pos3);\r\n            }\r\n            else {\r\n                handler = new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null })\r\n            }\r\n            Laya.Tween.to(target, targetPos, duration, ease, handler);\r\n        }\r\n        function pos2() {\r\n            Laya.Tween.to(target, curPos, duration, ease, Laya.Handler.create(this, pos1));\r\n        }\r\n        function pos3() {\r\n            target.pos(curPos.x, curPos.y); pos1();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 旋转缓动\r\n     * @param target 缓动目标\r\n     * @param angle 目标角度\r\n     * @param duration 缓动时间-毫秒\r\n     * @param ease 缓动类型\r\n     * @param completeCB 完成回调(循环无效)\r\n     * @param isReset 是否复位\r\n     * @param isLoop 是否循环\r\n     * @returns \r\n     */\r\n    static toRotaion(target: Laya.Sprite, angle: number, duration: number, ease?: Function, completeCB?: Function, isReset: boolean = false, isLoop: boolean = false) {\r\n        if (!target || target.destroyed) return;\r\n        this.clearTween(target);\r\n\r\n        let curAngle = target.rotation;\r\n        let targetAngle = curAngle + angle;\r\n        let loopAngle = (curAngle - angle) + curAngle;\r\n        rotate1();\r\n\r\n        function rotate1() {\r\n            let handler = isLoop ? new Laya.Handler(this, rotate2) : isReset ? new Laya.Handler(this, rotate4) : new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null });\r\n            Laya.Tween.to(target, { rotation: targetAngle }, duration, ease, handler);\r\n        }\r\n        function rotate2() {\r\n            Laya.Tween.to(target, { rotation: loopAngle }, duration * 2, ease, Laya.Handler.create(this, rotate3));\r\n        }\r\n        function rotate3() {\r\n            Laya.Tween.to(target, { rotation: targetAngle }, duration * 2, ease, Laya.Handler.create(this, rotate2));\r\n        }\r\n        function rotate4() {\r\n            let handler = new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null })\r\n            Laya.Tween.to(target, { rotation: curAngle }, duration, ease, handler);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 弹窗缓动\r\n     * @param target 缓动目标\r\n     * @param completeCB 完成回调\r\n     * @param scaleValue 缩放目标值\r\n     * @param scaleTime 缩放时间-毫秒\r\n     */\r\n    static showViewByScale(target: Laya.Sprite, completeCB?: Function, scaleValue: number = 1, scaleTime: number = 200) {\r\n        this.toScale(target, 0, scaleValue, scaleTime, Laya.Ease.bounceOut, completeCB, true, false)\r\n    }\r\n\r\n    /**\r\n     * 清除缓动\r\n     * @param target 缓动目标\r\n     */\r\n    static clearTween(target: Laya.Sprite) {\r\n        Laya.Tween.clearAll(target);\r\n    }\r\n}","import D2Tween from \"../extensionTools/D2Tween\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\n\r\n/**2D组件基类 */\r\nexport default class D2Component extends Laya.Script {\r\n    /**自身对象 */\r\n    self: Laya.Sprite;\r\n\r\n    onAwake() {\r\n        this.self = this.owner as Laya.Sprite;\r\n        this.init();\r\n    }\r\n\r\n    /**初始化 */\r\n    init(...data: any[]) { }\r\n\r\n    onDestroy() {\r\n        Laya.timer.clearAll(this);\r\n        GameMgr.Event.offAllCaller(this);\r\n        D2Tween.clearTween(this.self);\r\n    }\r\n}","import ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport D2Component from \"./D2Component\"\r\n\r\nexport default class TestPanel extends D2Component {\r\n\r\n    init(): void {\r\n        let testBtn1 = this.self.getChildByName(\"testBtn1\") as Laya.Button;\r\n        ExtensionTool.d2_AddClickEvent(testBtn1, this, () => {\r\n            GameMgr.Level.levelEnd(true);\r\n        })\r\n        let testBtn2 = this.self.getChildByName(\"testBtn2\") as Laya.Button;\r\n        ExtensionTool.d2_AddClickEvent(testBtn2, this, () => {\r\n            Laya.Stat.show();\r\n        })\r\n        let testBtn3 = this.self.getChildByName(\"testBtn3\") as Laya.Button;\r\n        ExtensionTool.d2_AddClickEvent(testBtn3, this, () => {\r\n            Laya.Stat.hide();\r\n        })\r\n    }\r\n}","import GameMgr from \"../managers/GameMgr\";\r\n\r\nexport default class UiScene extends Laya.Scene {\r\n    onAwake() {\r\n        this.size(Laya.stage.width, Laya.stage.height);\r\n        this.init();\r\n        this.initEvent();\r\n    }\r\n\r\n    onClosed(){\r\n        GameMgr.Event.offAllCaller(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n\r\n    /**初始化界面 */\r\n    init() { }\r\n    /**初始化事件 */\r\n    initEvent() { }\r\n}","import { EventType, PrefabType, UiSceneType } from \"../configs/EnumType\";\r\nimport TestPanel from \"../d2Components/TestPanel\";\r\nimport D2Tween from \"../extensionTools/D2Tween\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport UiScene from \"./UiScene\";\r\n\r\n/**游戏页 */\r\nexport default class Game extends UiScene {\r\n    static instance;\r\n\r\n    aim: Laya.Image;\r\n    small_aim: Laya.Image;\r\n\r\n    roundBar: Laya.ProgressBar;\r\n    roundValue: Laya.FontClip;\r\n    TimeCount: Laya.Image;\r\n    fIreIcon: Laya.Image;\r\n    fireValue: Laya.FontClip;\r\n    buildShow: Laya.Image;\r\n    buildNeedValue: Laya.FontClip;\r\n    switchBulidBtn: Laya.Button;\r\n    hitAim: Laya.Image;\r\n    bulidAim: Laya.Image;\r\n\r\n    init(): void {\r\n        Game.instance = this;\r\n        this.showSmallAim(GameMgr.Level.isSmallAimShow);\r\n        this.roundUpdate(GameMgr.Level.nowRound, GameMgr.Level.roundCount)\r\n        // for (let i = 0; i < GameMgr.Level.roundCount - 1; i++) {\r\n        //     let obj = new Laya.Image(\"ui/game/barUse.png\");\r\n        //     this.roundValue.parent.addChild(obj);\r\n        //     obj.x = 12 + (385 - 12) * (i + 1) / GameMgr.Level.roundCount\r\n        //     obj.y = 16;\r\n        // }\r\n        this.TimeCount.set_visible(false);\r\n        this.timeCount(GameMgr.Level.baseData[0].RoundWaitTime);\r\n        this.fireValue.value = GameMgr.Level.fireCount.toString();\r\n        this.barUpdate(1);\r\n        Laya.timer.frameLoop(1, this, this.smallAimEffectUpdate)\r\n    }\r\n\r\n\r\n\r\n    initEvent(): void {\r\n        GameMgr.Event.on(EventType.Game_ShowAim_Event, this, this.showAim)\r\n        GameMgr.Event.on(EventType.KeyDown_Event, this, this.onKeyDown);\r\n        GameMgr.Event.on(EventType.Game_RoundUpdate_Event, this, this.roundUpdate);\r\n        GameMgr.Event.on(EventType.Game_FireUpdate_Event, this, this.fireUpdate);\r\n        GameMgr.Event.on(EventType.Game_PlayerBaseUpdate_Event, this, this.barUpdate)\r\n        GameMgr.Event.on(EventType.Game_BuildUIUpdate_Event, this, this.bulidShowUpdate);\r\n        ExtensionTool.d2_AddClickEvent(this.switchBulidBtn, this, this.onSwitchBtnClick);\r\n    }\r\n\r\n    roundUpdate(nowRound, maxRound) {\r\n        this.roundValue.value = nowRound.toString() + \"/\" + maxRound.toString();\r\n    }\r\n    barUpdate(value) {\r\n        this.roundBar.value = value;\r\n    }\r\n    bulidShowUpdate(isShow, obj?, needFire?) {\r\n        if (isShow) {\r\n            let point = ExtensionTool.d3_getSpritePosBySprite3DPoint(GameMgr.Level.mainCamera, obj, new Laya.Vector2(0, -175));\r\n            this.buildShow.x = point.x;\r\n            this.buildShow.y = point.y;\r\n            this.buildNeedValue.value = needFire.toString();\r\n        } else {\r\n            this.buildShow.x = -1000;\r\n        }\r\n    }\r\n    fireUpdate(value, pos) {\r\n        let startPos = pos;\r\n        let self = this;\r\n        let bright = (self.fireValue.parent.getChildByName(\"bright\") as Laya.Image)\r\n        let cb = () => {\r\n            D2Tween.clearTween(bright);\r\n            D2Tween.toAlpha(bright, 1, 0, 100);\r\n        }\r\n        ExtensionTool.d2_coinCollectAnim(\"ui/game/coinFire.png\", startPos, new Laya.Vector2(this.fIreIcon.x + 375 - 92 - 5, this.fIreIcon.y + 147), this.scene, value, () => {\r\n            this.fireValue.value = (parseInt(this.fireValue.value) + value).toString();\r\n        }, cb);\r\n    }\r\n\r\n    //#region 准星效果\r\n    showAim(value) {\r\n        this.aim.set_visible(value);\r\n    }\r\n    showSmallAim(value) {\r\n        this.small_aim.set_visible(value);\r\n    }\r\n    showBuildAim(value) {\r\n        this.bulidAim.set_visible(value);\r\n    }\r\n    smallAimAxis = 1;\r\n    smallAimEffectUpdate() {\r\n        //y-5\r\n        (this.small_aim.getChildAt(0) as Laya.Image).y = -5 * this.smallAimAxis;\r\n        //y+5\r\n        (this.small_aim.getChildAt(1) as Laya.Image).y = 5 * this.smallAimAxis;\r\n        //x-5\r\n        (this.small_aim.getChildAt(2) as Laya.Image).x = -5 * this.smallAimAxis;\r\n        //x+5\r\n        (this.small_aim.getChildAt(3) as Laya.Image).x = 5 * this.smallAimAxis;\r\n\r\n        this.smallAimAxis -= Laya.timer.delta / 1000 * 5 * this.smallAimAxis\r\n        if (this.smallAimAxis < 1)\r\n            this.smallAimAxis = 1;\r\n    }\r\n    smallAimEffect() {\r\n        this.smallAimAxis += 4;\r\n    }\r\n    hitAimEffect() {\r\n        D2Tween.clearTween(this.hitAim);\r\n        D2Tween.toAlpha(this.hitAim, 0.75, 0, 200)\r\n    }\r\n    //#endregion\r\n\r\n\r\n\r\n\r\n    switchBuildIcon = [\"ui/game/switchBuild_Icon1.png\", \"ui/game/switchBuild_Icon2.png\"];\r\n    switchBulidWord = [\"ui/game/switchBuild_word1.png\", \"ui/game/switchBuild_word2.png\"];\r\n    onSwitchBtnClick() {\r\n        GameMgr.Level.changeHand();\r\n        (this.switchBulidBtn.getChildByName(\"icon\") as Laya.Image).skin = GameMgr.Level.isHandBulid ? this.switchBuildIcon[1] : this.switchBuildIcon[0];\r\n        (this.switchBulidBtn.getChildByName(\"word\") as Laya.Image).skin = GameMgr.Level.isHandBulid ? this.switchBulidWord[1] : this.switchBulidWord[0];\r\n    }\r\n\r\n    timeCountValue = 0;\r\n    timeCount(value) {\r\n        this.TimeCount.set_visible(true)\r\n        this.timeCountValue = value;\r\n        let valueClip = this.TimeCount.getChildByName(\"value\") as Laya.FontClip;\r\n        let self = this;\r\n        let cb1 = () => {\r\n            valueClip.value = self.timeCountValue.toString();\r\n            self.timeCountValue--;\r\n            if (self.timeCountValue == 0) {\r\n                Laya.timer.once(1000, this, () => { this.TimeCount.set_visible(false) })\r\n            } else {\r\n                Laya.timer.once(1000, this, cb1);\r\n            }\r\n        }\r\n        cb1();\r\n    }\r\n\r\n    onKeyDown(e) {\r\n        switch (e.keyCode) {\r\n            case Laya.Keyboard.NUMBER_1:\r\n                this.showTestPanel();\r\n                break;\r\n        }\r\n    }\r\n    showTestPanel() {\r\n        let panel = this.scene.getChildByName(\"testPanel\");\r\n        if (panel != null) {\r\n            GameMgr.Prefab.recoverItem(PrefabType.TestPanel, panel);\r\n            GameMgr.ConsoleLog(\"关闭测试界面\");\r\n            return;\r\n        }\r\n        GameMgr.ConsoleLog(\"展示测试界面\");\r\n        let item = GameMgr.Prefab.getItem(PrefabType.TestPanel);\r\n        let self = this;\r\n        let comp = item.getComponent(TestPanel)\r\n        this.scene.addChild(item);\r\n    }\r\n\r\n\r\n}","import { EventType } from \"../../configs/EnumType\";\r\nimport ExtensionTool from \"../../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../../managers/GameMgr\";\r\nimport Game from \"../../uiScenes/Game\";\r\nimport Tools from \"../Tools\";\r\nimport { TouchEventType } from \"./TouchScan\";\r\n\r\n\r\n\r\nexport default class TouchWayCheck extends Laya.Script {\r\n    startPos;\r\n    nowPos;\r\n    touchTimer;\r\n    isDown;\r\n    isPress;\r\n    calls = [];\r\n    onEnable() {\r\n        GameMgr.Event.on(TouchEventType.start, this, this.onMouseDown);\r\n        GameMgr.Event.on(TouchEventType.move, this, this.onMouseMove);\r\n        GameMgr.Event.on(TouchEventType.end, this, this.onMouseUp);\r\n    }\r\n    onDisable() {\r\n        GameMgr.Event.off(TouchEventType.start, this, this.onMouseDown);\r\n        GameMgr.Event.off(TouchEventType.move, this, this.onMouseMove);\r\n        GameMgr.Event.off(TouchEventType.end, this, this.onMouseUp);\r\n    }\r\n    firstId = -1;\r\n    secondId = -1;\r\n    firstOriginalPoint = new Laya.Vector2();\r\n    secondOriginalPoint = new Laya.Vector2();\r\n\r\n    isSecond = false;\r\n\r\n    onMouseDown(e) {\r\n        if (this.isSecond == false) {\r\n            if (this.firstId == -1) {\r\n                this.checkOut(e);\r\n                this.firstId = e.touchId;\r\n                GameMgr.Event.event(TouchEventType.singleTouchStart, e);\r\n                // GameMgr.ConsoleLog(\"单指按下\");\r\n                this.firstOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n            } else if (this.firstId != e.touchId && this.secondId == -1) {\r\n                this.secondId = e.touchId;\r\n                this.isSecond = true;\r\n                GameMgr.Event.event(TouchEventType.secondTouchStart, e);\r\n                // GameMgr.ConsoleLog(\"双指按下\");\r\n                this.secondOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n            }\r\n        } else {\r\n            if (this.firstId == -1) {\r\n                this.firstId = e.touchId;\r\n                this.firstOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n            } else if (this.secondId == -1) {\r\n                this.secondId = e.touchId;\r\n                this.secondOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n            }\r\n        }\r\n        this.checkOutAlways(e);\r\n    }\r\n    onMouseMove(e) {\r\n        if (this.isSecond == false) {\r\n            if (e.touchId == this.firstId) {\r\n                this.checkWay(e);\r\n                GameMgr.Event.event(TouchEventType.singleTouchMove, e);\r\n                // GameMgr.ConsoleLog(\"单指移动\");\r\n            }\r\n        } else {\r\n            if (this.firstId != -1 && this.secondId != -1) {\r\n                let data = {\r\n                    distance: 0,\r\n                    angle: 0,\r\n                }\r\n                let lastDir = Tools.Vector2Reduce(this.secondOriginalPoint, this.firstOriginalPoint)\r\n                let lastDistance = Laya.Vector2.scalarLength(lastDir);\r\n                let nowDir;\r\n                if (e.touchId == this.firstId) {\r\n                    nowDir = Tools.Vector2Reduce(this.secondOriginalPoint, new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height));\r\n                } else if (e.touchId == this.secondId) {\r\n                    nowDir = Tools.Vector2Reduce(new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height), this.firstOriginalPoint);\r\n                }\r\n                if (nowDir) {\r\n                    let nowDistance = Laya.Vector2.scalarLength(nowDir);\r\n                    data.distance = (nowDistance - lastDistance);\r\n                    data.angle = ExtensionTool.getAngle2DWay(lastDir, nowDir);\r\n                    GameMgr.Event.event(TouchEventType.secondTouchMove, data);\r\n                    // GameMgr.ConsoleLog(\"双指移动\", data.distance, data.angle);\r\n                }\r\n            }\r\n        }\r\n        if (e.touchId == this.firstId) {\r\n            this.firstOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n        }\r\n        if (e.touchId == this.secondId) {\r\n            this.secondOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n        }\r\n        this.checkWayAlways(e);\r\n    }\r\n    onMouseUp(e) {\r\n        this.checkOutAlways(e);\r\n        if (e.touchId == this.firstId) {\r\n            this.firstOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n        }\r\n        if (e.touchId == this.secondId) {\r\n            this.secondOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n        }\r\n        if (this.isSecond == false) {\r\n            if (e.touchId == this.firstId) {\r\n                this.checkOut(e);\r\n                GameMgr.Event.event(TouchEventType.singleTouchEnd, e);\r\n                this.firstId = -1;\r\n                // GameMgr.ConsoleLog(\"单指松开\");\r\n            }\r\n        } else {\r\n            if (e.touchId == this.firstId) {\r\n                this.firstId = -1;\r\n            }\r\n            if (e.touchId == this.secondId) {\r\n                this.secondId = -1;\r\n            }\r\n            if (this.firstId == -1 && this.secondId == -1) {\r\n                // GameMgr.ConsoleLog(\"双指松开\");\r\n                this.isSecond = false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //#region 杂项\r\n    WayCheck() {\r\n        let dir = Tools.Vector2Reduce(this.nowPos, this.startPos);\r\n        let scale = Laya.Vector2.scalarLength(dir);\r\n        let sensitivity = 100;\r\n        if (scale > sensitivity) {\r\n            let angle = Math.atan2(dir.y, dir.x) / Math.PI * 180;\r\n            let call = \"none\"\r\n            if (angle > -135 && angle < -45) {\r\n                call = \"up\"\r\n            } else if (angle > -45 && angle < 45) {\r\n                call = \"right\"\r\n            } else if (angle < 135 && angle > 45) {\r\n                call = \"down\"\r\n            } else if (angle < -135 || angle > 135) {\r\n                call = \"left\"\r\n            }\r\n            //划方向确认\r\n            switch (call) {\r\n                case \"none\":\r\n                    break;\r\n                case \"up\":\r\n                    break;\r\n                case \"right\":\r\n                    break;\r\n                case \"down\":\r\n                    break;\r\n                case \"left\":\r\n                    break;\r\n            }\r\n            this.isDown = false\r\n            // GameMgr.Event.event(TouchEventType.slideWay, { call: call, angle: angle, dir: dir })\r\n        }\r\n        this.startPos = this.nowPos;\r\n    }\r\n    onDestroy() {\r\n        if (this.touchTimer) {\r\n            clearTimeout(this.touchTimer);\r\n        }\r\n    }\r\n\r\n    //左右参数处理（建议打包）\r\n    orignalHorizontal = 0;\r\n    orignalAxis = 0;\r\n    //玩家用\r\n    //查看方向（传入差值即可（位置中点0，范围-0.5~0.5，但传入差值为-1~1）\r\n    public checkWay(e) {\r\n        let horizontal = e.stageX - this.orignalHorizontal\r\n        let axis = e.stageY - this.orignalAxis;\r\n        // horizontal *= 1000 * 16 / Laya.timer.delta;\r\n        // if (horizontal > 1) {\r\n        //     horizontal = 1;\r\n        // }\r\n        // if (horizontal < -1) {\r\n        //     horizontal = -1\r\n        // }\r\n        // axis *= 1000 * 16 / Laya.timer.delta;\r\n        // if (axis > 1) {\r\n        //     axis = 1;\r\n        // }\r\n        // if (axis < -1) {\r\n        //     axis = -1\r\n        // }\r\n        //移动接口\r\n        this.checkOut(e);\r\n        GameMgr.Event.event(TouchEventType.getAxis, [{ x: horizontal, y: axis }])\r\n    }\r\n    //按下和松开的时候，重置初始点\r\n    public checkOut(e) {\r\n        this.orignalHorizontal = e.stageX\r\n        this.orignalAxis = e.stageY\r\n    }\r\n\r\n    orignalHorizontalAlways = 0;\r\n    orignalAxisAlways = 0;\r\n    public checkWayAlways(e) {\r\n        let horizontal = e.stageX / Laya.stage.width - this.orignalHorizontalAlways;\r\n        let axis = e.stageY / Laya.stage.height - this.orignalAxisAlways;\r\n        //移动接口\r\n        this.checkOutAlways(e);\r\n        GameMgr.Event.event(TouchEventType.getAxisAlways, [{ x: horizontal, y: axis }])\r\n    }\r\n    public checkOutAlways(e) {\r\n        this.orignalHorizontalAlways = e.stageX / Laya.stage.width\r\n        this.orignalAxisAlways = e.stageY / Laya.stage.height\r\n    }\r\n\r\n    startPosition\r\n    prePosition\r\n    offset = new Laya.Vector3();\r\n    modelRotateControlDown() {\r\n        let mousePos = new Laya.Vector3(Laya.MouseManager.instance.mouseX, Laya.MouseManager.instance.mouseY, 0);\r\n        this.startPosition = mousePos.clone();\r\n        this.prePosition = mousePos.clone();\r\n    }\r\n\r\n    modelRotateControlMove() {\r\n        let mousePos = new Laya.Vector3(Laya.MouseManager.instance.mouseX, Laya.MouseManager.instance.mouseY, 0);\r\n        Laya.Vector3.subtract(mousePos, this.prePosition, this.offset);\r\n        this.prePosition = mousePos.clone();\r\n\r\n        var offset = new Laya.Vector3(this.offset.x, this.offset.y, 0);\r\n\r\n        let rot = new Laya.Vector3();\r\n        Laya.Vector3.cross(offset, new Laya.Vector3(0, 0, 1), rot);\r\n        Laya.Vector3.normalize(rot, rot);\r\n        // GameMgr.Event.event(\"ModelRotateGo\", { rot: rot });\r\n        // this.self.transform.rotate(new Laya.Vector3(-rot.x / 10, -rot.y / 10, rot.z / 10), false);\r\n    }\r\n\r\n    modelRotateControlUp() {\r\n        let mousePos = new Laya.Vector3(Laya.MouseManager.instance.mouseX, Laya.MouseManager.instance.mouseY, 0);\r\n        // Laya.Vector3.subtract(mousePos, this.startPosition, this.finalOffset);\r\n        // // this.isSlide = true;\r\n        // this.angle = Laya.Vector3.scalarLength(this.finalOffset);\r\n    }\r\n    //#endregion\r\n\r\n    //测试用\r\n    onKeyDown(e) {\r\n        GameMgr.Event.event(EventType.KeyDown_Event, e);\r\n    }\r\n}","import D2Tween from \"../../extensionTools/D2Tween\";\r\n\r\n\r\n\r\nexport default class RotUITween extends Laya.Script {\r\n\r\n\r\n\r\n    onEnable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        // D2Tween.toScale(target, 0, 1.5, 300, null, () => {\r\n        //     D2Tween.toScale(target, 1.5, 1.3, 150, null);\r\n        // }, false, false)\r\n        // D2Tween.toScale(target, 0.9, 1.1, 500, null, () => { }, false, true)\r\n        // D2Tween.toRotaion(target, 359, 5000, null, () => { target.rotation = 0 }, false, true);\r\n        Laya.timer.loop(10, this, () => {\r\n            target.rotation++;\r\n        })\r\n    }\r\n\r\n    onDisable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        D2Tween.clearTween(target);\r\n        Laya.timer.clearAll(this);\r\n        // target.scale(1, 1);\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport UiScene from \"./UiScene\";\r\n\r\n/**首页 */\r\nexport default class Home extends UiScene {\r\n    private btnStart: Laya.Button;\r\n    btnLeft: Laya.Button;\r\n    btnRight: Laya.Button;\r\n    btnVideo: Laya.Button;\r\n\r\n    stageValue: Laya.FontClip;\r\n\r\n\r\n    initEvent() {\r\n        ExtensionTool.d2_AddClickEvent(this.btnStart, this, this.onStartClick);\r\n        ExtensionTool.d2_AddClickEvent(this.btnVideo, this, this.onVideoClick);\r\n        ExtensionTool.d2_AddClickEvent(this.btnLeft, this, this.onLeftClick)\r\n        ExtensionTool.d2_AddClickEvent(this.btnRight, this, this.onRightClick)\r\n        this.btnStart.set_visible(this.nowWeapon == 0)\r\n        this.btnVideo.set_visible(this.nowWeapon != 0);\r\n        this.stageValue.value = GameMgr.Storage.storageData.level.toString();\r\n    }\r\n\r\n    onStartClick() {\r\n        GameMgr.Level.changeWeapon(0);\r\n        GameMgr.UI.closeScene(UiSceneType.Home);\r\n        GameMgr.Event.event(EventType.Play_Game_Event);\r\n    }\r\n    onVideoClick() {\r\n        GameMgr.Platform.showVideoAd(() => {\r\n            GameMgr.UI.closeScene(UiSceneType.Home);\r\n            GameMgr.Event.event(EventType.Play_Game_Event);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    nowWeapon = 0;\r\n    onLeftClick() {\r\n        this.nowWeapon--;\r\n        if (this.nowWeapon < 0) {\r\n            this.nowWeapon = GameMgr.Level.weaponGrip.numChildren - 1;\r\n        }\r\n        GameMgr.Level.changeWeapon(this.nowWeapon);\r\n        this.btnStart.set_visible(this.nowWeapon == 0)\r\n        this.btnVideo.set_visible(this.nowWeapon != 0);\r\n    }\r\n    onRightClick() {\r\n        this.nowWeapon++;\r\n        if (this.nowWeapon > GameMgr.Level.weaponGrip.numChildren - 1) {\r\n            this.nowWeapon = 0;\r\n        }\r\n        GameMgr.Level.changeWeapon(this.nowWeapon);\r\n        this.btnStart.set_visible(this.nowWeapon == 0)\r\n        this.btnVideo.set_visible(this.nowWeapon != 0);\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport D2Tween from \"../extensionTools/D2Tween\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport UiScene from \"./UiScene\";\r\n\r\n/**加载页 */\r\nexport default class Load extends UiScene {\r\n    /**公司logo底图 */\r\n    private plCompanyLogoBg: Laya.Panel;\r\n    /**公司logo */\r\n    private imgCompanyLogo: Laya.Image;\r\n    /**加载进度条 */\r\n    private barLoadPgs: Laya.ProgressBar\r\n    /**加载信息 */\r\n    private lbLoadMsg: Laya.Label;\r\n    /**记录当前'.'数量 */\r\n    private curPointCount: number;\r\n    /**'.'计时器 */\r\n    private changePointTimer: number\r\n\r\n    init() {\r\n        // this.showCompanyLogo(this.showLoading.bind(this));\r\n        this.showLoading();\r\n    }\r\n\r\n    showCompanyLogo(cb?) {\r\n        this.plCompanyLogoBg.visible = true;\r\n        D2Tween.toAlpha(this.imgCompanyLogo, 0, 1, 200, null, () => {\r\n            Laya.timer.once(500, this, () => {\r\n                D2Tween.toAlpha(this.imgCompanyLogo, 1, 0, 500, null, () => {\r\n                    this.plCompanyLogoBg.visible = false;\r\n                    cb && cb();\r\n                })\r\n            })\r\n        });\r\n    }\r\n    showLoading() {\r\n        //监听读条\r\n        GameMgr.Event.on(EventType.Load_Res_Msg_Event, this, this.loadResMsgEvent);\r\n        //初始化读条\r\n        if (GameMgr.Res.resList.length == 0) {\r\n            this.loadResMsgEvent({ allComplete: true });\r\n        }\r\n        else {\r\n            let type = GameMgr.Res.currentLoadType;\r\n            this.loadResMsgEvent({ type: type, progress: 0, isComplete: false })\r\n\r\n            this.changePointTimer = 0;\r\n            this.curPointCount = 3;\r\n            Laya.timer.frameLoop(1, this, this.frameLoadProgress)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 加载资源事件监听\r\n     * @param e e.type：类型、 e.progress：进度、 e.isComplete：完成\r\n     * 3d资源、图集、音效、预制体、缓存数据、分包\r\n     */\r\n    loadResMsgEvent(e) {\r\n        if (e.allComplete) {\r\n            this.lbLoadMsg.text = \"资源加载完成\";\r\n            this.barLoadPgs.value = 1;\r\n            Laya.timer.clear(this, this.frameLoadProgress);\r\n            GameMgr.UI.closeScene(UiSceneType.Load);\r\n            GameMgr.Event.event(EventType.Init_Game_Event);\r\n        }\r\n        else {\r\n            if (e.type != GameMgr.Res.currentLoadType) return;\r\n            let msg = this.lbLoadMsg.text;\r\n\r\n            let str = '';\r\n            for (let i = 0; i < this.curPointCount; i++) {\r\n                str += '.';\r\n            }\r\n\r\n            msg = e.type + \"资源加载中\" + str;\r\n            this.lbLoadMsg.text = msg;\r\n\r\n            if (e.isComplete) {\r\n                this.barLoadPgs.value = 1;\r\n            }\r\n            else if (e.progress == 0) {\r\n                this.barLoadPgs.value = 0;\r\n            }\r\n            else {\r\n                this.barLoadPgs.value = Math.max(e.progress, this.barLoadPgs.value);\r\n            }\r\n        }\r\n    }\r\n\r\n    frameLoadProgress() {\r\n        this.changePointTimer += Laya.timer.delta;\r\n        if (this.changePointTimer > 200) {\r\n            this.changePointTimer = 0;\r\n            let oldStr = '';\r\n            for (let i = 0; i < this.curPointCount; i++) {\r\n                oldStr += '.';\r\n            }\r\n            this.curPointCount++;\r\n            if (this.curPointCount > 3) {\r\n                this.curPointCount = 1;\r\n            }\r\n            let str = '';\r\n            for (let i = 0; i < this.curPointCount; i++) {\r\n                str += '.';\r\n            }\r\n\r\n            let msg = this.lbLoadMsg.text;\r\n            msg = msg.replace(oldStr, str);\r\n            this.lbLoadMsg.text = msg;\r\n        }\r\n\r\n        this.barLoadPgs.value += 0.01;\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport UiScene from \"./UiScene\";\r\n\r\n/**结束页 */\r\nexport default class Over extends UiScene {\r\n    private imgStatus: Laya.Image;\r\n    private btnContinue: Laya.Button;\r\n\r\n    onOpened(data) {\r\n        if (data) {\r\n            this.imgStatus.skin = data.isWin ? \"ui/game/success.png\" : \"ui/game/fail.png\";\r\n            this.btnContinue.skin = data.isWin ? \"ui/game/continueBtn.png\" : \"ui/game/backMenu.png\";\r\n        }\r\n    }\r\n\r\n    onClosed() {\r\n        super.onClosed();\r\n        GameMgr.GlData.playCount++;\r\n    }\r\n\r\n    initEvent() {\r\n        ExtensionTool.d2_AddClickEvent(this.btnContinue, this, this.onContinueClick);\r\n    }\r\n\r\n    onContinueClick() {\r\n        GameMgr.UI.closeScene(UiSceneType.Over);\r\n        GameMgr.Event.event(EventType.Init_Game_Event);\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport Game from \"./uiScenes/Game\"\nimport TouchScan from \"./nimo_Mods/ctrl/TouchScan\"\nimport TouchWayCheck from \"./nimo_Mods/ctrl/TouchWayCheck\"\nimport RotUITween from \"./nimo_Mods/uiTween/RotUITween\"\nimport Home from \"./uiScenes/Home\"\nimport Load from \"./uiScenes/Load\"\nimport Over from \"./uiScenes/Over\"\nimport TestPanel from \"./d2Components/TestPanel\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=750;\r\n    static height:number=1334;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"vertical\";\r\n    static alignV:string=\"middle\";\r\n    static alignH:string=\"center\";\r\n    static startScene:any=\"uiScene/Game.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"uiScenes/Game.ts\",Game);\n        reg(\"nimo_Mods/ctrl/TouchScan.ts\",TouchScan);\n        reg(\"nimo_Mods/ctrl/TouchWayCheck.ts\",TouchWayCheck);\n        reg(\"nimo_Mods/uiTween/RotUITween.ts\",RotUITween);\n        reg(\"uiScenes/Home.ts\",Home);\n        reg(\"uiScenes/Load.ts\",Load);\n        reg(\"uiScenes/Over.ts\",Over);\n        reg(\"d2Components/TestPanel.ts\",TestPanel);\r\n    }\r\n}\r\nGameConfig.init();","import { UiSceneType } from \"./configs/EnumType\";\r\nimport GameConfig from \"./GameConfig\";\r\nimport GameMgr from \"./managers/GameMgr\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//初始化游戏入口\r\n\t\tGameMgr.init();\r\n\t\t//加载IDE指定的场景\r\n\t\t// GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\t\tGameMgr.UI.openScene(UiSceneType.Load);\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":["Tools"],"mappings":";;;IACA,IAAY,YAMX;IAND,WAAY,YAAY;QACpB,yBAAS,CAAA;QACT,6BAAa,CAAA;QACb,6BAAa,CAAA;QACb,yBAAS,CAAA;QACT,yBAAS,CAAA;IACb,CAAC,EANW,YAAY,KAAZ,YAAY,QAMvB;AAID,IAAA,IAAY,UAEX;IAFD,WAAY,UAAU;QAClB,mDAAqC,CAAA;IACzC,CAAC,EAFW,UAAU,KAAV,UAAU,QAErB;AAGD,IAAA,IAAY,WASX;IATD,WAAY,WAAW;QAEnB,0CAA2B,CAAA;QAE3B,0CAA2B,CAAA;QAE3B,0CAA2B,CAAA;QAE3B,0CAA2B,CAAA;IAC/B,CAAC,EATW,WAAW,KAAX,WAAW,QAStB;AAID,IAAA,IAAY,SAqCX;IArCD,WAAY,SAAS;QAEjB,qEAAkB,CAAA;QAElB,+DAAe,CAAA;QAEf,+DAAe,CAAA;QAEf,+DAAe,CAAA;QAEf,2DAAa,CAAA;QAEb,6DAAc,CAAA;QAEd,mEAAiB,CAAA;QAEjB,mEAAiB,CAAA;QAEjB,mEAAiB,CAAA;QAEjB,uEAAmB,CAAA;QACnB,0EAAoB,CAAA;QAGpB,sEAAkB,CAAA;QAElB,gFAAuB,CAAA;QAEvB,4DAAa,CAAA;QAEb,8EAAsB,CAAA;QAEtB,4EAAqB,CAAA;QAErB,kFAAwB,CAAA;QAExB,wFAA2B,CAAA;IAC/B,CAAC,EArCW,SAAS,KAAT,SAAS,QAqCpB;AAGD,IAAA,IAAY,SA8BX;IA9BD,WAAY,SAAS;QAGjB,wBAAW,CAAA;QAIX,4BAAe,CAAA;QAGf,wBAAW,CAAA;QACX,0BAAa,CAAA;QAGb,8BAAiB,CAAA;QACjB,4BAAe,CAAA;QAGf,sDAAyC,CAAA;QACzC,0DAA6C,CAAA;QAC7C,4DAA+C,CAAA;QAG/C,8CAAiC,CAAA;QAGjC,4CAA+B,CAAA;QAE/B,4CAA+B,CAAA;IAEnC,CAAC,EA9BW,SAAS,KAAT,SAAS,QA8BpB;AAED,IAAA,IAAY,oBAIX;IAJD,WAAY,oBAAoB;QAC5B,mCAAW,CAAA;QACX,mCAAW,CAAA;QACX,qCAAa,CAAA;IACjB,CAAC,EAJW,oBAAoB,KAApB,oBAAoB,QAI/B;;UCrGoB,QAAQ;QA2CzB;YAzCA,aAAQ,GAAW,EAAE,CAAC;YAEtB,YAAO,GAAW,EAAE,CAAC;YAErB,YAAO,GAAW,EAAE,CAAC;YAErB,WAAM,GAAW,EAAE,CAAC;YAEpB,aAAQ,GAAW,EAAE,CAAC;YAEtB,gBAAW,GAAW,EAAE,CAAC;YA6BzB,kBAAa,GAAY,KAAK,CAAC;YAG3B,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QAID,MAAM,KAAK,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE;QAEtC,cAAc,CAAC,MAAgB,IAAI,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE;QAElE,aAAa,KAAK,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE;QAE/C,aAAa,KAAK,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE;QAE7C,YAAY,KAAK,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE;QAE5C,cAAc,CAAC,EAAW,EAAE,EAAa,IAAc,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,IAAI,CAAA,EAAE;QAE9F,iBAAiB,KAAK,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE;QAGlD,YAAY,MAAM;QAElB,YAAY,MAAM;QAElB,eAAe,MAAM;QAGrB,WAAW,CAAC,QAAmB,EAAE,QAAmB;YAChD,QAAQ,IAAI,QAAQ,EAAE,CAAC;SAC1B;QAGD,cAAc,MAAM;QAGpB,WAAW,MAAM;QAEjB,cAAc,MAAM;QAGpB,UAAU,MAAM;QAEhB,UAAU,MAAM;QAEhB,aAAa,MAAM;QAGnB,YAAY,CAAC,EAAY,EAAE,EAAa,KAAK;;QAE7C,YAAY,CAAC,EAAY,EAAE,EAAa,KAAK;;QAE7C,eAAe,CAAC,EAAY,KAAK;QAGjC,eAAe,CAAC,OAAkB,EAAE,SAAoB;YACpD,SAAS,IAAI,SAAS,EAAE,CAAC;SAC5B;QAED,kBAAkB,MAAM;QAMxB,iBAAiB;YACb,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;aACvD;YACD,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QAED,SAAS,CAAC,GAAW,EAAE,QAAiB,KAAK;QAE7C,YAAY;YACR,IAAI,IAAI,CAAC,WAAW;gBAChB,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;SACvC;QAED,WAAW;YACP,IAAI,IAAI,CAAC,WAAW;gBAChB,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;SACtC;QAWD,cAAc,CAAC,QAAgB,EAAE,MAAW,EAAE,QAAkB;YAC5D,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC;gBAC3C,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,UAAU,GAAG;oBAClB,OAAO,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;oBACxC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;iBACpC;gBACD,IAAI,EAAE,UAAU,GAAG;oBACf,OAAO,CAAC,YAAY,CAAC,SAAS,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC/D,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;iBACrC;aACJ,CAAC,CAAA;YAEF,QAAQ,CAAC,gBAAgB,CAAC,GAAG;gBACzB,OAAO,CAAC,UAAU,CAAC,oBAAoB,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACjE,CAAC,CAAC;SACN;QAED,mBAAmB,CAAC,SAAmB,EAAE,MAAM,EAAE,QAAQ;YACrD,IAAI,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC;YACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;gBAChC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,SAAS;oBACxD,IAAI,SAAS,IAAI,EAAE,SAAS,IAAI,CAAC,EAAE;wBAC/B,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;wBAC/B,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;qBAC1C;iBACJ,CAAC,CAAC;aACN;SACJ;QAGD,iBAAiB;YACb,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3C,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC1C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3C,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC7C;SACJ;QAED,WAAW,CAAC,CAAC;YACT,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,mBAAmB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;SACpE;QAED,WAAW,CAAC,CAAC;YACT,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,oBAAoB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;SACrE;QAID,cAAc,CAAC,EAAa,KAAK;QAEjC,WAAW,CAAC,EAAa,KAAK;KAEjC;AAED,UAAa,QAAQ;KAMpB;;UCxMoB,YAAa,SAAQ,QAAQ;QAE9C,MAAM;YACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;YAE1C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;YAE5B,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QAGD,cAAc,CAAC,SAAkB,KAAK;YAClC,IAAI,IAAI,CAAC,sBAAsB,GAAG,IAAI,EAAE;gBACpC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAA;gBAClC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,eAAe,EAAE,CAAC;aAC1B;YAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC;gBAClD,QAAQ,EAAE,IAAI,CAAC,QAAQ;aAE1B,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACjB,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG;wBAC1C,IAAI,CAAC,cAAc,EAAE,CAAC;qBACzB,CAAC,CAAC;iBACN;gBACD,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;aAC/B,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG;gBACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACtD,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG;aAEzB,CAAC,CAAC;SACN;QAED,YAAY;YACR,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC1B,OAAO;aACV;YAED,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG;gBAC3C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;aAC7B,CAAC,CAAC;SACN;QAED,YAAY;YACR,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACxB;QAED,eAAe;YACX,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC3B,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;QAID,aAAa;YACT,IAAI,IAAI,CAAC,sBAAsB,GAAG,IAAI,EAAE;gBACpC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAA;gBAChC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,cAAc,EAAE,CAAC;aACzB;YAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC;gBACxD,QAAQ,EAAE,IAAI,CAAC,OAAO;aACzB,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG;gBACnB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;aAC7B,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG;gBACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACpD,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;gBACrB,IAAI,GAAG,EAAE;oBACL,IAAI,GAAG,CAAC,OAAO,EAAE;wBACb,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC1D;yBACI;wBACD,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC1D;oBAED,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;iBACvB;aACJ,CAAC,CAAA;SACL;QAED,WAAW,CAAC,QAAmB,EAAE,QAAmB;YAChD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,OAAO;aACV;YAED,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YACpC,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YAGpC,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG;gBACzC,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAEhC,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC;aACnC,CAAC,CAAA;SACL;QAED,cAAc;YACV,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,OAAO;YAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;QAID,iBAAiB;YACb,IAAI,IAAI,CAAC,sBAAsB,GAAG,IAAI,EAAE;gBACpC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBAChC,OAAO;aACV;YAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,CAAC;gBACzD,QAAQ,EAAE,IAAI,CAAC,WAAW;aAC7B,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YAExB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBACpB,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;aAC5B,CAAC,CAAC;YAEH,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG;gBACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACnD,CAAC,CAAC;YAEH,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;gBACrB,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,sBAAsB,EAAE,CAAA;gBAC5D,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAA;aACrC,CAAC,CAAC;SACN;QAED,eAAe,CAAC,OAAkB;YAC9B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACnB,OAAO,IAAI,OAAO,EAAE,CAAC;gBACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,OAAO;aACV;YAED,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;gBACzB,IAAI,CAAC,sBAAsB,GAAG,OAAO,CAAC;aACzC,CAAC,CAAC,KAAK,CAAC,GAAG;gBACR,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC1B,OAAO,IAAI,OAAO,EAAE,CAAC;aACxB,CAAC,CAAA;SACL;QAED,kBAAkB;YACd,IAAI,CAAC,IAAI,CAAC,WAAW;gBAAE,OAAO;YAC9B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QAID,cAAc,CAAC,EAAW;YACtB,IAAI,IAAI,CAAC,sBAAsB,GAAG,IAAI,EAAE;gBACpC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAC/B,OAAO;aACV;YACD,IAAI,EAAE,GAAG,IAAI,QAAQ,CAAC;YAEtB,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC;gBACjD,QAAQ,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ;aACpC,CAAC,CAAC;YACH,QAAQ,CAAC,IAAI,EAAE,CAAC;YAEhB,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG;gBAChB,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,EAAE;oBACnB,EAAE,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBACvB,IAAI,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;oBAC7B,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;oBACvB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAChC,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAChC,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;oBACrB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;iBAC3B;aACJ,CAAC,CAAC;YAEH,QAAQ,CAAC,OAAO,CAAC,GAAG;gBAChB,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aAClD,CAAC,CAAC;YAEH,OAAO,EAAE,CAAC;SACb;QAED,YAAY,CAAC,EAAa;YACtB,IAAI,EAAE,EAAE;gBACJ,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC5C,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;aAChD;SACJ;QAED,YAAY,CAAC,EAAa;YACtB,IAAI,EAAE,EAAE;gBACJ,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACtB;SACJ;QAED,eAAe,CAAC,EAAa;YACzB,IAAI,EAAE,EAAE;gBACJ,EAAE,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACtB,EAAE,GAAG,IAAI,CAAC;aACb;SACJ;QAKD,IAAI,sBAAsB;YACtB,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC,mBAAmB,CAAC;SACvD;QAOD,SAAS,CAAC,GAAW,EAAE,WAAmB,IAAI;YAC1C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC;gBAC7B,KAAK,EAAE,GAAG;gBACV,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAA;SACL;KACJ;;UCvQoB,YAAa,SAAQ,QAAQ;QAE9C,MAAM;YACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;YAE1C,IAAI,CAAC,QAAQ,GAAG,kCAAkC,CAAC;YACnD,IAAI,CAAC,OAAO,GAAG,kCAAkC,CAAC;YAClD,IAAI,CAAC,QAAQ,GAAG,kCAAkC,CAAC;YACnD,IAAI,CAAC,WAAW,GAAG,kCAAkC,CAAC;YAEtD,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QAGD,cAAc,CAAC,SAAkB,KAAK;YAIlC,IAAI,IAAI,CAAC,sBAAsB,GAAG,IAAI,EAAE;gBACpC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAA;gBAClC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,eAAe,EAAE,CAAC;aAC1B;YAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC;gBAClD,KAAK,EAAE,IAAI,CAAC,QAAQ;gBACpB,KAAK,EAAE,EAAE;gBACT,WAAW,EAAE,EAAE;aAClB,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACjB,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG;wBAC1C,IAAI,CAAC,cAAc,EAAE,CAAC;qBACzB,CAAC,CAAC;iBACN;gBACD,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;aAC/B,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG;gBACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACtD,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;gBAClB,IAAI,CAAC,cAAc,EAAE,CAAC;aACzB,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG;aAEvB,CAAC,CAAC;SACN;QAED,YAAY;YACR,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC1B,OAAO;aACV;YAED,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG;gBAC3C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;aAC7B,CAAC,CAAC;SACN;QAED,YAAY;YACR,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACxB;QAED,eAAe;YACX,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC3B,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;QAID,aAAa;YACT,IAAI,IAAI,CAAC,sBAAsB,GAAG,IAAI,EAAE;gBACpC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAA;gBAChC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,cAAc,EAAE,CAAC;aACzB;YAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC;gBACxD,KAAK,EAAE,IAAI,CAAC,OAAO;aACtB,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG;gBACnB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;aAC7B,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG;gBACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACpD,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;gBACrB,IAAI,GAAG,EAAE;oBACL,IAAI,GAAG,CAAC,OAAO,EAAE;wBACb,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC1D;yBACI;wBACD,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC1D;oBAED,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;iBACvB;aACJ,CAAC,CAAA;SACL;QAED,WAAW,CAAC,QAAmB,EAAE,QAAmB;YAChD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,OAAO;aACV;YAED,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YACpC,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YAGpC,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG;gBACzC,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAEhC,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC;aACnC,CAAC,CAAA;SACL;QAED,cAAc;YACV,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,OAAO;YAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;QAID,iBAAiB;YACb,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,iBAAiB,EAAE;gBAC3C,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBAChC,OAAO;aACV;YAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,iBAAiB,CAAC;gBACxD,KAAK,EAAE,IAAI,CAAC,WAAW;gBACvB,SAAS,EAAE,IAAI,CAAC,iBAAiB,EAAE,CAAC,YAAY,GAAG,GAAG;aACzD,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBACpB,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;aAC5B,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG;gBACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACnD,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;gBACrB,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,sBAAsB,EAAE,CAAA;gBAC5D,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAA;aACrC,CAAC,CAAC;SACN;QAED,eAAe,CAAC,OAAkB;YAC9B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACnB,OAAO,IAAI,OAAO,EAAE,CAAC;gBACrB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,OAAO;aACV;YAED,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;gBACzB,IAAI,CAAC,sBAAsB,GAAG,OAAO,CAAC;aACzC,CAAC,CAAC,KAAK,CAAC,GAAG;gBACR,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC1B,OAAO,IAAI,OAAO,EAAE,CAAC;aACxB,CAAC,CAAA;SACL;QAED,kBAAkB;YACd,IAAI,CAAC,IAAI,CAAC,WAAW;gBAAE,OAAO;YAC9B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QAID,cAAc,CAAC,EAAW;YACtB,IAAI,IAAI,CAAC,sBAAsB,GAAG,IAAI,EAAE;gBACpC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAC/B,OAAO;aACV;YACD,IAAI,EAAE,GAAG,IAAI,QAAQ,CAAC;YAEtB,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC;gBACjD,KAAK,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ;aACjC,CAAC,CAAC;YACH,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG;gBAChB,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,EAAE;oBACnB,EAAE,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBACvB,IAAI,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;oBAC7B,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;oBACvB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAChC,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAChC,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;oBACrB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;iBAC3B;aACJ,CAAC,CAAC;YAEH,QAAQ,CAAC,OAAO,CAAC,GAAG;gBAChB,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aAClD,CAAC,CAAC;YAEH,OAAO,EAAE,CAAC;SACb;QAED,YAAY,CAAC,EAAa;YACtB,IAAI,EAAE,EAAE;gBACJ,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC5C,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;aAChD;SACJ;QAED,YAAY,CAAC,EAAa;YACtB,IAAI,EAAE,EAAE;gBACJ,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;aACtB;SACJ;QAED,eAAe,CAAC,EAAa;YACzB,IAAI,EAAE,EAAE;gBACJ,EAAE,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACtB,EAAE,GAAG,IAAI,CAAC;aACb;SACJ;QAKD,IAAI,sBAAsB;YACtB,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC,mBAAmB,CAAC;SACvD;QAOD,SAAS,CAAC,GAAW,EAAE,WAAmB,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC;gBAC7B,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAA;SACL;KACJ;;UCxQoB,UAAW,SAAQ,QAAQ;QAE5C,MAAM;YACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;YAE1C,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YAMjB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,wBAAwB,EAAE,CAAC;SACnC;QAGD,cAAc,CAAC,SAAkB,KAAK;YAClC,IAAI,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE;gBACjC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAA;gBAClC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,eAAe,EAAE,CAAC;aAC1B;YAED,IAAI,OAAO,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC;gBAClD,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,KAAK,EAAE;oBACH,GAAG,EAAE,OAAO,CAAC,YAAY,GAAG,GAAG;oBAC/B,KAAK,EAAE,GAAG;oBACV,IAAI,EAAE,OAAO,CAAC,WAAW,GAAG,CAAC,GAAG,GAAG;iBACtC;gBACD,WAAW,EAAE,EAAE;aAClB,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACjB,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG;wBAC1C,IAAI,CAAC,cAAc,EAAE,CAAC;qBACzB,CAAC,CAAC;iBACN;gBACD,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;aAC/B,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG;gBACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACtD,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG;gBACtB,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC;gBACtD,IAAI,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC;oBAAE,UAAU,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,CAAC;gBACvG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,OAAO,CAAC,YAAY,GAAG,UAAU,CAAC;aAC/D,CAAC,CAAC;SACN;QAED,YAAY;YACR,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC1B,OAAO;aACV;YAED,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG;gBAC3C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;aAC7B,CAAC,CAAC;SACN;QAED,YAAY;YACR,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACxB;QAED,eAAe;YACX,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC3B,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;QAID,aAAa;YACT,IAAI,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE;gBACjC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAA;gBAChC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,cAAc,EAAE,CAAC;aACzB;YAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC;gBACxD,QAAQ,EAAE,IAAI,CAAC,OAAO;aACzB,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG;gBACnB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;aAC7B,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG;gBACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACpD,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;gBACrB,IAAI,GAAG,EAAE;oBACL,IAAI,GAAG,CAAC,OAAO,EAAE;wBACb,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC1D;yBACI;wBACD,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC1D;oBAED,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;iBACvB;aACJ,CAAC,CAAA;SACL;QAED,WAAW,CAAC,QAAmB,EAAE,QAAmB;YAChD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,OAAO;aACV;YAED,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YACpC,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YAGpC,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG;gBACzC,QAAQ,IAAI,QAAQ,EAAE,CAAC;gBACvB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAEhC,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC;aACnC,CAAC,CAAA;SACL;QAED,cAAc;YACV,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,OAAO;YAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;QAKD,IAAI,sBAAsB;YACtB,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC,UAAU,CAAC;SAC9C;QAED,iBAAiB,CAAC,UAAkB,OAAO;YACvC,IAAI,UAAU,GAAW,IAAI,CAAC,sBAAsB,CAAC;YACrD,IAAI,IAAI,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACjC,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAE9B,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAClC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;oBAAE,MAAM;qBACxB,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;oBAAE,SAAS;qBACjC;oBAAE,UAAU,GAAG,IAAI,CAAC;iBAAE;aAC9B;YAED,OAAO,UAAU,CAAC;SACrB;QAOD,SAAS,CAAC,GAAW,EAAE,WAAmB,IAAI;YAC1C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC;gBAC7B,KAAK,EAAE,GAAG;gBACV,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAA;SACL;QAGD,uBAAuB,CAAC,MAAM;YAC1B,EAAE,CAAC,aAAa,CAAC;gBACb,eAAe,EAAE,MAAM;gBACvB,OAAO,EAAE,eAAe;gBACxB,IAAI,EAAE,eAAe;gBACrB,QAAQ,EAAE,eAAe;aAC5B,CAAC,CAAA;SACL;QAGD,wBAAwB;YACpB,IAAI,OAAO,GAAG,CAAC,CAAC;YAChB,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;gBACvB,IAAI,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;gBACxC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,iBAAiB,CAAC;oBACrC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;oBACzB,IAAI,QAAQ,GAAG;wBACX,KAAK,EAAE,MAAM,CAAC,KAAK;wBACnB,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACtB,KAAK,EAAE,WAAW,GAAG,OAAO;qBAC/B,CAAA;oBACD,OAAO,QAAQ,CAAC;iBACnB,CAAC,CAAA;aACL;SACJ;KACJ;;UCpNoB,UAAW,SAAQ,QAAQ;QAAhD;;YAkHI,gBAAW,GAAY,KAAK,CAAC;YAC7B,cAAS,GAAW,EAAE,CAAC;SAyJ1B;QA1QG,MAAM;YACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;YAE1C,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;YACpC,IAAI,CAAC,OAAO,GAAG,oBAAoB,CAAC;YAEpC,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;QAID,aAAa;YACT,IAAI,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE;gBACjC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAA;gBAChC,OAAO;aACV;YAED,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,cAAc,EAAE,CAAC;aACzB;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC;gBACxD,QAAQ,EAAE,IAAI,CAAC,OAAO;aACzB,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG;gBACnB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;aAC7B,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG;gBACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACpD,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;gBAErB,IAAI,GAAG,IAAI,GAAG,KAAK,SAAS,EAAE;oBAC1B,IAAI,GAAG,IAAI,GAAG,CAAC,OAAO,EAAE;wBACpB,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC1D;yBACI;wBACD,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;wBAC9B,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC1D;oBAED,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBAChC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;oBAEpB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,EAAE,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;iBAC9E;aACJ,CAAC,CAAA;SACL;QAED,WAAW,CAAC,QAAmB,EAAE,QAAmB;YAChD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACf,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;gBACtC,OAAO;aACV;YAED,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YACpC,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;YAEpC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG;gBACzC,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;gBAChC,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;aACzC,CAAC,CAAA;SACL;QAED,cAAc;YACV,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,OAAO;YAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;SACvB;QAID,aAAa,CAAC,MAAO;YACjB,IAAI,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,EAAE;gBAClC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;gBAC9B,OAAO;aACV;YAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,oBAAoB,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;YAEvF,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;gBAChB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBACxB,IAAI,MAAM;oBAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;aACnC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG;gBACrB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aACvB,CAAC,CAAA;SACL;QAED,WAAW;YACP,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAA,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA,EAAE,CAAC,CAAC;aAChG;iBACI;gBAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aAAE;SACrC;QAUD,YAAY;YACR,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,sBAAsB,EAAE,CAAC;YACtE,IAAI,CAAC,YAAY,EAAE,CAAA;YACnB,IAAI,CAAC,eAAe,EAAE,CAAA;YACtB,IAAI,CAAC,aAAa,EAAE,CAAA;YAEpB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;SAC1B;QAGD,WAAW;YACP,IAAI,CAAC,UAAU,CAAC,QAAQ;gBAAE,OAAO;YACjC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;gBACtB,QAAQ,EAAE,GAAG;aAChB,CAAC,CAAA;YACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;QAED,WAAW;YACP,IAAI,CAAC,UAAU,CAAC,QAAQ;gBAAE,OAAO;YACjC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,UAAU,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SAC/B;QAED,YAAY;YACR,IAAI,CAAC,UAAU,CAAC,QAAQ;gBAAE,OAAO;YACjC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;SAChC;QAED,UAAU,CAAC,EAAG;YACV,IAAI,CAAC,UAAU,CAAC,QAAQ;gBAAE,OAAO;YACjC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACnB,OAAO;aACV;YACD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;YAE3B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;SAC7B;QAGD,SAAS,CAAC,QAAQ,GAAG,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,QAAQ;gBAAE,OAAO;YACjC,IAAI,CAAC,IAAI,CAAC,WAAW;gBAAE,OAAO;YAE9B,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC;gBAC1B,IAAI,EAAE,IAAI,CAAC,SAAS;gBACpB,SAAS,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACxB,OAAO,CAAC,GAAG;oBACP,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACtB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;iBAClC;gBACD,IAAI,CAAC,CAAC;oBACF,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;iBACzB;aACJ,CAAC,CAAA;SACL;QAGD,YAAY;YACR,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG;gBAC1B,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;gBACpC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAA;gBAC9B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAA;gBAGxB,IAAI,IAAI,CAAC,eAAe,EAAE;oBACtB,IAAI,CAAC,eAAe,EAAE,CAAC;iBAC1B;aACJ,CAAC,CAAA;SACL;QAGD,eAAe;YACX,UAAU,CAAC,QAAQ,CAAC,mBAAmB,CAAC;gBACpC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACvB,IAAI,CAAC,WAAW,EAAE,CAAC;aACtB,CAAC,CAAC;SACN;QAED,aAAa;YACT,UAAU,CAAC,QAAQ,CAAC,iBAAiB,CAAC;gBAClC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACvB,IAAI,CAAC,YAAY,EAAE,CAAC;aACvB,CAAC,CAAC;SACN;QAGD,UAAU,CAAC,EAAG,EAAE,MAAM,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC;YACxC,IAAI,IAAI,CAAC,SAAS,IAAI,EAAE,EAAE;gBACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;gBAC/B,OAAO;aACV;YACD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,eAAe,CAAC;gBACnC,OAAO,EAAE,OAAO;gBAChB,KAAK,EAAE;oBACH,SAAS,EAAE,IAAI,CAAC,SAAS;oBACzB,WAAW,EAAE,MAAM;oBACnB,eAAe,EAAE,IAAI;iBACxB;gBACD,OAAO,EAAE;oBACL,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBACpB,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,CAAA;iBACjB;gBACD,IAAI,EAAE,CAAC,CAAC;oBACJ,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBACpB,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;oBAC1C,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,CAAA;iBAClB;aACJ,CAAC,CAAC;SACN;QAKD,IAAI,sBAAsB;YACtB,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC,UAAU,CAAC;SAC9C;QAED,iBAAiB,CAAC,UAAkB,OAAO;YACvC,IAAI,UAAU,GAAW,IAAI,CAAC,sBAAsB,CAAC;YACrD,IAAI,IAAI,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACjC,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAE9B,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAClC,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;oBAAE,MAAM;qBACxB,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;oBAAE,SAAS;qBACjC;oBAAE,UAAU,GAAG,IAAI,CAAC;iBAAE;aAC9B;YAED,OAAO,UAAU,CAAC;SACrB;QAOD,SAAS,CAAC,GAAW,EAAE,WAAmB,IAAI;YAC1C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC;gBAC7B,KAAK,EAAE,GAAG;gBACV,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAA;SACL;;IAzJM,mBAAQ,GAAQ,IAAI,CAAC;;UCtHX,SAAS;QAC1B,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE;YACb,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YAC5B,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;SACpB;QAED,OAAO,QAAQ,CAAC,EAAE,EAAE,EAAE;YAClB,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YACjC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;SACpB;QAED,OAAO,IAAI,CAAC,EAAE,EAAE,OAAO;YACnB,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;YACnC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;SACpB;QAED,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE;YACb,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;SACnC;QAED,OAAO,KAAK,CAAC,EAAE,EAAE,EAAE;YACf,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAA;YACxB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YAC9B,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;SACpB;QAED,OAAO,UAAU,CAAC,CAAC;YACf,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,OAAO,CAAA;YAC3B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YAChC,OAAO,IAAI,CAAC,KAAK,EAAE,CAAC;SACvB;QAED,OAAO,QAAQ,CAAC,EAAE,EAAE,EAAE;YAClB,IAAI,EAAE,GAAG,SAAS,CAAC,QAAQ,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC;YACnC,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YACxC,OAAO,GAAG,CAAA;SACb;KACJ;;UCrCoB,WAAY,SAAQ,IAAI,CAAC,QAAQ;QAIlD,OAAO;YACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAsB,CAAC;YACxC,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QAGD,IAAI,CAAC,GAAG,IAAW,KAAK;QAExB,SAAS;YACL,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC1B,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SACpC;KAGJ;;UCnBoB,MAAM;QAEvB,OAAO,QAAQ,CAAC,CAAC,EAAE,CAAC;YAChB,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI;iBACvC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC;iBACrC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;SAC9C;QACD,OAAO,cAAc,CAAC,OAAO,EAAE,OAAO;YAClC,IAAI,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAChI,IAAI,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;YAC1E,OAAO,YAAY,GAAG,UAAU,CAAC;SACpC;QAED,OAAO,WAAW,CAAC,MAAM,EAAE,GAAG;YAC1B,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YACzD,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YACzD,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAEzD,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBACpD,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBAC/B,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAErC,OAAO,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC;SACnC;QAED,OAAO,UAAU,CAAC,OAA0B;YACxC,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAChD,IAAI,WAAW,GAAG,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACtC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAE9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACjC,WAAW,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrF,GAAG,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;aACnD;YAED,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACjC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACnC;YACD,OAAO;gBACH,IAAI,EAAE,IAAI;gBACV,IAAI,EAAE,IAAI;gBACV,IAAI,EAAE,IAAI;gBACV,IAAI,EAAE,IAAI;gBACV,IAAI,EAAE,IAAI;gBACV,IAAI,EAAE,IAAI;aACb,CAAA;SACJ;QAID,OAAO,iBAAiB,CAAC,GAAiB,EAAE,GAAiB,EAAE,EAAgB;YAC3E,IAAI,MAAM,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YAC1C,IAAI,MAAM,GAAG,SAAS,CAAC,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YAGzC,IAAI,MAAM,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAA;YACjD,IAAI,MAAM,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAA;YAEjD,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAA;YAElD,IAAI,MAAM,GAAG,SAAS,CAAC,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;YACzC,IAAI,MAAM,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;YAEzC,IAAI,MAAM,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAA;YACjD,IAAI,MAAM,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAA;YAEjD,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAA;YAIlD,IAAI,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,EAAE;gBAEtB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAA;gBAGpC,IAAI,SAAS,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;gBAC5C,IAAI,QAAQ,GAAG,SAAS,GAAG,GAAG,CAAA;gBAY9B,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAA;aACpE;YAED,OAAO,IAAI,CAAA;SACd;KACJ;;UCtGoB,MAAO,SAAQ,WAAW;QAA/C;;YAEI,oBAAe,GAAG,KAAK,CAAC;YAOxB,WAAM,GAAW,CAAC,CAAC;YAEnB,cAAS,GAAY,KAAK,CAAC;YAgB3B,UAAK,GAAiB,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACzC,UAAK,GAAW,EAAE,CAAC;YAEnB,WAAM,GAAW,CAAC,CAAC;SAoItB;QArJG,IAAI,CAAC,GAAG,IAAW;YAEf,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC;gBAAE,OAAO;YAC7B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC3C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAA;YAC7C,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;YAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACnD,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAA;YAC3E,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzD,IAAI,CAAC,aAAa,EAAE,CAAA;SAEvB;QAKD,QAAQ;YACJ,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YACpD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YACvF,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,WAAW,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACnC;QAID,aAAa;YAET,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;YAClC,IAAI,WAAW,GAAG,MAAM,CAAC;YACzB,IAAI,mBAAmB,CAAC;YACxB,KAAK,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBACzC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE;oBACtB,SAAS;iBACZ;gBACD,IAAI,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gBACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACvC,IAAI,WAAW,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;oBAC9D,IAAI,OAAO,GAAG,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;oBAC9E,IAAI,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;oBACvD,IAAI,OAAO,EAAE;wBACT,IAAI,OAAO,CAAC,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,EAAE;4BAC/D,IAAI,GAAG,GAAG,WAAW,EAAE;gCACnB,mBAAmB,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gCACnC,WAAW,GAAG,GAAG,CAAC;6BACrB;4BACD,IAAI,IAAI,CAAC,SAAS,EAAE;gCAChB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;oCACtB,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;oCACtB,GAAG,EAAE,GAAG;iCACX,CAAC,CAAA;6BACL;yBACJ;qBACJ;iBACJ;aACJ;YACD,IAAI,mBAAmB,EAAE;gBACrB,IAAI,CAAC,YAAY,GAAG;oBAChB,QAAQ,EAAE,mBAAmB;oBAC7B,GAAG,EAAE,WAAW;iBACnB,CAAA;aACJ;SA8BJ;QACD,aAAa,CAAC,MAAM;YAChB,IAAI,CAAC,IAAI,CAAC,YAAY;gBAClB,OAAO;YAEX,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,IAAI,CAAC;oBAChC,OAAO;gBACX,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;oBACvD,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;wBACtC,IAAI,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;wBAChD,IAAI,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACxC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE;yBAKtB;wBACD,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE;4BAE7C,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,iBAAiB,EAAE,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;yBAC/H;wBACD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;qBACrC;iBACJ;aACJ;iBAAM;gBACH,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;oBAChC,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;oBAC1C,IAAI,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACxC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE;qBAKtB;oBACD,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE;wBAE7C,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,iBAAiB,EAAE,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;qBAC/H;oBACD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;iBAClB;aACJ;SACJ;QACD,aAAa,CAAC,MAAM;SAEnB;QAED,GAAG,CAAC,SAAS,GAAG,KAAK;YACjB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACzC,IAAI,SAAS;gBACT,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SAC3B;QACD,WAAW;YACP,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;KAGJ;;UC/JoB,KAAM,SAAQ,WAAW;QAA9C;;YAMI,cAAS,GAAG,EAAE,CAAC;YAYf,eAAU,GAAY,KAAK,CAAC;YAgB5B,UAAK,GAAW,CAAC,CAAC;YAoDlB,sBAAiB,GAAG,CAAC,CAAC;YA6BtB,UAAK,GAAW,CAAC,CAAC;YAClB,WAAM,GAAW,CAAC,CAAC;YA4BnB,cAAS,GAAG,KAAK,CAAC;YAClB,WAAM,GAAG,KAAK,CAAC;YACf,aAAQ,GAAG,KAAK,CAAC;YACjB,aAAQ,GAAG,KAAK,CAAC;YAkFjB,iBAAY,GAAG,CAAC,CAAC;YACjB,iBAAY,GAAG,CAAC,CAAC;YACjB,iBAAY,GAAG,CAAC,CAAC;YACjB,iBAAY,GAAG,CAAC,CAAC;SA0EpB;QA9RG,IAAI,CAAC,GAAG,IAAW;YACf,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC;gBAAE,OAAO;YAC7B,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC;YACxD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAExB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE/B,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAChE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACvB,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,CAAA;SAC3E;QAGD,MAAM;YACF,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;SACrD;QA+BD,cAAc,CAAC,IAAmB;YAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;gBACvC,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;gBAChD,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACrC,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,UAAU,EAAE;oBAC3B,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;oBAC5C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;wBAChB,GAAG,EAAE,KAAK;wBACV,IAAI,EAAE,IAAI;wBACV,MAAM,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,KAAK;wBACjD,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;qBACpB,CAAC,CAAA;iBACL;gBACD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;aAC9B;SACJ;QAGD,QAAQ;YACJ,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;gBACpD,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAC/C,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC;gBAClB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,GAAG,CAAC;gBACnC,OAAO;aACV;YACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,MAAM;gBAC9C,OAAO;YACX,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YACpD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;gBACxD,IAAI,KAAK,GAAG,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC7G,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;gBACzD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;gBAClE,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,IAAI,EAAE;oBACzC,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC;oBAC3C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE,KAAK,CAAC,CAAC;iBAClH;qBAAM;oBACH,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;iBAC1B;gBACD,IAAI,CAAC,iBAAiB,IAAI,EAAE,CAAC;gBAC7B,IAAI,IAAI,CAAC,iBAAiB,IAAI,CAAC,EAAE;oBAC7B,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;iBAC9B;aACJ;SACJ;QAID,WAAW,CAAC,QAAQ,GAAG,KAAK;YACxB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChD,OAAO;aACV;YACD,IAAI,QAAQ;gBACR,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,IAAI,EAAE,CAAC;aACf;iBAAM;gBACH,IAAI,CAAC,IAAI,EAAE,CAAC;aACf;SACJ;QACD,MAAM;YACF,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC5B,IAAI,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE;gBAC9B,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACnC,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;iBAAM;gBACH,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;gBAC/B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;aAClB;SACJ;QACD,aAAa,CAAC,MAAM;YAChB,IAAI,CAAC,KAAK,GAAG,MAAM,GAAG,GAAG,GAAG,CAAC,CAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,GAAG,GAAG,GAAG,CAAC,CAAC;SACtC;QAOD,IAAI;YACA,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,SAAS;gBACjC,OAAO;YACX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;SAC1C;QACD,IAAI;YACA,IAAI,IAAI,CAAC,QAAQ;gBACb,OAAO;YACX,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,EAAE;gBACjB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;aACtD;iBAAM;gBACH,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aACjD;SACJ;QACD,WAAW;YACP,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACzC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAA;YAC5F,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;SACnD;QACD,QAAQ;YACJ,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;YAC/B,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QACD,UAAU,CAAC,WAAW,GAAG,KAAK;YAC1B,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YAEtB,IAAI,CAAC,WAAW;gBACZ,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SACtB;QACD,IAAI,CAAC,MAAM;YACP,IAAI,IAAI,CAAC,MAAM;gBAAE,OAAO;YACxB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACtB,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC;YACrB,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;YACxC,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;gBAEhB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACtC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAA;gBACzF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;oBACxB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACtB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,WAAW,EAAE,CAAC;iBACtB,CAAC,CAAA;aACL;iBAAM;gBACH,IAAI,CAAC,GAAG,EAAE,CAAC;gBAEX,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,eAAe,EAAE,aAAa,CAAC,8BAA8B,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;aACvJ;SACJ;QACD,GAAG,CAAC,aAAa,GAAG,KAAK;YACrB,IAAI,IAAI,CAAC,MAAM;gBAAE,OAAO;YACxB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,aAAa,EAAE;gBAEhB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;gBACpB,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC7B,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAA;gBAC5F,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;oBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;iBAC1B,CAAC,CAAA;gBACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,EAAE,IAAI,EAAE;oBAC/B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;iBACvB,CAAC,CAAA;aACL;iBAAM;gBACH,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC7B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;aACvB;SACJ;QACD,SAAS;YACL,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACvB;QAOD,OAAO,CAAC,IAAY,EAAE,SAAiB,CAAC;YACpC,IAAI,KAAK,GAAG,KAAK,CAAC;YAClB,QAAQ,IAAI;gBACR,KAAK,MAAM;oBACP,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;oBAEzB,KAAK,GAAG,IAAI,CAAC;oBAEb,MAAM,IAAI,CAAC,CAAC;oBACZ,MAAM;gBACV,KAAK,MAAM;oBACP,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;oBAC3B,KAAK,GAAG,IAAI,CAAC;oBAEb,MAAM;gBACV;oBACI,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;oBAC3B,KAAK,GAAG,IAAI,CAAC;oBA2Cb,MAAM;aACb;YACD,IAAI,KAAK,EAAE;gBACP,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;gBAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACrB;YAED,OAAO,KAAK,CAAC;SAChB;;IA3SM,SAAG,GAAkB,IAAI,CAAC;;UCNhB,QAAQ;QAEzB,YAAY,QAAQ;YAYpB,eAAU,GAAY,KAAK,CAAC;YAC5B,iBAAY,GAAY,KAAK,CAAC;YAZ1B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACxE,IAAI,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACzE,IAAI,CAAC,IAAI,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QAED,IAAI;YACA,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QASD,WAAW;YACP,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBAChD,OAAO;aACV;YACD,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;QACD,aAAa;YACT,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBACzC,OAAO;aACV;YACD,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;QAID,IAAI;YACA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACzB;QACD,MAAM;YACF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;SACnD;QACD,IAAI;YACA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACzB;QACD,OAAO;YACH,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;YACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,IAAI,EAAE,IAAI,EAAE;gBACjC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACtB,IAAI,CAAC,IAAI,EAAE,CAAC;aACf,CAAC,CAAA;SACL;QAGD,QAAQ,CAAC,IAAI;YACT,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aACjC;SACJ;KACJ;;UChEoB,OAAO;QAcxB,YAAY,UAAU;YAwBtB,eAAU,GAAG,IAAI,CAAC;YAElB,gBAAW,GAAG,EAAE,CAAC;YAEjB,gBAAW,GAAG,GAAG,CAAC;YAElB,cAAS,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAE3B,eAAU,GAAG,EAAE,CAAC;YAChB,WAAM,GAAW,CAAC,CAAC;YAUnB,eAAU,GAAW,SAAS,CAAC;YAC/B,mBAAc,GAAW,EAAE,CAAC;YAC5B,gBAAW,GAAW,CAAC,CAAC;YACxB,eAAU,GAAY,KAAK,CAAC;YAC5B,iBAAY,GAAY,KAAK,CAAC;YA9C1B,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAkB,CAAC;YAClF,IAAI,IAAI,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QAlBD,QAAQ;SASP;QAWD,IAAI;YACA,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YACrD,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;YACvC,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;SACvC;QAmCD,WAAW;YACP,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBAChD,OAAO;aACV;YACD,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACtE,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;YAC1D,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;QACD,aAAa;YACT,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBACzC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,OAAO;aACV;YACD,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAC3B;QAID,KAAK;YACD,IAAI,IAAI,CAAC,YAAY;gBACjB,OAAO;YAGX,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACzB,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAEzB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE;gBACpC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACzC,CAAC,CAAA;YAEF,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE9B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;YAEnC,OAAO,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;YAEhC,IAAI,eAAe,GAAG,aAAa,CAAC,iBAAiB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;YAC5E,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC;YAE3D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE;gBAClC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;oBACtB,IAAI,CAAC,IAAI,EAAE,CAAC;iBACf;qBAAM;oBACH,IAAI,CAAC,MAAM,EAAE,CAAC;iBACjB;aACJ,CAAC,CAAA;SACL;QACD,IAAI;YACA,IAAI,UAAU,GAAkB,IAAI,CAAC,IAAI,CAAC;YAC1C,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACtE,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC;YAC3E,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;SAC7D;QACD,MAAM;YACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,UAAU,GAAkB,IAAI,CAAC,IAAI,CAAC;YAC1C,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAChC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;YACvC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE;gBACnC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;aAC7B,CAAC,CAAA;SACL;KAGJ;;UClJoB,QAAS,SAAQ,OAAO;QAEzC,QAAQ;YACJ,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAEjC,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,cAAc,CAAC;YAE5C,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAA;YAEhC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;YAErB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC;YAClC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACnB;KACJ;;UCboB,KAAK;QActB,YAAY,UAAU;YAwBtB,eAAU,GAAG,IAAI,CAAC;YAElB,gBAAW,GAAG,EAAE,CAAC;YAEjB,cAAS,GAAG,GAAG,CAAC;YAEhB,gBAAW,GAAG,GAAG,CAAC;YAElB,eAAU,GAAG,EAAE,CAAC;YAEhB,YAAO,GAAG,GAAG,CAAC;YACd,WAAM,GAAG,CAAC,CAAC;YAUX,eAAU,GAAW,SAAS,CAAC;YAC/B,mBAAc,GAAW,EAAE,CAAC;YAC5B,gBAAW,GAAW,CAAC,CAAC;YACxB,eAAU,GAAY,KAAK,CAAC;YAC5B,iBAAY,GAAY,KAAK,CAAC;YA8B9B,oBAAe,GAAG,KAAK,CAAC;YA9EpB,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAkB,CAAC;YAClF,IAAI,IAAI,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QAlBD,QAAQ;SASP;QAWD,IAAI;YACA,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YACrD,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;YACvC,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;SACvC;QAqCD,WAAW;YACP,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBAChD,OAAO;aACV;YACD,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACtE,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;YAC1D,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;QACD,aAAa;YACT,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBACzC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,OAAO;aACV;YACD,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAC3B;QAKD,KAAK;YACD,IAAI,CAAC,IAAI,CAAC,eAAe;gBACrB,OAAO;YACX,IAAI,IAAI,CAAC,YAAY;gBACjB,OAAO;YAGX,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACzB,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAE7B,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE;gBACpC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACzC,CAAC,CAAA;YAEF,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE9B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;YAEnC,OAAO,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;YAEhC,IAAI,eAAe,GAAG,aAAa,CAAC,iBAAiB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;YAC5E,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC;YAI3D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE;gBAChC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;iBAEzB;qBAAM;oBACH,IAAI,CAAC,MAAM,EAAE,CAAC;iBACjB;aACJ,CAAC,CAAA;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SACxD;QACD,QAAQ;YACJ,IAAI,CAAC,IAAI,CAAC,YAAY;gBAClB,IAAI,CAAC,IAAI,EAAE,CAAC;SACnB;QACD,IAAI;YACA,IAAI,UAAU,GAAkB,IAAI,CAAC,IAAI,CAAC;YAC1C,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACtE,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC;YAC3E,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;SAC7D;QACD,MAAM;YACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,UAAU,GAAkB,IAAI,CAAC,IAAI,CAAC;YAC1C,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAChC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;YACvC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE;gBACnC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;aAC7B,CAAC,CAAA;SACL;KAGJ;;UC/JoB,MAAO,SAAQ,KAAK;QAErC,QAAQ;YACJ,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAEjC,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,aAAa,CAAC;YAE3C,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAA;YAEhC,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAEhC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC;YAClC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACnB;KACJ;;UChBoB,MAAO,SAAQ,KAAK;QAErC,QAAQ;YACJ,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAEjC,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,aAAa,CAAC;YAE3C,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAA;YAEhC,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAEhC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC;YAClC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACnB;KACJ;;UCnBoB,OAAO;QAcxB;YACI,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;SACpB;QAED,cAAc,CAAC,KAAK;YAChB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC;SACzC;QAED,OAAO,CAAC,MAAqB,EAAE,KAAqE,EAAE,IAAY,EAAE,WAAsB,EAAE,IAAe,EAAE,UAAmB,IAAI;YAChL,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YAGvB,IAAI,EAAE,GAAQ,EAAE,CAAC;YAEjB,IAAI,EAAE,GAAQ,EAAE,CAAC;YAEjB,IAAI,KAAK,CAAC,GAAG,EAAE;gBACX,IAAI,SAAS,GAAG,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAErG,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAA;gBACrB,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;gBAEtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;aACzB;YACD,IAAI,KAAK,CAAC,GAAG,EAAE;gBACX,IAAI,SAAS,GAAG,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,KAAK,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;gBAE/G,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;gBAEtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;aACzB;YACD,IAAI,KAAK,CAAC,GAAG,EAAE;gBACX,IAAI,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC,KAAK,EAAE,CAAC;gBAE9D,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC;gBAEtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;aACzB;YAED,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,EAAE;gBACd,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI;gBAC3C,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI;gBAC3C,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI;aAC9C,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;gBACrC,WAAW,IAAI,WAAW,EAAE,CAAC;gBAC7B,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gBACpC,IAAI,SAAS,EAAE;oBACX,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;iBAC3F;qBACI;oBACD,IAAI,IAAI,CAAC,mBAAmB,EAAE;wBAC1B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;qBACnC;iBACJ;aACJ,CAAC,CAAC,CAAC;YAEJ,IAAI,aAAa,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;gBAEvC,aAAa,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;gBAClC,IAAI,QAAQ,GAAG,aAAa,GAAG,IAAI,CAAC;gBACpC,IAAI,QAAQ,GAAG,CAAC;oBAAE,QAAQ,GAAG,CAAC,CAAC;gBAE/B,IAAI,KAAK,CAAC,GAAG,EAAE;oBACX,IAAI,OAAO,EAAE;wBACT,MAAM,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;qBAChF;yBACI;wBACD,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;qBAC3E;iBACJ;gBACD,IAAI,KAAK,CAAC,GAAG,EAAE;oBACX,IAAI,OAAO,EAAE;wBACT,MAAM,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;qBACrF;yBACI;wBACD,MAAM,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;qBAChF;iBACJ;gBACD,IAAI,KAAK,CAAC,GAAG,EAAE;oBACX,MAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;iBACpF;gBAED,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAA;aACjE,CAAC,CAAC;YAEH,OAAO,IAAI,CAAC;SACf;QAED,UAAU,CAAC,KAAsE;YAC7E,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;YAEnB,IAAI,IAAI,CAAC,MAAM,IAAI,KAAK,EAAE;gBACtB,IAAI,KAAK,CAAC,GAAG,EAAE;oBACX,IAAI,IAAI,CAAC,OAAO,EAAE;wBACd,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;qBACjG;yBACI;wBACD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;qBAC5F;iBACJ;gBACD,IAAI,KAAK,CAAC,GAAG,EAAE;oBACX,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBACjG;gBACD,IAAI,KAAK,CAAC,GAAG,EAAE;oBACX,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACrG;aACJ;SACJ;QAED,IAAI,CAAC,KAAqE,EAAE,IAAY,EAAE,WAAsB;YAC5G,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC,CAAC;YACzE,OAAO,IAAI,CAAC;SACf;KACJ;;UCzIoB,MAAM;QAcvB,YAAY,UAAU;YAgCtB,eAAU,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;YAE9D,gBAAW,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAE3B,cAAS,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAE3B,eAAU,GAAG,EAAE,CAAC;YAChB,WAAM,GAAG,CAAC,CAAC;YAeX,gBAAW,GAAG,CAAC,CAAC;YAEhB,eAAU,GAAW,SAAS,CAAC;YAC/B,mBAAc,GAAW,EAAE,CAAC;YAC5B,gBAAW,GAAW,CAAC,CAAC;YACxB,eAAU,GAAY,KAAK,CAAC;YAC5B,iBAAY,GAAY,KAAK,CAAC;YA3D1B,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAkB,CAAC;YAClF,IAAI,IAAI,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QAlBD,QAAQ;YACJ,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;YAEnE,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAEhC,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAEhC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;SACxB;QAWD,IAAI;YACA,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YACrD,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,YAAY,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,YAAY,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;YAClC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;YACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,EAAE,CAAC;YAE9B,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,KAAK,CAAC;SACxC;QAoCD,QAAQ;YACJ,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;YAC1B,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,CAAC,QAAQ,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9D,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACrB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC,YAAY,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE;gBAC9G,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;gBACrB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC1D,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC;gBAC7D,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC,YAAY,CAAC;gBAClE,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;gBACjD,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,KAAK,CAAC;gBAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aAC1B,CAAC,CAAA;SACL;QACD,SAAS,CAAC,QAAQ;YACd,IAAI,QAAQ,GAAG,IAAI,EAAE;gBACjB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,QAAQ,GAAG,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;aAChI;YACD,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;SAC/B;QACD,aAAa,CAAC,QAAQ;YAClB,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,EAAE;gBACzB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC;gBACvD,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;aAC5G;SACJ;QAMD,WAAW;YACP,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBAChD,OAAO;aACV;YACD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACtE,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;YAC1D,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC7D;SACJ;QACD,aAAa;YACT,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBACzC,OAAO;aACV;YAED,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;YAC3B,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,IAAI,CAAC,IAAI,EAAE,CAAC;gBAEZ,IAAI,CAAC,KAAK,EAAE,CAAC;aAEhB;iBAAM,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBAE3B,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;oBACtB,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC;oBAChC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAClE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAC1B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,aAAa,EAAE,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,QAAQ,EAAE;wBACzG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;wBACrB,IAAI,CAAC,IAAI,EAAE,CAAC;wBACZ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;qBACxB,CAAC,CAAA;iBACL;qBAAM;oBACH,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACrB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACzC;aACJ;SACJ;QAID,KAAK;YACD,IAAI,IAAI,CAAC,YAAY;gBACjB,OAAO;YAGX,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACzB,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAEzB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,CAAC;YAE3C,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE9B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;YAEnC,OAAO,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;YAEhC,IAAI,eAAe,GAAG,aAAa,CAAC,iBAAiB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;YAC5E,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,YAAY,EAAE,eAAe,CAAC,CAAC;YAE3D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,IAAI,EAAE;gBAClC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;aAC1C,CAAC,CAAA;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,IAAI,EAAE;gBAClC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;aAC1C,CAAC,CAAA;YAEF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE;gBAClC,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;oBACtB,IAAI,CAAC,IAAI,EAAE,CAAC;iBACf;qBAAM;oBACH,IAAI,CAAC,MAAM,EAAE,CAAC;iBACjB;aACJ,CAAC,CAAA;SACL;QACD,IAAI;YACA,IAAI,UAAU,GAAkB,IAAI,CAAC,IAAI,CAAC;YAC1C,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACtE,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC;YAC3E,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;SAC7D;QACD,MAAM;YACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,UAAU,GAAkB,IAAI,CAAC,IAAI,CAAC;YAC1C,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,GAAG,GAAG;gBACN,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACtC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAA;gBAClD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE;oBACtC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;iBAC7B,CAAC,CAAA;aACL,CAAA;YACD,IAAI,GAAG,GAAG;gBACN,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACvC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAA;gBACnD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE;oBACtC,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,EAAE;wBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAA;wBACtC,GAAG,EAAE,CAAC;qBACT;yBAAM;wBACH,GAAG,EAAE,CAAC;qBACT;iBACJ,CAAC,CAAA;aAEL,CAAA;YACD,IAAI,GAAG,GAAG;gBACN,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;gBACrC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAA;gBAChD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;aAClD,CAAA;YACD,GAAG,EAAE,CAAC;SACT;KAGJ;;UCnPoB,OAAQ,SAAQ,MAAM;QACvC,QAAQ;YACJ,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;YAEnE,IAAI,CAAC,WAAW,GAAG,CAAC,SAAS,CAAC,kBAAkB,EAAE,SAAS,CAAC,qBAAqB,EAAE,SAAS,CAAC,oBAAoB,CAAC,CAAC;YAEnH,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;YAEhC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC;YAClC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACnB;KACJ;;ICRD,IAAY,QAKX;IALD,WAAY,QAAQ;QAChB,6CAAW,CAAA;QACX,2CAAM,CAAA;QACN,2CAAM,CAAA;QACN,2CAAM,CAAA;IACV,CAAC,EALW,QAAQ,KAAR,QAAQ,QAKnB;AAED,UAAqB,GAAI,SAAQ,WAAW;QAA5C;;YAUI,WAAM,GAAW,CAAC,CAAC;YA+HnB,mBAAc,GAAG,IAAI,CAAC;YAKtB,aAAQ,GAAG,KAAK,CAAC;SAepB;QAjJG,IAAI,CAAC,GAAG,IAAW;YAGf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC;YAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAkB,CAAC;YACvE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAkB,CAAC;YACnE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACvE,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAClC;QAGD,QAAQ;YACJ,QAAQ,IAAI,CAAC,IAAI;gBACb,KAAK,SAAS;oBACV,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;oBAC9D,MAAM;gBACV,KAAK,OAAO;oBACR,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;oBAC9D,MAAM;gBACV,KAAK,QAAQ;oBACT,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;oBAC9D,MAAM;gBACV,KAAK,QAAQ;oBACT,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;oBAC9D,MAAM;gBACV;oBACI,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC1B,MAAM;aACb;SACJ;QACD,cAAc,CAAC,IAAmB;YAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;gBACvC,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;gBAChD,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAA;gBACzB,IAAI,QAAQ,IAAI,UAAU,EAAE;oBACxB,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;oBAC5C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;wBAChB,GAAG,EAAE,KAAK;wBACV,IAAI,EAAE,IAAI;wBACV,MAAM,EAAE,GAAG;qBACd,CAAC,CAAA;iBACL;gBACD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;aAC9B;SACJ;QACD,YAAY,CAAC,SAAS;YAClB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC;YAC5C,IAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAI3C,IAAI,MAAM,EAAE;gBACR,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC5B,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC5B,IAAI,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAChD,IAAI,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAChD,IAAI,CAAC,WAAW,GAAG,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,UAAU,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBACxK,IAAI,CAAC,WAAW,GAAG,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,UAAU,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;gBACxK,MAAM,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACpC,MAAM,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC;aACvC;iBAAM;gBACH,IAAI,SAAS,IAAI,IAAI,CAAC,KAAK,IAAI,QAAQ,CAAC,MAAM,EAAE;oBAC5C,IAAI,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,UAAU,EAAE;qBAG1C;yBAAM;qBAGN;iBACJ;aACJ;YACD,IAAI,SAAS,IAAI,IAAI,CAAC,KAAK,IAAI,QAAQ,CAAC,MAAM,EAAE;gBAC5C,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,wBAAwB,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC;aAC1F;iBAAM;gBACH,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,wBAAwB,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;aACpE;SACJ;QAGD,WAAW;YACP,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,IAAI,QAAQ,CAAC,OAAO,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;YAC/B,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;YAC5D,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;YAC5D,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;YAC5D,IAAI,CAAC,SAAS,GAAG,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAsB,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAsB,CAAC;YAClI,QAAQ,IAAI,CAAC,KAAK;gBACd,KAAK,QAAQ,CAAC,OAAO;oBACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAsB,CAAC;oBACjF,MAAM;gBACV,KAAK,QAAQ,CAAC,MAAM;oBAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAsB,CAAC;oBACnF,MAAM;gBACV,KAAK,QAAQ,CAAC,MAAM;oBAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAsB,CAAC;oBACnF,MAAM;gBACV,KAAK,QAAQ,CAAC,MAAM;oBAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAsB,CAAC;oBACnF,MAAM;gBACV;oBACI,MAAM;aACb;YACD,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;SAChC;QACD,OAAO;YACH,IAAI,IAAI,CAAC,KAAK,IAAI,QAAQ,CAAC,MAAM,EAAE;gBAC/B,IAAI,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;oBACtD,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACrD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;oBACnE,IAAI,CAAC,KAAK,EAAE,CAAC;oBACb,IAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,WAAW,EAAE,CAAC;iBAEtB;aACJ;SACJ;QAGD,eAAe;YACX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;YACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAA;SAC9D;QAED,UAAU;YACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA,EAAE,CAAC,CAAA;YAC3D,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;SAClC;QACD,aAAa;YACT,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;YACrB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAA;SAC1C;QAED,SAAS;YACL,KAAK,CAAC,SAAS,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;KACJ;;UCzKoB,KAAM,SAAQ,WAAW;QAA9C;;YACI,cAAS,GAAU,EAAE,CAAC;SAqBzB;QAnBG,IAAI,CAAC,GAAG,IAAW;YACf,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAClC;QACD,cAAc,CAAC,IAAmB;YAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;gBACvC,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;gBAChD,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC;gBAC1B,IAAI,QAAQ,IAAI,UAAU,EAAE;oBACxB,IAAI,IAAI,GAAG,IAAI,CAAC;oBAChB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;wBAChB,GAAG,EAAE,KAAK;wBACV,IAAI,EAAE,IAAI;wBACV,MAAM,EAAE,CAAC;qBACZ,CAAC,CAAA;iBACL;gBACD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;aAC9B;SACJ;KAEJ;;ICfD,IAAY,cAaX;IAbD,WAAY,cAAc;QACtB,sCAAoB,CAAA;QACpB,oCAAkB,CAAA;QAClB,kCAAgB,CAAA;QAChB,qCAAmB,CAAA;QACnB,uCAAqB,CAAA;QACrB,uDAAqC,CAAA;QACrC,qDAAmC,CAAA;QACnC,mDAAiC,CAAA;QACjC,uDAAqC,CAAA;QACrC,qDAAmC,CAAA;QACnC,mDAAiC,CAAA;QACjC,iDAA+B,CAAA;IACnC,CAAC,EAbW,cAAc,KAAd,cAAc,QAazB;AACD,UAAqB,SAAU,SAAQ,IAAI,CAAC,MAAM;QAAlD;;YAMI,cAAS,GAAG,KAAK,CAAC;YAClB,cAAS,GAAG,CAAC,CAAC;YACd,cAAS,GAAG,CAAC,CAAC;YACd,UAAK,GAAG,CAAC,CAAC;YACV,UAAK,GAAG,CAAC,CAAC;YAEV,YAAO,GAAG,CAAC,CAAC;YAEZ,YAAO,GAAG,CAAC,CAAC,CAAC;SAyChB;QArDG,QAAQ;YACJ,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;SAC7B;QAWD,WAAW,CAAC,CAAC;YAKT,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;SAGjD;QACD,WAAW,CAAC,CAAC;YAWT,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;SAEhD;QACD,UAAU,CAAC,CAAC;YAGR,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;SAG/C;QACD,WAAW,CAAC,CAAoB;YAC5B,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;SAC/C;QACD,SAAS,CAAC,CAAC;YAEP,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;SAG/C;KAEJ;;UC5EoB,QAAQ;QAGzB,OAAO,aAAa,CAAC,CAAe,EAAE,CAAe;YACjD,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SACjD;QAED,OAAO,WAAW,CAAC,GAAkB,EAAE,QAAgB,CAAC;YACpD,IAAI,IAAI,CAAC,WAAW;gBAChB,OAAO;YACX,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE;gBACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;aAC5B,CAAC,CAAA;YACF,aAAa,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,CAAC,CAAC;SACxD;QACD,OAAO,YAAY,CAAC,GAAkB,EAAE,QAAgB,CAAC;YACrD,IAAI,IAAI,CAAC,WAAW;gBAChB,OAAO;YACX,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE;gBACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;aAC5B,CAAC,CAAA;YACF,aAAa,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,CAAC,CAAC;SAExD;QACD,OAAO,WAAW,CAAC,GAAkB,EAAE,QAAgB,CAAC;YACpD,IAAI,IAAI,CAAC,WAAW;gBAChB,OAAO;YACX,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;gBACxB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;aAC5B,CAAC,CAAA;YACF,aAAa,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,GAAG,KAAK,CAAC,CAAC;SACtD;;IA5BM,oBAAW,GAAG,KAAK,CAAC;;ICR+D,CAAC;AAC/F,UAsBqB,QAAQ;QAIzB;YAiNA,YAAO,GAAa,EAAE,CAAC;YACvB,YAAO,GAAG,EAAE,CAAC;YACb,eAAU,GAAG,EAAE,CAAC;YAChB,aAAQ,GAAG,EAAE,CAAC;YACd,eAAU,GAAG,EAAE,CAAC;YAChB,WAAM,GAAY,EAAE,CAAC;YAGrB,eAAU,GAAW,CAAC,CAAC;YACvB,aAAQ,GAAW,CAAC,CAAC;YACrB,iBAAY,GAAW,EAAE,CAAC;YAC1B,eAAU,GAAG,KAAK,CAAC;YACnB,mBAAc,GAAG,KAAK,CAAC;YACvB,eAAU,GAAG,CAAC,CAAC;YACf,cAAS,GAAG,CAAC,CAAC;YACd,gBAAW,GAAG,EAAE,CAAC;YAGjB,gBAAW,GAAY,KAAK,CAAC;YAyQ7B,sBAAiB,GAAG,CAAC,CAAC;YACtB,qBAAgB,GAAG,CAAC,CAAC;YACrB,sBAAiB,GAAG,CAAC,CAAC;YAgCtB,gBAAW,GAAY,KAAK,CAAC;YAC7B,aAAQ,GAAkB,IAAI,CAAC;YAC/B,WAAM,GAAkB,IAAI,CAAC;YAsK7B,gBAAW,GAAG,KAAK,CAAC;YAcpB,kBAAa,GAAG,KAAK,CAAC;YA+EtB,eAAU,GAAW,EAAE,CAAC;YACxB,mBAAc,GAAW,EAAE,CAAC;YAC5B,gBAAW,GAAW,CAAC,CAAC;YACxB,eAAU,GAAY,KAAK,CAAC;YAC5B,0BAAqB,GAAY,KAAK,CAAC;YAsDvC,aAAQ,GAAG,KAAK,CAAC;YACjB,oBAAe,GAAG,KAAK,CAAC;YAExB,uBAAkB,GAAG,EAAE,CAAC;YACxB,6BAAwB,GAAG,EAAE,CAAC;YAC9B,gBAAW,GAAG,IAAI,CAAC;YACnB,gBAAW,GAAG,KAAK,CAAC;YACpB,cAAS,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YAC/B,WAAM,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YA0G5B,aAAQ,GAAU,EAAE,CAAC;YA97BjB,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QAED,IAAI;YACA,IAAI,OAAO,CAAC,MAAM,CAAC,YAAY,IAAI,OAAO,CAAC,QAAQ,CAAC,aAAa,EAAE;gBAC/D,IAAI,SAAS,GAAG,CAAC,OAAO,CAAC,CAAC;gBAC1B,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC7B,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,SAAS;oBACpE,IAAI,SAAS,EAAE;wBACX,MAAM,CAAC,SAAS,EAAE,CAAC;wBACnB,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;qBACnC;iBACJ,CAAC,CAAC;aACN;iBACI;gBAAE,IAAI,CAAC,SAAS,EAAE,CAAC;aAAE;YAC1B,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,WAAW;gBACjB,IAAI,CAAC,QAAQ,EAAE,CAAC;SACvB;QAGD,SAAS;YACL,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC7B,IAAI,QAAQ,GAAG;gBACX,EAAE,GAAG,EAAE,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,CAAC,EAAE;aAEvE,CAAC;YAEF,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EACvB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,KAAK,CAAC,EAC5E,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG;gBACtC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;aAChC,CAAC,CAAC;SACN;QACD,cAAc,CAAC,GAAG;YACd,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YAClC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SACnC;QACD,SAAS,CAAC,IAAI;YACV,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;SAChD;QAKD,YAAY,CAAC,KAAK,GAAG,CAAC;YAElB,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;YAC3D,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACvC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YAGvB,IAAI,MAAM,GAAG,aAAa,CAAC,iBAAiB,CAAC,KAAK,EAAE,aAAa,CAAgB,CAAC;YAClF,IAAI,MAAM,EAAE;gBACR,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;aAC5B;iBACI;gBAAE,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;aAAE;YAEzC,OAAO,KAAK,CAAC;SAChB;QAGD,YAAY;YACR,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;SACxD;QAGD,YAAY,CAAC,GAAW;YACpB,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SAClC;QAGD,YAAY,CAAC,KAA0B,EAAE,QAAQ,GAAG,GAAG;YACnD,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;YAC3C,KAAK,CAAC,cAAc,GAAG,QAAQ,CAAC;YAChC,KAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC9B,KAAK,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;YAC/D,KAAK,CAAC,gBAAgB,GAAG,GAAG,CAAC;SAChC;QACD,UAAU,CAAC,KAAK;YACZ,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;SAC3C;QAED,gBAAgB;YACZ,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,IAAI,CAAC;SACtC;QACD,oBAAoB;YAChB,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC;SAEvC;QAED,MAAM,CAAC,MAAe,EAAE,KAAoB,EAAE,KAAoB;YAC9D,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;YACzB,IAAI,MAAM,EAAE;gBAER,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;gBAEvB,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC;gBAEpB,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC;aACxB;SACJ;QAED,QAAQ;YACJ,IAAI,IAAI,GAAG,CAAC,0BAA0B,EAAE,yBAAyB,EAAE,wBAAwB,CAAC,CAAA;YAC5F,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC7B,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAC/B,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAC/B,IAAI,EAAE,GAAG;gBACL,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,SAAS;oBACvD,IAAI,SAAS,EAAE;wBACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;4BAClC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI;gCACrD,QAAQ,CAAC;oCACL,KAAK,CAAC;wCACF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;wCACvB,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;wCAChC,MAAM;oCACV,KAAK,CAAC;wCACF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;wCACtB,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;wCAClC,MAAM;oCACV,KAAK,CAAC;wCACF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;wCACrB,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;wCAClC,MAAM;oCACV;wCACI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wCAClB,MAAM;iCACb;6BACJ,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;yBAC9B;qBACJ;yBAAM;wBACH,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAA;wBAC7C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;qBACnC;iBACJ,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAC/B,CAAA;YACD,EAAE,EAAE,CAAC;SACR;QACD,MAAM,CAAC,EAAE;YACL,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;SACjF;QACD,QAAQ,CAAC,EAAgB;YACrB,OAAO;gBACH,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE;gBAClB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE;gBAClB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE;aACrB,CAAA;SACJ;QAKD,cAAc,CAAC,CAAC;YACZ,IAAI,CAAC,CAAC,WAAW,EAAE;gBACf,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,IAAI,CAAC,OAAO,EAAE,CAAC;aAClB;SACJ;QAED,eAAe,CAAC,CAAC;YACb,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACxC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAC1C;QAED,eAAe,CAAC,CAAC;YACb,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACxC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAC1C;QAED,eAAe,CAAC,CAAC;YACb,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACxC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;SACpD;QAID,SAAS;YACL,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YAC1E,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YACxE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YACxE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YACxE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;SAC9E;QA0CD,OAAO;YACH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;gBACjD,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;gBAC1D,QAAQ,KAAK,CAAC,IAAI;oBACd,KAAK,SAAS;wBACV,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;wBACrB,MAAM;oBACV,KAAK,SAAS;wBACV,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;wBACrB,MAAM;oBACV,KAAK,OAAO;wBACR,IAAI,CAAC,KAAK,GAAG,KAA4B,CAAC;wBAC1C,MAAM;oBACV,KAAK,KAAK;wBACN,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC;wBACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;4BACxB,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,KAAK,CAAA;yBAC1B,CAAC,CAAA;wBACF,MAAM;oBACV,KAAK,OAAO;wBACR,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;wBACnB,IAAI,IAAI,CAAC,WAAW,EAAE;4BAClB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAkB,CAAC;4BACjE,IAAI,UAAU,GAAG,EAAE,CAAC;4BACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;gCACzC,IAAI,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;gCAClD,IAAI,KAAK,GAAG,EAAE,CAAC;gCACf,IAAI,GAAG,GAAG,EAAE,CAAC;gCACb,IAAI,KAAK,GAAG,EAAE,CAAC;gCACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;oCACxC,IAAI,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;oCAChD,QAAQ,IAAI,CAAC,IAAI;wCACb,KAAK,KAAK;4CACN,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;gDACvC,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;gDAC9C,GAAG,CAAC,IAAI,CAAC;oDACL,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oDAC5B,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;oDACvD,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;iDAC/D,CAAC,CAAA;6CACL;4CACD,MAAM;wCACV,KAAK,OAAO;4CACR,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;gDACvC,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;gDAC9C,KAAK,CAAC,IAAI,CAAC;oDACP,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oDAC5B,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;oDACvD,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;iDAC/D,CAAC,CAAA;6CACL;4CACD,MAAM;wCACV;4CACI,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;gDAC9B,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;oDACtB,IAAI,IAAI,GAAG,EAAE,CAAC;oDACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;wDACvC,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC;wDAC9C,IAAI,CAAC,IAAI,CAAC;4DACN,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;4DAC5B,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;4DACvD,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;yDAC/D,CAAC,CAAA;qDACL;oDACD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iDACpB;6CACJ;4CACD,MAAM;qCACb;iCACJ;gCACD,UAAU,CAAC,IAAI,CAAC;oCACZ,KAAK,EAAE,KAAK;oCACZ,GAAG,EAAE,GAAG;oCACR,KAAK,EAAE,KAAK;iCACf,CAAC,CAAC;6BACN;4BACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;4BACxC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;4BAC7B,MAAM,CAAC,OAAO,EAAE,CAAC;yBACpB;wBACD,MAAM;oBACV,KAAK,QAAQ;wBACT,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;wBACpB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAkB,CAAC;wBAClE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,cAAc,CAAC,YAAY,CAAkB,CAAC;wBACtE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAkB,CAAC;wBAClE,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,cAAc,CAAC,UAAU,CAAkB,CAAC;wBACrE,MAAM;oBACV;wBACI,MAAM;iBACb;aACJ;YACD,OAAO,CAAC,gBAAgB,CAAC;gBACrB,QAAQ,OAAO,CAAC,oBAAoB;oBAChC,KAAK,oBAAoB,CAAC,IAAI;wBAC1B,MAAM;oBACV,KAAK,oBAAoB,CAAC,GAAG;wBACzB,MAAM;oBACV,KAAK,oBAAoB,CAAC,GAAG;wBACzB,MAAM;oBACV;wBACI,MAAM;iBACb;aACJ,CAAC,CAAA;YACF,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,eAAe,EAAE,CAAC;SAG1B;QACD,SAAS;YACL,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QACD,SAAS;YACL,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACxC,IAAI,CAAC,aAAa,EAAE,CAAC;YAErB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YAEjB,IAAI,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,GAAG,CAAC,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC;YAC3H,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;YACxD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC/E,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;YAC9C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC;YAE1D,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE5C,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YAChD,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC5B,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;YACxB,IAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aAC5B;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACjC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aACxB;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;aAC5C;YAED,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAA;YAEjC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;YAE3E,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAA;SACjD;QACD,QAAQ,CAAC,KAAK;YACV,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,KAAK;gBACL,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;YAChC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;YAC3D,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,eAAe,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAA;SACnE;QAED,SAAS;YAGL,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;gBACpB,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;aAC7C;YAED,IAAI,CAAC,QAAQ,EAAE,CAAC;YAEhB,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;gBACpB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,EAAE,IAAI,EAAE;oBACzD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;iBAC5E,CAAC,CAAA;aACL;iBAAM;gBACH,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;aAC5E;SAEJ;QACD,QAAQ,CAAC,KAAK;YACV,IAAI,IAAI,CAAC,UAAU;gBACf,OAAO;YACX,IAAI,KAAK,EAAE;gBAEP,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;oBAElC,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBAEzB,IAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;oBACvC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBACvB;qBAAM;oBACH,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;oBAC5E,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;iBAC3D;aACJ;iBAAM;gBAEH,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAEzB,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBACvC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACxB;SACJ;QAGD,UAAU;YACN,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;YAEjC,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,eAAe,EAAE,CAAC;YAEvB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC/C,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;gBAClD,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAoB,CAAC;gBAC/C,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC;gBACxL,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;gBACnD,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE;oBAC/C,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;oBAC9B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC7B;aACJ;SACJ;QACD,SAAS;YACL,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;QACD,eAAe;YACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC3C,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gBACjD,IAAI,OAAO,CAAC,QAAQ,EAAE;oBAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACzC,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAI,SAAS,CAAC,MAAM,IAAI,SAAS,CAAC,SAAS;4BACvC,SAAS;wBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;4BAC/C,IAAI,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;4BAC/D,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;4BAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gCACjD,IAAI,IAAI,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gCACjE,IAAI,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gCAC5C,IAAI,IAAI,GAAG,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;gCAC1F,IAAI,IAAI,CAAC,KAAK,EAAE;oCACZ,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;oCAC/B,OAAO;iCACV;6BACJ;yBACJ;qBACJ;iBACJ;aACJ;SACJ;QAMD,mBAAmB,CAAC,iBAAiB;YACjC,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;YAC3C,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;YAC3B,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;YAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC7C,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAChF,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aAChC;YAED,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,iBAAiB,GAAG,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YACtF,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,sBAAsB,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAA;SAC1F;QACD,cAAc;YACV,IAAI,GAAG,GAAG,OAAO,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACrE,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAClD,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC5B;SACJ;QACD,iBAAiB;YACb,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YAC5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC7C,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAChF,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aACjC;SACJ;QAOD,eAAe;YAIX,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YAChC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAC9C,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACzD,IAAI,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAA;YAEjE,IAAI,YAAY,GAAY,IAAI,CAAC,WAAW,CAAC;YAC7C,IAAI,YAAY,GAAY,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;YAC3E,IAAI,UAAU,GAAY,IAAI,CAAC,WAAW,CAAC;YAG3C,IAAI,YAAY,EAAE;gBACd,IAAI,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC;gBAC3C,IAAI,gBAAgB,GAAG,KAAK,CAAC;gBAC7B,IAAI,aAAa,GAAG,IAAI,CAAC;gBACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAGzC,IAAI,SAAS,GAAU,WAAW,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBAC1D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACjD,IAAI,WAAW,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;wBACxE,IAAI,OAAO,GAAG,MAAM,CAAC,iBAAiB,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;wBACpE,IAAI,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;wBAClD,IAAI,GAAG,GAAG,gBAAgB,EAAE;4BACxB,IAAI,OAAO,EAAE;gCACT,IAAI,OAAO,CAAC,QAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;oCAClD,aAAa,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;oCAC/B,gBAAgB,GAAG,GAAG,CAAC;iCAC1B;6BACJ;yBACJ;qBACJ;iBACJ;gBACD,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC;gBAC9B,IAAI,IAAI,CAAC,QAAQ,EAAE;iBAElB;aACJ;iBAAM;gBACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC;gBAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;iBAG5C;aACJ;YAID,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,YAAY,EAAE;gBACd,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACzB,IAAI,WAAW,GAAG,KAAK,CAAC;gBACxB,IAAI,mBAAmB,CAAC;gBACxB,KAAK,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;oBACzC,IAAI,UAAU;wBACV,MAAM;oBACV,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE;wBACtB,SAAS;qBACZ;oBACD,IAAI,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;oBACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACvC,IAAI,WAAW,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;wBAC9D,IAAI,OAAO,GAAG,MAAM,CAAC,iBAAiB,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;wBACpE,IAAI,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;wBAClD,IAAI,GAAG,GAAG,WAAW,EAAE;4BACnB,IAAI,OAAO,EAAE;gCACT,IAAI,OAAO,CAAC,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,EAAE;oCAChD,UAAU,GAAG,IAAI,CAAC;oCAClB,MAAM;iCACT;6BACJ;yBACJ;qBACJ;iBACJ;aACJ;YACD,IAAI,UAAU;gBACV,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YAI5B,IAAI,UAAU,EAAE;gBACZ,IAAI,SAAS,GAAG,GAAG,CAAC;gBACpB,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACxB,IAAI,SAAS,GAAG,KAAK,CAAC;gBACtB,IAAI,MAAM,GAAG,IAAI,CAAC;gBAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACjC,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAA;oBAC5C,IAAI,WAAW,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;oBACpD,IAAI,OAAO,GAAG,MAAM,CAAC,iBAAiB,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;oBACpE,IAAI,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;oBAClD,IAAI,GAAG,GAAG,SAAS,EAAE;wBACjB,IAAI,OAAO,EAAE;4BACT,IAAI,OAAO,CAAC,QAAQ,GAAG,SAAS,EAAE;gCAC9B,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gCAChB,SAAS,GAAG,GAAG,CAAC;6BACnB;yBACJ;qBACJ;iBACJ;gBACD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACxB;iBAAM;gBACH,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACjC,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAA;iBAC/C;aACJ;SAGJ;QAED,QAAQ,CAAC,KAAY;YACjB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC9C,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE;oBAC1B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC5B;aACJ;YACD,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAC3B,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACjD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aACvB;SACJ;QAED,cAAc;YACV,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YAC/B,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,EAAE;gBACxB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,2BAA2B,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAA;aAC9G;YACD,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,EAAE;gBACxB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACxB;SACJ;QAED,QAAQ,CAAC,KAAK;YACV,IAAI,KAAK,EAAE;gBACP,IAAI,GAAG,GAAG,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAGrE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,GAAG,CAAC;gBAErC,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;gBACrD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;gBAC/E,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;gBAC5H,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC;aAChC;SACJ;QACD,OAAO,CAAC,KAAK,EAAE,QAAQ;YACnB,IAAI,CAAC,SAAS,IAAI,KAAK,CAAC;YACxB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,qBAAqB,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;SAC3E;QAED,eAAe,CAAC,KAAK;YACjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SAC1B;QAMD,UAAU;YACN,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;YAChC,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;YACxC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC7C,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;aACnD;SACJ;QAGD,SAAS,CAAC,GAAG;YACT,IAAI,GAAG,EAAE;gBACL,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;gBACxC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC1B,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,WAAW,CAAC,CAAA;aACtE;iBAAM;gBACH,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,WAAW,CAAC,CAAA;aACtE;SACJ;QAED,KAAK;YACD,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;aAC3C;iBAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACtB,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACzC;SACJ;QAID,UAAU,CAAC,SAAiB,CAAC,EAAE,YAAqB,KAAK;YACrD,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YACzC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACxE,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACxE,IAAI,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAA;YACtC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxB,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;YAC/B,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;SAChD;QACD,SAAS,CAAC,QAAQ;YACd,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACtC,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC5B,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACvC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACvC,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,CAAA;gBAC3C,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACf,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE;oBAClC,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;iBACtB;aACJ;YACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC9B;QACD,OAAO,CAAC,OAAO;YACX,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;YACxB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACnC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACnC,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YAC5C,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B;QACD,SAAS,CAAC,SAAS,EAAE,IAAI,GAAG,CAAC;YACzB,IAAI,IAAI,GAAG,SAAS,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC;YACnD,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACrC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACrC,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YAC9C,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC/B;QACD,YAAY,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACzB,GAAG,CAAC,SAAS,CAAC,aAAa,GAAG,GAAG,CAAC;YAClC,GAAG,CAAC,SAAS,CAAC,kBAAkB,GAAG,GAAG,CAAC;YACvC,OAAO,GAAG,CAAC;SACd;QACD,SAAS,CAAC,SAAS,EAAE,IAAI;YACrB,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACvC,GAAG,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YAC5D,IAAI,IAAI,GAAG,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,CAAA;YAClC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;SAClB;QAWD,YAAY,CAAC,EAAE;YACX,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;YACtC,IAAI,IAAI,CAAC;YACT,IAAI,IAAI,CAAC;YACT,QAAQ,EAAE;gBACN,KAAK,CAAC;oBACF,IAAI,GAAG,UAAU,CAAC;oBAClB,IAAI,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,CAAA;oBACxB,MAAM;gBACV,KAAK,CAAC;oBACF,IAAI,GAAG,WAAW,CAAC;oBACnB,IAAI,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;oBAC1B,MAAM;gBACV,KAAK,CAAC;oBACF,IAAI,GAAG,SAAS,CAAC;oBACjB,IAAI,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;oBACxB,MAAM;gBACV,KAAK,CAAC;oBACF,IAAI,GAAG,SAAS,CAAC;oBACjB,IAAI,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;oBACxB,MAAM;aACb;YACD,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;gBACzB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA;gBACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;oBAClD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;iBAClD;gBACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAA;aACzB;SAEJ;QACD,WAAW;YACP,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACnB,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;aACjC;iBACI;gBACD,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;aAC/B;SACJ;QACD,aAAa;YACT,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACnB,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;aACnC;iBACI;gBACD,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;aACjC;SACJ;QAgBD,SAAS;YACL,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAChE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,cAAc,CAAC,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACxE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,cAAc,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SAC5E;QACD,UAAU;YACN,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACjE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,gBAAgB,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACzE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;SAC7E;QACD,WAAW;YACP,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;YAQxE,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;YAC5H,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC;SAEhC;QACD,SAAS,CAAC,CAAC;YAEP,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,IAAI,CAAC,WAAW,EAAE,CAAC;aACtB;SACJ;QACD,YAAY,CAAC,CAAC;YACV,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;YACjB,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,IAAI,CAAC,aAAa,EAAE,CAAC;aACxB;SACJ;QAED,SAAS;YACL,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YAE/B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;YACxE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7F,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YAC3E,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SAC9E;QACD,UAAU,CAAC,CAAC;YACR,IAAI,CAAC,IAAI,CAAC,eAAe;gBACrB,OAAO;YACX,IAAI,IAAI,CAAC,QAAQ;gBACb,OAAO;YACX,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACZ,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACZ,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,GAAG,MAAM,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,wBAAwB,GAAG,MAAM,EAAE,CAAC,CAAC,CAAA;YAChH,IAAI,IAAI,CAAC;YACT,IAAI,IAAI,CAAC;YACT,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAChC,IAAI,IAAI,IAAI,EAAE,EAAE;gBACZ,IAAI,GAAG,EAAE,CAAC;aACb;iBAAM,IAAI,IAAI,IAAI,CAAC,EAAE,EAAE;gBACpB,IAAI,GAAG,CAAC,EAAE,CAAC;aACd;YACD,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;SAGpD;QAKD,eAAe;YACX,IAAI,GAAG,GAAG,KAAK,CAAC;SAgBnB;QAcD,YAAY,CAAC,IAAuB,EAAE,SAAuC,IAAI,CAAC,SAAS;YACvF,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAkB,CAAC;YAChE,IAAI,CAAC,MAAM,EAAE;gBACT,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC;aACf;YACD,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACpD,GAAG,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACjD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAExB,OAAO,GAAG,CAAC;SACd;QACD,aAAa;YACT,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBAChD,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;oBACjD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;iBAC9B;aACJ;YACD,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;SACtB;QAID,aAAa,CAAC,IAAY,EAAE,MAAoC,EAAE,cAAsB,IAAI,EAAE,QAAgB,CAAC,EAAE,SAAuB,IAAI,IAAI,CAAC,OAAO,EAAE;YACtJ,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAkB,CAAC;YAC5D,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,EAAmB,CAAC;YAC1C,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACrB,GAAG,CAAC,SAAS,CAAC,aAAa,GAAG,MAAM,CAAC;YACrC,GAAG,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACtD,GAAG,CAAC,SAAS,CAAC,UAAU,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;YACjE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,QAAQ,GAAG,CAAC,OAAO,EAAE,CAAA,EAAE,CAAC,CAAA;YAC3D,OAAO,GAAG,CAAA;SACb;QACD,WAAW,CAAC,IAAY,EAAE,MAAqB,EAAE,QAAgB,CAAC,EAAE,SAAuB,IAAI,IAAI,CAAC,OAAO,EAAE;YACzG,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAkB,CAAC;YAC5D,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,EAAmB,CAAC;YAC1C,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACrB,GAAG,CAAC,SAAS,CAAC,aAAa,GAAG,MAAM,CAAC;YACrC,GAAG,CAAC,SAAS,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACtD,GAAG,CAAC,SAAS,CAAC,UAAU,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;YACjE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACxB,OAAO,GAAG,CAAC;SACd;KAGJ;AACD,IAAA,IAAY,QAEX;IAFD,WAAY,QAAQ;QAChB,iCAAqB,CAAA;IACzB,CAAC,EAFW,QAAQ,KAAR,QAAQ,QAEnB;AACD,IAAA,IAAY,KAEX;IAFD,WAAY,KAAK;QACb,wBAAe,CAAA;IACnB,CAAC,EAFW,KAAK,KAAL,KAAK,QAEhB;;UC1gCY,WAAW;QAAxB;YAII,UAAK,GAAG,CAAC,CAAC;YAEV,UAAK,GAAG,CAAC,CAAC;YAEV,SAAI,GAAG,CAAC,CAAC;YAGT,cAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,QAAQ,CAAC;YAE5C,cAAS,GAAG,CAAC,CAAC;YAGd,YAAO,GAAG,CAAC,CAAC;YAEZ,aAAQ,GAAG,CAAC,CAAC;YAEb,WAAM,GAAG,KAAK,CAAC;YAGf,aAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAEtB,WAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAGhB,gBAAW,GAAG,OAAO,CAAC;SAEzB;KAAA;;UC7BoB,UAAU;QAM3B;YAJA,gBAAW,GAAgB,IAAI,WAAW,CAAC;YAE3C,gBAAW,GAAgB,IAAI,WAAW,CAAC;YAGvC,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE;gBAC9B,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACrC,IAAI,CAAC,QAAQ,EAAE;oBACX,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC9C,OAAO,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC7D;qBACI;oBACD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBAC7C,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC5D;gBACD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;aAC/B;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QAGD,YAAY,CAAC,GAAQ,EAAE,KAAU;YAC7B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACtD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;SACjC;QAGD,WAAW,CAAC,GAAQ;YAChB,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SACzC;QAGD,aAAa,CAAC,GAAW;YACrB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;SACrC;QAGO,WAAW;YACf,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,IAAI,QAAQ,CAAC,CAAC;YACnE,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,QAAQ,CAAC,CAAC;YAC1D,IAAI,QAAQ,IAAI,OAAO,EAAE;gBACrB,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAE7B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBAEjD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;aACvE;SACJ;QAKD,QAAQ;YACJ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAClD,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,CAAC,EAAE;gBAC9B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;gBAC/C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;aAC/E;SACJ;QAMD,IAAI,CAAC,QAAmB;YACpB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACjD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;YAE1E,QAAQ,IAAI,QAAQ,EAAE,CAAC;SAC1B;QAGD,SAAS;YACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;SACzE;QAOD,UAAU,CAAC,KAAK,EAAE,QAAmB;YACjC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC;YACxE,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC;YAClF,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAC/C;QAGD,UAAU,CAAC,EAAE,EAAE,IAAI,GAAG,CAAC;YACnB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE;gBACzB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACzC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBACxE,IAAI,CAAC,UAAU,CAAC,EAAE,EAAC,IAAI,CAAC,CAAC;aAC5B;SACJ;QAGD,OAAO,CAAC,EAAE,EAAE,IAAI,GAAG,CAAC;YAChB,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;SAC5D;QAGD,UAAU,CAAC,EAAE,EAAE,IAAI,GAAG,CAAC,EAAE,QAAmB;YACxC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACnC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACpE,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;YACjD,QAAQ,IAAI,QAAQ,EAAE,CAAC;SAC1B;KACJ;;UChHoB,UAAU;QAA/B;YAEI,gBAAW,GAAG,OAAO,CAAC;YAItB,cAAS,GAAW,CAAC,CAAC;YAGtB,cAAS,GAAY,IAAI,CAAC;YAE1B,iBAAY,GAAY,IAAI,CAAC;YAE7B,qBAAgB,GAAa,CAAC,OAAO,CAAC,CAAA;YAGtC,gBAAW,GAAW,oCAAoC,CAAC;YAE3D,gBAAW,GAAW,oCAAoC,CAAC;YAE3D,iBAAY,GAAa,EAAE,CAAC;YAI5B,gBAAW,GAAW,EAAE,CAAC;YAEzB,wBAAmB,GAAW,EAAE,CAAC;YAEjC,yBAAoB,GAAW,EAAE,CAAC;YAElC,uBAAkB,GAAW,EAAE,CAAC;YAMhC,cAAS,GAAG,GAAG,CAAC;YAChB,cAAS,GAAG,GAAG,CAAC;YAEhB,cAAS,GAAG,GAAG,CAAC;YAChB,cAAS,GAAG,GAAG,CAAC;YAEhB,cAAS,GAAG,IAAI,CAAC;YACjB,cAAS,GAAG,IAAI,CAAC;YAGjB,YAAO,GAAG,MAAM,CAAC;YAEjB,WAAM,GAAG,CAAC,IAAI,CAAC;YACf,WAAM,GAAG,IAAI,CAAC;SAMjB;KAAA;;UCvDoB,QAAQ;QAQzB;YACI,IAAI,CAAC,eAAe,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC;YAEhD,KAAK,IAAI,IAAI,IAAI,SAAS,EAAE;gBACxB,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC;oBAAE,SAAS;gBAE9B,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;aAC5C;SACJ;QAdO,UAAU,CAAC,IAAI;YACnB,IAAI,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,GAAG;gBAAE,GAAG,GAAG,IAAI,CAAC;YACrB,OAAO,GAAG,CAAA;SACb;QAYD,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAY;YACnC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAA;SACzE;QAED,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAY;YACrC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;SAC5E;QAED,GAAG,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAS;YACjC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAA;SAC9E;QAED,MAAM,CAAC,IAAK;YACR,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;SACtD;QAED,YAAY,CAAC,MAAM;YACf,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SAC7C;QAED,KAAK,CAAC,IAAI,EAAE,IAAU;YAClB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;SAC3D;QAED,WAAW,CAAC,IAAI;YACZ,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;SAC3D;QAED,YAAY,CAAC,IAAI;YACb,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;SAC5D;KACJ;IAED,MAAM,KAAK;KACV;;UCnDoB,MAAM;QAOvB;YACI,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;SACrB;QAED,UAAU,CAAC,IAAI;YACX,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;gBAClC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;oBACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC5B,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;iBACrG;aACJ;SACJ;QAED,aAAa,CAAC,IAAI;YACd,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACvC,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;gBACb,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;gBAEjG,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;oBACzB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBACvC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;iBAChH;qBACI,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;oBACzB,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;oBAC/B,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;iBAC5E;qBACI;oBACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;iBAC/B;aACJ;SACJ;QAED,aAAa,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU;YACpC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,kBAAkB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC;SACjH;KACJ;;UC/CoB,SAAS;QAC1B;YACI,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,KAAK,IAAI,MAAM,IAAI,UAAU,EAAE;gBAC3B,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;aAChC;YAED,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;gBAChB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gBAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;aACzI;SACJ;QAEO,YAAY,CAAC,GAAG;YACpB,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;SACnC;QAEO,YAAY;YAChB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC1B,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SACpC;QAMD,OAAO,CAAC,IAAY;YAChB,IAAI,MAAM,GAAgB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAEnD,IAAI,MAAM,EAAE;gBACR,OAAO,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;aACpE;iBACI;gBACD,OAAO,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;gBAC5C,OAAO,IAAI,CAAC;aACf;SACJ;QAOD,WAAW,CAAC,IAAI,EAAE,IAAI;YAClB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SACjC;KACJ;;UC/CoB,KAAK;QAItB;YACI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;SACpB;QAED,IAAI,QAAQ;YACR,OAAO,IAAI,CAAC,QAAQ,CAAC;SACxB;QAED,SAAS,CAAC,GAAgB,EAAE,aAAsB,KAAK,EAAE,KAAW,EAAE,QAAmB,EAAE,MAAkB;YACzG,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,OAAO,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC;YAChE,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,OAAO,CAAC,UAAU,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gBACpC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;gBACjB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aACxD;YAGD,IAAI,UAAU,EAAE;gBACZ,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;oBAC9C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAkB,CAAC,CAAC;iBACtD;aACJ;YAED,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;gBAE1D,IAAI,MAAM;oBAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAG/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAElB,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACxB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;aACvD,CAAC,CAAC,CAAA;SACN;QAED,UAAU,CAAC,GAAiB,EAAE,KAAW;YACrC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,GAAG,EAAE;gBACL,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBACjB,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE;wBACd,KAAK,GAAG,CAAC,CAAC;wBACV,OAAO;qBACV;iBACJ,CAAC,CAAC;aACN;iBACI,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACpB,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;aACzB;YAED,IAAI,KAAK,IAAI,KAAK,YAAY,IAAI,CAAC,KAAK,EAAE;gBACtC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;gBAClD,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC;oBAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;oBAC3E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAE1B,KAAK,CAAC,KAAK,EAAE,CAAC;gBACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;aACnF;SACJ;KACJ;;UC/DoB,QAAQ;QAUzB;YAFA,cAAS,GAAU,MAAM,CAAA;YAGrB,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC;YAC9B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YAEpB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE;gBACvB,IAAI,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC/B;YACD,OAAO,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3C,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QAED,IAAI;YACA,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YAC1B,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;YAChC,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,EAAE,CAAC,EAAE;gBACjC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,iBAAiB,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC;gBAC9C,iBAAiB,CAAC,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;gBAGrD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;gBAChD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;aAC/B;YAID,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,IAAI,CAAC;SAC1C;QAGD,cAAc,CAAC,IAAI,EAAE,KAAK;YACtB,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBACtB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAA;aAClF;SACJ;QAED,IAAI,CAAC,IAAI,EAAE,MAAM,GAAG,KAAK;YACrB,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBACtB,IAAI,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;oBAC/C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC3B,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;iBAC1E;qBACI;oBACD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;iBACvE;aACJ;SACJ;QAED,IAAI,CAAC,IAAI,EAAE,MAAM,GAAG,KAAK;YACrB,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBACtB,IAAI,MAAM,EAAE;oBACR,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAC1C,IAAI,KAAK,IAAI,CAAC,CAAC;wBACX,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBACxC;gBAED,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;aACvE;SACJ;QAED,SAAS,CAAC,IAAK;YACX,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAC9B,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBACvE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aAC1B;iBACI,IAAI,IAAI,CAAC,UAAU,EAAE;gBACtB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;aACrF;iBACI;gBACD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;aACnF;SACJ;QAED,SAAS;YACL,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;SACjC;KACJ;;UC/FoB,MAAM;KAE1B;;UCgBoB,OAAO;QA2BxB,OAAO,IAAI;YACP,IAAI,CAAC,MAAM,GAAG,IAAI,UAAU,CAAC;YAC7B,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,EAAE,GAAG,IAAI,KAAK,CAAC;YACpB,IAAI,CAAC,KAAK,GAAG,IAAI,QAAQ,CAAC;YAC1B,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,SAAS,CAAC;YAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,QAAQ,CAAC;YAC1B,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC;YACtB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,KAAK,GAAG,IAAI,QAAQ,CAAC;SAC7B;QAGO,OAAO,WAAW;YACtB,IAAI,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC;YAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;YAC3C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;SAC/C;QAGO,OAAO,YAAY;YACvB,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;gBAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,EAAE,CAAC;gBACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU,CAAC;aAClC;iBACI,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;gBAC5B,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,EAAE,CAAC;gBACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU,CAAC;aAClC;iBACI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;gBAChC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC;gBACzC,IAAI,CAAC,QAAQ,GAAG,IAAI,YAAY,CAAC;aACpC;iBACI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;gBAChC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC;gBACzC,IAAI,CAAC,QAAQ,GAAG,IAAI,YAAY,CAAC;aACpC;iBACI,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;gBACjD,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,EAAE,CAAC;gBACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC;aAChC;SACJ;QAED,OAAO,UAAU,CAAC,GAAG,IAAW;YAC5B,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;gBACvB,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;aACxB;SACJ;QAED,OAAO,WAAW,CAAC,GAAG,IAAW;YAC7B,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;gBACvB,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;aACzB;SACJ;QAED,OAAO,YAAY,CAAC,GAAG,IAAW;YAC9B,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;gBACvB,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;aAC1B;SACJ;QAID,WAAW,WAAW;YAClB,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QAED,WAAW,WAAW,CAAC,KAAK;YACxB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC7B;QAGD,WAAW,GAAG;YACV,OAAO,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;SAClC;QAID,OAAO,gBAAgB,CAAC,EAAa;YACjC,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,IAAI,KAAK,GAAG,EAAE,CAAC;YACf,IAAI,QAAQ,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;YAErC,SAAS,QAAQ;gBACb,KAAK,IAAI,OAAO,CAAC,GAAG,CAAC;gBACrB,QAAQ,EAAE,CAAC;gBAEX,IAAI,QAAQ,IAAI,CAAC,EAAE;oBACf,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;oBACjC,IAAI,GAAG,GAAG,KAAK,GAAG,KAAK,CAAC;oBACxB,IAAI,GAAG,GAAG,EAAE,EAAE;wBACV,OAAO,CAAC,oBAAoB,GAAG,oBAAoB,CAAC,IAAI,CAAC;qBAC5D;yBACI,IAAI,GAAG,GAAG,EAAE,EAAE;wBACf,OAAO,CAAC,oBAAoB,GAAG,oBAAoB,CAAC,GAAG,CAAC;qBAC3D;yBACI;wBACD,OAAO,CAAC,oBAAoB,GAAG,oBAAoB,CAAC,GAAG,CAAC;qBAC3D;oBAED,EAAE,IAAI,EAAE,EAAE,CAAC;iBACd;aACJ;SACJ;;IA3Cc,oBAAY,GAAY,KAAK,CAAC;;UCvG5B,aAAa;QAW9B,OAAO,uBAAuB,CAAC,OAAe;YAC1C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,IAAS;gBAC1D,IAAI,GAAG,GAAW,YAAY,CAAA;gBAC9B,IAAI,QAAQ,GAAG,CAAC,IAAS;oBACrB,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,EAAE;wBAC7E,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;wBACpB,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAA;wBACtB,GAAG,IAAI,CAAC,GAAG,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAA;qBACpC;iBACJ,CAAA;gBACD,IAAI,UAAU,GAAG,CAAC,IAAS;oBACvB,IAAI,KAAK,GAAU,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;oBAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACnC,IAAI,CAAC,GAAQ,KAAK,CAAC,CAAC,CAAC,CAAA;wBACrB,QAAQ,CAAC,CAAC,CAAC,CAAA;wBACX,IAAI,CAAC,CAAC,KAAK;4BAAE,UAAU,CAAC,CAAC,CAAC,CAAA;qBAC7B;iBACJ,CAAA;gBACD,UAAU,CAAC,IAAI,CAAC,CAAA;gBAChB,GAAG,IAAI,UAAU,CAAA;gBACjB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;aACnB,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;SAC9B;QAOD,OAAO,mBAAmB,CAAC,WAAW,EAAE,gBAAgB;YACpD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,IAAI,cAAc,GAAG,IAAI,IAAI,CAAC,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC,CAAC;YAC3E,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC/C,YAAY,CAAC,QAAQ,GAAG,gBAAgB,CAAC;YACzC,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;YACzC,IAAI,MAAM,CAAC,SAAS,IAAI,IAAI,EAAE;gBAC1B,YAAY,CAAC,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;aACxE;YACD,YAAY,CAAC,KAAK,EAAE,CAAC;SACxB;QAOD,OAAO,aAAa,CAAC,OAAe,EAAE,UAAqB;YACvD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;gBAChD,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBACvC,UAAU,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;aAClC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SAC/B;QAKD,OAAO,8BAA8B,CAAC,GAAgB,EAAE,MAAqB,EAAE,SAAuB,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;YACxH,IAAI,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YAC5C,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC;YAC9B,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;YAC5D,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YACrG,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC;YACpB,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC;YACpB,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;SAC3C;QAMD,OAAO,iBAAiB,CAAC,QAAuB,EAAE,IAAY;YAC1D,IAAI,UAAU,GAAkB,IAAI,CAAA;YAEpC,IAAI,IAAI,GAAG,CAAC,IAAmB;gBAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE;oBACvC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,EAAE;wBACjC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAA;wBAChD,OAAM;qBACT;yBAAM;wBACH,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAkB,CAAC,CAAA;qBAC5C;iBACJ;aACJ,CAAA;YAED,IAAI,CAAC,QAAQ,CAAC,CAAA;YACd,OAAO,UAAU,CAAA;SACpB;QASD,OAAO,yBAAyB,CAAC,SAAiB,EAAE,SAAuB,EAAE,YAAoB,CAAC;YAC9F,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAA;YAC5B,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,IAAI,SAAS,GAAG,SAAS,CAAC,GAAG,SAAS,CAAA;YAE3D,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAA;YAC7B,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAA;YAC7B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;YAEhC,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAA;YAC5B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAA;YAC/B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,EAAE,GAAG,CAAC,CAAA;YACrC,OAAO,GAAG,CAAA;SACb;QAGD,OAAO,oBAAoB,CAAC,QAAuC;YAC/D,OAAO,QAAQ,CAAC,cAAc,CAAC;SAClC;QAGD,OAAO,cAAc,CAAC,GAAQ;YAC1B,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK;gBAAE,OAAO,IAAI,CAAC;YACpC,OAAO,GAAG,CAAC,KAAK,EAAE,CAAC;SACtB;QAYD,OAAO,gBAAgB,CAAC,GAAgB,EAAE,MAAW,EAAE,QAAkB,EAAE,IAAY,EAAE,oBAA6B,KAAK,EAAE,UAAmB,IAAI,EAAE,UAAmB,IAAI;YACzK,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAGzB,IAAI,SAAS,GAAG,EAAE,CAAC;YACnB,IAAI,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC;YACzB,IAAI,OAAO,GAAG,OAAO,GAAG,GAAG,CAAC;YAE5B,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,IAAI,MAAM,GAAG,CAAC,GAAG;gBACb,SAAS,GAAG,IAAI,CAAC;gBACjB,IAAI,OAAO;oBACP,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,SAAS,CAAC,CAAC;gBACxE,IAAI,iBAAiB;oBAAE,GAAG,CAAC,eAAe,CAAC;aAC9C,CAAA;YACD,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;YAEpD,IAAI,IAAI,GAAG,CAAC,GAAG;gBACX,IAAI,SAAS,IAAI,KAAK;oBAAE,OAAO;gBAC/B,SAAS,GAAG,KAAK,CAAC;gBAClB,IAAI,iBAAiB;oBAAE,GAAG,CAAC,eAAe,CAAC;gBAC3C,IAAI,OAAO;oBACP,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,SAAS,CAAC,CAAC;gBACxE,IAAI,QAAQ;oBAAE,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gBACzC,IAAI,OAAO;oBACP,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;aAC3C,CAAA;YACD,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAEhD,IAAI,KAAK,GAAG,CAAC,GAAG;gBACZ,IAAI,SAAS,IAAI,KAAK;oBAAE,OAAO;gBAC/B,SAAS,GAAG,KAAK,CAAC;gBAClB,IAAI,OAAO;oBACP,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,SAAS,CAAC,CAAC;gBACxE,IAAI,iBAAiB;oBAAE,GAAG,CAAC,eAAe,CAAC;aAC9C,CAAA;YACD,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;SACrD;QAID,OAAO,OAAO,CAAC,CAAC;YACZ,IAAI,CAAC,GAAG,CAAC;gBAAE,OAAO,CAAC,CAAC;YACpB,IAAI,CAAC,GAAG,CAAC;gBAAE,OAAO,CAAC,CAAC;YACpB,OAAO,CAAC,CAAC;SACZ;QAED,OAAO,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG;YACxB,IAAI,KAAK,GAAG,GAAG;gBAAE,OAAO,GAAG,CAAC;YAC5B,IAAI,KAAK,GAAG,GAAG;gBAAE,OAAO,GAAG,CAAC;YAC5B,OAAO,KAAK,CAAC;SAChB;QAKD,WAAW,cAAc;YACrB,OAAO,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;SAC/B;QAED,WAAW,qBAAqB;YAC5B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,EAAE,EAAE,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;SACjE;QAOD,OAAO,QAAQ,CAAC,CAAS,EAAE,CAAS;YAChC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;SAC/C;QAED,OAAO,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE;YAC5B,IAAI,IAAI,CAAC,GAAG,EAAE,MAAM,GAAG,IAAI,EAAE,GAAG,EAAE,EAAE;gBAChC,IAAI,GAAG,MAAM,CAAA;aAChB;iBAAM,IAAI,IAAI,GAAG,MAAM,EAAE;gBACtB,IAAI,IAAI,EAAE,CAAC;aACd;iBAAM,IAAI,IAAI,GAAG,MAAM,EAAE;gBACtB,IAAI,IAAI,EAAE,CAAC;aACd;YACD,OAAO,IAAI,CAAC;SACf;QAED,OAAO,YAAY,CAAC,CAAC,EAAE,CAAC;YACpB,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;SACtC;QAED,OAAO,SAAS,CAAC,CAAC,EAAE,CAAC;YACjB,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;SACtD;QAED,OAAO,WAAW;YACd,OAAO,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC;SAC9B;QAED,OAAO,OAAO,CAAC,IAAI;YACf,OAAO,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC;SAC/B;QAED,OAAO,QAAQ,CAAC,EAAgB,EAAE,EAAgB;YAC9C,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAA;YAChC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YACtE,IAAI,CAAC,IAAI,CAAC,EAAE;gBACR,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;oBAAE,OAAO,CAAC,CAAC;qBACrB,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;oBAAE,OAAO,GAAG,CAAC;gBAEjC,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;oBAAE,OAAO,EAAE,CAAC;qBACtB,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;oBAAE,OAAO,CAAC,EAAE,CAAC;aACpC;YACD,IAAI,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC;YACrB,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE;gBACf,QAAQ,GAAG,CAAC,CAAC,CAAC;aACjB;YACD,IAAI,QAAQ,GAAG,CAAC,EAAE;gBACd,QAAQ,GAAG,CAAC,CAAC;aAChB;YACD,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;YAChD,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,UAAU,CAAC,EAAgB,EAAE,EAAgB,EAAE,EAAgB;YAClE,IAAI,KAAK,GAAG,aAAa,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YAC3C,IAAI,WAAW,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACrC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,EAAE,WAAW,CAAC,CAAC;YACxC,IAAI,aAAa,CAAC,QAAQ,CAAC,EAAE,EAAE,WAAW,CAAC,GAAG,EAAE,EAAE;gBAC9C,KAAK,IAAI,CAAC,CAAC,CAAC;aACf;YACD,OAAO,KAAK,CAAC;SAChB;QAID,OAAO,aAAa,CAAC,EAAgB,EAAE,EAAgB;YACnD,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YACjC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YACtE,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAA;YAC5C,IAAI,IAAI,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACrC,IAAI,IAAI,GAAG,CAAC,EAAE;gBACV,KAAK,IAAI,CAAC,CAAA;aACb;iBAAM,IAAI,IAAI,GAAG,CAAC,EAAE;gBACjB,KAAK,IAAI,CAAC,CAAC,CAAC;aACf;iBAAM;gBACH,KAAK,GAAG,CAAC,CAAC;aACb;YACD,OAAO,KAAK,CAAA;SACf;QAED,OAAO,aAAa,CAAC,GAAG,EAAE,MAAM;YAC5B,IAAI,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;YACnE,IAAI,WAAW,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,EAAE,SAAS,CAAC,CAAA;YACpD,OAAO,WAAW,CAAC;SACtB;QAED,OAAO,UAAU,CAAC,KAAK;YACnB,IAAI,QAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAChC,OAAO,QAAQ,CAAC;SACnB;QAED,OAAO,gBAAgB,CAAC,KAAK;YACzB,IAAI,KAAK,CAAC,MAAM,EAAE;gBACd,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC;gBACrC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAClB,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;aACnB;iBAAM;gBACH,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,CAAA;gBAChC,OAAO,IAAI,CAAC;aACf;SACJ;QAED,OAAO,iBAAiB,CAAC,KAAK;YAC1B,IAAI,KAAK,CAAC,MAAM,EAAE;gBACd,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC;gBACrC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAClB,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;gBAClB,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACnB,OAAO,GAAG,CAAC;aACd;iBAAM;gBACH,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,CAAA;gBAChC,OAAO,IAAI,CAAC;aACf;SACJ;QAED,OAAO,WAAW,CAAC,KAAK;YACpB,IAAI,QAAQ,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACvC,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;YAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC7B,IAAI,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;gBACxC,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;aACrB;YACD,OAAO,QAAQ,CAAC;SACnB;QAKD,OAAO,kBAAkB,CAAC,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM;YAC5F,IAAI,OAAO,GAAG,KAAK,GAAG,KAAK,CAAC;YAC5B,IAAI,aAAa,GAAG,WAAW,GAAG,WAAW,CAAC;YAE9C,IAAI,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC5C,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAChC,IAAI,eAAe,GAAG,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,CAAC;YAC5C,IAAI,SAAS,GAAG,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,CAAC;YAEtC,OAAO,EAAE,KAAK,EAAE,aAAa,GAAG,eAAe,IAAI,OAAO,GAAG,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,aAAa,EAAE,eAAe,EAAE,eAAe,EAAE,OAAO,EAAE,OAAO,EAAE,aAAa,EAAE,aAAa,EAAE,CAAA;SACnO;QAED,OAAO,cAAc,CAAC,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,OAAO;YAClD,IAAI,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;YAC/D,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC;YAC/C,OAAO,EAAE,KAAK,EAAE,YAAY,GAAG,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;SAChG;QAKD,OAAO,eAAe,CAAC,MAAqB;YACxC,IAAI,CAAC,GAAG,IAAI,OAAO,EAAE,CAAC;YACtB,IAAI,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACtD,IAAI,UAAU,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAClD,IAAI,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAChD,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC;iBACrC,IAAI,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;iBAC3B,IAAI,CAAC,EAAE,GAAG,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;SACvC;QAED,OAAO,cAAc,CAAC,SAAS;YAC3B,IAAI,KAAK,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,CAAC;YACzB,IAAI,QAAQ,GAAG,SAAS,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;YAC1C,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;gBACtB,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBACxB,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;iBACrD;gBACD,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aAC3B;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACxB,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;gBAE5C,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aAChC;YACD,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;SACrE;QAID,OAAO,cAAc,CAAC,MAAqB,EAAE,YAAoB,CAAC,EAAE,cAAsB,GAAG;YACzF,IAAI,KAAK,GAAG,SAAS,CAAC;YACtB,IAAI,cAAc,GAAG,CAAC,CAAC;YACvB,IAAI,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YAEzD,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;YAE3C,SAAS,SAAS;gBACd,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;gBAC/D,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;gBAC/D,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;aACpC;YAED,SAAS,WAAW;gBAChB,IAAI,KAAK,GAAG,CAAC,EAAE;oBACX,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;oBAC7B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;oBAClD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;oBACxC,MAAM,CAAC,SAAS,CAAC,aAAa,GAAG,GAAG,CAAC;oBAErC,KAAK,IAAI,IAAI,GAAG,cAAc,CAAC;iBAClC;qBACI;oBACD,KAAK,GAAG,CAAC,CAAC;oBACV,MAAM,CAAC,SAAS,CAAC,aAAa,GAAG,WAAW,CAAC;oBAC7C,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;iBACvC;aACJ;SACJ;QAKD,OAAO,kBAAkB,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,GAAG,EAAE,EAAE,QAAQ,GAAG,IAAI,EAAE,kBAAkB,GAAG,IAAI;YAC5G,IAAI,SAAS,GAAG,MAAM,CAAC;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC7B,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;gBACxD,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;gBAChB,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;gBAEpB,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAEjB,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAEtB,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;gBAC1C,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC;gBAC5G,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,EAAE,IAAI,EAAE;oBAC7B,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;wBAChF,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;wBACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;wBAChC,SAAS,EAAE,CAAC;wBACZ,kBAAkB,IAAI,kBAAkB,EAAE,CAAC;wBAC3C,IAAI,SAAS,IAAI,CAAC,IAAI,QAAQ;4BAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;qBACpD,CAAC,CAAC,CAAC;iBACP,CAAC,CAAA;aACL;SACJ;QACD,OAAO,qBAAqB,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,GAAG,EAAE,EAAE,QAAQ,GAAG,IAAI;YACpF,IAAI,SAAS,GAAG,MAAM,CAAC;YACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC7B,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC3D,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBACrB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;gBACvB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;gBACvB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;gBACvB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;gBAC7B,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;gBAEpB,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBAErB,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAEtB,IAAI,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;gBAC1C,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC;gBAC5G,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,EAAE,IAAI,EAAE;oBAC7B,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;wBAChF,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;wBACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;wBACpC,SAAS,EAAE,CAAC;wBACZ,IAAI,SAAS,IAAI,CAAC,IAAI,QAAQ;4BAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;qBACpD,CAAC,CAAC,CAAC;iBACP,CAAC,CAAA;aACL;SACJ;QAGM,OAAO,SAAS,CAAC,OAAO,EAAE,MAAM,EAAE,QAAsB,EAAE,MAAoB;YACjF,IAAI,KAAK,GAAe,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;YAC/C,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;YACpB,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;YACpB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;YAChB,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;YACpB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACvB,KAAK,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;YACrB,KAAK,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;gBAChH,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;oBAC3B,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;wBACrG,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;4BAC3B,KAAK,CAAC,OAAO,EAAE,CAAC;yBACnB;qBACJ,CAAC,CAAC,CAAA;iBACN;aACJ,CAAC,CAAC,CAAA;SACN;QAmCM,OAAO,YAAY,CAAC,OAAO,EAAE,MAAM,EAAE,QAAsB;YAC9D,IAAI,CAAC,IAAI,CAAC,WAAW;gBACjB,OAAO;YACX,aAAa,CAAC,WAAW,GAAG,KAAK,CAAC;YAClC,IAAI,KAAK,GAAe,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;YAC/C,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;YACpB,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;YACpB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;YAChB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACvB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;YAChB,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YAClB,IAAI,MAAM,GAAG,QAAQ,CAAC;YACtB,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YACjB,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;gBAC/F,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC;gBACjC,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;oBAC3B,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;wBAC9E,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;4BAC3B,KAAK,CAAC,OAAO,EAAE,CAAC;yBACnB;qBACJ,CAAC,CAAC,CAAA;iBACN;aACJ,CAAC,CAAC,CAAA;SACN;;IAzBM,yBAAW,GAAG,IAAI,CAAC;;UCnhBT,OAAO;QAaxB,OAAO,OAAO,CAAC,MAAmB,EAAE,UAAkB,EAAE,QAAgB,EAAE,QAAgB,EAAE,IAAe,EAAE,UAAqB,EAAE,UAAmB,KAAK,EAAE,SAAkB,KAAK;YACjL,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS;gBAAE,OAAO;YACxC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACxB,MAAM,CAAC,KAAK,GAAG,UAAU,CAAC;YAC1B,MAAM,EAAE,CAAC;YAET,SAAS,MAAM;gBACX,IAAI,OAAO,GAAG,MAAM,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,UAAU,IAAI,UAAU,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAA,EAAE,CAAC,CAAC;gBACnJ,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aACvE;YACD,SAAS,MAAM;gBACX,IAAI,OAAO,GAAG,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,UAAU,IAAI,UAAU,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAA,EAAE,CAAC,CAAC;gBACxI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aACzE;SACJ;QAcD,OAAO,OAAO,CAAC,MAAmB,EAAE,UAAkB,EAAE,QAAgB,EAAE,QAAgB,EAAE,IAAe,EAAE,UAAqB,EAAE,UAAmB,KAAK,EAAE,SAAkB,KAAK;YACjL,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS;gBAAE,OAAO;YACxC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACxB,MAAM,CAAC,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;YACrC,MAAM,EAAE,CAAC;YAET,SAAS,MAAM;gBACX,IAAI,OAAO,GAAG,MAAM,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,UAAU,IAAI,UAAU,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAA,EAAE,CAAC,CAAC;gBACnJ,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aAC1F;YACD,SAAS,MAAM;gBACX,IAAI,OAAO,GAAG,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,UAAU,IAAI,UAAU,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAA,EAAE,CAAC,CAAC;gBACxI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aAC9F;SACJ;QAaD,OAAO,UAAU,CAAC,MAAmB,EAAE,QAAoC,EAAE,QAAgB,EAAE,IAAe,EAAE,UAAqB,EAAE,MAAM,GAAG,KAAK,EAAE,QAAQ,GAAG,CAAC;YAC/J,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS;gBAAE,OAAO;YACxC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAExB,IAAI,MAAM,GAAQ,EAAE,EAAE,SAAS,GAAQ,EAAE,CAAC;YAC1C,IAAI,QAAQ,CAAC,CAAC,IAAI,IAAI,EAAE;gBAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBAAC,SAAS,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;aAAE;YAC1E,IAAI,QAAQ,CAAC,CAAC,IAAI,IAAI,EAAE;gBAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;gBAAC,SAAS,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;aAAE;YAC1E,IAAI,EAAE,CAAC;YAEP,SAAS,IAAI;gBACT,IAAI,MAAM,EAAE;oBACR,IAAI,OAAO,GAAG,QAAQ,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;iBAC7F;qBACI;oBACD,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,UAAU,IAAI,UAAU,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAA,EAAE,CAAC,CAAA;iBAC5F;gBACD,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aAC7D;YACD,SAAS,IAAI;gBACT,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;aAClF;YACD,SAAS,IAAI;gBACT,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;gBAAC,IAAI,EAAE,CAAC;aAC1C;SACJ;QAaD,OAAO,SAAS,CAAC,MAAmB,EAAE,KAAa,EAAE,QAAgB,EAAE,IAAe,EAAE,UAAqB,EAAE,UAAmB,KAAK,EAAE,SAAkB,KAAK;YAC5J,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS;gBAAE,OAAO;YACxC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAExB,IAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;YAC/B,IAAI,WAAW,GAAG,QAAQ,GAAG,KAAK,CAAC;YACnC,IAAI,SAAS,GAAG,CAAC,QAAQ,GAAG,KAAK,IAAI,QAAQ,CAAC;YAC9C,OAAO,EAAE,CAAC;YAEV,SAAS,OAAO;gBACZ,IAAI,OAAO,GAAG,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,UAAU,IAAI,UAAU,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAA,EAAE,CAAC,CAAC;gBACrL,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,WAAW,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aAC7E;YACD,SAAS,OAAO;gBACZ,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,EAAE,QAAQ,GAAG,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;aAC1G;YACD,SAAS,OAAO;gBACZ,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,WAAW,EAAE,EAAE,QAAQ,GAAG,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;aAC5G;YACD,SAAS,OAAO;gBACZ,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,UAAU,IAAI,UAAU,EAAE,CAAC,CAAC,UAAU,GAAG,IAAI,CAAA,EAAE,CAAC,CAAA;gBAC7F,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aAC1E;SACJ;QASD,OAAO,eAAe,CAAC,MAAmB,EAAE,UAAqB,EAAE,aAAqB,CAAC,EAAE,YAAoB,GAAG;YAC9G,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,CAAC,CAAA;SAC/F;QAMD,OAAO,UAAU,CAAC,MAAmB;YACjC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SAC/B;KACJ;;UCjJoB,WAAY,SAAQ,IAAI,CAAC,MAAM;QAIhD,OAAO;YACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAoB,CAAC;YACtC,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QAGD,IAAI,CAAC,GAAG,IAAW,KAAK;QAExB,SAAS;YACL,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC1B,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YACjC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;KACJ;;UCjBoB,SAAU,SAAQ,WAAW;QAE9C,IAAI;YACA,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAgB,CAAC;YACnE,aAAa,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,EAAE;gBAC3C,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aAChC,CAAC,CAAA;YACF,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAgB,CAAC;YACnE,aAAa,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,EAAE;gBAC3C,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;aACpB,CAAC,CAAA;YACF,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAgB,CAAC;YACnE,aAAa,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,EAAE;gBAC3C,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;aACpB,CAAC,CAAA;SACL;KACJ;;UClBoB,OAAQ,SAAQ,IAAI,CAAC,KAAK;QAC3C,OAAO;YACH,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC/C,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QAED,QAAQ;YACJ,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC7B;QAGD,IAAI,MAAM;QAEV,SAAS,MAAM;KAClB;;UCVoB,IAAK,SAAQ,OAAO;QAAzC;;YAqFI,iBAAY,GAAG,CAAC,CAAC;YA2BjB,oBAAe,GAAG,CAAC,+BAA+B,EAAE,+BAA+B,CAAC,CAAC;YACrF,oBAAe,GAAG,CAAC,+BAA+B,EAAE,+BAA+B,CAAC,CAAC;YAOrF,mBAAc,GAAG,CAAC,CAAC;SAwCtB;QA/IG,IAAI;YACA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;YAOlE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;YACxD,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;YAC1D,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAA;SAC3D;QAID,SAAS;YACL,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;YAClE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAChE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,sBAAsB,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC3E,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,qBAAqB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACzE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,2BAA2B,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;YAC7E,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,wBAAwB,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YACjF,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;SACpF;QAED,WAAW,CAAC,QAAQ,EAAE,QAAQ;YAC1B,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,QAAQ,CAAC,QAAQ,EAAE,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;SAC3E;QACD,SAAS,CAAC,KAAK;YACX,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;SAC/B;QACD,eAAe,CAAC,MAAM,EAAE,GAAI,EAAE,QAAS;YACnC,IAAI,MAAM,EAAE;gBACR,IAAI,KAAK,GAAG,aAAa,CAAC,8BAA8B,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,GAAG,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;gBACnH,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;aACnD;iBAAM;gBACH,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC;aAC5B;SACJ;QACD,UAAU,CAAC,KAAK,EAAE,GAAG;YACjB,IAAI,QAAQ,GAAG,GAAG,CAAC;YACnB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,MAAM,GAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAgB,CAAA;YAC3E,IAAI,EAAE,GAAG;gBACL,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gBAC3B,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;aACtC,CAAA;YACD,aAAa,CAAC,kBAAkB,CAAC,sBAAsB,EAAE,QAAQ,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE;gBAC3J,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,KAAK,EAAE,QAAQ,EAAE,CAAC;aAC9E,EAAE,EAAE,CAAC,CAAC;SACV;QAGD,OAAO,CAAC,KAAK;YACT,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SAC/B;QACD,YAAY,CAAC,KAAK;YACd,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SACrC;QACD,YAAY,CAAC,KAAK;YACd,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SACpC;QAED,oBAAoB;YAEf,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;YAEvE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAgB,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;YAEtE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;YAEvE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAgB,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;YAEvE,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAA;YACpE,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC;gBACrB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SAC7B;QACD,cAAc;YACV,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC;SAC1B;QACD,YAAY;YACR,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAChC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,CAAC,CAAA;SAC7C;QAQD,gBAAgB;YACZ,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;YAC1B,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CAAgB,CAAC,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YAC/I,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CAAgB,CAAC,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;SACnJ;QAGD,SAAS,CAAC,KAAK;YACX,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;YAChC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAkB,CAAC;YACxE,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,GAAG,GAAG;gBACN,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;gBACjD,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,IAAI,IAAI,CAAC,cAAc,IAAI,CAAC,EAAE;oBAC1B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA,EAAE,CAAC,CAAA;iBAC3E;qBAAM;oBACH,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;iBACpC;aACJ,CAAA;YACD,GAAG,EAAE,CAAC;SACT;QAED,SAAS,CAAC,CAAC;YACP,QAAQ,CAAC,CAAC,OAAO;gBACb,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ;oBACvB,IAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,MAAM;aACb;SACJ;QACD,aAAa;YACT,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;YACnD,IAAI,KAAK,IAAI,IAAI,EAAE;gBACf,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBACxD,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;gBAC7B,OAAO;aACV;YACD,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC7B,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YACxD,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAA;YACvC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC7B;KAGJ;;UC/JoB,aAAc,SAAQ,IAAI,CAAC,MAAM;QAAtD;;YAMI,UAAK,GAAG,EAAE,CAAC;YAWX,YAAO,GAAG,CAAC,CAAC,CAAC;YACb,aAAQ,GAAG,CAAC,CAAC,CAAC;YACd,uBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACxC,wBAAmB,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YAEzC,aAAQ,GAAG,KAAK,CAAC;YA0IjB,sBAAiB,GAAG,CAAC,CAAC;YACtB,gBAAW,GAAG,CAAC,CAAC;YA8BhB,4BAAuB,GAAG,CAAC,CAAC;YAC5B,sBAAiB,GAAG,CAAC,CAAC;YAetB,WAAM,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;SAiC/B;QAzOG,QAAQ;YACJ,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC/D,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC9D,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,cAAc,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SAC9D;QACD,SAAS;YACL,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAChE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC/D,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SAC/D;QAQD,WAAW,CAAC,CAAC;YACT,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,EAAE;gBACxB,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,EAAE;oBACpB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACjB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;oBACzB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;oBAExD,IAAI,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;iBACzG;qBAAM,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,EAAE;oBACzD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC;oBAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACrB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;oBAExD,IAAI,CAAC,mBAAmB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;iBAC1G;aACJ;iBAAM;gBACH,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,EAAE;oBACpB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;oBACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;iBACzG;qBAAM,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,EAAE;oBAC5B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC;oBAC1B,IAAI,CAAC,mBAAmB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;iBAC1G;aACJ;YACD,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;SAC1B;QACD,WAAW,CAAC,CAAC;YACT,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,EAAE;gBACxB,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE;oBAC3B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACjB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;iBAE1D;aACJ;iBAAM;gBACH,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,EAAE;oBAC3C,IAAI,IAAI,GAAG;wBACP,QAAQ,EAAE,CAAC;wBACX,KAAK,EAAE,CAAC;qBACX,CAAA;oBACD,IAAI,OAAO,GAAGA,QAAK,CAAC,aAAa,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAA;oBACpF,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;oBACtD,IAAI,MAAM,CAAC;oBACX,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE;wBAC3B,MAAM,GAAGA,QAAK,CAAC,aAAa,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;qBACvI;yBAAM,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;wBACnC,MAAM,GAAGA,QAAK,CAAC,aAAa,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;qBACtI;oBACD,IAAI,MAAM,EAAE;wBACR,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;wBACpD,IAAI,CAAC,QAAQ,IAAI,WAAW,GAAG,YAAY,CAAC,CAAC;wBAC7C,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;wBAC1D,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;qBAE7D;iBACJ;aACJ;YACD,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE;gBAC3B,IAAI,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;aACzG;YACD,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;gBAC5B,IAAI,CAAC,mBAAmB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;aAC1G;YACD,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;SAC1B;QACD,SAAS,CAAC,CAAC;YACP,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE;gBAC3B,IAAI,CAAC,kBAAkB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;aACzG;YACD,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;gBAC5B,IAAI,CAAC,mBAAmB,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;aAC1G;YACD,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,EAAE;gBACxB,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE;oBAC3B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACjB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;oBACtD,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;iBAErB;aACJ;iBAAM;gBACH,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE;oBAC3B,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;iBACrB;gBACD,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;oBAC5B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;iBACtB;gBACD,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,EAAE;oBAE3C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;iBACzB;aACJ;SACJ;QAID,QAAQ;YACJ,IAAI,GAAG,GAAGA,QAAK,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1D,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC3C,IAAI,WAAW,GAAG,GAAG,CAAC;YACtB,IAAI,KAAK,GAAG,WAAW,EAAE;gBACrB,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;gBACrD,IAAI,IAAI,GAAG,MAAM,CAAA;gBACjB,IAAI,KAAK,GAAG,CAAC,GAAG,IAAI,KAAK,GAAG,CAAC,EAAE,EAAE;oBAC7B,IAAI,GAAG,IAAI,CAAA;iBACd;qBAAM,IAAI,KAAK,GAAG,CAAC,EAAE,IAAI,KAAK,GAAG,EAAE,EAAE;oBAClC,IAAI,GAAG,OAAO,CAAA;iBACjB;qBAAM,IAAI,KAAK,GAAG,GAAG,IAAI,KAAK,GAAG,EAAE,EAAE;oBAClC,IAAI,GAAG,MAAM,CAAA;iBAChB;qBAAM,IAAI,KAAK,GAAG,CAAC,GAAG,IAAI,KAAK,GAAG,GAAG,EAAE;oBACpC,IAAI,GAAG,MAAM,CAAA;iBAChB;gBAED,QAAQ,IAAI;oBACR,KAAK,MAAM;wBACP,MAAM;oBACV,KAAK,IAAI;wBACL,MAAM;oBACV,KAAK,OAAO;wBACR,MAAM;oBACV,KAAK,MAAM;wBACP,MAAM;oBACV,KAAK,MAAM;wBACP,MAAM;iBACb;gBACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;aAEtB;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;SAC/B;QACD,SAAS;YACL,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACjC;SACJ;QAOM,QAAQ,CAAC,CAAC;YACb,IAAI,UAAU,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAA;YAClD,IAAI,IAAI,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;YAgBvC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACjB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAA;SAC5E;QAEM,QAAQ,CAAC,CAAC;YACb,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,MAAM,CAAA;YACjC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAA;SAC9B;QAIM,cAAc,CAAC,CAAC;YACnB,IAAI,UAAU,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,uBAAuB,CAAC;YAC5E,IAAI,IAAI,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC;YAEjE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YACvB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAA;SAClF;QACM,cAAc,CAAC,CAAC;YACnB,IAAI,CAAC,uBAAuB,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAA;YAC1D,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAA;SACxD;QAKD,sBAAsB;YAClB,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YACzG,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;YACtC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;SACvC;QAED,sBAAsB;YAClB,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;YACzG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC/D,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;YAEpC,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAE/D,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;SAGpC;QAED,oBAAoB;YAChB,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;SAI5G;QAID,SAAS,CAAC,CAAC;YACP,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;SACnD;KACJ;;UCrPoB,UAAW,SAAQ,IAAI,CAAC,MAAM;QAI/C,QAAQ;YACJ,IAAI,MAAM,GAAG,IAAI,CAAC,KAAoB,CAAC;YAMvC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE;gBACtB,MAAM,CAAC,QAAQ,EAAE,CAAC;aACrB,CAAC,CAAA;SACL;QAED,SAAS;YACL,IAAI,MAAM,GAAG,IAAI,CAAC,KAAoB,CAAC;YACvC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAE7B;KACJ;;UCpBoB,IAAK,SAAQ,OAAO;QAAzC;;YAiCI,cAAS,GAAG,CAAC,CAAC;SAmBjB;QA3CG,SAAS;YACL,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACvE,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACvE,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAA;YACpE,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;YACtE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,CAAA;YAC9C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;SACxE;QAED,YAAY;YACR,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAC9B,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACxC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;SAClD;QACD,YAAY;YACR,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC;gBACzB,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBACxC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;aAClD,CAAC,CAAA;SACL;QAKD,WAAW;YACP,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;gBACpB,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,CAAC,CAAC;aAC7D;YACD,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,CAAA;YAC9C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC;SAClD;QACD,YAAY;YACR,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,GAAG,CAAC,EAAE;gBAC3D,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;aACtB;YACD,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,CAAA;YAC9C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC;SAClD;KACJ;;UCpDoB,IAAK,SAAQ,OAAO;QAcrC,IAAI;YAEA,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QAED,eAAe,CAAC,EAAG;YACf,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,IAAI,CAAC;YACpC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE;gBAClD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE;oBACvB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE;wBAClD,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,KAAK,CAAC;wBACrC,EAAE,IAAI,EAAE,EAAE,CAAC;qBACd,CAAC,CAAA;iBACL,CAAC,CAAA;aACL,CAAC,CAAC;SACN;QACD,WAAW;YAEP,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,kBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAE3E,IAAI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE;gBACjC,IAAI,CAAC,eAAe,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;aAC/C;iBACI;gBACD,IAAI,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC;gBACvC,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAA;gBAEpE,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;gBAC1B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;gBACvB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAA;aACxD;SACJ;QAOD,eAAe,CAAC,CAAC;YACb,IAAI,CAAC,CAAC,WAAW,EAAE;gBACf,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,QAAQ,CAAC;gBAC/B,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC;gBAC1B,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBAC/C,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBACxC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;aAClD;iBACI;gBACD,IAAI,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,eAAe;oBAAE,OAAO;gBAClD,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBAE9B,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;oBACzC,GAAG,IAAI,GAAG,CAAC;iBACd;gBAED,GAAG,GAAG,CAAC,CAAC,IAAI,GAAG,OAAO,GAAG,GAAG,CAAC;gBAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,GAAG,CAAC;gBAE1B,IAAI,CAAC,CAAC,UAAU,EAAE;oBACd,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC;iBAC7B;qBACI,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,EAAE;oBACtB,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC;iBAC7B;qBACI;oBACD,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;iBACvE;aACJ;SACJ;QAED,iBAAiB;YACb,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YAC1C,IAAI,IAAI,CAAC,gBAAgB,GAAG,GAAG,EAAE;gBAC7B,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;gBAC1B,IAAI,MAAM,GAAG,EAAE,CAAC;gBAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;oBACzC,MAAM,IAAI,GAAG,CAAC;iBACjB;gBACD,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE;oBACxB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;iBAC1B;gBACD,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;oBACzC,GAAG,IAAI,GAAG,CAAC;iBACd;gBAED,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBAC9B,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;gBAC/B,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,GAAG,CAAC;aAC7B;YAED,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC;SACjC;KACJ;;UC5GoB,IAAK,SAAQ,OAAO;QAIrC,QAAQ,CAAC,IAAI;YACT,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,qBAAqB,GAAG,kBAAkB,CAAC;gBAC9E,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,yBAAyB,GAAG,sBAAsB,CAAC;aAC3F;SACJ;QAED,QAAQ;YACJ,KAAK,CAAC,QAAQ,EAAE,CAAC;YACjB,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;SAC9B;QAED,SAAS;YACL,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;SAChF;QAED,eAAe;YACX,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACxC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;SAClD;KACJ;;UClBoB,UAAU;QAa3B;SAAe;QACf,OAAO,IAAI;YACP,IAAI,GAAG,GAAa,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;YAC7C,GAAG,CAAC,kBAAkB,EAAC,IAAI,CAAC,CAAC;YAC7B,GAAG,CAAC,6BAA6B,EAAC,SAAS,CAAC,CAAC;YAC7C,GAAG,CAAC,iCAAiC,EAAC,aAAa,CAAC,CAAC;YACrD,GAAG,CAAC,iCAAiC,EAAC,UAAU,CAAC,CAAC;YAClD,GAAG,CAAC,kBAAkB,EAAC,IAAI,CAAC,CAAC;YAC7B,GAAG,CAAC,kBAAkB,EAAC,IAAI,CAAC,CAAC;YAC7B,GAAG,CAAC,kBAAkB,EAAC,IAAI,CAAC,CAAC;YAC7B,GAAG,CAAC,2BAA2B,EAAC,SAAS,CAAC,CAAC;SAC9C;;IAvBM,gBAAK,GAAQ,GAAG,CAAC;IACjB,iBAAM,GAAQ,IAAI,CAAC;IACnB,oBAAS,GAAQ,YAAY,CAAC;IAC9B,qBAAU,GAAQ,UAAU,CAAC;IAC7B,iBAAM,GAAQ,QAAQ,CAAC;IACvB,iBAAM,GAAQ,QAAQ,CAAC;IACvB,qBAAU,GAAK,oBAAoB,CAAC;IACpC,oBAAS,GAAQ,EAAE,CAAC;IACpB,gBAAK,GAAS,KAAK,CAAC;IACpB,eAAI,GAAS,KAAK,CAAC;IACnB,uBAAY,GAAS,KAAK,CAAC;IAC3B,4BAAiB,GAAS,IAAI,CAAC;IAc1C,UAAU,CAAC,IAAI,EAAE,CAAC;;ICnClB,MAAM,IAAI;QACT;YAEC,IAAI,MAAM,CAAC,QAAQ,CAAC;gBAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;;gBAClE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACnE,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAC;YAClD,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,UAAU,CAAC,SAAS,CAAC;YAC5C,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;YAC9C,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;YAEtC,IAAI,CAAC,GAAG,CAAC,iBAAiB,GAAG,UAAU,CAAC,iBAAiB,CAAC;YAG1D,IAAI,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,MAAM;gBAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC9F,IAAI,UAAU,CAAC,YAAY,IAAI,IAAI,CAAC,kBAAkB,CAAC;gBAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC,MAAM,EAAE,CAAC;YAC3F,IAAI,UAAU,CAAC,IAAI;gBAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACtC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAG5B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;SACpI;QAED,eAAe;YAEd,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;SAChG;QAED,cAAc;YAEb,OAAO,CAAC,IAAI,EAAE,CAAC;YAGf,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SACvC;KACD;IAED,IAAI,IAAI,EAAE,CAAC;;;;"}