window.__require=function e(t,o,r){function n(i,l){if(!o[i]){if(!t[i]){var c=i.split("/");if(c=c[c.length-1],!t[c]){var s="function"==typeof __require&&__require;if(!l&&s)return s(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+i+"'")}i=c}var h=o[i]={exports:{}};t[i][0].call(h.exports,function(e){return n(t[i][1][e]||e)},h,h.exports,e,t,o,r)}return o[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<r.length;i++)n(r[i]);return n}({ClearBall_Ball:[function(e,t,o){"use strict";cc._RF.push(t,"5383ak5a+ZEsq5DcyURvQpy","ClearBall_Ball");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.BallType=void 0;var i=e("../Mod/ClearBall_PlayerDataMgr"),l=e("../Mod/ClearBall_Utility"),c=cc._decorator,s=c.ccclass,h=c.property;o.BallType=cc.Enum({RED:1,GREEN:2,BLUE:3,ORANGE:4,PRUPLE:5});var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.BallType=o.BallType.RED,t.index=0,t}return n(t,e),t.prototype.start=function(){this.InitBall()},t.prototype.InitBall=function(){var e=i.default.getPlayerData().ballSkin;e>=2&&(e-=1);var t="Textures/Ball/"+e+"_"+this.BallType;this.node.name="ball"+this.BallType,l.default.loadSpFrame(t,this.node.getChildByName("sp"))},a([h({type:o.BallType,displayName:"\u7403\u7684\u989c\u8272"})],t.prototype,"BallType",void 0),a([s],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Mod/ClearBall_PlayerDataMgr":"ClearBall_PlayerDataMgr","../Mod/ClearBall_Utility":"ClearBall_Utility"}],ClearBall_Block:[function(e,t,o){"use strict";cc._RF.push(t,"d8373Qg1XFL6o61UsvO1+e/","ClearBall_Block");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,l=i.ccclass,c=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.preBlock=-1,t.isCheck=!1,t.isCreated=!1,t}return n(t,e),t.prototype.start=function(){},a([l],t)}(cc.Component));o.default=c,cc._RF.pop()},{}],ClearBall_ClearFXAutoDestroy:[function(e,t,o){"use strict";cc._RF.push(t,"befc0gVs59PM6s4aeUbr5hq","ClearBall_ClearFXAutoDestroy");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,l=i.ccclass,c=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){var e=this;this.scheduleOnce(function(){e.node.destroy()},1.08)},a([l],t)}(cc.Component));o.default=c,cc._RF.pop()},{}],ClearBall_DateUtils:[function(e,t,o){"use strict";cc._RF.push(t,"453f460MwNNS4mf4zXm0bLU","ClearBall_DateUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.ClearBall_DateUtils=void 0;var r=function(){function e(){}return e.prototype.GMTToStr=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},e.prototype.str_date=function(e){var t=Date.parse(e),o=new Date(t);return this.GMTToStr(o),t},e}();o.ClearBall_DateUtils=r,cc._RF.pop()},{}],ClearBall_FailUI:[function(e,t,o){"use strict";cc._RF.push(t,"65a57FTFoBMZ6wJzwectFvU","ClearBall_FailUI");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),l=cc._decorator,c=l.ccclass,s=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.drawBtn=null,t}return n(t,e),t.prototype.start=function(){},t.prototype.onEnable=function(){this.getComponent(cc.Animation).play()},t.prototype.drawBtnCB=function(){},t.prototype.closeBtnCB=function(){i.default.goClearBallGame()},t.prototype.retryBtnCB=function(){i.default.goClearBallGame()},a([s(cc.Node)],t.prototype,"drawBtn",void 0),a([c],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0}],ClearBall_GameLogic:[function(e,t,o){"use strict";cc._RF.push(t,"1c715+Ha3VMRZ3rLq7NOzZR","ClearBall_GameLogic");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.BallType=void 0;var i=e("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),l=e("../../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),c=e("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),s=e("../../../Bundle1_Loading/Scripts/Mgr/SoundMgr"),h=e("../../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),d=e("../../../Bundle1_Loading/Scripts/Platform/Platform"),p=e("../../../Bundle2_Res/Scripts/ResPanelOpen"),u=e("../Mod/ClearBall_MyButton"),f=e("../Mod/ClearBall_PlayerDataMgr"),g=e("../Mod/ClearBall_SoundMgr"),y=e("../Mod/ClearBall_Utility"),v=e("./ClearBall_Ball"),B=cc._decorator,C=B.ccclass,_=B.property;o.BallType=cc.Enum({RED:1,GREEN:2,BLUE:3,ORANGE:4,PRUPLE:5});var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.draw=null,t.drawNode=null,t.blockSpace=null,t.clearNode=null,t.clearNode2=null,t.ballPrefab=null,t.bombBtn=null,t.rocketBtn=null,t.refreshBtn=null,t.propTipNode=null,t.layout=null,t.layoutItem=null,t.stepLabel=null,t.cover1=null,t.cover2=null,t.color1=null,t.color2=null,t.coinLabel=null,t.clearFX=null,t.boomPrefab=null,t.rocketPrefab=null,t.isEnd=!1,t.createPathNum=3,t.pathArr=[],t.limitLength=150,t.joinBallNodeArr=[],t.joinBallIndexArr=[],t.drawNodeArr=[],t.startBallType=0,t.joinNum=0,t.step=15,t.clearTargetArr=[0,0,0,0,0,0],t.propTipLabelArr=["\u6467\u6bc1\u70b8\u5f39\u5468\u56f4\u7684\u6240\u6709\u65b9\u5757\uff01","\u6467\u6bc1\u4e00\u6574\u884c+\u5217\uff01","\u70b9\u51fb\u4efb\u4f55\u5730\u65b9\u91cd\u65b0\u6d17\u724c\uff01"],t.propIconPathArr=["Textures/GameUI/Icon_Bomb","Textures/GameUI/Icon_Rocket","Textures/GameUI/Icon_Swap"],t.propChooseIndex=-1,t.colorStringArr=["#f50049","#00be11","#3b79f8","#fb8317","#a31afa"],t.isSub=!1,t.originAngle=0,t.targetAngle=0,t.isMinus=!1,t.coin=0,t.guardTime=0,t.originNodeArr=[],t.isFinish=!1,t}return n(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,c.EventMgr.on(i.EventType.Game_NextLevel_Event,this.nextLevel,this),c.EventMgr.on(i.EventType.Game_ClearBall_InitSkin,this.InitBallSkin,this),c.EventMgr.on(i.EventType.Game_ClearBall_InitSkin,this.refreshTarget,this),c.EventMgr.on(i.EventType.Game_PassLevel_Event,this.systemPassLevel,this),c.EventMgr.on(i.EventType.Game_PowerLess_Event,this.showPowerLessPanel,this),c.EventMgr.on(i.EventType.Common_Key_Update,this.InitPropNode,this),this.isSub||(h.default.instance.usePower(),this.isSub=!0)},t.prototype.onDestroy=function(){c.EventMgr.clearTarget(this)},t.prototype.refreshTarget=function(){this.setTarget(!0)},t.prototype.showPowerLessPanel=function(){p.default.show_Game_PowerLess_Panel(cc.find("Canvas"))},t.prototype.nextLevel=function(){l.default.goClearBallGame()},t.prototype.addLevel=function(){f.default.getPlayerData().maxLevel++,f.default.setPlayerData()},t.prototype.systemPassLevel=function(){this.addLevel(),this.nextLevel()},t.prototype.playerPassLevel=function(){var e=this;this.isFinish||(this.isFinish=!0,cc.find("Canvas/successUI").active=!0,s.default.instance.PlaySound(i.SoundType.Win),this.scheduleOnce(function(){e.addLevel(),p.default.show_Result_Success_Panel(cc.find("Canvas"))},1.5))},t.prototype.start=function(){this.Ani(),this.node.getChildByName("coinNode").getChildByName("num").getComponent(cc.Label).string=this.coin.toString(),this.InitTargetArr(),this.setTarget(!0),this.createPath(),this.InitPropNode(),this.schedule(this.Guard,1)},t.prototype.Guard=function(){if(this.guardTime++,this.guardTime>=10){this.guardTime=0;for(var e=0;e<this.originNodeArr.length;e++)this.originNodeArr[e].getComponent(cc.Animation).currentClip&&"Tips"!=this.originNodeArr[e].getComponent(cc.Animation).currentClip.name||this.originNodeArr[e].getComponent(cc.Animation).stop();this.originNodeArr.splice(0,this.originNodeArr.length);var t=y.default.getRandom(0,this.pathArr.length),o=this.pathArr[t];for(e=0;e<o.length;e++)this.blockSpace.children[o[e]].children[0].getComponent(cc.Animation).currentClip||(this.blockSpace.children[o[e]].children[0].getComponent(cc.Animation).play("Tips"),this.originNodeArr.push(this.blockSpace.children[o[e]].children[0]))}},t.prototype.Ani=function(){var e=this,t=cc.winSize.height/2-110;cc.tween(this.node.getChildByName("topTargetNode")).delay(1).by(.2,{y:-50}).by(.5,{y:50+t}).start(),this.scheduleOnce(function(){e.scheduleOnce(function(){e.node.getChildByName("topTargetNode").getChildByName("Block").destroy()},1),cc.tween(e.node.getChildByName("coinNode")).delay(.7).by(.2,{x:325}).start(),cc.tween(e.node.getChildByName("propNode")).delay(.7).to(.5,{scale:1}).start()},2)},t.prototype.InitBallSkin=function(){for(var e=0;e<this.blockSpace.childrenCount;e++)this.blockSpace.children[e].children[0].getComponent(v.default).InitBall();2==f.default.getPlayerData().ballSkin?(this.node.getChildByName("bg").color=(new cc.Color).fromHEX("#2A2A2A"),this.node.getChildByName("mask").getChildByName("1").getChildByName("Cover").color=(new cc.Color).fromHEX("#2A2A2A"),this.node.getChildByName("mask").getChildByName("2").getChildByName("Cover").color=(new cc.Color).fromHEX("#2A2A2A")):(this.node.getChildByName("bg").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("mask").getChildByName("1").getChildByName("Cover").color=(new cc.Color).fromHEX("#FFFFFF"),this.node.getChildByName("mask").getChildByName("2").getChildByName("Cover").color=(new cc.Color).fromHEX("#FFFFFF"))},t.prototype.onTouchStart=function(e){var t=this,o=e.getLocation(),r=cc.director.getPhysicsManager().testPoint(o);if(0==this.propChooseIndex){var n=r.node.convertToWorldSpaceAR(cc.v2(0,0)),a=this.node.convertToNodeSpaceAR(n),i=cc.instantiate(this.boomPrefab);return i.setPosition(a),i.setParent(this.node),g.default.Share.PlaySound("Boom"),this.scheduleOnce(function(){t.bombEffect(r.node.getComponent(v.default).index),i.destroy()},1.08),this.propChooseIndex=-1,void(this.propTipNode.active=!1)}if(1==this.propChooseIndex){var l=r.node.convertToWorldSpaceAR(cc.v2(0,0)),c=(a=this.node.convertToNodeSpaceAR(l),cc.instantiate(this.rocketPrefab)),s=cc.instantiate(this.rocketPrefab),h=cc.instantiate(this.rocketPrefab),d=cc.instantiate(this.rocketPrefab);return c.setPosition(a),c.setParent(this.node),s.setPosition(a),s.setParent(this.node),h.setPosition(a),h.setParent(this.node),d.setPosition(a),d.setParent(this.node),c.angle=0,s.angle=90,h.angle=180,d.angle=270,this.scheduleOnce(function(){cc.tween(c).by(.3,{position:cc.v3(c.position.x,1e3)}).start(),cc.tween(s).by(.3,{position:cc.v3(-1e3,s.position.y)}).start(),cc.tween(h).by(.3,{position:cc.v3(h.position.x,-1e3)}).start(),cc.tween(d).by(.3,{position:cc.v3(1e3,d.position.y)}).start(),t.scheduleOnce(function(){c.destroy(),s.destroy(),h.destroy(),d.destroy()},1.5)},1),this.scheduleOnce(function(){g.default.Share.PlaySound("Rocket")},1),this.scheduleOnce(function(){t.rocketEffect(r.node.getComponent(v.default).index,!0)},1.08),this.propChooseIndex=-1,void(this.propTipNode.active=!1)}if(2==this.propChooseIndex)return g.default.Share.PlaySound("Swap"),this.propChooseIndex=-1,this.propTipNode.active=!1,this.createPath(),this.scheduleOnce(function(){for(var e=0;e<t.blockSpace.childrenCount;e++)t.blockSpace.children[e].children[0].getChildByName("ChangeFX").getComponent(cc.ParticleSystem).playOnLoad=!0,t.blockSpace.children[e].children[0].getChildByName("ChangeFX").active=!0},.001),f.default.getPlayerData().refresh--,f.default.setPlayerData(),void this.InitPropNode();if(r){this.guardTime=0;for(var p=0;p<this.originNodeArr.length;p++)this.originNodeArr[p].getComponent(cc.Animation).play("Idle");this.originNodeArr.splice(0,this.originNodeArr.length);var u=this.colorStringArr[r.node.getComponent(v.default).BallType-1];this.color1.color=(new cc.Color).fromHEX(u),this.color2.color=(new cc.Color).fromHEX(u),this.joinBallNodeArr.push(r.node),this.joinBallIndexArr.push(r.node.getComponent(v.default).index),this.joinBallNodeArr.length<=10?g.default.Share.PlaySound(this.joinBallNodeArr.length.toString()):g.default.Share.PlaySound("10"),this.changeProgress(),this.startPos=cc.v2(r.node.parent.position),this.startBallType=r.node.getComponent(v.default).BallType,this.joinBallNodeArr[0].getChildByName("back").active=!0,this.selectPop()}},t.prototype.onTouchMove=function(e){if(this.startPos){this.guardTime=0,this.draw.clear(),this.draw.moveTo(this.startPos.x,this.startPos.y);var t=e.getLocation(),o=this.node.convertToNodeSpaceAR(e.getLocation());this.getDis(this.startPos,o)>this.limitLength&&(o=this.getLimitPoint(this.startPos,o));var r=cc.director.getPhysicsManager().testPoint(t);if(r){if(-1!=this.judgeIsInArr(r.node)){var n=this.judgeIsInArr(r.node);if(n!=this.joinBallNodeArr.length-1){this.startPos=cc.v2(this.joinBallNodeArr[n].parent.position);for(var a=this.joinBallNodeArr.length-1;a>n;a--)this.joinBallNodeArr[a].getComponent(cc.Animation).play("Idle"),this.joinBallNodeArr[a].getChildByName("back").active=!1,this.joinBallNodeArr.pop(),this.joinBallIndexArr.pop(),this.changeProgress(),this.drawNodeArr[this.drawNodeArr.length-1].getComponent(cc.Graphics).clear(),this.drawNodeArr.pop();this.InitGraphics()}}if(this.getDis(this.startPos,this.node.convertToNodeSpaceAR(e.getLocation()))<=this.limitLength&&-1==this.judgeIsInArr(r.node)&&r.node.getComponent(v.default).BallType==this.startBallType){this.joinBallNodeArr.push(r.node),this.joinBallIndexArr.push(r.node.getComponent(v.default).index),this.joinBallNodeArr.length<=10?g.default.Share.PlaySound(this.joinBallNodeArr.length.toString()):g.default.Share.PlaySound("10"),this.changeProgress();var i=new cc.Node;this.drawNode.addChild(i),i.addComponent(cc.Graphics),i.getComponent(cc.Graphics).lineWidth=10,i.getComponent(cc.Graphics).lineJoin=cc.Graphics.LineJoin.ROUND,i.getComponent(cc.Graphics).lineCap=cc.Graphics.LineCap.ROUND,i.getComponent(cc.Graphics).strokeColor=(new cc.Color).fromHEX("#b2b2b2"),i.getComponent(cc.Graphics).moveTo(this.startPos.x,this.startPos.y),i.getComponent(cc.Graphics).lineTo(r.node.parent.position.x,r.node.parent.position.y),i.getComponent(cc.Graphics).stroke(),this.drawNodeArr.push(i),this.startPos=cc.v2(r.node.parent.position)}}this.draw.lineTo(o.x,o.y),this.draw.stroke(),this.selectPop()}for(a=0;a<this.joinBallNodeArr.length;a++)this.joinBallNodeArr[a].getChildByName("back").active=!0},t.prototype.changeProgress=function(){this.unschedule(this.progress),this.targetAngle=25*this.joinBallNodeArr.length,this.targetAngle>=180&&(this.targetAngle=180),this.targetAngle>this.cover1.angle?this.isMinus=!1:this.targetAngle<this.cover1.angle&&(this.isMinus=!0),this.schedule(this.progress,.01)},t.prototype.progress=function(){this.isMinus?(this.cover1.angle--,this.cover2.angle--,this.cover1.angle<=this.targetAngle&&(this.unschedule(this.progress),this.originAngle=this.targetAngle),this.cover1.angle<=-180&&(this.cover1.angle=-180,this.cover2.angle=-180)):(this.cover1.angle++,this.cover2.angle++,this.cover1.angle>=this.targetAngle&&(this.unschedule(this.progress),this.originAngle=this.targetAngle),this.cover1.angle>=180&&(this.cover1.angle=180,this.cover2.angle=180))},t.prototype.InitTargetArr=function(){if(1==f.default.getPlayerData().maxLevel)this.clearTargetArr=[-99,-99,-99,-99,-99,10];else if(2==f.default.getPlayerData().maxLevel)this.clearTargetArr=[-99,-99,-99,-99,-99,20];else if(3==f.default.getPlayerData().maxLevel)this.clearTargetArr=[5,5,5,5,5,-99];else if(4==f.default.getPlayerData().maxLevel)this.clearTargetArr=[10,-99,-99,-99,-99,20];else if(5==f.default.getPlayerData().maxLevel)this.clearTargetArr=[-99,-99,-99,-99,-99,12];else{var e=y.default.getRandom(1,4);if(1==e)(n=15+f.default.getPlayerData().maxLevel)>=45&&(n=45),this.clearTargetArr=[-99,-99,-99,-99,-99,n];else if(2==e){for(var t=y.default.getRandom(0,5),o=y.default.getRandom(0,5);o==t;)o=y.default.getRandom(0,5);for(var r=y.default.getRandom(0,5);r==t||r==t;)r=y.default.getRandom(0,5);var n;(n=5+f.default.getPlayerData().maxLevel)>=15&&(n=15),this.clearTargetArr=[-99,-99,-99,-99,-99,-99],this.clearTargetArr[t]=n,this.clearTargetArr[o]=n,this.clearTargetArr[r]=n}else{var a=y.default.getRandom(0,5),i=y.default.getRandom(20,61),l=f.default.getPlayerData().maxLevel;l>=15&&(l=15),this.clearTargetArr=[-99,-99,-99,-99,-99,l],this.clearTargetArr[a]=i}}},t.prototype.InitGraphics=function(){for(var e=0;e<this.drawNodeArr.length;e++){var t=this.joinBallNodeArr[e].parent.position,o=this.joinBallNodeArr[e+1].parent.position;this.drawNodeArr[e].getComponent(cc.Graphics).moveTo(t.x,t.y),this.drawNodeArr[e].getComponent(cc.Graphics).lineTo(o.x,o.y),this.drawNodeArr[e].getComponent(cc.Graphics).stroke()}},t.prototype.judgeIsInArr=function(e){for(var t=-1,o=0;o<this.joinBallNodeArr.length;o++)if(this.joinBallNodeArr[o]===e){t=o;break}return t},t.prototype.onTouchEnd=function(){for(var e=this,t=0;t<this.blockSpace.childrenCount;t++)this.blockSpace.children[t].children[0].getComponent(cc.Animation).play("Idle");for(t=0;t<this.joinBallNodeArr.length;t++)this.joinBallNodeArr[t].getChildByName("back").active=!1;for(this.startPos=null,this.draw.clear(),t=0;t<this.drawNodeArr.length;t++)this.drawNodeArr[t].getComponent(cc.Graphics).clear();if(this.joinBallNodeArr.length>=3){if(this.joinBallNodeArr.length>=4&&this.joinBallNodeArr.length<=6)this.coin+=10,this.coinLabel.string=this.coin.toString();else if(this.joinBallNodeArr.length>6){this.coin+=20,this.coinLabel.string=this.coin.toString();var o=this.joinBallIndexArr[this.joinBallIndexArr.length-1],r=this.blockSpace.children[o].children[0].convertToWorldSpaceAR(cc.v2(0,0)),n=this.node.convertToNodeSpaceAR(r),a=cc.instantiate(this.rocketPrefab),i=cc.instantiate(this.rocketPrefab),l=cc.instantiate(this.rocketPrefab),c=cc.instantiate(this.rocketPrefab);a.setPosition(n),a.setParent(this.node),i.setPosition(n),i.setParent(this.node),l.setPosition(n),l.setParent(this.node),c.setPosition(n),c.setParent(this.node),a.angle=0,i.angle=90,l.angle=180,c.angle=270,this.scheduleOnce(function(){cc.tween(a).by(.3,{position:cc.v3(a.position.x,1e3)}).start(),cc.tween(i).by(.3,{position:cc.v3(-1e3,i.position.y)}).start(),cc.tween(l).by(.3,{position:cc.v3(l.position.x,-1e3)}).start(),cc.tween(c).by(.3,{position:cc.v3(1e3,c.position.y)}).start(),e.scheduleOnce(function(){a.destroy(),i.destroy(),l.destroy(),c.destroy()},1.5)},1),g.default.Share.PlaySound("Rocket"),this.scheduleOnce(function(){e.rocketEffect(e.blockSpace.children[o].children[0].getComponent(v.default).index)},1.08)}this.step-=1,this.stepLabel.string=this.step.toString();var s=this.joinBallNodeArr[0].getComponent(v.default).BallType-1;for(this.clearTargetArr[s]>0&&(this.clearTargetArr[s]-=this.joinBallNodeArr.length),this.clearTargetArr[this.clearTargetArr.length-1]>0&&(this.clearTargetArr[this.clearTargetArr.length-1]-=this.joinBallNodeArr.length),this.setTarget(),this.isSuccess()&&this.playerPassLevel(),this.isFail(),t=0;t<this.joinBallNodeArr.length;t++){for(var h=cc.instantiate(this.clearFX),d=(r=this.joinBallNodeArr[t].convertToWorldSpaceAR(cc.v2(0,0)),n=this.node.convertToNodeSpaceAR(r),0);d<h.childrenCount;d++)h.children[d].getComponent(cc.ParticleSystem).startColor=(new cc.Color).fromHEX(this.colorStringArr[this.joinBallNodeArr[0].getComponent(v.default).BallType-1]);h.setPosition(n),h.setParent(this.node)}for(g.default.Share.PlaySound("Clear"),t=0;t<this.joinBallNodeArr.length;t++)this.joinBallNodeArr[t].setParent(this.clearNode),this.joinBallNodeArr[t].getComponent(cc.RigidBody).destroy();this.BallFall(),this.produceNewBall()}this.joinBallNodeArr.splice(0,this.joinBallNodeArr.length),this.joinBallIndexArr.splice(0,this.joinBallIndexArr.length),this.drawNodeArr.splice(0,this.drawNodeArr.length),this.changeProgress()},t.prototype.clearReward=function(e){for(var t=6*Math.floor(e/6),o=t+5,r=t;r<=o;r++)-1==this.joinBallNodeArr.indexOf(this.blockSpace.children[r].children[0])&&(this.joinBallNodeArr.push(this.blockSpace.children[r].children[0]),this.joinBallIndexArr.push(r));var n=e%6,a=n+30;for(r=n;r<=a;r+=6)r!=e&&-1==this.joinBallNodeArr.indexOf(this.blockSpace.children[r].children[0])&&(this.joinBallNodeArr.push(this.blockSpace.children[r].children[0]),this.joinBallIndexArr.push(r))},t.prototype.setTarget=function(e){if(void 0===e&&(e=!1),e){for(var t=0;t<this.clearTargetArr.length;t++)if(this.clearTargetArr[t]>0){if((r=this.layout.children[t]).active=!0,5!=t){var o=f.default.getPlayerData().ballSkin;o>1&&(o-=1),y.default.loadSpFrame("Textures/Ball/"+o.toString()+"_"+(t+1),r.getChildByName("pic"))}else y.default.loadSpFrame("Textures/Ball/Multicolor_Ball2",r.getChildByName("pic"));r.getChildByName("num").getComponent(cc.Label).string=this.clearTargetArr[t].toString()}}else for(t=0;t<this.clearTargetArr.length;t++){var r=this.layout.children[t];this.clearTargetArr[t]>0?r.getChildByName("num").getComponent(cc.Label).string=this.clearTargetArr[t].toString():this.clearTargetArr[t]<=0&&this.clearTargetArr[t]>-99&&(r.getChildByName("num").active=!1,r.getChildByName("check").active=!0)}},t.prototype.isSuccess=function(){for(var e=0;e<this.clearTargetArr.length;e++)if(this.clearTargetArr[e]>0)return!1;return this.isEnd=!0,!0},t.prototype.isFail=function(){this.isEnd||this.step<=0&&(this.node.getChildByName("stepUI").active=!0)},t.prototype.bombEffect=function(e){var t=this.judge8Dir(e);t.push(e);for(var o=0;o<t.length;o++){var r=this.blockSpace.children[t[o]].children[0];this.joinBallNodeArr.push(r),this.joinBallIndexArr.push(t[o])}for(o=0;o<this.joinBallNodeArr.length;o++){var n=this.joinBallNodeArr[o].getComponent(v.default).BallType-1;this.clearTargetArr[n]>0&&this.clearTargetArr[n]--,this.clearTargetArr[this.clearTargetArr.length-1]>0&&this.clearTargetArr[this.clearTargetArr.length-1]--}for(this.setTarget(),this.isSuccess()&&this.playerPassLevel(),this.isFail(),g.default.Share.PlaySound("Clear"),o=0;o<this.joinBallNodeArr.length;o++){for(var a=cc.instantiate(this.clearFX),i=this.joinBallNodeArr[o].convertToWorldSpaceAR(cc.v2(0,0)),l=this.node.convertToNodeSpaceAR(i),c=0;c<a.childrenCount;c++)a.children[c].getComponent(cc.ParticleSystem).startColor=(new cc.Color).fromHEX(this.colorStringArr[this.joinBallNodeArr[o].getComponent(v.default).BallType-1]);a.setPosition(l),a.setParent(this.node)}for(o=0;o<t.length;o++)(r=this.blockSpace.children[t[o]].children[0]).getComponent(cc.RigidBody).destroy(),r.setParent(this.clearNode);this.BallFall(),this.produceNewBall(),this.joinBallNodeArr.splice(0,this.joinBallNodeArr.length),this.joinBallIndexArr.splice(0,this.joinBallIndexArr.length),f.default.getPlayerData().bomb--,f.default.setPlayerData(),this.InitPropNode()},t.prototype.rocketEffect=function(e,t){void 0===t&&(t=!1);for(var o=6*Math.floor(e/6),r=o+5,n=e%6,a=n+30,i=o;i<=r;i++)this.joinBallNodeArr.push(this.blockSpace.children[i].children[0]),this.joinBallIndexArr.push(i);for(i=n;i<=a;i+=6)i!=e&&(this.joinBallNodeArr.push(this.blockSpace.children[i].children[0]),this.joinBallIndexArr.push(i));for(i=0;i<this.joinBallNodeArr.length;i++){var l=this.joinBallNodeArr[i].getComponent(v.default).BallType-1;this.clearTargetArr[l]>0&&this.clearTargetArr[l]--,this.clearTargetArr[this.clearTargetArr.length-1]>0&&this.clearTargetArr[this.clearTargetArr.length-1]--}for(this.setTarget(),this.isSuccess()&&this.playerPassLevel(),this.isFail(),g.default.Share.PlaySound("Clear"),i=0;i<this.joinBallNodeArr.length;i++){for(var c=cc.instantiate(this.clearFX),s=this.joinBallNodeArr[i].convertToWorldSpaceAR(cc.v2(0,0)),h=this.node.convertToNodeSpaceAR(s),d=0;d<c.childrenCount;d++)c.children[d].getComponent(cc.ParticleSystem).startColor=(new cc.Color).fromHEX(this.colorStringArr[this.joinBallNodeArr[i].getComponent(v.default).BallType-1]);c.setPosition(h),c.setParent(this.node)}for(i=o;i<=r;i++)this.blockSpace.children[i].children[0].getComponent(cc.RigidBody).destroy(),this.blockSpace.children[i].children[0].setParent(this.clearNode);for(i=n;i<=a;i+=6)i!=e&&(this.blockSpace.children[i].children[0].getComponent(cc.RigidBody).destroy(),this.blockSpace.children[i].children[0].setParent(this.clearNode));this.BallFall(),this.produceNewBall(),this.joinBallNodeArr.splice(0,this.joinBallNodeArr.length),this.joinBallIndexArr.splice(0,this.joinBallIndexArr.length),t&&(f.default.getPlayerData().rocket--,f.default.setPlayerData()),this.InitPropNode()},t.prototype.produceNewBall=function(){for(var e=this,t=[0,0,0,0,0],o=[],r=[],n=0;n<this.blockSpace.childrenCount;n++)0==this.blockSpace.children[n].childrenCount&&r.push(n);for(n=0;n<r.length;n++)for(var a=this.judge8Dir(r[n]),i=0;i<a.length;i++)-1==o.indexOf(a[i])&&-1==r.indexOf(a[i])&&o.push(a[i]);for(n=0;n<o.length;n++)t[this.blockSpace.children[o[n]].children[0].getComponent(v.default).BallType-1]++;for(n=0;n<t.length;n++)t[n]/=o.length;var l=[];for(n=0;n<t.length;n++)l[n]=Math.floor(100*t[n]);var c=[0,0,0,0,0];c[0]=l[0],c[1]=0==l[1]?0:l[0]+l[1],c[2]=0==l[2]?0:l[0]+l[1]+l[2],c[3]=0==l[3]?0:l[0]+l[1]+l[2]+l[3],c[4]=0==l[4]?0:l[0]+l[1]+l[2]+l[3]+l[4];var s=0;for(n=c.length-1;n>0;n--)if(0!=c[n]){s=c[n];break}var h=[0,0,0,0,0],d=0;for(n=0;n<this.blockSpace.childrenCount;n++)0==this.blockSpace.children[n].childrenCount&&d++;for(n=0;n<this.blockSpace.childrenCount;n++)if(0==this.blockSpace.children[n].childrenCount){var p=y.default.getRandom(0,s+1),u=-1;for(i=c.length-1;i>=0;i--)p<c[i]&&0!=c[i]&&(c[i],u=i);if(h[u]>d/2){for(var f=y.default.getRandom(0,h.length);f==u||h[f]>=d/2;)f=y.default.getRandom(0,h.length);u=f}-1==u&&(u=y.default.getRandom(0,h.length)),h[u]++}for(n=0;n<this.blockSpace.childrenCount;n++)if(0==this.blockSpace.children[n].childrenCount){for(p=y.default.getRandom(0,h.length);0==h[p];)p=y.default.getRandom(0,h.length);var g=cc.instantiate(this.ballPrefab);g.getComponent(v.default).BallType=p+1,g.getComponent(v.default).index=n,g.getComponent(v.default).InitBall(),g.setParent(this.blockSpace.children[n]),g.setPosition(cc.v2(0,90)),cc.tween(g).to(.2,{position:cc.v3(0,0)}).start(),h[p]--}this.scheduleOnce(function(){e.checkEnablePath()},.5)},t.prototype.getNewIndex=function(){for(var e=0;e<this.blockSpace.childrenCount;e++)0!=this.blockSpace.children[e].childrenCount&&(this.blockSpace.children[e].children[0].getComponent(v.default).index=e)},t.prototype.checkEnablePath=function(){this.pathArr.splice(0,this.pathArr.length);for(var e=0,t=this.blockSpace.children[0].children[0].getComponent(v.default).BallType,o=0,r=this.blockSpace.children[0].children[0].getComponent(v.default).BallType,n=0,a=this.blockSpace.children[5].children[0].getComponent(v.default).BallType,i=0,l=this.blockSpace.children[30].children[0].getComponent(v.default).BallType,c=this.blockSpace.childrenCount,s=0;s<c;s++){var h=this.blockSpace.children[s].children[0].getComponent(v.default).BallType;if(s>=0&&s<=5)if(h==t){if(3==++e){var d=[s-2,s-1,s];cc.log("shang:"+d),this.pathArr.push(d),e=0}}else t=h,e=0;else s%6==0?h==r?3==++o&&(d=[s-12,s-6,s],this.pathArr.push(d),o=0):(r=h,o=0):s%6==5?h==a?3==++n&&(d=[s-12,s-6,s],this.pathArr.push(d),n=0):(a=h,n=0):s>=30&&s<=35?h==l?3==++i&&(d=[s-2,s-1,s],this.pathArr.push(d),i=0):(l=h,i=0):(d=this.judgeSameType8Dir(s)).length>=3&&this.pathArr.push(d)}for(this.unRepeatePathArr(),s=0;s<this.pathArr.length;s++)this.pathArr[s]=Array.from(new Set(this.pathArr[s]));if(this.pathArr.length>=this.createPathNum)return!0;var p=0;for(s=0;s<this.pathArr.length;s++)for(var u=0;u<this.pathArr[s].length;u++)p++;return p>=18},t.prototype.judgeSameType8Dir=function(e){var t=[e];this.blockSpace||(this.blockSpace=this.node.getChildByName("blockSpace"));var o=this.blockSpace.children[e].children[0].getComponent(v.default).BallType,r=this.blockSpace.children[e-1].children[0].getComponent(v.default).BallType,n=this.blockSpace.children[e+1].children[0].getComponent(v.default).BallType,a=this.blockSpace.children[e-7].children[0].getComponent(v.default).BallType,i=this.blockSpace.children[e-6].children[0].getComponent(v.default).BallType,l=this.blockSpace.children[e-5].children[0].getComponent(v.default).BallType,c=this.blockSpace.children[e+5].children[0].getComponent(v.default).BallType,s=this.blockSpace.children[e+6].children[0].getComponent(v.default).BallType,h=this.blockSpace.children[e+7].children[0].getComponent(v.default).BallType;if(o==r&&t.push(e-1),o==n&&t.push(e+1),o==a&&t.push(e-7),o==i&&t.push(e-6),o==l&&t.push(e-5),o==c&&t.push(e+5),o==s&&t.push(e+6),o==h&&t.push(e+7),o==a&&o==l){var d=t.indexOf(a);-1!=d&&t.splice(d,1)}if(o==a&&o==c){var p=t.indexOf(a);-1!=p&&t.splice(p,1)}if(o==c&&o==h){var u=t.indexOf(h);-1!=u&&t.splice(u,1)}if(o==l&&o==h){var f=t.indexOf(h);-1!=f&&t.splice(f,1)}return t.sort(function(e,t){return e-t}),t},t.prototype.unRepeatePathArr=function(){for(var e=this.pathArr.length-1;e>0;e--)for(var t=e-1;t>=0;t--){for(var o=this.pathArr[e],r=this.pathArr[t],n=!1,a=0;a<o.length;a++)if(-1!=r.indexOf(o[a])){this.pathArr[t]=r.concat(o),this.pathArr.splice(e,1),n=!0;break}if(1==n)break}},t.prototype.judge8Dir=function(e){return 0==e?[e+1,e+7,e+6]:5==e?[e-1,e+5,e+6]:30==e?[e+1,e-6,e-5]:35==e?[e-1,e-7,e-6]:e>0&&e<5?[e-1,e+1,e+5,e+6,e+7]:e%6==0?[e-6,e-5,e+1,e+6,e+7]:e%6==5?[e-7,e-6,e-1,e+5,e+6]:e>30&&e<35?[e-7,e-6,e-5,e-1,e+1]:[e-7,e-6,e-5,e-1,e+1,e+5,e+6,e+7]},t.prototype.createPath=function(){for(var e=this,t=0;t<this.blockSpace.childrenCount;t++)0!=this.blockSpace.children[t].childrenCount&&(this.blockSpace.children[t].children[0].getComponent(cc.RigidBody).destroy(),this.blockSpace.children[t].children[0].setParent(this.clearNode2));for(var o=0;o<this.blockSpace.childrenCount;o++){var r=y.default.getRandom(1,6),n=cc.instantiate(this.ballPrefab);n.getComponent(v.default).BallType=r,n.setParent(this.blockSpace.children[o]),n.setPosition(cc.v2(0,0)),o==this.blockSpace.childrenCount-1&&this.scheduleOnce(function(){if(e.checkEnablePath()){e.node.off(cc.Node.EventType.TOUCH_START,e.onTouchStart,e),e.node.off(cc.Node.EventType.TOUCH_MOVE,e.onTouchMove,e),e.node.off(cc.Node.EventType.TOUCH_END,e.onTouchEnd,e),e.node.off(cc.Node.EventType.TOUCH_CANCEL,e.onTouchEnd,e),e.node.on(cc.Node.EventType.TOUCH_START,e.onTouchStart,e),e.node.on(cc.Node.EventType.TOUCH_MOVE,e.onTouchMove,e),e.node.on(cc.Node.EventType.TOUCH_END,e.onTouchEnd,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e.onTouchEnd,e);for(var t=0;t<e.blockSpace.childrenCount;t++){var o=e.blockSpace.children[t].children[0];o.getComponent(v.default).index=t,o.getComponent(v.default).InitBall()}e.getNewIndex(),e.InitBallSkin()}else e.createPath()},.5)}},t.prototype.BallFall=function(){for(var e=[-1,-1,-1,-1,-1,-1],t=0;t<this.joinBallIndexArr.length;t++){var o=this.joinBallIndexArr[t]%6;this.joinBallIndexArr[t]>e[o]&&(e[o]=this.joinBallIndexArr[t])}for(t=0;t<e.length;t++)for(var r=e[t];r>5;){if(0!=this.blockSpace.children[r-6].childrenCount){var n=r%6+30,a=this.findLastWithoutBallBlock(n),i=this.blockSpace.children[r-6].children[0].convertToWorldSpaceAR(cc.v2(0,0)),l=a.convertToNodeSpaceAR(i);this.blockSpace.children[r-6].children[0].setParent(a),a.children[0].setPosition(l),cc.tween(a.children[0]).to(.2,{position:cc.v3(0,0)}).start()}r-=6}this.getNewIndex()},t.prototype.InitPropNode=function(){f.default.getPlayerData().maxLevel>=2?(this.bombBtn.getChildByName("lock").active=!1,this.rocketBtn.getChildByName("lock").active=!1,this.refreshBtn.getChildByName("lock").active=!1):(this.bombBtn.getComponent(u.default).interactable=!1,this.rocketBtn.getComponent(u.default).interactable=!1,this.refreshBtn.getComponent(u.default).interactable=!1,this.bombBtn.getChildByName("unlock").active=!1,this.rocketBtn.getChildByName("unlock").active=!1,this.refreshBtn.getChildByName("unlock").active=!1);var e=h.default.instance.storageData.key>0;0==f.default.getPlayerData().bomb?(this.bombBtn.getChildByName("unlock").getChildByName("num").active=!1,this.bombBtn.getChildByName("unlock").getChildByName("key").active=e):(this.bombBtn.getChildByName("unlock").getChildByName("num").active=!0,this.bombBtn.getChildByName("unlock").getChildByName("num").getChildByName("label").getComponent(cc.Label).string=f.default.getPlayerData().bomb.toString()),0==f.default.getPlayerData().rocket?(this.rocketBtn.getChildByName("unlock").getChildByName("num").active=!1,this.rocketBtn.getChildByName("unlock").getChildByName("key").active=e):(this.rocketBtn.getChildByName("unlock").getChildByName("num").active=!0,this.rocketBtn.getChildByName("unlock").getChildByName("num").getChildByName("label").getComponent(cc.Label).string=f.default.getPlayerData().rocket.toString()),0==f.default.getPlayerData().refresh?(this.refreshBtn.getChildByName("unlock").getChildByName("num").active=!1,this.refreshBtn.getChildByName("unlock").getChildByName("key").active=e):(this.refreshBtn.getChildByName("unlock").getChildByName("num").active=!0,this.refreshBtn.getChildByName("unlock").getChildByName("num").getChildByName("label").getComponent(cc.Label).string=f.default.getPlayerData().refresh.toString())},t.prototype.boomBtnCB=function(){if(f.default.getPlayerData().bomb>0)this.propChooseIndex=0,this.propTipNodeInit();else{var e=this,t=function(){f.default.getPlayerData().bomb++,f.default.setPlayerData(),e.InitPropNode()};h.default.instance.storageData.key>0?(h.default.instance.reduceKey(),t()):d.default.instance.showVideo(function(){t()},function(){})}},t.prototype.rocketBtnCB=function(){if(f.default.getPlayerData().rocket>0)this.propChooseIndex=1,this.propTipNodeInit();else{var e=this,t=function(){f.default.getPlayerData().rocket++,f.default.setPlayerData(),e.InitPropNode()};h.default.instance.storageData.key>0?(h.default.instance.reduceKey(),t()):d.default.instance.showVideo(function(){t()},function(){})}},t.prototype.refreshBtnCB=function(){if(f.default.getPlayerData().refresh>0)this.propChooseIndex=2,this.propTipNodeInit();else{var e=this,t=function(){f.default.getPlayerData().refresh++,f.default.setPlayerData(),e.InitPropNode()};h.default.instance.storageData.key>0?(h.default.instance.reduceKey(),t()):d.default.instance.showVideo(function(){t()},function(){})}},t.prototype.propTipNodeInit=function(){this.InitPropNode(),this.propTipNode.active=!0,y.default.loadSpFrame(this.propIconPathArr[this.propChooseIndex],this.propTipNode.getChildByName("propIcon")),this.propTipNode.getChildByName("tipLabel").getComponent(cc.Label).string=this.propTipLabelArr[this.propChooseIndex]},t.prototype.tipCloseBtnCB=function(){this.propChooseIndex=-1,this.propTipNode.active=!1},t.prototype.findLastWithoutBallBlock=function(e){for(var t=e;t>5;t-=6)if(0==this.blockSpace.children[t].childrenCount)return this.blockSpace.children[t]},t.prototype.getLimitPoint=function(e,t){var o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),r=e.x+this.limitLength*(t.x-e.x)/o,n=e.y+this.limitLength*(t.y-e.y)/o;return cc.v2(r,n)},t.prototype.getDis=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.prototype.selectPop=function(){for(var e=0;e<this.joinBallNodeArr.length;e++)this.joinBallNodeArr[e].getComponent(cc.Animation).currentClip&&"Select"==this.joinBallNodeArr[e].getComponent(cc.Animation).currentClip.name||this.joinBallNodeArr[e].getComponent(cc.Animation).play("Select")},a([_(cc.Graphics)],t.prototype,"draw",void 0),a([_(cc.Node)],t.prototype,"drawNode",void 0),a([_(cc.Node)],t.prototype,"blockSpace",void 0),a([_(cc.Node)],t.prototype,"clearNode",void 0),a([_(cc.Node)],t.prototype,"clearNode2",void 0),a([_(cc.Prefab)],t.prototype,"ballPrefab",void 0),a([_(cc.Node)],t.prototype,"bombBtn",void 0),a([_(cc.Node)],t.prototype,"rocketBtn",void 0),a([_(cc.Node)],t.prototype,"refreshBtn",void 0),a([_(cc.Node)],t.prototype,"propTipNode",void 0),a([_(cc.Node)],t.prototype,"layout",void 0),a([_(cc.Prefab)],t.prototype,"layoutItem",void 0),a([_(cc.Label)],t.prototype,"stepLabel",void 0),a([_(cc.Node)],t.prototype,"cover1",void 0),a([_(cc.Node)],t.prototype,"cover2",void 0),a([_(cc.Node)],t.prototype,"color1",void 0),a([_(cc.Node)],t.prototype,"color2",void 0),a([_(cc.Label)],t.prototype,"coinLabel",void 0),a([_(cc.Prefab)],t.prototype,"clearFX",void 0),a([_(cc.Prefab)],t.prototype,"boomPrefab",void 0),a([_(cc.Prefab)],t.prototype,"rocketPrefab",void 0),a([C],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/SoundMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"../../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../../../Bundle2_Res/Scripts/ResPanelOpen":void 0,"../Mod/ClearBall_MyButton":"ClearBall_MyButton","../Mod/ClearBall_PlayerDataMgr":"ClearBall_PlayerDataMgr","../Mod/ClearBall_SoundMgr":"ClearBall_SoundMgr","../Mod/ClearBall_Utility":"ClearBall_Utility","./ClearBall_Ball":"ClearBall_Ball"}],ClearBall_Global:[function(e,t,o){"use strict";cc._RF.push(t,"b396cprF09PvoWHS6+lAi4f","ClearBall_Global"),Object.defineProperty(o,"__esModule",{value:!0}),o.ClearBall_GG=void 0;var r=function(){function e(){this.eventBus=new cc.EventTarget,this.score=0,this.needAddProgress=!1,this.leftNodeFlowerType=[],this.leftNodewithFlowerType=[],this.leftIndexArr=[],this.playAni=!1}return e.Instance=new e,e}();o.ClearBall_GG=r.Instance,cc._RF.pop()},{}],ClearBall_MyButton:[function(e,t,o){"use strict";cc._RF.push(t,"785f8xNbRFGu7LKvn5Z8ST+","ClearBall_MyButton");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./ClearBall_SoundMgr"),l=cc._decorator,c=l.ccclass,s=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.eventHandler=[],t.interactable=!0,t.isPlaySoundEffect=!0,t.soundUrl="Click",t.originScale=1,t.targetScale=1.2,t.scaleDuration=.1,t.tweenTag1=1,t.tweenTag2=1,t}return n(t,e),t.prototype.onLoad=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStartCB,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEndCB,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancelCB,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.touchCancelCB,this),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStartCB,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndCB,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancelCB,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.touchCancelCB,this)},t.prototype.onDisable=function(){this.node.scale=this.originScale},t.prototype.start=function(){},t.prototype.touchStartCB=function(){this.interactable&&(cc.Tween.stopAllByTag(this.tweenTag1),cc.Tween.stopAllByTag(this.tweenTag2),this.node.scale=this.originScale,cc.tween(this.node).to(this.scaleDuration,{scale:this.targetScale}).tag(this.tweenTag1).start())},t.prototype.touchEndCB=function(){if(this.interactable){i.default.Share.PlaySound(this.soundUrl),cc.tween(this.node).to(this.scaleDuration,{scale:this.originScale}).tag(this.tweenTag2).call(function(){}).start();for(var e=0;e<this.eventHandler.length;e++){var t=this.eventHandler[e];t.target&&t._componentName&&t.target.getComponent(t._componentName)[t.handler](t.customEventData)}}},t.prototype.touchCancelCB=function(){this.interactable&&cc.tween(this.node).to(this.scaleDuration,{scale:this.originScale}).tag(this.tweenTag2).start()},a([s(cc.Component.EventHandler)],t.prototype,"eventHandler",void 0),a([s],t.prototype,"interactable",void 0),a([s],t.prototype,"isPlaySoundEffect",void 0),a([s],t.prototype,"originScale",void 0),a([s],t.prototype,"targetScale",void 0),a([s],t.prototype,"scaleDuration",void 0),a([c],t)}(cc.Component);o.default=h,cc._RF.pop()},{"./ClearBall_SoundMgr":"ClearBall_SoundMgr"}],ClearBall_MyLabel:[function(e,t,o){"use strict";cc._RF.push(t,"c7b4fTGLXJAWabYr7WBAcJ1","ClearBall_MyLabel");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,l=i.ccclass,c=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.originScale=1,t.targetScale=3,t.orginOpacity=180,t.targetOpacity=255,t.duration=1,t}return n(t,e),t.prototype.start=function(){var e=cc.scaleTo(this.duration,this.targetScale),t=cc.scaleTo(this.duration,this.originScale),o=cc.fadeTo(this.duration,this.targetOpacity),r=cc.fadeTo(this.duration,this.orginOpacity),n=cc.sequence(e,t),a=cc.sequence(o,r);this.node.runAction(cc.repeatForever(n)),this.node.runAction(cc.repeatForever(a))},a([c],t.prototype,"originScale",void 0),a([c],t.prototype,"targetScale",void 0),a([c],t.prototype,"orginOpacity",void 0),a([c],t.prototype,"targetOpacity",void 0),a([c],t.prototype,"duration",void 0),a([l],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ClearBall_PlayerDataMgr:[function(e,t,o){"use strict";cc._RF.push(t,"ee2c2G7WPdLVIthjDUyeaKm","ClearBall_PlayerDataMgr");var r=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),a=cc._decorator,i=a.ccclass,l=(a.property,function(){function e(){}return e.getPlayerData=function(){return this._playerData=n.default.instance.storageData.clearBallData,this._playerData},e.setPlayerData=function(){n.default.instance.writeStorage(n.default.instance.storageName.clearBallData,this._playerData)},e._playerData=null,r([i],e)}());o.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0}],ClearBall_RewardUI:[function(e,t,o){"use strict";cc._RF.push(t,"a5e9cq+2YJM7ZnJYwCD0J8v","ClearBall_RewardUI");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Bundle1_Loading/Scripts/Platform/Platform"),l=e("../Mod/ClearBall_Global"),c=e("../Mod/ClearBall_PlayerDataMgr"),s=e("../Mod/ClearBall_Utility"),h=cc._decorator,d=h.ccclass,p=h.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pic=null,t.tip=null,t.videoTip1=null,t.videoTip2=null,t.stringArr=["\u70b8\u5f39x1","\u706b\u7badx1","\u5237\u65b0x1"],t.selectNum=0,t.select=-1,t.isTick=!0,t}return n(t,e),t.prototype.start=function(){var e=c.default.getPlayerData().bomb,t=[0,0,0];c.default.getPlayerData().rocket<=e&&(t[1]=1),c.default.getPlayerData().refresh<=e&&(t[2]=1),t[1]==t[2]&&0==t[1]&&(t[0]=1);for(var o=s.default.getRandom(0,t.length);0==t[o];)o=s.default.getRandom(0,t.length);switch(o){case 0:s.default.loadSpFrame("Textures/GameUI/Icon_Bomb",this.pic);break;case 1:s.default.loadSpFrame("Textures/GameUI/Icon_Rocket",this.pic);break;case 2:s.default.loadSpFrame("Textures/GameUI/Icon_Swap",this.pic)}this.select=o,this.tip.string=this.stringArr[o]},t.prototype.onEnable=function(){this.getComponent(cc.Animation).play()},t.prototype.InitvideoTip=function(){this.videoTip1.active=this.isTick,this.videoTip2.active=this.isTick},t.prototype.videoBtnCB=function(){this.isTick=!this.isTick,this.InitvideoTip()},t.prototype.submitBtnCB=function(){var e=this;this.isTick?i.default.instance.showVideo(function(){0==e.select?c.default.getPlayerData().bomb+=2:1==e.select?c.default.getPlayerData().rocket+=2:c.default.getPlayerData().refresh+=2,c.default.setPlayerData()},function(){}):(0==this.select?c.default.getPlayerData().bomb+=1:1==this.select?c.default.getPlayerData().rocket+=1:c.default.getPlayerData().refresh+=1,c.default.setPlayerData()),l.ClearBall_GG.playAni=!0,cc.director.loadScene("ClearBall_GameScene")},a([p(cc.Node)],t.prototype,"pic",void 0),a([p(cc.Label)],t.prototype,"tip",void 0),a([p(cc.Node)],t.prototype,"videoTip1",void 0),a([p(cc.Node)],t.prototype,"videoTip2",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../Mod/ClearBall_Global":"ClearBall_Global","../Mod/ClearBall_PlayerDataMgr":"ClearBall_PlayerDataMgr","../Mod/ClearBall_Utility":"ClearBall_Utility"}],ClearBall_RotationAuto:[function(e,t,o){"use strict";cc._RF.push(t,"811acd30rhHk5J6mT2WkhwH","ClearBall_RotationAuto");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,l=i.ccclass,c=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.update=function(){this.node.angle+=1},a([l],t)}(cc.Component));o.default=c,cc._RF.pop()},{}],ClearBall_SkinBtn:[function(e,t,o){"use strict";cc._RF.push(t,"4d433wLSE9GhbQri4xCsWXZ","ClearBall_SkinBtn");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Bundle1_Loading/Scripts/Tool/Tool"),l=cc._decorator,c=l.ccclass,s=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skinPanel=null,t}return n(t,e),t.prototype.onLoad=function(){i.Tool.d2_AddClickEvent(this.node,this.openSkinPanel,this)},t.prototype.openSkinPanel=function(){this.skinPanel.active=!0},a([s(cc.Node)],t.prototype,"skinPanel",void 0),a([c],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0}],ClearBall_SkinUI:[function(e,t,o){"use strict";cc._RF.push(t,"586a3Jd5AxAMaGPsRU4jxLc","ClearBall_SkinUI");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),l=e("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),c=e("../../../Bundle1_Loading/Scripts/Platform/Platform"),s=e("../Mod/ClearBall_PlayerDataMgr"),h=cc._decorator,d=h.ccclass,p=h.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t}return n(t,e),t.prototype.start=function(){var e=this;this.InitContent();for(var t=function(t){o.content.children[t].getChildByName("chooseBtn").on(cc.Node.EventType.TOUCH_END,function(){e.chooseBtnCB(t)},t),o.content.children[t].getChildByName("lockBtn").on(cc.Node.EventType.TOUCH_END,function(){e.unlockBtnCB(t)},t)},o=this,r=0;r<this.content.childrenCount;r++)t(r)},t.prototype.onEnable=function(){this.node.opacity=255,this.getComponent(cc.Animation).play()},t.prototype.backBtnCB=function(){var e=this;cc.tween(this.node).to(.2,{opacity:0}).start(),this.scheduleOnce(function(){e.node.active=!1,l.EventMgr.event(i.EventType.Game_ClearBall_InitSkin)},.2)},t.prototype.unlockBtnCB=function(e){var t=this;c.default.instance.showVideo(function(){s.default.getPlayerData().ballLockSkinArr[e]=1,s.default.setPlayerData(),t.InitContent(),l.EventMgr.event(i.EventType.Game_ClearBall_InitSkin)},function(){})},t.prototype.chooseBtnCB=function(e){s.default.getPlayerData().ballSkin=e+1,s.default.setPlayerData(),this.InitContent(),l.EventMgr.event(i.EventType.Game_ClearBall_InitSkin)},t.prototype.InitContent=function(){for(var e=s.default.getPlayerData().ballLockSkinArr,t=0;t<e.length;t++){var o=this.content.children[t];o.getChildByName("using").active=!1,0==e[t]?(o.getChildByName("lockBtn").active=!0,o.getChildByName("chooseBtn").active=!1):(o.getChildByName("lockBtn").active=!1,o.getChildByName("chooseBtn").active=!0),t+1==s.default.getPlayerData().ballSkin&&(o.getChildByName("chooseBtn").active=!1,o.getChildByName("using").active=!0)}},a([p(cc.Node)],t.prototype,"content",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../Mod/ClearBall_PlayerDataMgr":"ClearBall_PlayerDataMgr"}],ClearBall_SoundMgr:[function(e,t,o){"use strict";cc._RF.push(t,"5fb6a1imaBCgLRcda3IN5Iz","ClearBall_SoundMgr");var r=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../Bundle1_Loading/Scripts/Mgr/SoundMgr"),a=cc._decorator,i=a.ccclass,l=(a.property,function(){function e(){}var t;return t=e,e.prototype.PlaySound=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=1);var r="Game_ClearBall/"+e;n.default.instance.PlaySound(r,t,o)},e.prototype.PlayBackground=function(e,t){void 0===t&&(t=!0);var o="Game_ClearBall/"+e;n.default.instance.PlayMusic(o,t)},e.Share=new t,r([i],e)}());o.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/SoundMgr":void 0}],ClearBall_StepUI:[function(e,t,o){"use strict";cc._RF.push(t,"af5e2s3YO9PGpH9mIlq4OkT","ClearBall_StepUI");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Bundle1_Loading/Scripts/Platform/Platform"),l=e("../Crl/ClearBall_GameLogic"),c=cc._decorator,s=c.ccclass,h=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showLayout=null,t.layout=null,t}return n(t,e),t.prototype.onEnable=function(){var e=this;this.showLayout.removeAllChildren(),this.scheduleOnce(function(){for(var t=0;t<e.layout.childrenCount;t++)cc.instantiate(e.layout.children[t]).setParent(e.showLayout)},.1),this.getComponent(cc.Animation).play()},t.prototype.start=function(){},t.prototype.closeBtnCB=function(){cc.find("Canvas/failUI").active=!0},t.prototype.videoBtnCB=function(){var e=this;i.default.instance.showVideo(function(){cc.find("Canvas").getComponent(l.default).step+=3,cc.find("Canvas").getComponent(l.default).stepLabel.string=cc.find("Canvas").getComponent(l.default).step.toString(),e.node.active=!1},function(){})},a([h(cc.Node)],t.prototype,"showLayout",void 0),a([h(cc.Node)],t.prototype,"layout",void 0),a([s],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../Crl/ClearBall_GameLogic":"ClearBall_GameLogic"}],ClearBall_SuccessUI:[function(e,t,o){"use strict";cc._RF.push(t,"9e531SsSjdOL4uq+r5WgUiO","ClearBall_SuccessUI");var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../Bundle1_Loading/Scripts/Platform/Platform"),l=e("../Mod/ClearBall_Global"),c=e("../Mod/ClearBall_SoundMgr"),s=cc._decorator,h=s.ccclass,d=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.videoTip=null,t.videoTip2=null,t.stageClearFX=null,t.drawBtn=null,t.isTick=!0,t}return n(t,e),t.prototype.start=function(){c.default.Share.PlaySound("StageClear");var e=cc.instantiate(this.stageClearFX);e.setPosition(cc.v2(0,100)),e.setParent(this.node),this.isTick=!1,this.InitvideoTip()},t.prototype.onEnable=function(){this.getComponent(cc.Animation).play()},t.prototype.drawBtnCB=function(){},t.prototype.InitvideoTip=function(){this.videoTip.active=this.isTick,this.videoTip2.active=this.isTick},t.prototype.videoBtnCB=function(){this.isTick=!this.isTick,this.InitvideoTip()},t.prototype.submitBtnCB=function(){var e=this;this.isTick?i.default.instance.showVideo(function(){e.node.active=!1,cc.find("Canvas/rewardUI").active=!0},function(){}):(l.ClearBall_GG.playAni=!0,cc.director.loadScene("ClearBall_GameScene"))},a([d(cc.Node)],t.prototype,"videoTip",void 0),a([d(cc.Node)],t.prototype,"videoTip2",void 0),a([d(cc.Prefab)],t.prototype,"stageClearFX",void 0),a([d(cc.Node)],t.prototype,"drawBtn",void 0),a([h],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../Mod/ClearBall_Global":"ClearBall_Global","../Mod/ClearBall_SoundMgr":"ClearBall_SoundMgr"}],ClearBall_Utility:[function(e,t,o){"use strict";cc._RF.push(t,"e7a89a0mPxFIb26vKmBfI5k","ClearBall_Utility");var r=this&&this.__decorate||function(e,t,o,r){var n,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(a<3?n(i):a>3?n(t,o,i):n(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),a=cc._decorator,i=a.ccclass,l=(a.property,function(){function e(){}return e.getFirstNotZeroFromArr=function(e){for(var t=e[0],o=0;o<e.length;o++)if(0!=e[o]){t=e[o];break}return t},e.getFirstNotZeroNumFromArr=function(e){for(var t=0;t<e.length;t++)if(0!=e[t])return e[t]},e.getChangeFromArr=function(e,t){for(var o=0,r=e.length-1;r>=0;r--)if(e[r]!=t[r]){o=r;break}return o},e.getChangeFromFrontArr=function(e,t){for(var o=-1,r=0;r<e.length;r++)if(e[r]!=t[r]){o=r;break}return o},e.getDifferCountFromArr=function(e,t){for(var o=0,r=0;r<e.length;r++)e[r]!=t[r]&&o++;return o},e.isEqualArr=function(e,t){for(var o=!0,r=0;r<t.length;r++)e[r]!=t[r]&&(o=!1);return o},e.isAllZeroInArr=function(e){for(var t=!0,o=0;o<e.length;o++)if(0!=e[o]){t=!1;break}return t},e.isNotZeroInArr=function(e){var t=!0,o=e[0];0==o&&(t=!1);for(var r=0;r<e.length;r++)o!=e[r]&&(t=!1);return t},e.loadSpFrame=function(e,t){this.loadRes(e,cc.SpriteFrame,function(e,o){t.getComponent(cc.Sprite).spriteFrame=o})},e.loadSpFrame2=function(e,t){this.loadRes(e,cc.SpriteFrame,function(e,o){t.getComponent(cc.Mask).spriteFrame=o})},e.loadSpFrame3=function(e,t){this.loadRes(e,cc.SpriteFrame,function(e,o){t.getComponent(cc.ParticleSystem).spriteFrame=o})},e.load_json=function(e){var t=this,o="json/"+e;return new Promise(function(e,r){t.loadRes(o,cc.JsonAsset,function(t,o){t?r(t):e(o)})})},e.getRandom=function(e,t){var o=t-e,r=Math.random()*o;return r+=e,Math.floor(r)},e.getRandom2=function(e,t){var o=t-e;return Math.random()*o+e},e.getRandomWithDot=function(e,t,o){var r=t-e,n=Math.random()*r;return Number((n+=e).toFixed(o))},e.A2BPosition=function(e,t){var o=t.convertToWorldSpaceAR(cc.v2(0,0)),r=e.parent.convertToNodeSpaceAR(o);e.setPosition(r)},e.OpenAlert=function(e,t,o){void 0===t&&(t=2e3),void 0===o&&(o=!1),cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.showToast({title:e,duration:t,mask:!1,icon:o?"success":"none"})},e.judgeColor=function(e,t){var o="equal";if(4!=e&&4!=t)switch(Math.abs(e-t)){case 0:o="equal";break;case 1:o=e<t?"left":"right";break;case 2:o=e<t?"right":"left"}if(4==e||4==t)switch(Math.abs(e-t)){case 0:return"equal";default:o=e<t?"right":"left"}return o},e.changeColorByNum=function(e){var t=cc.Color.WHITE;switch(e){case 1:t=cc.Color.RED;break;case 2:t=cc.Color.GREEN;break;case 3:t=cc.Color.BLUE;break;case 4:t=(new cc.Color).fromHEX("#CC00FF")}return t},e.getDistance=function(e,t){var o=e.position,r=t.position,n=o.sub(r);return Math.abs(n.mag())},e.getDistanceByVec=function(e,t){var o=e.sub(t);return Math.abs(o.mag())},e.sameDay=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},e.screenVibrate=function(){var e=cc.find("Canvas/PlayerCam");e.stopAllActions(),cc.tween(e).by(.1,{y:15}).by(.1,{y:-30}).by(.1,{y:30}).by(.1,{y:-15}).start(),cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.vibrateLong()},e.shuffleArr=function(e){for(var t,o=e.length;o;){var r=Math.floor(Math.random()*o--);t=[e[o],e[r]],e[r]=t[0],e[o]=t[1]}return e},e.numUpdate=function(e,t){var o={a:Number(e.string)};cc.tween(o).to(.5,{a:t},{progress:function(t,o,r,n){var a=Math.round(o*n);e.string=String(a)}}).start()},e.parseObjUrlPara=function(e){var t="";for(var o in e)e.hasOwnProperty(o)&&(t+=o+"="+e[o]+"&");return t.substring(0,t.length-1)},e.loadRes=function(e,t,o){e="Res/"+e,n.default.loadClearBallRes(e,t,o)},r([i],e)}());o.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0}]},{},["ClearBall_SkinBtn","ClearBall_Ball","ClearBall_Block","ClearBall_ClearFXAutoDestroy","ClearBall_GameLogic","ClearBall_DateUtils","ClearBall_Global","ClearBall_MyButton","ClearBall_MyLabel","ClearBall_PlayerDataMgr","ClearBall_RotationAuto","ClearBall_SoundMgr","ClearBall_Utility","ClearBall_FailUI","ClearBall_RewardUI","ClearBall_SkinUI","ClearBall_StepUI","ClearBall_SuccessUI"]);