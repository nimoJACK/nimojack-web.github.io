window.__require=function e(t,o,a){function n(i,s){if(!o[i]){if(!t[i]){var c=i.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+i+"'")}i=c}var u=o[i]={exports:{}};t[i][0].call(u.exports,function(e){return n(t[i][1][e]||e)},u,u.exports,e,t,o,a)}return o[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<a.length;i++)n(a[i]);return n}({AppConfig:[function(e,t,o){"use strict";cc._RF.push(t,"8b77fjVnjVNAoEdOnjW7EmC","AppConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={wechat:{videoAdUnitId:["adunit-50987353f018acee"],interstitialAdUnitId:["adunit-8cd9ea6e622b0574"]}},cc._RF.pop()},{}],AssetMgr:[function(e,t,o){"use strict";cc._RF.push(t,"7cc0fsPQL1Is7bwNOu2w+R1","AssetMgr");var a=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Platform/Platform"),r=e("../JJSDK/JJMgr"),i=e("./SoundMgr"),s=e("./StorageMgr"),c=e("../Comp/GameLoading"),l=e("../Config/EnumTypes"),u=e("../Config/DataClass"),d=cc._decorator,f=d.ccclass,g=(d.property,function(){function e(){}var t;return t=e,e.loadAllBundle=function(){r.default.instance.loadAllAdv(),s.default.instance.storageData.findFaultData.maxLevel<=r.default.instance.dataConfig.front_findFault_maxLevel&&t.loadGame_FindFault_Stage(s.default.instance.storageData.findFaultData.maxLevel)},e.releaseOtherGameBundle=function(){t.doggyBundle&&(t.doggyBundle.releaseAll(),t.isDoggyLoaded=!1,t.doggyAxis=0),t.doggyStageBundle&&(t.doggyStageBundle.releaseAll(),t.isDoggyStageLoaded=!1,t.doggyStageAxis=0)},e.loadResBundle=function(e){var o=this,a=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dRes\u8d44\u6e90\u5305"),n.default.instance.loadSubPackage(this.ResUrl,function(){t.resAxis=1,cc.assetManager.loadBundle(o.ResUrl,function(o,n){o?cc.error("\u52a0\u8f7dRes\u8d44\u6e90\u5305\u5931\u8d25"):(t.resBundle=n,t.isResLoaded=!0,console.log("\u52a0\u8f7dRes\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-a)+"ms"),i.default.instance&&i.default.instance.PlayMusic(l.SoundType.Bgm),e&&e())})},function(e){t.resAxis=.01*e})},e.loadRes=function(e,t,o){this.isResLoaded?this.resBundle.load(e,t,o):n.default.instance.showToast("\u8d44\u6e90\u6b63\u5728\u52a0\u8f7d\uff0c\u8bf7\u7a0d\u7b49")},e.loadMenuBundle=function(e){var o=this;if(this.isMenuLoaded)e&&e();else{var a=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dMenu\u8d44\u6e90\u5305"),n.default.instance.loadSubPackage(this.menuUrl,function(){cc.assetManager.loadBundle(o.menuUrl,function(o,n){o?cc.error("\u52a0\u8f7dMenu\u8d44\u6e90\u5305\u5931\u8d25"):(t.menuAxis=1,t.menuBundle=n,t.isMenuLoaded=!0,console.log("\u52a0\u8f7dMenu\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-a)+"ms"),e&&e())})},function(e){t.menuAxis=.01*e})}},e.goMenu=function(){var e=this;this.isGoingMenu||(t.releaseOtherGameBundle(),c.default.instance.root.active=!0,c.default.instance.bar.value=0,this.isGoingMenu=!0,n.default.instance.hideBanner(),this.isMenuLoaded?cc.director.preloadScene(l.SceneName.Menu,function(e,t){c.default.instance.bar.value=e/t*.6},function(o){o?console.error("Menu\u573a\u666f\u9884\u52a0\u8f7d\u5931\u8d25"):(c.default.instance.bar.value=.6,cc.director.loadScene(l.SceneName.Menu,function(){e.isGoingMenu=!1;var o=function(){c.default.instance.bar.value=.4*t.getRoomAxis(s.default.instance.storageData.nowRoomName)+.6};c.default.instance.schedule(o),t.loadRoom(s.default.instance.storageData.nowRoomName,function(){c.default.instance.unschedule(o),c.default.instance.bar.value=1})}))}):(this.loadMenuBundle(function(){t.goMenu()}),this.isGoingMenu=!1))},e.loadRoom=function(e,o){switch(cc.assetManager.releaseAsset(t.nowRoomPrefab),e){case l.RoomName.Room_1:this.loadMenu_Room_1Bundle(o);break;case l.RoomName.Room_2:this.loadMenu_Room_2Bundle(o);break;case l.RoomName.Room_3_1:this.loadMenu_Room_3_1Bundle(o);break;case l.RoomName.Room_3_2:this.loadMenu_Room_3_2Bundle(o);break;case l.RoomName.Room_3_3:this.loadMenu_Room_3_3Bundle(o);break;case l.RoomName.Room_4:this.loadMenu_Room_4Bundle(o);break;default:console.error("\u623f\u95f4\u4e0d\u5b58\u5728",e)}},e.getRoomAxis=function(e){switch(e){case l.RoomName.Room_1:return this.Menu_Room_1_Axis;case l.RoomName.Room_2:return this.Menu_Room_2_Axis;case l.RoomName.Room_3_1:return this.Menu_Room_3_1_Axis;case l.RoomName.Room_3_2:return this.Menu_Room_3_2_Axis;case l.RoomName.Room_3_3:return this.Menu_Room_3_3_Axis;case l.RoomName.Room_4:return this.Menu_Room_4_Axis;default:return console.error("\u623f\u95f4\u4e0d\u5b58\u5728",e),1}},e.loadMenu_Room_1Bundle=function(e){if(this.isMenu_Room_1_Loaded)this.Menu_Room_1_Bundle.load("Room_1",cc.Prefab,function(o,a){o?cc.error("\u52a0\u8f7dRoom_1\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=a,e&&e())});else{var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dMenu_Room_1\u8d44\u6e90\u5305"),cc.assetManager.loadBundle(this.Menu_Room_1_Url,function(a,n){a?cc.error("\u52a0\u8f7dMenu_Room_1\u8d44\u6e90\u5305\u5931\u8d25"):n.load("Room_1",cc.Prefab,function(e,o){t.Menu_Room_1_Axis=.8+e/o},function(a,r){a?cc.error("\u52a0\u8f7dRoom_1\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=r,t.Menu_Room_1_Axis=1,t.Menu_Room_1_Bundle=n,t.isMenu_Room_1_Loaded=!0,console.log("\u52a0\u8f7dMenu_Room_1\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e&&e())})})}},e.loadMenu_Room_2Bundle=function(e){if(this.isMenu_Room_2_Loaded)this.Menu_Room_2_Bundle.load("Room_2",cc.Prefab,function(o,a){o?cc.error("\u52a0\u8f7dRoom_2\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=a,e&&e())});else{var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dMenu_Room_2\u8d44\u6e90\u5305"),cc.assetManager.loadBundle(this.Menu_Room_2_Url,function(a,n){a?cc.error("\u52a0\u8f7dMenu_Room_2\u8d44\u6e90\u5305\u5931\u8d25"):n.load("Room_2",cc.Prefab,function(e,o){t.Menu_Room_2_Axis=.8+e/o},function(a,r){a?cc.error("\u52a0\u8f7dRoom_2\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=r,t.Menu_Room_2_Axis=1,t.Menu_Room_2_Bundle=n,t.isMenu_Room_2_Loaded=!0,console.log("\u52a0\u8f7dMenu_Room_2\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e&&e())})})}},e.loadMenu_Room_3_1Bundle=function(e){if(this.isMenu_Room_3_1_Loaded)this.Menu_Room_3_1_Bundle.load("Room_3_1",cc.Prefab,function(o,a){o?cc.error("\u52a0\u8f7dRoom_3_1\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=a,e&&e())});else{var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dMenu_Room_3_1\u8d44\u6e90\u5305"),cc.assetManager.loadBundle(this.Menu_Room_3_1_Url,function(a,n){a?cc.error("\u52a0\u8f7dMenu_Room_3_1\u8d44\u6e90\u5305\u5931\u8d25"):n.load("Room_3_1",cc.Prefab,function(e,o){t.Menu_Room_3_1_Axis=.8+e/o},function(a,r){a?cc.error("\u52a0\u8f7dRoom_3_1\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=r,t.Menu_Room_3_1_Axis=1,t.Menu_Room_3_1_Bundle=n,t.isMenu_Room_3_1_Loaded=!0,console.log("\u52a0\u8f7dMenu_Room_3_1\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e&&e())})})}},e.loadMenu_Room_3_2Bundle=function(e){if(this.isMenu_Room_3_2_Loaded)this.Menu_Room_3_2_Bundle.load("Room_3_2",cc.Prefab,function(o,a){o?cc.error("\u52a0\u8f7dRoom_3_2\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=a,e&&e())});else{var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dMenu_Room_3_2\u8d44\u6e90\u5305"),cc.assetManager.loadBundle(this.Menu_Room_3_2_Url,function(a,n){a?cc.error("\u52a0\u8f7dMenu_Room_3_2\u8d44\u6e90\u5305\u5931\u8d25"):n.load("Room_3_2",cc.Prefab,function(e,o){t.Menu_Room_3_2_Axis=.8+e/o},function(a,r){a?cc.error("\u52a0\u8f7dRoom_3_2\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=r,t.Menu_Room_3_2_Axis=1,t.Menu_Room_3_2_Bundle=n,t.isMenu_Room_3_2_Loaded=!0,console.log("\u52a0\u8f7dMenu_Room_3_2\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e&&e())})})}},e.loadMenu_Room_3_3Bundle=function(e){if(this.isMenu_Room_3_3_Loaded)this.Menu_Room_3_3_Bundle.load("Room_3_3",cc.Prefab,function(o,a){o?cc.error("\u52a0\u8f7dRoom_3_3\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=a,e&&e())});else{var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dMenu_Room_3_3\u8d44\u6e90\u5305"),cc.assetManager.loadBundle(this.Menu_Room_3_3_Url,function(a,n){a?cc.error("\u52a0\u8f7dMenu_Room_3_3\u8d44\u6e90\u5305\u5931\u8d25"):n.load("Room_3_3",cc.Prefab,function(e,o){t.Menu_Room_3_3_Axis=.8+e/o},function(a,r){a?cc.error("\u52a0\u8f7dRoom_3_3\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=r,t.Menu_Room_3_3_Axis=1,t.Menu_Room_3_3_Bundle=n,t.isMenu_Room_3_3_Loaded=!0,console.log("\u52a0\u8f7dMenu_Room_3_3\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e&&e())})})}},e.loadMenu_Room_4Bundle=function(e){if(this.isMenu_Room_4_Loaded)this.Menu_Room_4_Bundle.load("Room_4",cc.Prefab,function(o,a){o?cc.error("\u52a0\u8f7dRoom_4\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=a,e&&e())});else{var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dMenu_Room_4\u8d44\u6e90\u5305"),cc.assetManager.loadBundle(this.Menu_Room_4_Url,function(a,n){a?cc.error("\u52a0\u8f7dMenu_Room_4\u8d44\u6e90\u5305\u5931\u8d25"):n.load("Room_4",cc.Prefab,function(e,o){t.Menu_Room_4_Axis=.8+e/o},function(a,r){a?cc.error("\u52a0\u8f7dRoom_4\u9884\u5236\u4f53\u5931\u8d25"):(t.nowRoomPrefab=r,t.Menu_Room_4_Axis=1,t.Menu_Room_4_Bundle=n,t.isMenu_Room_4_Loaded=!0,console.log("\u52a0\u8f7dMenu_Room_4\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e&&e())})})}},e.loadGame_FindFaultUrlBundle=function(e){var o=this;if(this.isGame_FindFaultLoaded)e&&e();else{c.default.instance.bar.value=0;var a=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dGame_FindFault\u8d44\u6e90\u5305"),n.default.instance.loadSubPackage(this.Game_FindFaultUrl,function(){cc.assetManager.loadBundle(o.Game_FindFaultUrl,function(o,n){o?cc.error("\u52a0\u8f7dGame_FindFault\u8d44\u6e90\u5305\u5931\u8d25"):(t.Game_FindFaultAxis=1,c.default.instance.bar.value=.8*t.Game_FindFaultAxis,t.Game_FindFaultBundle=n,t.isGame_FindFaultLoaded=!0,console.log("\u52a0\u8f7dGame_FindFault\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-a)+"ms"),e&&e(.8))})},function(e){t.Game_FindFaultAxis=.01*e,c.default.instance.bar.value=.8*t.Game_FindFaultAxis})}},e.goGame_FindFault=function(e){var o=this;void 0===e&&(e=0),this.isGoingGame_FindFault=!0,n.default.instance.hideBanner(),c.default.instance.root.active=!0,this.isGame_FindFaultLoaded?cc.director.preloadScene(l.SceneName.Game_FindFault,function(t,o){c.default.instance.bar.value=e+t/o*.2},function(){c.default.instance.bar.value=1,cc.director.loadScene(l.SceneName.Game_FindFault,function(){o.isGoingGame_FindFault=!1,c.default.instance.root.active=!1})}):(t.loadGame_FindFaultUrlBundle(function(e){t.goGame_FindFault(e)}),this.isGoingGame_FindFault=!1)},e.loadGame_FindFault_Stage=function(e,o){var a="findFault_stage"+e.toString();this.allFindFaultStage.length>2&&this.allFindFaultStage.shift().clearStage();for(var n=0;n<this.allFindFaultStage.length;n++)if(this.allFindFaultStage[n].name==a)return o&&o(this.allFindFaultStage[n]),void console.log("\u5df2\u6709\u5173\u5361\u7d20\u6750");cc.assetManager.loadBundle(a,function(n,r){console.log(r),r.load("info",cc.JsonAsset,function(n,i){if(n)console.warn("\u52a0\u8f7d","info.json","\u5931\u8d25",n);else{var s=new u.FindFaultStage;s.name=a,s.addAsset(i);var c=i.json,l="";if(-1!=c.bgUrl.indexOf("#"))for(var d=c.bgUrl.split("#"),f=0;f<d.length;f++)l+=d[f];else l=c.bgUrl;var g=""+l,m=1+c.points.length,_=function(){--m<=0&&(t.allFindFaultStage.push(s),o&&o(s))};r.load(g,function(e,t){e?console.warn("\u52a0\u8f7d",g,"\u5931\u8d25",e):(s.addAsset(t),s.bgTexture=t,_())}),s.pointTexture=new Array(c.points.length),s.pointPos=new Array(c.points.length),s.pointScale=new Array(c.points.length);var h=function(t){var o,a=c.points[t];o=a.url,e>100&&e<=200&&-1==["gq144_image_1","gq144_image_10","gq148_image_2","gq149_image_10","gq154_image_4","gq155_image_10","gq156_image_10","gq156_image_2","gq166_image_10","gq168_image_10"].indexOf(o)||["gq35_image_5","gq48_image_7","gq56_image_1","gq61_image_6","gq64_image_7","gq65_image_9","gq66_image_2","gq68_image_2","gq68_image_10","gq69_image_2","gq73_image_7","gq78_image_1","gq79_image_6","gq82_image_4","gq84_image_3","gq90_image_10","gq100_image_5"].indexOf(o);var n=""+o,i=t;r.load(n,function(e,t){e?console.warn("\u52a0\u8f7d",n,"\u5931\u8d25",e):(s.addAsset(t),a.texture=t,s.pointTexture[i]=t,s.pointPos[i]=new cc.Vec2(a.x,a.y),s.pointScale[i]=new cc.Vec2(a.scaleX,a.scaleY),_())})};for(f=0;f<c.points.length;f++)h(f)}})})},e.clearFirstFindFaultStage1=function(){this.allFindFaultStage.length>=2&&this.allFindFaultStage.shift().clearStage()},e.clearAllFindFaultStage1=function(){for(var e=0;e<this.allFindFaultStage.length;e++)this.allFindFaultStage.splice(e,1)[0].clearStage();this.allFindFaultStage.length=0},e.loadGame_FindFault_Stage2Bundle=function(e,t){for(var o=this,a=(new Date).getTime(),n="findFault_2_stage_"+e.toString(),r=this.allFindFaultStage2Bundle.length-1;r>=0;r--){var i=this.allFindFaultStage2Bundle[r].name,s=parseInt(i.split("findFault_2_stage_")[1]);if(s<e)this.allFindFaultStage2Bundle[r].releaseAll(),this.allFindFaultStage2Bundle.splice(r,1);else if(e==s)return void(t&&t(this.allFindFaultStage2Bundle[r]))}e>this.local_FindFault_Stage_2_Num?(n=this.remoteUrl+n,console.log("\u4e0b\u8f7d\u5173\u5361\u8def\u5f84",n)):console.log("\u9884\u89c8\u5173\u5361\u8def\u5f84",n),cc.assetManager.loadBundle(n,null,function(e,r){e?cc.error("\u52a0\u8f7d"+n+"\u8d44\u6e90\u5305\u5931\u8d25"):(console.log("\u52a0\u8f7d"+n+"\u8d44\u6e90\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-a)+"ms"),o.allFindFaultStage2Bundle.push(r),t&&t(r))})},e.clearAllFindFaultStage2Bundle=function(){for(var e=0;e<this.allFindFaultStage2Bundle.length;e++)this.allFindFaultStage2Bundle&&this.allFindFaultStage2Bundle[e].releaseAll();this.allFindFaultStage2Bundle.length=0},e.loadDrawToCatchSheep=function(){var e=this;if(!this.isDrawToCatchSheepLoaded){var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dDrawToCatchSheep\u5305"),n.default.instance.loadSubPackage(this.drawToCatchSheepUrl,function(){t.drawToCatchSheepAxis=1,c.default.instance.bar.value=.8*t.drawToCatchSheepAxis,cc.assetManager.loadBundle(e.drawToCatchSheepUrl,function(e,a){e?cc.error("\u52a0\u8f7dDrawToCatchSheep\u5305\u5931\u8d25"):(t.drawToCatchSheepBundle=a,t.isDrawToCatchSheepLoaded=!0,console.log("\u52a0\u8f7dDrawToCatchSheep\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),t.goDrawToCatchSheepGame(.8))})},function(e){t.drawToCatchSheepAxis=.01*e,c.default.instance.bar.value=.8*t.drawToCatchSheepAxis})}},e.loadDrawToCatchSheepRes=function(e,t,o){this.drawToCatchSheepBundle&&this.drawToCatchSheepBundle.load("Res/"+e,t,o)},e.goDrawToCatchSheepGame=function(e){void 0===e&&(e=0),c.default.instance.root.active=!0,t.isDrawToCatchSheepLoaded?cc.director.preloadScene("DrawToCatchSheep_Game",function(t,o){c.default.instance.bar.value=e+t/o*(1-e)},function(e){e?console.error("\u52a0\u8f7d\u753b\u7ebf\u5708\u7f8a\u6e38\u620f\u573a\u666f\u5931\u8d25"):(c.default.instance.bar.value=1,n.default.instance.hideBanner(),cc.director.loadScene("DrawToCatchSheep_Game",function(){c.default.instance.root.active=!1}))}):t.loadDrawToCatchSheep()},e.loadSaveSheep=function(){var e=this;if(!this.isSaveSheepLoaded){var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dSaveSheep\u5305"),n.default.instance.loadSubPackage(this.saveSheepUrl,function(){t.saveSheepAxis=1,c.default.instance.bar.value=.8*t.saveSheepAxis,cc.assetManager.loadBundle(e.saveSheepUrl,function(e,a){e?cc.error("\u52a0\u8f7dSaveSheep\u5305\u5931\u8d25"):(t.saveSheepBundle=a,t.isSaveSheepLoaded=!0,console.log("\u52a0\u8f7dSaveSheep\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),t.goSaveSheepGame(.8))})},function(e){t.saveSheepAxis=.01*e,c.default.instance.bar.value=.8*t.saveSheepAxis})}},e.loadSaveSheepRes=function(e,t,o){this.saveSheepBundle&&this.saveSheepBundle.load("Res/"+e,t,o)},e.goSaveSheepGame=function(e){void 0===e&&(e=0),c.default.instance.root.active=!0,t.isSaveSheepLoaded?(console.log("\u8fdb\u5165\u6551\u6551\u5c0f\u7f8a\u6e38\u620f"),cc.director.preloadScene("SaveSheep_Game",function(t,o){c.default.instance.bar.value=e+t/o*(1-e)},function(e){e?console.error("\u52a0\u8f7d\u6551\u6551\u5c0f\u7f8a\u6e38\u620f\u573a\u666f\u5931\u8d25"):(c.default.instance.bar.value=1,n.default.instance.hideBanner(),cc.director.loadScene("SaveSheep_Game",function(){c.default.instance.root.active=!1}))})):t.loadSaveSheep()},e.loadWaterSortPuzzle=function(){var e=this;if(!this.isWaterSortPuzzleLoaded){var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7d\u6c34\u5408\u6210\u5305"),n.default.instance.loadSubPackage(this.waterSortPuzzleUrl,function(){t.waterSortPuzzleAxis=1,c.default.instance.bar.value=.8*t.waterSortPuzzleAxis,cc.assetManager.loadBundle(e.waterSortPuzzleUrl,function(a,n){a?cc.error("\u52a0\u8f7d\u6c34\u5408\u6210\u5305\u5931\u8d25"):(t.waterSortPuzzleBundle=n,t.isWaterSortPuzzleLoaded=!0,console.log("\u52a0\u8f7d\u6c34\u5408\u6210\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e.goWaterSortPuzzleGame(.8))})},function(e){t.waterSortPuzzleAxis=.01*e,c.default.instance.bar.value=.8*t.waterSortPuzzleAxis})}},e.goWaterSortPuzzleGame=function(e){void 0===e&&(e=0),c.default.instance.root.active=!0,t.isWaterSortPuzzleLoaded?(console.log("\u8fdb\u5165\u6c34\u5408\u6210\u6e38\u620f"),cc.director.preloadScene("game_waterSortPuzzle",function(t,o){c.default.instance.bar.value=e+t/o*(1-e)},function(e){e?console.error("\u52a0\u8f7d\u6c34\u5408\u6210\u6e38\u620f\u573a\u666f\u5931\u8d25"):(c.default.instance.bar.value=1,n.default.instance.hideBanner(),cc.director.loadScene("game_waterSortPuzzle",function(){c.default.instance.root.active=!1}))})):t.loadWaterSortPuzzle()},e.loadBoottleGame=function(){var e=this;if(!this.isBottleGameLoaded){var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7d\u74f6\u5b50\u6e38\u620f\u5305"),n.default.instance.loadSubPackage(this.bottleGameUrl,function(){t.bottleGameAxis=1,c.default.instance.bar.value=.8*t.bottleGameAxis,cc.assetManager.loadBundle(e.bottleGameUrl,function(a,n){a?cc.error("\u52a0\u8f7d\u74f6\u5b50\u6e38\u620f\u5305\u5931\u8d25"):(t.bottleGameBundle=n,t.isBottleGameLoaded=!0,console.log("\u52a0\u8f7d\u74f6\u5b50\u6e38\u620f\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e.goBottleGame(.8))})},function(e){t.bottleGameAxis=.01*e,c.default.instance.bar.value=.8*t.bottleGameAxis})}},e.goBottleGame=function(e){void 0===e&&(e=0),c.default.instance.root.active=!0,t.isBottleGameLoaded?(console.log("\u8fdb\u5165\u74f6\u5b50\u6e38\u620f"),cc.director.preloadScene("main",function(t,o){c.default.instance.bar.value=e+t/o*(1-e)},function(e){e?console.error("\u52a0\u8f7d\u74f6\u5b50\u6e38\u620f\u573a\u666f\u5931\u8d25"):(c.default.instance.bar.value=1,n.default.instance.hideBanner(),cc.director.loadScene("main",function(){c.default.instance.root.active=!1}))})):t.loadBoottleGame()},e.loadToiletMaze=function(){var e=this;if(!this.isToiletMazeLoaded){var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dToiletMaze\u5305"),n.default.instance.loadSubPackage(this.toiletMazeUrl,function(){t.toiletMazeAxis=1,c.default.instance.bar.value=.8*t.toiletMazeAxis,cc.assetManager.loadBundle(e.toiletMazeUrl,function(e,a){e?cc.error("\u52a0\u8f7dToiletMaze\u5305\u5931\u8d25"):(t.toiletMazeBundle=a,t.isToiletMazeLoaded=!0,console.log("\u52a0\u8f7dToiletMaze\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),t.goToiletMazeGame(.8))})},function(e){t.toiletMazeAxis=.01*e,c.default.instance.bar.value=.8*t.toiletMazeAxis})}},e.loadToiletMazeRes=function(e,t,o){this.toiletMazeBundle&&this.toiletMazeBundle.load(e,t,o)},e.goToiletMazeGame=function(e){void 0===e&&(e=0),c.default.instance.root.active=!0,t.isToiletMazeLoaded?(console.log("\u8fdb\u5165\u5395\u6240\u8ff7\u5bab\u6e38\u620f"),cc.director.preloadScene("ToiletMaze_Game",function(t,o){c.default.instance.bar.value=e+t/o*(1-e)},function(e){e?console.error("\u52a0\u8f7d\u5395\u6240\u8ff7\u5bab\u6e38\u620f\u573a\u666f\u5931\u8d25"):(c.default.instance.bar.value=1,n.default.instance.hideBanner(),cc.director.loadScene("ToiletMaze_Game",function(){c.default.instance.root.active=!1}))})):t.loadToiletMaze()},e.loadClearBall=function(){var e=this;if(!this.isClearBallLoaded){var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dClearBall\u5305"),n.default.instance.loadSubPackage(this.clearBallUrl,function(){t.clearBallAxis=1,c.default.instance.bar.value=.8*t.clearBallAxis,cc.assetManager.loadBundle(e.clearBallUrl,function(e,a){e?cc.error("\u52a0\u8f7dClearBall\u5305\u5931\u8d25"):(t.clearBallBundle=a,t.isClearBallLoaded=!0,console.log("\u52a0\u8f7dClearBall\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),t.goClearBallGame(.8))})},function(e){t.clearBallAxis=.01*e,c.default.instance.bar.value=.8*t.clearBallAxis})}},e.loadClearBallRes=function(e,t,o){this.clearBallBundle&&this.clearBallBundle.load(e,t,o)},e.goClearBallGame=function(e){void 0===e&&(e=0),c.default.instance.root.active=!0,t.isClearBallLoaded?(console.log("\u8fdb\u5165\u8fde\u7403\u6d88\u9664\u6e38\u620f"),cc.director.preloadScene("ClearBall_GameScene",function(t,o){c.default.instance.bar.value=e+t/o*(1-e)},function(e){e?console.error("\u52a0\u8f7d\u8fde\u7403\u6d88\u9664\u6e38\u620f\u573a\u666f\u5931\u8d25"):(c.default.instance.bar.value=1,n.default.instance.hideBanner(),cc.director.loadScene("ClearBall_GameScene",function(){c.default.instance.root.active=!1}))})):t.loadClearBall()},e.loadDoggy=function(){var e=this;if(!this.isDoggyLoaded){var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dDoggy\u5305"),n.default.instance.loadSubPackage(this.doggyUrl,function(){t.doggyAxis=1,c.default.instance.bar.value=.3*t.doggyAxis,cc.assetManager.loadBundle(e.doggyUrl,function(e,a){e?cc.error("\u52a0\u8f7dDoggy\u5305\u5931\u8d25"):(t.doggyBundle=a,console.log("\u52a0\u8f7dDoggy\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),t.loadDoggyStage(function(){t.isDoggyLoaded=!0,t.goDoggyGame(.8)}))})},function(e){t.doggyAxis=.01*e,c.default.instance.bar.value=.3*t.doggyAxis})}},e.loadDoggyRes=function(e,t,o){this.doggyBundle&&this.doggyBundle.load(e,t,o)},e.goDoggyGame=function(e){if(void 0===e&&(e=0),c.default.instance.root.active=!0,t.isDoggyLoaded){console.log("\u8fdb\u5165\u753b\u7ebf\u6551\u72d7\u72d7\u6e38\u620f");var o=l.SceneName.Game_Doggy;cc.director.preloadScene(o,function(t,o){c.default.instance.bar.value=e+t/o*(1-e)},function(e){e?console.error("\u52a0\u8f7d\u753b\u7ebf\u6551\u72d7\u72d7\u6e38\u620f\u573a\u666f\u5931\u8d25"):(c.default.instance.bar.value=1,n.default.instance.hideBanner(),cc.director.loadScene(o,function(){c.default.instance.root.active=!1}))})}else t.loadDoggy()},e.loadDoggyStage=function(e){if(!this.isDoggyStageLoaded){var o=(new Date).getTime();console.log("\u5f00\u59cb\u52a0\u8f7dDoggyStage\u5305"),t.doggyStageAxis=1,c.default.instance.bar.value=.3+.5*t.doggyStageAxis,cc.assetManager.loadBundle(this.doggyStageUrl,function(a,n){a?cc.error("\u52a0\u8f7dDoggyStage\u5305\u5931\u8d25"):(t.doggyStageBundle=n,t.isDoggyStageLoaded=!0,console.log("\u52a0\u8f7dDoggyStage\u5305\u6210\u529f,\u8017\u65f6:"+((new Date).getTime()-o)+"ms"),e&&e())})}},e.remoteUrl="",e.findFalutRemoteUrl="",e.resBundle=null,e.isResLoaded=!1,e.resAxis=0,e.ResUrl=l.BundleName.Res,e.menuBundle=null,e.isMenuLoaded=!1,e.menuAxis=0,e.menuUrl=l.BundleName.Menu,e.isGoingMenu=!1,e.nowRoomPrefab=null,e.nowRoomBundle=null,e.nowRoomNode=null,e.nowRoomName=null,e.Menu_Room_1_Bundle=null,e.isMenu_Room_1_Loaded=!1,e.Menu_Room_1_Axis=0,e.Menu_Room_1_Url=t.remoteUrl+l.BundleName.Menu_Room_1,e.Menu_Room_2_Bundle=null,e.isMenu_Room_2_Loaded=!1,e.Menu_Room_2_Axis=0,e.Menu_Room_2_Url=t.remoteUrl+l.BundleName.Menu_Room_2,e.Menu_Room_3_1_Bundle=null,e.isMenu_Room_3_1_Loaded=!1,e.Menu_Room_3_1_Axis=0,e.Menu_Room_3_1_Url=t.remoteUrl+l.BundleName.Menu_Room_3_1,e.Menu_Room_3_2_Bundle=null,e.isMenu_Room_3_2_Loaded=!1,e.Menu_Room_3_2_Axis=0,e.Menu_Room_3_2_Url=t.remoteUrl+l.BundleName.Menu_Room_3_2,e.Menu_Room_3_3_Bundle=null,e.isMenu_Room_3_3_Loaded=!1,e.Menu_Room_3_3_Axis=0,e.Menu_Room_3_3_Url=t.remoteUrl+l.BundleName.Menu_Room_3_3,e.Menu_Room_4_Bundle=null,e.isMenu_Room_4_Loaded=!1,e.Menu_Room_4_Axis=0,e.Menu_Room_4_Url=t.remoteUrl+l.BundleName.Menu_Room_4,e.Game_FindFaultBundle=null,e.isGame_FindFaultLoaded=!1,e.Game_FindFaultAxis=0,e.Game_FindFaultUrl=l.BundleName.Game_FindFault,e.isGoingGame_FindFault=!1,e.allFindFaultStage=[],e.allFindFaultStage2Bundle=[],e.local_FindFault_Stage_2_Num=0,e.drawToCatchSheepBundle=null,e.isDrawToCatchSheepLoaded=!1,e.drawToCatchSheepAxis=0,e.drawToCatchSheepUrl="Bundle11_Game_DrawToCatchSheep",e.saveSheepBundle=null,e.isSaveSheepLoaded=!1,e.saveSheepAxis=0,e.saveSheepUrl="Bundle12_Game_SaveSheep",e.waterSortPuzzleBundle=null,e.isWaterSortPuzzleLoaded=!1,e.waterSortPuzzleAxis=0,e.waterSortPuzzleUrl="Bundle13_Game_WaterSortPuzzle",e.bottleGameBundle=null,e.isBottleGameLoaded=!1,e.bottleGameAxis=0,e.bottleGameUrl="Bundle14_Game_BottlePuzzles",e.toiletMazeBundle=null,e.isToiletMazeLoaded=!1,e.toiletMazeAxis=0,e.toiletMazeUrl="Bundle15_Game_ToiletMaze",e.clearBallBundle=null,e.isClearBallLoaded=!1,e.clearBallAxis=0,e.clearBallUrl="Bundle16_Game_ClearBall",e.doggyBundle=null,e.isDoggyLoaded=!1,e.doggyAxis=0,e.doggyUrl=l.BundleName.Game_Doggy,e.doggyStageBundle=null,e.isDoggyStageLoaded=!1,e.doggyStageAxis=0,e.doggyStageUrl=t.remoteUrl+l.BundleName.Game_Doggy_Stage,t=a([f],e)}());o.default=g,cc._RF.pop()},{"../Comp/GameLoading":"GameLoading","../Config/DataClass":"DataClass","../Config/EnumTypes":"EnumTypes","../JJSDK/JJMgr":"JJMgr","../Platform/Platform":"Platform","./SoundMgr":"SoundMgr","./StorageMgr":"StorageMgr"}],Bar:[function(e,t,o){"use strict";cc._RF.push(t,"ae9aaeF/k5LipjXwBmLXZxE","Bar");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=i.menu,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bar=null,t._value=0,t._reversal=!1,t}return n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.value>1?this._value=1:this.value<0&&(this._value=0),this.onChange()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reversal",{get:function(){return this._reversal},set:function(e){this._reversal=e,this.onChange()},enumerable:!1,configurable:!0}),t.prototype.onChange=function(){if(this.bar){var e=this.bar.getComponent(cc.Sprite);e.type=cc.Sprite.Type.FILLED,e.fillType=cc.Sprite.FillType.HORIZONTAL,this._reversal?(e.fillStart=1-this._value,e.fillRange=1):(e.fillStart=0,e.fillRange=this._value)}},r([c({type:cc.Node,visible:!0,displayName:"\u8fdb\u5ea6\u6761\u7684\u6761"})],t.prototype,"bar",void 0),r([c({type:cc.Float,visible:!0,displayName:"\u8fdb\u5ea6"})],t.prototype,"value",null),r([c({visible:!0,displayName:"\u7ffb\u8f6c"})],t.prototype,"reversal",null),r([s,l("NimoUI/Bar")],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],BasePlatform:[function(e,t,o){"use strict";cc._RF.push(t,"6ea55d8ZHtANoiORwgquo/p","BasePlatform"),Object.defineProperty(o,"__esModule",{value:!0}),o.PlatformType=void 0;var a=function(){function e(){this.bannerId="",this.videoId="",this.interId="",this.gridId=[],this.existBannerAd=!1,this.existVideoAd=!1,this.existInterAd=!1,this.existGridAd=!1,this.init()}return e.prototype.init=function(){console.error("\u521d\u59cb\u5316\u5e73\u53f0\u5931\u8d25")},e}();o.default=a,function(e){e[e.WeiXin=0]="WeiXin",e[e.Qq=1]="Qq",e[e.Vivo=2]="Vivo",e[e.Oppo=3]="Oppo",e[e.ZiJieTiaoDong=4]="ZiJieTiaoDong",e[e.Mgc=5]="Mgc",e[e.Swan=6]="Swan",e[e.Android=7]="Android",e[e.Ios=8]="Ios"}(o.PlatformType||(o.PlatformType={})),cc._RF.pop()},{}],DataClass:[function(e,t,o){"use strict";cc._RF.push(t,"70be83OxRdJrbJ9zLquN4vQ","DataClass"),Object.defineProperty(o,"__esModule",{value:!0}),o.FindFaultStage=void 0;var a=function(){function e(){this.assets=[],this.name="",this.bgTexture=null,this.pointTexture=[],this.pointPos=[],this.pointScale=[]}return e.prototype.addAsset=function(e){e.addRef(),this.assets.push(e)},e.prototype.clearStage=function(){for(var e=this.assets.length-1;e>=0;e--)this.assets.splice(e,1)[0].decRef()},e}();o.FindFaultStage=a,cc._RF.pop()},{}],EnumTypes:[function(e,t,o){"use strict";cc._RF.push(t,"1e8fcdb4r9AApELFQt1s2p0","EnumTypes"),Object.defineProperty(o,"__esModule",{value:!0}),o.RoomName=o.SceneName=o.BundleName=o.GameNames=o.SoundType=o.EventType=void 0,function(e){e.Platform_Hide_Do="Platform_Hide_Do",e.Platform_Wake_Do="Platform_Wake_Do",e.Menu_StartBtn_Click="Menu_StartBtn_Click",e.Menu_GoDecorate_Click="Menu_GoDecorate_Click",e.Menu_GoStartGame_Click="Menu_GoStartGame_Click",e.Menu_BookScene_Update="Menu_BookScene_Update",e.Menu_RoomCanDecorate_Event="Menu_RoomCanDecorate_Event",e.Menu_Scene_Update="Menu_Scene_Update",e.Menu_Scene_Go="Menu_Scene_Go",e.Menu_Scene_Arrive="Menu_Scene_Arrive",e.Menu_Rank_World="Menu_Rank_World",e.Menu_Rank_Friend="Menu_Rank_Friend",e.Common_Menu_Go="Common_Menu_Go",e.Common_Key_Update="Common_Key_Update",e.Common_Power_Update="Common_Power_Update",e.Common_OnlineTime_Update="Common_OnlineTime_Update",e.Common_Decorate_Update="Common_Decorate_Update",e.Common_GuideHand_Destroy="Common_GuideHand_Destroy",e.Common_Gold_Update="Common_Gold_Update",e.Common_LuckyWheel_Update="Common_LuckyWheel_Update",e.Game_NextLevel_Event="Game_NextLevel_Event",e.Game_PowerLess_Event="Game_PowerLess_Event",e.Game_Retry_Event="Game_Retry_Event",e.Game_ShowTips_Event="Game_ShowTips_Event",e.Game_Pause_Event="Game_Pause_Event",e.Game_Resume_Event="Game_Resume_Event",e.Game_PassLevel_Event="Game_PassLevel_Event",e.Game_FindFault_FindPoint_BornPoint="Game_FindFault_FindPoint_BornPoint",e.Game_FindFault_FindPoint_FindOne="Game_FindFault_FindPoint_FindOne",e.Game_FindFault_FindPoint_AddTime="Game_FindFault_FindPoint_AddTime",e.Game_FindFault_FindPoint_Zoom="Game_FindFault_FindPoint_Zoom",e.Game_FindFault_FindPoint_Success="Game_FindFault_FindPoint_Success",e.Game_WaterSortPuzzle_LevelLabel_UpdateLevel="Game_WaterSortPuzzle_LevelLabel_UpdateLevel",e.Game_WaterSortPuzzleSkin_Update="Game_WaterSortPuzzleSkin_Update",e.Game_Ball_HitGround="Game_Ball_HitGround",e.Game_Ball_LevelUpdate_Event="Game_Ball_LevelUpdate_Event",e.Game_Ball_InBottle="Game_Ball_InBottle",e.Game_ClearBall_InitSkin="Game_ClearBall_InitSkin"}(o.EventType||(o.EventType={})),function(e){e.Bgm="BGM",e.Button="Button",e.False="Flase",e.True="True",e.Win="Win",e.Lose="Lose",e.Time="Time",e.RollSkin="RollSkin",e.Fill="Fill",e.Done="Done",e.Finish="Finish"}(o.SoundType||(o.SoundType={})),function(e){e.findFault="zctz",e.drawCatchSheep="hxqy",e.saveSheep="jjxy",e.waterSortPuzzle="hlspx",e.bottlePuzzle="snpz",e.tolietMaze="mgzcs",e.clearBall="lxqc",e.doggy="hxjgg"}(o.GameNames||(o.GameNames={})),function(e){e.Loading="Bundle1_Loading",e.Res="Bundle2_Res",e.Menu="Bundle3_Menu",e.Game_FindFault="Bundle4_Game_FindFault",e.Menu_Room_1="Bundle6_Menu_Room_1",e.Menu_Room_2="Bundle7_Menu_Room_2",e.Menu_Room_3_1="Bundle8_Menu_Room_3_1",e.Menu_Room_3_2="Bundle9_Menu_Room_3_2",e.Menu_Room_3_3="Bundle10_Menu_Room_3_3",e.Game_DrawToCatchSheep="Bundle11_Game_DrawToCatchSheep",e.Game_SaveSheep="Bundle12_Game_SaveSheep",e.Game_WaterSortPuzzle="Bundle13_Game_WaterSortPuzzle",e.Game_BottlePuzzles="Bundle14_Game_BottlePuzzles",e.Game_TolietMaze="Bundle15_Game_ToiletMaze",e.Game_ClearBall="Bundle16_Game_ClearBall",e.Game_Doggy="Bundle17_Game_Doggy",e.Game_Doggy_Stage="Bundle18_Game_Doggy_Stage",e.Menu_Room_4="Bundle19_Menu_Room_4"}(o.BundleName||(o.BundleName={})),function(e){e.Loading="Loading",e.Menu="Menu",e.Game_FindFault="Game_FindFault",e.Game_DrawToCatchSheep="DrawToCatchSheep_Game",e.game_SaveSheep="SaveSheep_Game",e.Game_WaterSortPuzzle="game_waterSortPuzzle",e.Game_BottlePuzzles="main",e.Game_TolietMaze="Game_ToiletMaze",e.Game_ClearBall="ClearBall_GameScene",e.Game_Doggy="Doggy_GameScene"}(o.SceneName||(o.SceneName={})),function(e){e.Room_1="Room_1",e.Room_2="Room_2",e.Room_3_1="Room_3_1",e.Room_3_2="Room_3_2",e.Room_3_3="Room_3_3",e.Room_4="Room_4"}(o.RoomName||(o.RoomName={})),cc._RF.pop()},{}],EventMgr:[function(e,t,o){"use strict";cc._RF.push(t,"81dc2y22blBeJaNVsj+80oK","EventMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventMgr=void 0;var a=function(){function e(){}return e.event=function(e,t,o,a,n,r){cc.director.emit(e,t,o,a,n,r)},e.on=function(e,t,o){cc.director.on(e,t,o)},e.off=function(e,t,o){cc.director.off(e,o,t)},e.clearTarget=function(e){cc.director.removeAll(e)},e}();o.EventMgr=a,cc._RF.pop()},{}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"43cfc1D1ddAlJPAzGpd2aqd","GameData"),Object.defineProperty(o,"__esModule",{value:!0});var a=e("../JJSDK/JJMgr"),n=e("../Mgr/AssetMgr"),r=e("../Mgr/StorageMgr"),i=e("../Platform/Platform"),s=e("./EnumTypes"),c=function(){function e(){}return e.testStorageChange=function(){e.isTest&&console.warn("==========\u73b0\u5728\u662f\u6d4b\u8bd5\u6a21\u5f0f===========")},e.getNowPowerUnlimited=function(){return r.default.instance.storageData.powerUmlitLevel>=3},e.getSuccessGoldReward=function(){return"Game_FindFault"==cc.director.getScene().name?Math.floor(this.findFault_endSecond/3):20},e.getNowRoomVideoUnlockFurniture=function(t){var o,a=r.default.instance.getRoomUnlockDecorate(),i="Json/Room_UnlockData/"+r.default.instance.storageData.nowRoomName,s=function(e,a,n){o&&o.decRef(),t&&t(e,a,n)};n.default.loadRes(i,cc.JsonAsset,function(t,n){if(t)return console.error(i,"\u52a0\u8f7d\u5931\u8d25",t),void s(!1);o=n,n.addRef();for(var r,c=n.json,l=[],u=0;u<c.length;u++)if(-1==a.indexOf(c[u].type)){for(var d=c[u].type.split("_")[0],f=!1,g=0;g<a.length;g++)if(a[g].split("_")[0]==d){f=!0;break}f&&l.push(c[u])}l.length>0&&(r=l[Math.floor(Math.random()*l.length)]),r?cc.assetManager.loadRemote(e.roomTextureRemoteUrl+r.url,function(t,o){if(t)return console.error(e.roomTextureRemoteUrl+r.url,"\u8fdc\u7a0b\u52a0\u8f7d\u5931\u8d25",t),void s(!1);s(!0,r.type,o)}):s(!1)})},e.trackEvent=function(e){window.wx&&window.wx.uma&&window.wx.uma.trackEvent(e),console.log("\u53cb\u76df\u6253\u70b9",e)},e.startPhyics=function(){cc.director.getCollisionManager().enabled=!0;var e=cc.director.getPhysicsManager();e.enabled=!0,console.log("\u7269\u7406\u5df2\u7ecf\u5f00\u542f"),e.enabledAccumulator=!0,e.FIXED_TIME_STEP=1/60,e.VELOCITY_ITERATIONS=10,e.POSITION_ITERATIONS=10},e.uploadRankToSeverAndWx=function(t){if(i.default.instance.isGetInfo&&window.wx){window.wx.setUserCloudStorage({KVDataList:[{key:"score",value:this.allStageSuccessCount().toString()}],success:function(e,t){console.log("\u6210\u529fset",e,t)}});var o=window.JJSdkConf.app_key,n=a.default.instance.openId,r="-1",s="\u6e38\u5ba2";i.default.instance.userInfo&&(r=i.default.instance.userInfo.avatarUrl,s=i.default.instance.userInfo.nickName);var c={app_key:o,score:e.allStageSuccessCount().toString(),open_id:n.toString(),nick_name:s,avatar_url:r};window.wx.request({url:"https://api.jiujiuhuyu.com/set/game/rank",method:"POST",data:c,success:function(e){var o=e.data;t&&t(o.my_rank)}})}},e.allStageSuccessCount=function(){return r.default.instance.storageData.findFaultData.maxLevel-1+(r.default.instance.storageData.drawCatachSheepData.maxLevel-1)+(r.default.instance.storageData.saveSheepData.maxLevel-1)+(r.default.instance.storageData.waterSortPuzzleData.maxLevel-1)+(r.default.instance.storageData.bottlePuzzleData.maxLevel-1)+(r.default.instance.storageData.tolietMazeData.maxLevel-1)+(r.default.instance.storageData.clearBallData.maxLevel-1)+(r.default.instance.storageData.doggyData.maxLevel-1)},e.getGameUnlockState=function(t){if(t==e.mainGameName)return{isUnlock:!0,nowLevel:1,maxLevel:1};switch(t){case s.GameNames.findFault:return{isUnlock:r.default.instance.storageData.findFaultData.isUnlock,nowLevel:e.allStageSuccessCount(),maxLevel:a.default.instance.dataConfig.front_eyes_unlock_num};case s.GameNames.drawCatchSheep:return{isUnlock:r.default.instance.storageData.drawCatachSheepData.isUnlock,nowLevel:e.allStageSuccessCount(),maxLevel:a.default.instance.dataConfig.front_hxqy_unlock_num};case s.GameNames.saveSheep:return{isUnlock:r.default.instance.storageData.saveSheepData.isUnlock,nowLevel:e.allStageSuccessCount(),maxLevel:a.default.instance.dataConfig.front_sheep_unlock_num};case s.GameNames.waterSortPuzzle:return{isUnlock:r.default.instance.storageData.waterSortPuzzleData.isUnlock,nowLevel:e.allStageSuccessCount(),maxLevel:a.default.instance.dataConfig.front_waterPuzzle_unlock_num};case s.GameNames.bottlePuzzle:return{isUnlock:r.default.instance.storageData.bottlePuzzleData.isUnlock,nowLevel:e.allStageSuccessCount(),maxLevel:a.default.instance.dataConfig.front_bottle_unlock_num};case s.GameNames.tolietMaze:return{isUnlock:r.default.instance.storageData.tolietMazeData.isUnlock,nowLevel:e.allStageSuccessCount(),maxLevel:a.default.instance.dataConfig.front_maze_unlock_num};case s.GameNames.clearBall:return{isUnlock:r.default.instance.storageData.clearBallData.isUnlock,nowLevel:e.allStageSuccessCount(),maxLevel:a.default.instance.dataConfig.front_clearBall_unlock_num};case s.GameNames.doggy:return{isUnlock:r.default.instance.storageData.doggyData.isUnlock,nowLevel:e.allStageSuccessCount(),maxLevel:a.default.instance.dataConfig.front_doggy_unlock_num};default:return{isUnlock:!1,nowLevel:e.allStageSuccessCount(),maxLevel:999}}},e.gotoGame=function(e){switch(e){case s.GameNames.findFault:n.default.goGame_FindFault();break;case s.GameNames.drawCatchSheep:n.default.goDrawToCatchSheepGame();break;case s.GameNames.saveSheep:n.default.goSaveSheepGame();break;case s.GameNames.waterSortPuzzle:n.default.goWaterSortPuzzleGame();break;case s.GameNames.bottlePuzzle:n.default.goBottleGame();break;case s.GameNames.tolietMaze:n.default.goToiletMazeGame();break;case s.GameNames.clearBall:n.default.goClearBallGame();break;case s.GameNames.doggy:n.default.goDoggyGame();break;default:i.default.instance.showToast("\u656c\u8bf7\u671f\u5f85")}},e.getGamePlanList=function(){return[{path:"jjxy",name:"\u6551\u6551\u5c0f\u7f8a",url:"jjxy"},{path:"mgzcs",name:"\u8ff7\u5bab\u627e\u5395\u6240",url:"mgzcs"},{path:"hxqy",name:"\u753b\u7ebf\u5708\u7f8a",url:"hxqy"},{path:"hlspx",name:"\u6b22\u4e50\u6c34\u6392\u5e8f",url:"hlspx"},{path:"hxjgg",name:"\u753b\u7ebf\u6551\u72d7\u72d7",url:"hxjgg"},{path:"lxqc",name:"\u8fde\u7403\u6765\u6d88\u9664",url:"lxqc"},{path:"snpz",name:"\u70e7\u8111\u74f6\u5b50",url:"snpz"}]},e.checkUnlockGame=function(){for(var t,o=e.allStageSuccessCount(),a=[s.GameNames.findFault,s.GameNames.drawCatchSheep,s.GameNames.saveSheep,s.GameNames.waterSortPuzzle,s.GameNames.bottlePuzzle,s.GameNames.tolietMaze,s.GameNames.clearBall,s.GameNames.doggy],n=0;n<a.length;n++){var i=e.getGameUnlockState(a[n]);if(!i.isUnlock&&o>=i.maxLevel){r.default.instance.unlockGame(a[n]),t=a[n];break}}return t},e.isClearStorage=!1,e.isTest=!1,e.isStageDesgin=!1,e.powerMax=30,e.powerRecoverTime=6e5,e.findFault_endSecond=120,e.rewardDecorate=5,e.videoDecorate=10,e.room1DecoratePointCount=12,e.room2DecoratePointCount=13,e.room3_1DecoratePointCount=12,e.room3_2DecoratePointCount=12,e.room3_3DecoratePointCount=11,e.room4DecoratePointCount=12,e.lastDecoratePoint=1,e.roomTextureRemoteUrl="https://oss.99huyu.cn/front-end/GameCombine_2_RoomTexture/",e.successCount_endTick=999,e.successEndCountIndex_endTick=-1,e.successCount_invertal=999,e.successEndCountIndex_invertal=-1,e.mainGameName=s.GameNames.findFault,e}();o.default=c,cc._RF.pop()},{"../JJSDK/JJMgr":"JJMgr","../Mgr/AssetMgr":"AssetMgr","../Mgr/StorageMgr":"StorageMgr","../Platform/Platform":"Platform","./EnumTypes":"EnumTypes"}],GameLoading:[function(e,t,o){"use strict";cc._RF.push(t,"8d1eb5+LR5HuaUudgq9EE/9","GameLoading");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Bar"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bar=null,t.root=null,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.root=this.node.getChildByName("root")},r([l(i.default)],t.prototype,"bar",void 0),o=r([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./Bar":"Bar"}],JJMgr:[function(e,t,o){"use strict";cc._RF.push(t,"7f1d5bBoVVOQ5yd8T5+KMU/","JJMgr");var a=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.DataConfig=void 0,e("./JS/jiujiu_sdk_conf.js"),e("./JS/jiujiu_sdk.min.js"),e("./JS/jiujiu_pull_sdk.min.js");var n=e("./WxPlatform"),r=e("./WxPlatformBannerAd"),i=function(){},s=cc._decorator,c=s.ccclass,l=(s.property,function(){});o.DataConfig=l;var u=function(){function e(){this.dataConfig={front_all_export_switch:!1,is_allow_area:!1,front_share_config:{title:"",image:"",id:-1},front_initial_tili:35,front_initial_keys:3,front_tili_djs:60,front_cp_switch:!1,front_banner_switch:!1,front_keys_num:1,front_give_tili:20,front_reward_tili:5,front_reward_key:1,front_countdown_time:360,front_jsy_ggv_num:999,front_jsy_ggv_interval:[1],front_jsy_cp_num:999,front_jsy_cp_interval:[1],front_hxqy_unlock_num:5,front_sheep_unlock_num:10,front_waterPuzzle_unlock_num:15,front_bottle_unlock_num:20,front_maze_unlock_num:25,front_clearBall_unlock_num:30,front_eyes_unlock_num:35,front_doggy_unlock_num:40,front_hxqy_windows:!0,front_sheep_windows:!0,front_water_puzzle_windows:!0,front_newmodel_windows:!0,front_maze_windows:!0,front_clearBall_windows:!0,front_eyes_windows:!0,front_doggy_windows:!0,front_brush_num:5,front_gate_djs:[],front_kc_djs:[],front_daoju_gate_switch:!1,front_tili_num:5,front_brush_num_vi:5,front_test:!1,front_qiandao_num:["1","2","3","4","5","6","7"],front_qiandao_switch:!1,front_findFault_maxLevel:270,front_goldPig_award_key:3,front_goldPig_award_tili:30,front_goldPig_award_gold:300,front_keys_switch:!1,front_goldPig_button:!0,front_turnplate_button:!0,front_tilitquan_sy_switch:!0,front_qiandao_auto:!0,front_jsy_home_switch:!0,front_tili_home_windows:!0,front_key_home_windows:!0,front_brush_windows:!0,front_furniture_num:2,front_furniture_interval:2,front_zx_furniture_num:2,front_zx_furniture_probability:50},this.navDataArr=[],this.isFinished=!1}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shareContext",{get:function(){return this.shareConfig},set:function(e){this.shareConfig=e},enumerable:!1,configurable:!0}),e.prototype.JJGetOpenId=function(){if(window.wx){try{return window.wx.getStorageSync("jiu_open_id")}catch(e){}return!1}return!1},e.prototype.initJJ=function(e){var o=this;if(cc.sys.platform===cc.sys.WECHAT_GAME){var a=window.wx.getEnterOptionsSync().scene;console.log(window.wx.getEnterOptionsSync()),console.log("\u672c\u6b21\u573a\u666f\u503c\uff1a",a)}window.JJGetGameConfigAdShare().then(function(a){if(1==a.code)return console.log("\u540e\u53f0\u6570\u636e\u8bfb\u53d6\u5931\u8d25\uff0c\u9009\u62e9\u4f7f\u7528\u672c\u5730\u914d\u7f6e"),void(e&&e());o.updateDataConfig(a.data.config),o.isFinished=o.dataConfig.front_all_export_switch,o.updateNavData(a.data.ad);var r=a.data.share[0];if(o.shareArr=a.data.share,t.instance.dataConfig.front_share_config=r?{title:r.share_content,image:r.share_img,id:r.id}:{},o.shareContext=r,o.openId=o.JJGetOpenId(),cc.sys.platform===cc.sys.WECHAT_GAME){window.wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});var i=t.instance.dataConfig.front_share_config.image,s=t.instance.dataConfig.front_share_config.title;window.wx.JJOnShareAppMessage(function(){return{title:s,imageUrl:i,success:function(){console.log("\u5206\u4eab\u6210\u529fJJ")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25JJ")}}})}n.default.instance.init(),o.loadPlanData(),!o.openId&&window.wx?o.JJLogin().then(function(t){console.error("\u767b\u5f55\u6210\u529f"),o.openId=t,e&&e()},function(t){console.error("\u767b\u5f55\u5931\u8d25",t),e&&e()}):e&&e()},function(){console.log("\u540e\u53f0\u6570\u636e\u8bfb\u53d6\u5931\u8d25\uff0c\u9009\u62e9\u4f7f\u7528\u672c\u5730\u914d\u7f6e"),e&&e()})},e.prototype.JJLogin=function(){return new Promise(function(e,t){window.wx.login({success:function(o){o.code?window.wx.request({url:window.JJSdkConf.req_domain+"/minigame/login",data:{code:o.code,app_key:window.JJSdkConf.app_key},success:function(o){if(0===o.data.code){try{var a=new Date;window.wx.setStorageSync("jiu_open_id",o.data.data),window.wx.setStorageSync("user_reg_date",a.toLocaleDateString())}catch(n){}e(o.data.data)}else t("\u83b7\u53d6\u7528\u6237OpenId\u5931\u8d25\uff0c"+o.data.msg)}}):t("\u767b\u5f55\u5931\u8d25\uff01"+o.errMsg)}})})},e.prototype.loadPlanData=function(e){t.instance.planData?e&&e():window.JJGameAds().then(function(o){t.instance.planData=o.data,console.log("\u8ba1\u5212\u540e\u53f0\u914d\u7f6e\uff1a",o.data),e&&e()})},e.prototype.loadAllAdv=function(){if(window.wx){n.default.instance.loadVideo();var e=t.instance.dataConfig.front_banner_ids;r.default.Instance.initAd(e),n.default.instance.createInterAd()}},e.prototype.getWUCHU2=function(){return this.dataConfig.is_allow_area&&this.allowScene()},e.prototype.allowScene=function(){if(!this.dataConfig.front_wuchu_scene)return!0;var e=window.wx.getEnterOptionsSync().scene,t=window.wx.getEnterOptionsSync().query,o=Number(localStorage.getItem("localScene"));o||(o=e,localStorage.setItem("localScene",o.toString()),t.wxgamecid&&localStorage.setItem("wxgamecid",t.wxgamecid.toString())),this.dataConfig.front_first_scv_swtich&&(e=o);var a=localStorage.getItem("wxgamecid");this.dataConfig.front_is_source||(a="true");var n=this.dataConfig.front_wuchu_scene.toString();if(-1==n.search("|"))return parseInt(n)!=e;var r=n.split("|");console.log("sceneId:"+e),console.log("wxgamecid:"+a);for(var i=0;i<r.length;i++)if(parseInt(r[i])==e&&a)return!0;return!1},e.prototype.updateDataConfig=function(e){var t=e.data;for(var o in this.dataConfig.is_allow_area=e.is_allow_area,this.dataConfig.is_allow_export=e.is_allow_export,this.dataConfig.front_wuchu_scene=e.front_wuchu_scene,t)this.dataConfig[o]=t[o].config_val;console.log(this.dataConfig)},e.prototype.updateNavData=function(e){this.navDataArr=[];for(var t=0;t<e.length;t++){var o=e[t],a=new i;a.appid=o.channel_game_appid,a.title=o.channel_game_name,a.path=o.path,a.subtitle=o.originality.copywriting,a.icon=o.originality.material,a.id=o.originality.id,this.navDataArr.push(a)}},e.prototype.JJSendEvent=function(e,t){cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.JJSendEvent(function(){return{name:e,param:t}})},e.prototype.NavigateApp=function(e,t,o,a){var n=this;void 0===a&&(a=!1),cc.sys.platform===cc.sys.WECHAT_GAME&&this.navDataArr.length>0&&window.wx.JJNavigateToMiniProgram(function(){return{appId:n.navDataArr[e].appid,path:n.navDataArr[e].path,id:n.navDataArr[e].id}}).then(function(){console.log("success"),o&&o()},function(e){console.log("fail"),(-1!=e.errMsg.indexOf("cancel")||a)&&t&&t()})},e.prototype.getSubtitle=function(e){return this.navDataArr[e].subtitle&&""!=this.navDataArr[e].subtitle?this.navDataArr[e].subtitle:this.navDataArr[e].title},e.prototype.loadImgByUrl=function(e,t,o,a){void 0===o&&(o="png"),cc.loader.load({url:t,type:o},function(t,o){!t&&e&&o&&e.spriteFrame&&(e.spriteFrame=new cc.SpriteFrame(o),a&&a())})},e.prototype.shuffleArr=function(e){for(var t,o=e.length;o;){var a=Math.floor(Math.random()*o--);t=[e[o],e[a]],e[a]=t[0],e[o]=t[1]}return e},e.prototype.GetRandom=function(e,t,o){void 0===o&&(o=!0);var a=t-e+1,n=Math.random()*a;return n+=e,o?Math.floor(n):n},t=a([c],e)}();o.default=u,cc._RF.pop()},{"./JS/jiujiu_pull_sdk.min.js":"jiujiu_pull_sdk.min","./JS/jiujiu_sdk.min.js":"jiujiu_sdk.min","./JS/jiujiu_sdk_conf.js":"jiujiu_sdk_conf","./WxPlatform":"WxPlatform","./WxPlatformBannerAd":"WxPlatformBannerAd"}],JJWxTrap:[function(e,t,o){"use strict";cc._RF.push(t,"b6773ONqj5BNZzRKwayuQbm","JJWxTrap"),Object.defineProperty(o,"__esModule",{value:!0});var a=e("./JJMgr"),n=e("./WxPlatformBannerAd"),r=function(){function e(){this.isSplash=!1,this.dataConfig=a.default.instance.dataConfig,this._Level=0}return Object.defineProperty(e,"Instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Level",{get:function(){return this._Level},set:function(e){this._Level=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NewWuchu",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NewWuchu2",{get:function(){return a.default.instance.dataConfig.is_allow_area&&this.allowScene()},enumerable:!1,configurable:!0}),e.prototype.allowScene=function(){if(!this.dataConfig.front_wuchu_scene)return!0;var e=window.wx.getEnterOptionsSync().scene,t=window.wx.getEnterOptionsSync().query,o=Number(localStorage.getItem("localScene"));o||(o=e,localStorage.setItem("localScene",o.toString()),t.wxgamecid&&localStorage.setItem("wxgamecid",t.wxgamecid.toString())),this.dataConfig.front_first_scv_swtich&&(e=o);var a=localStorage.getItem("wxgamecid");this.dataConfig.front_is_source||(a="true");var n=this.dataConfig.front_wuchu_scene.toString();if(-1==n.search("|"))return parseInt(n)!=e;for(var r=n.split("|"),i=0;i<r.length;i++)if(parseInt(r[i])==e&&a)return!0;return!1},Object.defineProperty(e.prototype,"com",{get:function(){return this.commmm},enumerable:!1,configurable:!0}),e.prototype.showGameBanner=function(){this.NewWuchu&&a.default.instance.dataConfig.front_game_banner_switch&&n.default.Instance.showBannerFun2()},e.prototype.getRandomIndex=function(){return Math.floor(Math.random()*a.default.instance.navDataArr.length)},Object.defineProperty(e.prototype,"getRandom0To100",{get:function(){return 100*Math.random()},enumerable:!1,configurable:!0}),e.prototype.inGame=function(t,o){t&&(t.active=e.Instance.NewWuchu&&a.default.instance.dataConfig.front_chouti_switch),o&&(o.active=e.Instance.NewWuchu&&a.default.instance.dataConfig.front_jingxi_gezi_switch)},e}();o.default=r,cc._RF.pop()},{"./JJMgr":"JJMgr","./WxPlatformBannerAd":"WxPlatformBannerAd"}],LoadingUI:[function(e,t,o){"use strict";cc._RF.push(t,"39805owwhZIX4PPkUY7TYQz","LoadingUI");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Platform/Platform"),s=e("./Platform/PlatForm_wx"),c=e("./Config/EnumTypes"),l=e("./Config/GameData"),u=e("./JJSDK/JJMgr"),d=e("./Mgr/AssetMgr"),f=e("./Mgr/SoundMgr"),g=e("./Mgr/StorageMgr"),m=e("./Mgr/TimeMgr"),_=e("./Comp/GameLoading"),h=cc._decorator,p=h.ccclass,v=h.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unDestroyNode=null,t.bg=null,t.logo=null,t.bgFrames=[],t.logoFrames=[],t.firstIn=!0,t.firstBundle=c.BundleName.Menu,t.firstScene="Menu",t.isSDKLoaded=!1,t.isResLoaded=!1,t.sdkLoadingWeight=1,t.resLoadingWeight=2,t.fisrtBundleWeight=4,t.firstSceneWeight=1,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.bar=_.default.instance.bar;var t=0,o=0;switch(l.default.mainGameName){case c.GameNames.findFault:t=0,o=0;break;case c.GameNames.clearBall:t=1,o=1;break;case c.GameNames.doggy:t=2,o=2;break;default:t=2,o=2,this.logo.node.active=!1}switch(this.bg.spriteFrame=this.bgFrames[t],this.logo.spriteFrame=this.logoFrames[o],l.default.startPhyics(),cc.game.addPersistRootNode(this.unDestroyNode),cc.sys.platform){case cc.sys.WECHAT_GAME:this.unDestroyNode.addComponent(s.default);break;default:this.unDestroyNode.addComponent(i.default)}this.unDestroyNode.addComponent(g.default),this.unDestroyNode.addComponent(f.default),this.unDestroyNode.addComponent(m.default),l.default.successCount_endTick=g.default.instance.storageData.successCount,l.default.successCount_invertal=g.default.instance.storageData.allSuccessCount_invertal,this.firstBundle=c.BundleName.Menu,this.firstScene=c.SceneName.Menu,u.default.instance.initJJ(function(){var t=e;g.default.instance.cloudSaveInit(function(){t.isSDKLoaded=!0,g.default.instance.storageData.firstIn&&(console.log("\u521d\u59cb\u5316\u4f53\u529b",u.default.instance.dataConfig.front_initial_tili),g.default.instance.setFirstIn(u.default.instance.dataConfig.front_initial_tili),g.default.instance.storageData.key=u.default.instance.dataConfig.front_initial_keys),e.firstIn=g.default.instance.storageData.firstIn,l.default.powerMax=u.default.instance.dataConfig.front_initial_tili,l.default.powerRecoverTime=1e3*u.default.instance.dataConfig.front_tili_djs,m.default.instance.timeInit(),u.default.instance.dataConfig.front_brush_num_vi&&(l.default.videoDecorate=u.default.instance.dataConfig.front_brush_num_vi),l.default.testStorageChange()})}),d.default.loadResBundle(function(){e.isResLoaded=!0}),this.schedule(this.updateProgress_1)},t.prototype.totalWeight=function(){return this.sdkLoadingWeight+this.resLoadingWeight+this.fisrtBundleWeight+this.firstSceneWeight},t.prototype.updateProgress_1=function(){var e=0;this.isSDKLoaded&&(e+=this.sdkLoadingWeight/this.totalWeight()),this.isResLoaded&&(e+=this.resLoadingWeight/this.totalWeight()),this.bar.value=e,this.isResLoaded&&this.isSDKLoaded&&(this.unschedule(this.updateProgress_1),this.startLoadScene())},t.prototype.startLoadScene=function(){var e=this,t=function(){e.unschedule(e.updateProgress_2),cc.director.preloadScene(e.firstScene,function(t,o){e.updateProgress_3(t/o)},function(){e.updateProgress_3(1),cc.director.loadScene(e.firstScene,function(){d.default.loadAllBundle(),_.default.instance.root.active=!1})})};switch(this.firstBundle){default:console.warn("\u9996\u5305\u52a0\u8f7d\u7c7b\u578b\u9519\u8bef\uff0c\u9ed8\u8ba4\u8d70Menu\u8def\u7ebf");case c.BundleName.Menu:var o=g.default.instance.storageData.nowRoomName;this.firstIn?d.default.loadMenuBundle(function(){t()}):d.default.loadMenuBundle(function(){d.default.loadRoom(o,function(){t()})}),this.schedule(this.updateProgress_2)}},t.prototype.updateProgress_2=function(){var e=0;switch(e+=(this.resLoadingWeight+this.sdkLoadingWeight)/this.totalWeight(),this.firstBundle){case c.BundleName.Game_FindFault:e+=this.fisrtBundleWeight/this.totalWeight()*d.default.Game_FindFaultAxis;break;default:case c.BundleName.Menu:var t=g.default.instance.storageData.nowRoomName,o=(d.default.menuAxis+d.default.getRoomAxis(t))/2;this.firstIn&&(o=d.default.menuAxis),e+=this.fisrtBundleWeight/this.totalWeight()*o}this.bar.value=e},t.prototype.updateProgress_3=function(e){var t=0;t+=(this.resLoadingWeight+this.sdkLoadingWeight+this.fisrtBundleWeight)/this.totalWeight(),t+=this.firstSceneWeight/this.totalWeight()*e,this.bar.value=t},r([v(cc.Node)],t.prototype,"unDestroyNode",void 0),r([v(cc.Sprite)],t.prototype,"bg",void 0),r([v(cc.Sprite)],t.prototype,"logo",void 0),r([v([cc.SpriteFrame])],t.prototype,"bgFrames",void 0),r([v([cc.SpriteFrame])],t.prototype,"logoFrames",void 0),r([p],t)}(cc.Component);o.default=w,cc._RF.pop()},{"./Comp/GameLoading":"GameLoading","./Config/EnumTypes":"EnumTypes","./Config/GameData":"GameData","./JJSDK/JJMgr":"JJMgr","./Mgr/AssetMgr":"AssetMgr","./Mgr/SoundMgr":"SoundMgr","./Mgr/StorageMgr":"StorageMgr","./Mgr/TimeMgr":"TimeMgr","./Platform/PlatForm_wx":"PlatForm_wx","./Platform/Platform":"Platform"}],PlatForm_wx:[function(e,t,o){"use strict";cc._RF.push(t,"1cc50XoJhFFOboXBQ09plo7","PlatForm_wx");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../JJSDK/JJMgr"),i=e("../JJSDK/WxPlatform"),s=e("../JJSDK/WxPlatformBannerAd"),c=e("./Platform"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.platformApi=window.wx,this.showShareMenuWithTicket(!0),this.regisiterWXShareCallback(),this.getSetting()},t.prototype.showToast=function(e,t,o){void 0===t&&(t=1500),void 0===o&&(o=!1),window.wx.showToast({title:e,icon:o?"success":"none",duration:t,image:"",mask:!1,success:function(){},fail:function(){},complete:function(){}})},t.prototype.showShareMenuWithTicket=function(e){window.wx.showShareMenu({withShareTicket:e,success:function(){},fail:function(){},complete:function(){}})},t.prototype.regisiterWXShareCallback=function(){if(window.wx){var e={title:"\u5206\u4eab",image:""};window.wx.onShareAppMessage(function(){return console.log("\u7528\u6237\u70b9\u51fb\u4e86\u8f6c\u53d1\u6309\u94ae"),{title:e.title,imageUrl:e.image,query:"share_id=1",success:function(){console.log("\u5206\u4eab\u6210\u529f1")},fail:function(){console.log("\u5206\u4eab\u5931\u8d251")}}})}},t.prototype.showVideo=function(e,t){r.default.instance.dataConfig&&r.default.instance.dataConfig.front_share_change?this.share(function(o){o?(e&&e(),c.default.instance.showToast("\u606d\u559c\u83b7\u5f97\u5956\u52b1")):(c.default.instance.showToast("\u5206\u4eab\u5931\u8d25\u8bf7\u5206\u4eab\u5230\u5fae\u4fe1\u7fa4\u54e6~~~"),t&&t())}):i.default.instance.createRewardedVideoAd({onClose:function(o){o.isEnded?(e&&e(),c.default.instance.showToast("\u606d\u559c\u83b7\u5f97\u5956\u52b1")):(t&&t(),c.default.instance.showToast("\u5b8c\u6574\u770b\u5b8c\u89c6\u9891\u624d\u6709\u5956\u52b1\u54e6!"))},onError:function(){t&&t()}})},t.prototype.share=function(e){i.default.instance.shareGame(e)},t.prototype.getSetting=function(){var e=this;this.platformApi.getSetting({success:function(t){e.isGetInfo=t.authSetting["scope.userInfo"],e.isGetInfo&&e.getUserInfo()}})},t.prototype.showBanner=function(){r.default.instance.dataConfig.front_banner_switch&&s.default.Instance.showBannerFun2()},t.prototype.hideBanner=function(){s.default.Instance.hideBannerFun()},t.prototype.showInsert=function(){i.default.instance.showInterAd()},t}(c.default);o.default=l,cc._RF.pop()},{"../JJSDK/JJMgr":"JJMgr","../JJSDK/WxPlatform":"WxPlatform","../JJSDK/WxPlatformBannerAd":"WxPlatformBannerAd","./Platform":"Platform"}],Platform:[function(e,t,o){"use strict";cc._RF.push(t,"b52cdxF8T1Od5EkqXHskyJw","Platform");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Config/EnumTypes"),s=e("../Mgr/EventMgr"),c=cc._decorator.ccclass,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSubPackage=!0,t.isVibrate=!0,t.isGetInfo=!1,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.prototype.loadSubPackage=function(e,t,o){this.platformApi&&this.isSubPackage?this.platformApi.loadSubpackage({name:e,success:function(o){console.log("\u5206\u5305\u52a0\u8f7d\u6210\u529f\uff1a",e),t.call(!0,o)},fail:function(o){console.error("\u5206\u5305\u52a0\u8f7d\u5931\u8d25\uff1a",e,JSON.stringify(o)),t.call(!1,o)}}).onProgressUpdate(function(e){o&&o(e.progress)}):(console.log("\u6ca1\u6709\u5e73\u53f0API"),t(!0))},t.prototype.showToast=function(e,t,o){void 0===t&&(t=1e3),void 0===o&&(o=!1),console.log(e,t.toString()+"ms")},t.prototype.vibrateShort=function(){this.platformApi&&this.isVibrate?this.platformApi.vibrateShort():cc.log("\u77ed\u9707\u52a8")},t.prototype.vibrateLong=function(){this.platformApi&&this.isVibrate?this.platformApi.vibrateLong():cc.log("\u957f\u9707\u52a8")},t.prototype.regisiterCallback=function(){this.platformApi&&(this.platformApi.offShow(this.onShowEvent),this.platformApi.onShow(this.onShowEvent),this.platformApi.offHide(this.onHideEvent),this.platformApi.onHide(this.onHideEvent))},t.prototype.onShowEvent=function(e){s.EventMgr.event(i.EventType.Platform_Wake_Do,e)},t.prototype.onHideEvent=function(e){s.EventMgr.event(i.EventType.Platform_Hide_Do,e)},t.prototype.showVideo=function(e){this.showToast("\u65e0\u89c6\u9891\uff0c\u9ed8\u8ba4\u53d1\u653e\u5956\u52b1"),e&&e()},t.prototype.share=function(){this.showToast("\u65e0\u5206\u4eab\u529f\u80fd")},t.prototype.getSetting=function(){console.log("\u83b7\u53d6\u6388\u6743\u60c5\u51b5,\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5efa\u8bae\u53e6\u5916\u7528\u5168\u5c40\u53d8\u91cf\u5b58\u50a8")},t.prototype.getUserInfo=function(e){if(this.platformApi){var t=this;this.platformApi.getUserInfo({success:function(o){t.userInfo=o.userInfo,e&&e(o.userInfo),console.log("\u5df2\u83b7\u53d6\u5e73\u53f0\u7528\u6237\u4fe1\u606f")}})}else e&&e(),console.log("\u65e0\u7528\u6237\u4fe1\u606f")},t.prototype.showBanner=function(){},t.prototype.hideBanner=function(){},t.prototype.showInsert=function(){},o=r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../Config/EnumTypes":"EnumTypes","../Mgr/EventMgr":"EventMgr"}],RotateLoop:[function(e,t,o){"use strict";cc._RF.push(t,"0afa6Tmq7VA1b5TmLrh73qC","RotateLoop");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.duration=3,t.angle=360,t}return n(t,e),t.prototype.start=function(){var e=cc.rotateBy(this.duration,this.angle);this.node.runAction(cc.repeatForever(e))},r([c],t.prototype,"duration",void 0),r([c],t.prototype,"angle",void 0),r([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScaleLoop:[function(e,t,o){"use strict";cc._RF.push(t,"246fenS1MtHwp4bZ/jx74nP","ScaleLoop");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.originScale=1,t.targetScale=1.1,t.scaleDuration=.5,t}return n(t,e),t.prototype.start=function(){var e=cc.scaleTo(this.scaleDuration,this.targetScale),t=cc.scaleTo(this.scaleDuration,this.originScale),o=cc.sequence(e,t);this.node.runAction(cc.repeatForever(o))},r([c],t.prototype,"originScale",void 0),r([c],t.prototype,"targetScale",void 0),r([c],t.prototype,"scaleDuration",void 0),r([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],SoundMgr:[function(e,t,o){"use strict";cc._RF.push(t,"51c27epRQRNBJV3jmB3ct7t","SoundMgr");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Config/EnumTypes"),s=e("./AssetMgr"),c=e("./EventMgr"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentMusicKey="",t.currentMusicId=-1,t.currentAid=-1,t.buttonIns=!1,t.doneCB=null,t.hasLoadSound={},t.hasLoadMusic={},t.hasPlayingSound=[],t.hasPlayingId=[],t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),o.instance=this},t.prototype.start=function(){var e=this;c.EventMgr.on(i.EventType.Platform_Wake_Do,function(){e.PlayMusic(o.instance.currentMusicKey)},this),c.EventMgr.on(i.EventType.Platform_Hide_Do,function(){e.StopMuisc()},this),this.schedule(function(){e.PlayMusic(o.instance.currentMusicKey)},10)},t.prototype.PlaySound=function(e,t,a){if(void 0===t&&(t=!1),void 0===a&&(a=1),!o.IsMute){var n=this.hasLoadSound[e];if(n)this.playSoundAPI(n,t,a);else{var r=this;s.default.loadRes("Sound/"+e,cc.AudioClip,function(o,n){o?console.warn(o):(r.hasLoadSound[e]=n,r.playSoundAPI(n,t,a))})}}},t.prototype.playSoundAPI=function(e,t,o){var a=this;if(-1==this.hasPlayingSound.indexOf(e.name)){this.hasPlayingSound.push(e.name);var n=cc.audioEngine.play(e,t,o);if(this.hasPlayingId.push(n),!t){var r=.25*e.duration;r>1&&(r=1),this.scheduleOnce(function(){var t=a.hasPlayingSound.indexOf(e.name);-1!=t&&(a.hasPlayingSound.splice(t,1),a.hasPlayingId.splice(t,1))},r)}}},t.prototype.StopSound=function(e){var t=this.hasPlayingSound.indexOf(e);-1!=t?(cc.audioEngine.stop(this.hasPlayingId[t]),this.hasPlayingSound.splice(t,1),this.hasPlayingId.splice(t,1)):console.warn("\u505c\u6b62\u58f0\u97f3\u4e0d\u5b58\u5728")},t.prototype.PlayMusic=function(e,t){var a=this;void 0===t&&(t=!0),o.IsMute||this.currentMusicKey==e&&cc.audioEngine.getState(this.currentMusicId)==cc.audioEngine.AudioState.PLAYING||!s.default.isResLoaded||s.default.loadRes("Sound/"+e,cc.AudioClip,function(o,n){if(o)return console.warn(o),a.currentMusicKey="",void(a.currentMusicId=-1);a.hasLoadMusic[e]=n,a.currentMusicId=cc.audioEngine.playMusic(n,t),a.currentMusicKey=e})},t.prototype.StopMuisc=function(){this.currentMusicKey="",cc.audioEngine.stopMusic()},t.IsMute=!1,o=r([u],t)}(cc.Component));o.default=d,cc._RF.pop()},{"../Config/EnumTypes":"EnumTypes","./AssetMgr":"AssetMgr","./EventMgr":"EventMgr"}],StorageData:[function(e,t,o){"use strict";cc._RF.push(t,"972758YZ15MIY03RoZRE+Qv","StorageData"),Object.defineProperty(o,"__esModule",{value:!0}),o.StorageData=void 0;o.StorageData=function(){this.gameVersion="6",this.firstIn=!0,this.guideStep=0,this.lastUploadTime=0,this.findFaultData={isUnlock:!1,maxLevel:1},this.drawCatachSheepData={isUnlock:!1,maxLevel:1},this.saveSheepData={isUnlock:!1,maxLevel:1},this.waterSortPuzzleData={isUnlock:!1,maxLevel:1,waterSkinLockData:[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],waterSkinChooseIndex:0},this.bottlePuzzleData={isUnlock:!1,maxLevel:1},this.tolietMazeData={isUnlock:!1,maxLevel:1},this.clearBallData={isUnlock:!1,maxLevel:1,bomb:0,rocket:0,refresh:0,ballSkin:1,ballLockSkinArr:[1,1,0,0,0,0,0]},this.doggyData={isUnlock:!1,maxLevel:1,beeSkin:0,dogSkin:0,beeSkinArr:[1,0,0,0,0,0],dogSkinArr:[1,0,0,0]},this.power=30,this.lastPowerRecoverTime=0,this.powerUmlitLevel=0,this.powerUmlitEndTime=0,this.key=3,this.gold=0,this.todayLuckyWheelCount=4,this.decorate=0,this.nowRoomName="Room_1",this.room1Decorate=[],this.room1UnlockDecorate=[],this.room2Decorate=[],this.room2UnlockDecorate=[],this.room3_1Decorate=[],this.room3_1UnlockDecorate=[],this.room3_2Decorate=[],this.room3_2UnlockDecorate=[],this.room3_3Decorate=[],this.room3_3UnlockDecorate=[],this.room4Decorate=[],this.room4UnlockDecorate=[],this.allSuccessCount=0,this.successCount=999,this.allSuccessCount_invertal=0,this.successCount_invertal=999,this.lastLoginDay=0,this.realSignDay=0,this.targetSignDay=1},cc._RF.pop()},{}],StorageMgr:[function(e,t,o){"use strict";cc._RF.push(t,"5935aDnN/dOK4WlfsN2OIn/","StorageMgr");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Config/EnumTypes"),s=e("../Config/GameData"),c=e("../Config/StorageData"),l=e("../JJSDK/JJMgr"),u=e("../Platform/Platform"),d=e("./EventMgr"),f=e("./TimeMgr"),g=cc._decorator.ccclass,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.storageData=new c.StorageData,t.storageName=new c.StorageData,t.reducePower=5,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.init(),this.versionDeal()},t.prototype.versionDeal=function(){if(null!=this.storageData.gameVersion){if(this.storageData.gameVersion!=(new c.StorageData).gameVersion){if("4"==this.storageData.gameVersion){this.storageData.findFaultData.isUnlock=!0;var e=parseInt(localStorage.getItem("findFaultLevel"));e&&(this.storageData.findFaultData.maxLevel=e),this.writeStorage(this.storageName.findFaultData,this.storageData.findFaultData),this.storageData.gameVersion="5",this.writeStorage(this.storageName.gameVersion,this.storageData.gameVersion)}"5"==this.storageData.gameVersion&&(this.storageData.clearBallData.rocket<0&&(this.storageData.clearBallData.rocket=0),this.writeStorage(this.storageName.clearBallData,this.storageData.clearBallData),this.storageData.gameVersion="6",this.writeStorage(this.storageName.gameVersion,this.storageData.gameVersion))}this.storageData.findFaultData.maxLevel||(this.storageData.findFaultData.maxLevel=1,this.writeStorage(this.storageName.findFaultData,this.storageData.findFaultData))}else for(var t in console.log("\u6e05\u7406\u5b58\u6863"),localStorage.clear(),this.storageData=new c.StorageData,this.storageName=new c.StorageData,this.storageData)this.writeStorage(t,this.storageName[t]),s.default.isTest&&console.log("\u521d\u59cb\u5316\u7f13\u5b58\u6570\u636e",t,this.storageName[t]),this.storageName[t]=t},t.prototype.init=function(){for(var e in this.storageData){var t=this.readStorage(e);t?(this.storageData[e]=JSON.parse(t),s.default.isTest&&console.log("\u52a0\u8f7d\u7f13\u5b58\u6570\u636e",e,this.storageData[e])):(this.writeStorage(e,this.storageName[e]),s.default.isTest&&console.log("\u521d\u59cb\u5316\u7f13\u5b58\u6570\u636e",e,this.storageName[e])),this.storageName[e]=e}},t.prototype.writeStorage=function(e,t){localStorage.setItem(e,JSON.stringify(t)),this.storageData[e]=t},t.prototype.readStorage=function(e){return localStorage.getItem(e)},t.prototype.removeStorage=function(e){localStorage.removeItem(e)},t.prototype.SaveAllStorge=function(){for(var e in this.storageData)this.writeStorage(e,this.storageData[e])},t.prototype.setFirstIn=function(e){this.storageData.firstIn=!1,this.writeStorage("firstIn",this.storageData.firstIn),this.storageData.power=e,this.writeStorage("power",this.storageData.power)},t.prototype.addGuideStep=function(){o.instance.storageData.guideStep++,o.instance.writeStorage("guideStep",o.instance.storageData.guideStep)},t.prototype.addAllSuccessCount_endTick=function(){this.storageData.allSuccessCount++,this.writeStorage("allSuccessCount",this.storageData.allSuccessCount)},t.prototype.setSuccessCount_endTick=function(e){this.storageData.successCount=e,this.writeStorage("successCount",this.storageData.successCount)},t.prototype.addAllSuccessCount_invertal=function(){this.storageData.allSuccessCount_invertal++,this.writeStorage("allSuccessCount_invertal",this.storageData.allSuccessCount_invertal)},t.prototype.setSuccessCount_invertal=function(e){this.storageData.successCount_invertal=e,this.writeStorage("successCount_invertal",this.storageData.successCount_invertal)},t.prototype.setLastLoginDay=function(e){this.storageData.lastLoginDay=e,this.writeStorage("lastLoginDay",this.storageData.lastLoginDay)},t.prototype.setRealSignDay=function(e){this.storageData.realSignDay=e,this.writeStorage("realSignDay",this.storageData.realSignDay)},t.prototype.setTargetSignDay=function(e){this.storageData.targetSignDay=e,this.writeStorage("targetSignDay",this.storageData.targetSignDay)},t.prototype.addLevel=function(e){switch(e){case i.GameNames.findFault:o.instance.storageData.findFaultData.maxLevel++,o.instance.writeStorage("findFaultData",o.instance.storageData.findFaultData);break;case i.GameNames.drawCatchSheep:o.instance.storageData.drawCatachSheepData.maxLevel++,o.instance.writeStorage("drawCatachSheepData",o.instance.storageData.drawCatachSheepData);break;case i.GameNames.saveSheep:o.instance.storageData.saveSheepData.maxLevel++,o.instance.writeStorage("saveSheepData",o.instance.storageData.saveSheepData);break;case i.GameNames.waterSortPuzzle:o.instance.storageData.waterSortPuzzleData.maxLevel++,o.instance.writeStorage("waterSortPuzzleData",o.instance.storageData.waterSortPuzzleData);break;case i.GameNames.bottlePuzzle:o.instance.storageData.bottlePuzzleData.maxLevel++,o.instance.writeStorage("bottlePuzzleData",o.instance.storageData.bottlePuzzleData);break;case i.GameNames.tolietMaze:o.instance.storageData.tolietMazeData.maxLevel++,o.instance.writeStorage("tolietMazeData",o.instance.storageData.tolietMazeData);break;default:console.warn("\u6ca1\u6709\u8fd9\u4e2a\u6e38\u620f\u5173\u5361")}},t.prototype.unlockGame=function(e){switch(s.default.isTest&&console.log("\u89e3\u9501\u6e38\u620f",e),e){case i.GameNames.findFault:o.instance.storageData.findFaultData.isUnlock=!0,o.instance.writeStorage("findFaultData",o.instance.storageData.findFaultData);break;case i.GameNames.drawCatchSheep:o.instance.storageData.drawCatachSheepData.isUnlock=!0,o.instance.writeStorage("drawCatachSheepData",o.instance.storageData.drawCatachSheepData);break;case i.GameNames.saveSheep:o.instance.storageData.saveSheepData.isUnlock=!0,o.instance.writeStorage("saveSheepData",o.instance.storageData.saveSheepData);break;case i.GameNames.waterSortPuzzle:o.instance.storageData.waterSortPuzzleData.isUnlock=!0,o.instance.writeStorage("waterSortPuzzleData",o.instance.storageData.waterSortPuzzleData);break;case i.GameNames.bottlePuzzle:o.instance.storageData.bottlePuzzleData.isUnlock=!0,o.instance.writeStorage("bottlePuzzleData",o.instance.storageData.bottlePuzzleData);break;case i.GameNames.tolietMaze:o.instance.storageData.tolietMazeData.isUnlock=!0,o.instance.writeStorage("tolietMazeData",o.instance.storageData.tolietMazeData);break;case i.GameNames.clearBall:o.instance.storageData.clearBallData.isUnlock=!0,o.instance.writeStorage("clearBallData",o.instance.storageData.clearBallData);break;case i.GameNames.doggy:o.instance.storageData.doggyData.isUnlock=!0,o.instance.writeStorage("doggyData",o.instance.storageData.doggyData);break;default:console.warn("\u6ca1\u6709\u8fd9\u4e2a\u6e38\u620f\u89e3\u9501")}},t.prototype.getRoomDecorate=function(){switch(o.instance.storageData.nowRoomName){case i.RoomName.Room_1:return o.instance.storageData.room1Decorate;case i.RoomName.Room_2:return o.instance.storageData.room2Decorate;case i.RoomName.Room_3_1:return o.instance.storageData.room3_1Decorate;case i.RoomName.Room_3_2:return o.instance.storageData.room3_2Decorate;case i.RoomName.Room_3_3:return o.instance.storageData.room3_3Decorate;case i.RoomName.Room_4:return o.instance.storageData.room4Decorate;default:return console.error("\u672a\u77e5\u623f\u95f4\u540d",o.instance.storageData.nowRoomName),null}},t.prototype.getRoomUnlockDecorate=function(){switch(o.instance.storageData.nowRoomName){case i.RoomName.Room_1:return o.instance.storageData.room1UnlockDecorate;case i.RoomName.Room_2:return o.instance.storageData.room2UnlockDecorate;case i.RoomName.Room_3_1:return o.instance.storageData.room3_1UnlockDecorate;case i.RoomName.Room_3_2:return o.instance.storageData.room3_2UnlockDecorate;case i.RoomName.Room_3_3:return o.instance.storageData.room3_3UnlockDecorate;case i.RoomName.Room_4:return o.instance.storageData.room4UnlockDecorate;default:return console.error("\u672a\u77e5\u623f\u95f4\u540d",o.instance.storageData.nowRoomName),null}},t.prototype.setRoomDecorate=function(e){switch(o.instance.storageData.nowRoomName){case i.RoomName.Room_1:this.storageData.room1Decorate=e,this.writeStorage("room1Decorate",this.storageData.room1Decorate);break;case i.RoomName.Room_2:this.storageData.room2Decorate=e,this.writeStorage("room2Decorate",this.storageData.room2Decorate);break;case i.RoomName.Room_3_1:this.storageData.room3_1Decorate=e,this.writeStorage("room3_1Decorate",this.storageData.room3_1Decorate);break;case i.RoomName.Room_3_2:this.storageData.room3_2Decorate=e,this.writeStorage("room3_2Decorate",this.storageData.room3_2Decorate);break;case i.RoomName.Room_3_3:this.storageData.room3_3Decorate=e,this.writeStorage("room3_3Decorate",this.storageData.room3_3Decorate);break;case i.RoomName.Room_4:this.storageData.room4Decorate=e,this.writeStorage("room4Decorate",this.storageData.room4Decorate);break;default:console.error("\u672a\u77e5\u623f\u95f4\u540d",o.instance.storageData.nowRoomName)}},t.prototype.unlockRoomDecorate=function(e){var t="room1UnlockDecorate";switch(o.instance.storageData.nowRoomName){case i.RoomName.Room_1:t="room1UnlockDecorate";break;case i.RoomName.Room_2:t="room2UnlockDecorate";break;case i.RoomName.Room_3_1:t="room3_1UnlockDecorate";break;case i.RoomName.Room_3_2:t="room3_2UnlockDecorate";break;case i.RoomName.Room_3_3:t="room3_3UnlockDecorate";break;case i.RoomName.Room_4:t="room4UnlockDecorate";break;default:console.error("\u672a\u77e5\u623f\u95f4\u540d",o.instance.storageData.nowRoomName)}-1==this.storageData[t].indexOf(e)?(this.storageData[t].push(e),console.log("\u89e3\u9501\u4e86",e),this.writeStorage(t,this.storageData[t])):u.default.instance.showToast("\u5df2\u7ecf\u89e3\u9501\u4e86")},t.prototype.changeNowRoom=function(e){this.storageData.nowRoomName=e,this.writeStorage("nowRoomName",this.storageData.nowRoomName)},t.prototype.addDecorate=function(e){this.storageData.decorate+=e,this.writeStorage("decorate",this.storageData.decorate),d.EventMgr.event(i.EventType.Common_Decorate_Update)},t.prototype.useDecorate=function(e){return e>this.storageData.decorate?(u.default.instance.showToast("\u88c5\u4fee\u70b9\u4e0d\u8db3"),!1):(this.storageData.decorate-=e,this.writeStorage("decorate",this.storageData.decorate),d.EventMgr.event(i.EventType.Common_Decorate_Update),!0)},t.prototype.addKey=function(){this.storageData.key++,console.log("\u94a5\u5319+1"),this.writeStorage("key",this.storageData.key),d.EventMgr.event(i.EventType.Common_Key_Update)},t.prototype.reduceKey=function(){this.storageData.key<=0?cc.error("\u94a5\u5319\u4e0d\u8db3\u7684\u60c5\u51b5\uff0c\u4ecd\u89e6\u53d1\u4e86\u51cf\u94a5\u5319\u4e8b\u4ef6"):(this.storageData.key--,this.writeStorage("key",this.storageData.key),d.EventMgr.event(i.EventType.Common_Key_Update))},t.prototype.addPower_forPlayer=function(){var e=parseInt(l.default.instance.dataConfig.front_give_tili);e||(e=20),console.log("\u589e\u52a0\u4f53\u529b",e),this.storageData.power+=e,this.writeStorage("power",this.storageData.power),d.EventMgr.event(i.EventType.Common_Power_Update)},t.prototype.addPower_forDev=function(e){console.log("\u589e\u52a0\u4f53\u529b",e),this.storageData.power+=e,this.writeStorage("power",this.storageData.power),d.EventMgr.event(i.EventType.Common_Power_Update)},t.prototype.usePower=function(){s.default.getNowPowerUnlimited()||(l.default.instance.dataConfig.front_tili_num&&(this.reducePower=l.default.instance.dataConfig.front_tili_num),this.storageData.power<this.reducePower?d.EventMgr.event(i.EventType.Game_PowerLess_Event):(this.storageData.power-=this.reducePower,this.storageData.power<s.default.powerMax&&this.updateLastPowerRecoverTime(),this.writeStorage("power",this.storageData.power),d.EventMgr.event(i.EventType.Common_Power_Update)))},t.prototype.updateLastPowerRecoverTime=function(e){this.storageData.lastPowerRecoverTime=e||f.default.instance.time,this.writeStorage("lastPowerRecoverTime",this.storageData.lastPowerRecoverTime)},t.prototype.addPowerUnlimitedLevel=function(){o.instance.storageData.powerUmlitLevel++,o.instance.writeStorage("powerUmlitLevel",o.instance.storageData.powerUmlitLevel),o.instance.storageData.powerUmlitLevel>=3?(o.instance.storageData.powerUmlitEndTime=f.default.instance.time,d.EventMgr.event(i.EventType.Common_Power_Update)):2==o.instance.storageData.powerUmlitLevel?o.instance.addPower_forDev(20):1==o.instance.storageData.powerUmlitLevel&&o.instance.addPower_forDev(30)},t.prototype.clearPowerUnlimitedLevel=function(){o.instance.storageData.powerUmlitLevel=0,o.instance.writeStorage("powerUmlitLevel",o.instance.storageData.powerUmlitLevel)},t.prototype.addGold=function(e){e&&(e=Math.floor(e),o.instance.storageData.gold+=e,this.writeStorage(o.instance.storageName.gold,o.instance.storageData.gold),d.EventMgr.event(i.EventType.Common_Gold_Update))},t.prototype.useGold=function(e){e&&(e>o.instance.storageData.gold?u.default.instance.showToast("\u91d1\u5e01\u4e0d\u8db3"):(e=Math.floor(e),o.instance.storageData.gold-=e,this.writeStorage(o.instance.storageName.gold,o.instance.storageData.gold),d.EventMgr.event(i.EventType.Common_Gold_Update)))},t.prototype.reduceLuckyWheelCount=function(){o.instance.storageData.todayLuckyWheelCount--,this.writeStorage(o.instance.storageName.todayLuckyWheelCount,o.instance.storageData.todayLuckyWheelCount),d.EventMgr.event(i.EventType.Common_LuckyWheel_Update)},t.prototype.resetLuckyWheelCount=function(){o.instance.storageData.todayLuckyWheelCount=4,this.writeStorage(o.instance.storageName.todayLuckyWheelCount,o.instance.storageData.todayLuckyWheelCount),d.EventMgr.event(i.EventType.Common_LuckyWheel_Update)},t.prototype.cloudSaveInit=function(e){window.wx?(this.downloadStorage(function(){e()}),window.wx.onHide(function(){o.instance.cloudSave()})):e()},t.prototype.cloudSave=function(){window.wx&&(console.log("\u5f00\u59cb\u4e91\u5b58\u6863\u4e0a\u4f20"),o.instance.uploadStorage())},t.prototype.uploadStorage=function(){if(window.wx){var e=o.instance.storageData.lastUploadTime;o.instance.storageData.lastUploadTime=f.default.instance.time,o.instance.writeStorage("lastUploadTime",o.instance.storageData.lastUploadTime);var t={app_key:window.JJSdkConf.app_key,open_id:l.default.instance.openId,content:JSON.stringify(this.storageData)};window.wx.request({url:"https://api.jiujiuhuyu.com/game/user/data",method:"POST",data:t,success:function(t){var a=t.data;"success"==a.msg?console.log("\u4e0a\u4f20\u6210\u529f",a):(console.log("\u4e0a\u4f20\u5931\u8d25",a),o.instance.storageData.lastUploadTime=e,o.instance.writeStorage("lastUploadTime",o.instance.storageData.lastUploadTime))}})}},t.prototype.downloadStorage=function(e){if(window.wx){var t=new XMLHttpRequest;t.withCredentials=!0,t.addEventListener("readystatechange",function(){if(4===this.readyState){var t=JSON.parse(this.responseText);"success"==t.msg&&t.data.content&&0!=t.data.content.lastUploadTime?(console.log("\u4e0b\u8f7d\u4e91\u5b58\u6863\u6210\u529f",t.data.content),o.instance.storageData.lastUploadTime<t.data.content.lastUploadTime?(console.log("\u4e91\u5b58\u6863\u66f4\u65b0\u65f6\u95f4\u6bd4\u672c\u5730\u5b58\u6863\u66f4\u65b0\u65f6\u95f4\u65e9\uff0c\u4f7f\u7528\u4e91\u5b58\u6863"),o.instance.storageData=t.data.content,o.instance.SaveAllStorge()):(console.log("\u4e91\u5b58\u6863\u66f4\u65b0\u65f6\u95f4\u6bd4\u672c\u5730\u5b58\u6863\u66f4\u65b0\u65f6\u95f4\u665a\uff0c\u4f7f\u7528\u672c\u5730\u5b58\u6863"),o.instance.cloudSave()),e()):(console.log("\u4e0b\u8f7d\u4e91\u5b58\u6863\u5931\u8d25\uff0c\u4f7f\u7528\u672c\u5730\u5b58\u6863"),o.instance.cloudSave(),e())}}),t.open("GET","https://api.jiujiuhuyu.com/game/user/data?app_key="+window.JJSdkConf.app_key+"&open_id="+l.default.instance.openId),t.send()}else e()},o=r([g],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../Config/EnumTypes":"EnumTypes","../Config/GameData":"GameData","../Config/StorageData":"StorageData","../JJSDK/JJMgr":"JJMgr","../Platform/Platform":"Platform","./EventMgr":"EventMgr","./TimeMgr":"TimeMgr"}],TimeMgr:[function(e,t,o){"use strict";cc._RF.push(t,"df419fEsSJNV7a2NFFnLPBr","TimeMgr");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(r<3?n(i):r>3?n(t,o,i):n(t,o))||i);return r>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Config/EnumTypes"),s=e("../Config/GameData"),c=e("./EventMgr"),l=e("./StorageMgr"),u=cc._decorator,d=u.ccclass,f=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=0,t.day=0,t.hour=0,t.minute=0,t.second=0,t.isPowerCountStart=!1,t.powerDeltaTime=0,t.onlineAwardTime=0,t.isStartOnlineAwardCount=!1,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.timeCount(),this.schedule(this.timeCount,1)},t.prototype.timeInit=function(){o.instance.dayUpdate(),o.instance.startPowerCount(),o.instance.startOnlineAwardCount()},t.prototype.timeCount=function(){this.time=(new Date).getTime()-6e4*(new Date).getTimezoneOffset(),this.day=Math.floor(this.time/864e5),this.hour=Math.floor(this.time%864e5/36e5),this.minute=Math.floor(this.time%36e5/6e4),this.second=Math.floor(this.time%6e4/1e3),this.powerCountUpdate(),this.onlineAwardCountUpdate()},t.prototype.dayUpdate=function(){var e=this.day;if(l.default.instance.storageData.lastLoginDay!=e){l.default.instance.setLastLoginDay(e);var t=l.default.instance.storageData.realSignDay,o=l.default.instance.storageData.targetSignDay;t==o&&(7==o?(o=1,t=0):o++),l.default.instance.setRealSignDay(t),l.default.instance.setTargetSignDay(o),l.default.instance.resetLuckyWheelCount(),console.log("\u6bcf\u65e5\u66f4\u65b0\u89e6\u53d1")}},t.prototype.startPowerCount=function(){this.isPowerCountStart=!0,this.powerCountUpdate()},t.prototype.powerCountUpdate=function(){if(this.isPowerCountStart){if(s.default.getNowPowerUnlimited()){if(!(this.time-l.default.instance.storageData.powerUmlitEndTime>864e5))return;l.default.instance.clearPowerUnlimitedLevel()}var e=l.default.instance.storageData.power,t=s.default.powerMax;if(e<t)if(this.powerDeltaTime=this.time-l.default.instance.storageData.lastPowerRecoverTime,this.powerDeltaTime<0)l.default.instance.updateLastPowerRecoverTime();else{var o=Math.floor(this.powerDeltaTime/s.default.powerRecoverTime);o<=0||(e+o>t?(o=t-e,l.default.instance.updateLastPowerRecoverTime(),l.default.instance.addPower_forDev(o)):o>0&&(l.default.instance.updateLastPowerRecoverTime(l.default.instance.storageData.lastPowerRecoverTime+o*s.default.powerRecoverTime),l.default.instance.addPower_forDev(o)))}else l.default.instance.updateLastPowerRecoverTime()}},t.prototype.startOnlineAwardCount=function(){this.isStartOnlineAwardCount=!0},t.prototype.onlineAwardCountUpdate=function(){this.isStartOnlineAwardCount&&(this.onlineAwardTime++,c.EventMgr.event(i.EventType.Common_OnlineTime_Update))},t.prototype.resetOnlineTime=function(){this.onlineAwardTime=0,c.EventMgr.event(i.EventType.Common_OnlineTime_Update)},o=r([d],t)}(cc.Component));o.default=f,cc._RF.pop()},{"../Config/EnumTypes":"EnumTypes","../Config/GameData":"GameData","./EventMgr":"EventMgr","./StorageMgr":"StorageMgr"}],Tool:[function(e,t,o){"use strict";cc._RF.push(t,"5f5d0+RntVPnp1jmIwCWW0Q","Tool"),Object.defineProperty(o,"__esModule",{value:!0}),o.Tool=void 0;var a=e("../Config/EnumTypes"),n=e("../Mgr/SoundMgr"),r=function(){function e(){}return e.d2_AddClickEvent=function(e,t,o,r,i,s){void 0===r&&(r=null),void 0===i&&(i=!0),void 0===s&&(s=!0),e.targetOff(o);var c=e.scaleX,l=.9*c,u=!1;e.on(cc.Node.EventType.TOUCH_START,function(){u=!0,s&&cc.tween(e).to(.06,{scaleX:l,scaleY:l}).start()},o),e.on(cc.Node.EventType.TOUCH_END,function(){0!=u&&(u=!1,s?cc.tween(e).to(.06,{scaleX:c,scaleY:c}).call(function(){t&&t.call(o,r),i&&n.default.instance&&n.default.instance.PlaySound(a.SoundType.Button)}).start():(t&&t.call(o,r),i&&n.default.instance&&n.default.instance.PlaySound(a.SoundType.Button)))},o),e.on(cc.Node.EventType.TOUCH_CANCEL,function(){0!=u&&(u=!1,s&&cc.tween(e).to(.06,{scaleX:c,scaleY:c}).start())},o)},e.d3_FindNodeByName=function(e,t){var o=null,a=function(e){for(var n=0;n<e.children.length;n++){if(e.children[n].name==t)return void(o=e.children[n]);a(e.children[n])}};return a(e),o},e.d3_FindAllNodeByName=function(e,t){var o=[],a=function(e){for(var n=0;n<e.children.length;n++)e.children[n].name==t&&o.push(e.children[n]),a(e.children[n])};return a(e),o},e.d3_FindNodeHasName=function(e,t){var o=null,a=function(e){for(var n=0;n<e.children.length;n++){if(-1!=e.children[n].name.indexOf(t))return void(o=e.children[n]);a(e.children[n])}};return a(e),o},e.d3_FindAllNodeHasName=function(e,t){var o=[],a=function(e){for(var n=0;n<e.children.length;n++)-1!=e.children[n].name.indexOf(t)&&o.push(e.children[n]),a(e.children[n])};return a(e),o},e.unactiveAllChildren=function(e){for(var t=0;t<e.children.length;t++)e.children[t].active=!1},e.activeAllChildren=function(e){for(var t=0;t<e.children.length;t++)e.children[t].active=!0},e.activeIndexInChildren=function(e,t){for(var o=0;o<e.children.length;o++)e.children[o].active=o==t},e.setStatsColor=function(e,t){void 0===e&&(e=cc.Color.WHITE),void 0===t&&(t=cc.color(0,0,0,150));var o=cc.find("PROFILER-NODE");if(!o)return cc.warn("\u672a\u627e\u5230\u7edf\u8ba1\u9762\u677f\u8282\u70b9\uff01");o.children.forEach(function(t){return t.color=e});var a=o.getChildByName("BACKGROUND");a||(a=new cc.Node("BACKGROUND"),o.addChild(a,cc.macro.MIN_ZINDEX),a.setContentSize(o.getBoundingBoxToWorld()),a.setPosition(0,0));var n=a.getComponent(cc.Graphics)||a.addComponent(cc.Graphics);n.clear(),n.rect(-5,12.5,a.width+10,a.height-10),n.fillColor=t,n.fill()},e.vector2Reduce=function(e,t){return new cc.Vec2(e.x-t.x,e.y-t.y)},e.getAngle2DWay=function(e,t){var o,a=cc.Vec2.dot(e,t),n=cc.Vec2.len(e)*cc.Vec2.len(t);if(0==n)o=0;else{o=180*Math.acos(a/n)/Math.PI;var r=e.x*t.y-t.x*e.y;r>0?o*=1:r<0?o*=-1:o=o}return o},e.getRandomInArray=function(e){if(e.length){var t=Math.random()*e.length;return e[t=Math.floor(t)]}return console.error("\u4f20\u5165\u9519\u8bef\u53c2\u6570,\u8fd4\u56de\u7a7a"),null},e.getRandomByArray_Precent=function(e,t){if(e.length!=t.length)return console.log("\u957f\u5ea6\u4e0d\u4e00\u81f4",e,t),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];var n=0,r=Math.random();for(a=0;a<t.length;a++)if(r<=(n+=t[a]/o))return e[a];return null},e.takeRandomInArray=function(e){if(e.length){var t=Math.random()*e.length,o=e[t=Math.floor(t)];return e.splice(t,1),o}return console.error("\u4f20\u5165\u9519\u8bef\u53c2\u6570,\u8fd4\u56de\u7a7a"),null},e.getPrecentFromWeight=function(e){for(var t=0,o=0;o<e.length;o++)t+=e[o];var a=0,n=[];for(o=0;o<e.length;o++)0==t?(n.push(1/e.length),console.log("\u6bd4\u91cd\u4f20\u5165\u5168\u90e8\u90fd\u662f0\uff0c\u8fd4\u56de\u5e73\u5747\u6570\u7ec4")):(a=e[o]/t,n.push(a));return n},e.randomNumber=function(e,t){return e+(t-e)*Math.random()},e.randomInt=function(e,t){return Math.floor(e+(t+1-e)*Math.random())},e.halfPercent=function(){return Math.random()<.5},e.percent=function(e){return Math.random()<e},e.cloneArray_normal=function(e){return[].concat(e)},e.cloneArray_Obj=function(e){return JSON.parse(JSON.stringify(e))},e.d3_getRgbByHex=function(e){var t=[],o=[],a=e.replace(/#/,"");if(3==a.length){for(var n=[],r=0;r<3;r++)n.push(a.charAt(r)+a.charAt(r));a=n.join("")}for(r=0;r<3;r++)t[r]="0x"+a.substr(2*r,2),o.push(parseInt(t[r]));return new cc.Color(o[0],o[1],o[2],255)},e.objectShake=function(e,t,o){void 0===t&&(t=1),void 0===o&&(o=10);var a=e.angle,n=o;t/=10;var r=cc.sequence(cc.callFunc(function(){e.angle=a,n=o},this),cc.rotateTo(t,a+n),cc.callFunc(function(){n*=.5}),cc.rotateTo(2*t,a-n),cc.callFunc(function(){n*=.5}),cc.rotateTo(2*t,a+n),cc.callFunc(function(){n*=.5}),cc.rotateTo(2*t,a-n),cc.callFunc(function(){n*=.5}),cc.rotateTo(2*t,a+n),cc.rotateTo(t,a));e.runAction(r)},e.capture=function(){var e=new cc.RenderTexture,t=cc.game._renderContext;e.initWithSize(1024,1024,t.STENCIL_INDEX8);var o=new cc.Node;o.parent=cc.director.getScene(),o.x=200,o.y=650,cc.view.getVisibleSize().height>1334&&(o.y+=100);var a=o.addComponent(cc.Camera);a.targetTexture=e,a.enabled=!0,a.render();var n=new cc.SpriteFrame;return n.setTexture(e),a.enabled=!1,o.destroy(),n},e.local_SaveData=function(e,t){Editor.assetdb.create("db://assets/"+e,t,function(t){t?cc.error("\u751f\u6210\u6587\u4ef6"+e+"\u5931\u8d25"):cc.log("\u751f\u6210\u6587\u4ef6"+e+"\u6210\u529f")})},e.BoxCheck_2D_Normal=function(e,t,o,a,n,r,i,s){var c=r-t,l=n-e,u=Math.abs(l),d=Math.abs(c),f=(o+i)/2,g=(a+s)/2;return{isHit:u<f&&d<g,yDis:d,yRange:g,xDis:u,xRange:f,yWay:c,xWay:l}},e.ScaleTween_2D=function(e,t,o){var a=e.scale;e.scale=0,cc.tween(e).to(1,{scale:a},{easing:"elasticOut"}).call(o).start()},e.getItemEffect=function(t,o,a,n,r,i){for(var s=function(){var o=cc.instantiate(t);r.addChild(o),o.setPosition(a);var s=.3+.1*Math.random()-.05,c=new cc.Vec3(a.x+e.randomNumber(-125,125),a.y+e.randomNumber(-125,125),0);cc.tween(o).to(s,{position:c}).delay(.05).to(.4,{position:n}).call(function(){o.destroy(),i&&i()}).start()},c=0;c<o;c++)s()},e}();o.Tool=r,cc._RF.pop()},{"../Config/EnumTypes":"EnumTypes","../Mgr/SoundMgr":"SoundMgr"}],WxPlatformBannerAd:[function(e,t,o){"use strict";cc._RF.push(t,"77f2fE6Ny5K56ZQ1pzrF/zI","WxPlatformBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Mgr/SoundMgr"),n=e("./JJMgr"),r=e("./JJWxTrap"),i=function(){function e(){this.isLoadBannerError=!1,this.bannerAdArr=[],this.bannerTimeArr=[],this.bannerErrorArr=[],this.bannerCountArr=[],this.currentIndex=0,this.indexTime=0}return Object.defineProperty(e,"Instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sysInfo",{get:function(){return this._sysInfo||(this._sysInfo=window.wx.getSystemInfoSync()),this._sysInfo},enumerable:!1,configurable:!0}),e.prototype.initAd=function(e){void 0===e&&(e=[]),this.bannerIds=[],this.bannerIds=this.bannerIds.concat(n.default.instance.shuffleArr(e)),this.showBanner=this.showBannerFun,this.hideBanner=this.hideBannerFun,this.createBannerAd()},e.prototype.createBannerAd=function(){this.bannerAdArr=[],this.bannerTimeArr=[],this.bannerErrorArr=[],this.currentIndex=0;for(var e=0;e<this.bannerIds.length;e++){this.bannerErrorArr.push(!1),this.bannerTimeArr.push(0),this.bannerCountArr.push(0);var t=this.getBannerAd(e);this.bannerAdArr.push(t)}},e.prototype.getBannerAd=function(e,t){var o=this;void 0===t&&(t=!1),console.log("\u521b\u5efabanner\uff1a",e);var a=window.wx.createBannerAd({adUnitId:t?this.getRandomItemInArr(this.bannerIds):this.bannerIds[e],style:{top:.8*this.sysInfo.screenHeight,width:.8*this.sysInfo.screenWidth,left:this.sysInfo.screenWidth/2-150},adIntervals:n.default.instance.dataConfig.front_banner_auto_refresh_time/1e3});return a.onError(function(){console.log("banner\u52a0\u8f7d\u5931\u8d25\uff1a",e),o.bannerErrorArr[e]=!0}),a.onLoad(function(){console.log("banner\u52a0\u8f7d\u6210\u529f:",e),o.bannerErrorArr[e]=!1}),a.onResize(function(){a.style.top=o.sysInfo.screenHeight-a.style.realHeight,a.style.left=o.sysInfo.screenWidth/2-a.style.realWidth/2}),a},e.prototype.getIsAllError=function(){for(var e=!0,t=0;t<this.bannerErrorArr.length;t++)if(!this.bannerErrorArr[t]){e=!1;break}return e},e.prototype.showBannerFun=function(){this.currentIndex>=this.bannerAdArr.length&&(this.currentIndex=0),this.bannerCountArr[this.currentIndex]>=n.default.instance.dataConfig.front_banner_refresh_num&&(this.bannerCountArr[this.currentIndex]=0,this.currentIndex++,this.currentIndex>=this.bannerAdArr.length&&(this.currentIndex=0));for(var t=0;t<this.bannerErrorArr.length&&0!=this.bannerErrorArr[t];t++);for(t=0;t<this.bannerErrorArr.length&&this.bannerErrorArr[this.currentIndex];t++)this.bannerTimeArr[this.currentIndex]=0,this.bannerCountArr[this.currentIndex]=0,this.bannerAdArr[this.currentIndex]=this.getBannerAd(this.currentIndex),this.currentIndex++,this.currentIndex>=this.bannerAdArr.length&&(this.currentIndex=0);return this.hideBannerFun(),console.log("\u5f53\u524d\u5c55\u793a\u7684bannerId\uff1a",this.currentIndex),this.bannerAdArr[this.currentIndex]&&(this.bannerAdArr[this.currentIndex].show(),this.bannerCountArr[this.currentIndex]++),r.default.Instance.commmm||(r.default.Instance.commmm=a.default.instance),r.default.Instance.commmm.unschedule(e.Instance.updateBannerTime),r.default.Instance.commmm.schedule(e.Instance.updateBannerTime,.1),!0},e.prototype.showBannerFun2=function(){this.hideBannerFun(),this.showBannerFun()},e.prototype.showBannerFun2Fun=function(){this.showBannerFun()},e.prototype.hideBannerFun=function(t){r.default.Instance.commmm||(r.default.Instance.commmm=a.default.instance),r.default.Instance.commmm.unschedule(e.Instance.updateBannerTime);for(var o=0;o<this.bannerAdArr.length;o++)this.bannerAdArr[o]&&this.bannerAdArr[o].hide();t&&this.hideBannerFun2()},e.prototype.hideBannerFun2=function(){},e.prototype.checkBannerTimeOut=function(){var t=n.default.instance.dataConfig.front_banner_refresh_time;r.default.Instance.NewWuchu2||(t=3e4),this.bannerTimeArr[this.currentIndex]>=t/1e3&&(r.default.Instance.com.unschedule(e.Instance.updateBannerTime),this.hideBannerFun(),this.bannerAdArr[this.currentIndex].destroy(),this.bannerTimeArr[this.currentIndex]=0,this.bannerErrorArr[this.currentIndex]=!0,this.bannerAdArr[this.currentIndex]=this.getBannerAd(this.currentIndex),this.bannerAdArr[this.currentIndex].show(),r.default.Instance.com.schedule(e.Instance.updateBannerTime,.1))},e.prototype.updateBannerTime=function(){var t=e.Instance;t.bannerTimeArr[t.currentIndex]+=.1,t.checkBannerTimeOut()},e.prototype.countIndexTime=function(){r.default.Instance.com.schedule(e.Instance.updateIndexTime,.1)},e.prototype.updateIndexTime=function(){var t=e.Instance;t.indexTime+=.1,t.indexTime>=n.default.instance.dataConfig.front_assign_banner_time/1e3&&(t.hideBannerFun(),t.currentIndex++,t.showBannerFun(),t.indexTime=0)},e.prototype.stopCountIndexTime=function(){r.default.Instance.com.unschedule(e.Instance.updateIndexTime)},e.prototype.showHideBanner=function(){r.default.Instance.com.scheduleOnce(e.Instance.showHideBannerShow,n.default.instance.dataConfig.front_gezi_time/1e3)},e.prototype.showHideBannerShow=function(){e.Instance.showBannerFun(),r.default.Instance.com.scheduleOnce(e.Instance.showHideBannerHide,1)},e.prototype.showHideBannerHide=function(){e.Instance.hideBannerFun(),r.default.Instance.com.scheduleOnce(e.Instance.showHideBannerShow,n.default.instance.dataConfig.front_gezi_time/1e3)},e.prototype.clearShowHideBanner=function(){r.default.Instance.com.unschedule(e.Instance.showHideBannerHide),r.default.Instance.com.unschedule(e.Instance.showHideBannerShow),e.Instance.hideBannerFun()},e.prototype.getRandomIndex=function(e){for(var t=[],o=0;o<this.bannerIds.length;o++)t.push(o);return this.getRandomItemInArrWithoutSelf(e,t)[0]},e.prototype.setBannerTop=function(){},e.prototype.shuffleArr=function(e){for(var t,o=e.length;o;){var a=Math.floor(Math.random()*o--);t=[e[o],e[a]],e[a]=t[0],e[o]=t[1]}return e},e.prototype.getRandomItemInArrWithoutSelf=function(e,t,o){void 0===o&&(o=1);var a=[].concat(t);return a.splice(a.indexOf(e),1),(a=this.shuffleArr(a)).slice(0,o)},e.prototype.getRandomItemInArr=function(e){return e[Math.floor(Math.random()*e.length)]},e}();o.default=i,cc._RF.pop()},{"../Mgr/SoundMgr":"SoundMgr","./JJMgr":"JJMgr","./JJWxTrap":"JJWxTrap"}],WxPlatform:[function(e,t,o){"use strict";cc._RF.push(t,"91716nDmKJCHI/ZOYZm5R0F","WxPlatform");var a,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=e("../Config/GameData"),i=e("../Platform/Platform"),s=e("./AppConfig"),c=e("./BasePlatform"),l=e("./JJMgr"),u=e("./WxPlatformBannerAd"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerTopFactor=0,t}return n(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){if(cc.sys.platform===cc.sys.WECHAT_GAME){this.getSystemInfoSync(),this.videoId=s.default.wechat.videoAdUnitId[0],this.interId=s.default.wechat.interstitialAdUnitId[0],this.initAd();var e=window.wx.getLaunchOptionsSync().query;console.log("init query:",e)}},t.prototype.initAd=function(){cc.sys.platform,cc.sys.WECHAT_GAME},t.prototype.setBannerTop=function(e){u.default.Instance.setBannerTop(e)},t.prototype.showBanner=function(){return u.default.Instance.showBanner()},t.prototype.hideBanner=function(){u.default.Instance.hideBanner()},Object.defineProperty(t.prototype,"bannerLoadError",{get:function(){return u.default.Instance.isLoadBannerError},set:function(){},enumerable:!1,configurable:!0}),t.prototype.loadVideo=function(){this.videoAd=window.wx.createRewardedVideoAd({adUnitId:s.default.wechat.videoAdUnitId[0]}),this.videoAd.onLoad(function(e){cc.game.resume(),console.log("VideoAd\u5e7f\u544a\u52a0\u8f7d\u4e8b\u4ef6\uff1a",e),window.wx.hideLoading({})}),this.videoAd.onError(function(e){cc.game.resume(),console.log("VideoAd\u5e7f\u544a\u9519\u8bef\u4e8b\u4ef6\uff1a",e),window.wx.hideLoading({}),i.default.instance.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}),this.videoAd.load()},t.prototype.createRewardedVideoAd=function(e){var t=this;e||(e={}),e.onClose||(e.onClose=function(){}),e.onError||(e.onError=function(){}),cc.sys.platform!==cc.sys.WECHAT_GAME||r.default.isTest?e.onClose({isEnded:1}):(window.wx.showLoading({title:"\u6b63\u5728\u62c9\u8d77\u5e7f\u544a...",mask:!0}),cc.game.pause(),this.videoAd||(this.videoAd=window.wx.createRewardedVideoAd({adUnitId:s.default.wechat.videoAdUnitId[0]}),this.videoAd.onLoad(function(e){cc.game.resume(),console.log("VideoAd\u5e7f\u544a\u52a0\u8f7d\u4e8b\u4ef6\uff1a",e),window.wx.hideLoading({})}),this.videoAd.onError(function(t){console.log("VideoAd\u5e7f\u544a\u9519\u8bef\u4e8b\u4ef6\uff1a",t),cc.game.resume(),window.wx.hideLoading({}),e.onError(t),i.default.instance.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})),this.videoAdonClose&&this.videoAd.offClose(this.videoAdonClose),this.videoAdonClose=function(o){cc.game.resume(),window.wx.hideLoading({}),e.onClose(o),t.videoAd.offClose(t.videoAdonClose)},this.videoAd.onClose(this.videoAdonClose),this.videoAd.load().then(function(){t.videoAd.show().then(function(){window.wx.hideLoading({})}).catch(function(t){console.warn("\u89c6\u9891\u5e7f\u544a\u663e\u793a\u5931\u8d25",t),window.wx.hideLoading({}),e.onError(t),i.default.instance.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})}))},t.prototype.loadVideoAd=function(){if(cc.sys.platform===cc.sys.WECHAT_GAME){var e,t=this;null!=(e=this.videoAd)&&(e.offLoad(o),e.offError(a),e.offClose(n)),(e=window.wx.createRewardedVideoAd({adUnitId:t.videoId})).onLoad(o),e.onError(a),e.onClose(n),this.videoAd=e}function o(){console.log("video \u52a0\u8f7d\u6210\u529f")}function a(e){console.error("video \u52a0\u8f7d\u9519\u8bef",e)}function n(e){var o=!!(e&&e.isEnded||void 0===e);o&&(t.videoEndCallback&&t.videoEndCallback(),t.videoEndCallback=null),t.videoCloseCallback&&t.videoCloseCallback(o),t.videoCloseCallback=null}},t.prototype.showVideoAd=function(e,t,o){var a=this;if(void 0===o&&(o=!1),cc.sys.platform!=cc.sys.WECHAT_GAME)return e&&e(),void(t&&t());if(this.videoEndCallback=e,this.videoCloseCallback=t,null==this.videoAd&&this.loadVideoAd(),cc.sys.platform===cc.sys.WECHAT_GAME){var n=this.videoAd;n.show().then(function(){}).catch(function(){n.load().then(function(){return n.show()}).catch(function(){a.videoEndCallback&&a.videoEndCallback(),a.videoEndCallback=null,a.videoCloseCallback&&a.videoCloseCallback(),a.videoCloseCallback=null})})}else this.videoEndCallback&&this.videoEndCallback(),this.videoEndCallback=null,this.videoCloseCallback&&this.videoCloseCallback(),this.videoCloseCallback=null},t.prototype.createInterAd=function(e){var t=this;if(cc.sys.platform===cc.sys.WECHAT_GAME){if(this.interAd)return void this.interAd.show();this.interAd=window.wx.createInterstitialAd({adUnitId:this.interId}),this.interAd.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e&&e()}),this.interAd.onError(function(){t.interAd=null,console.error("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25")})}},t.prototype.showInterAd=function(){this.interAd?this.interAd.show().catch(function(e){console.error("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5931\u8d25",e)}):(console.error("\u56e0\u4e3a\u63d2\u5c4f\u52a0\u8f7d\u5931\u8d25\uff0c\u6b63\u5728\u91cd\u65b0\u52a0\u8f7d"),this.createInterAd(this.showInterAd))},t.prototype.createHomeCustomAd=function(){},t.prototype.createGameCustomAd=function(){if(cc.sys.platform===cc.sys.WECHAT_GAME&&l.default.instance.dataConfig.front_dangezi_switch&&!this.gameGridAd){this.gameGridAd=[];for(var e=0;e<2;e++){var t=this.getGridPos(e,80*(Math.floor(e/2)+1)),o=window.wx.createCustomAd({adUnitId:this.gridId[e],adIntervals:30,style:t});this.gameGridAd.push(o),o.onLoad(function(){})}}},t.prototype.createSingleCustomAd=function(){},t.prototype.showHomeGridAd=function(){},t.prototype.hideHomeGridAd=function(){},t.prototype.showGameGridAd=function(){if(this.gameGridAd&&l.default.instance.dataConfig.front_dangezi_switch)for(var e=0;e<this.gameGridAd.length;e++)this.gameGridAd[e].show()},t.prototype.hideGameGridAd=function(){if(this.gameGridAd)for(var e=0;e<this.gameGridAd.length;e++)this.gameGridAd[e].hide()},t.prototype.showSingleGridAd=function(){},t.prototype.hideSingleGridAd=function(){},t.prototype.getGridPos=function(e,t){void 0===t&&(t=120);var o={width:20,height:20};return e%2==0?(o.left=20,o.top=t):(o.left=this.sysInfo.windowWidth-90,o.top=t),o},t.prototype.getSystemInfoSync=function(){cc.sys.platform===cc.sys.WECHAT_GAME&&(this.sysInfo=window.wx.getSystemInfoSync())},t.prototype.showShareMenuWithTicket=function(e){window.wx.showShareMenu({withShareTicket:e,success:function(){},fail:function(){},complete:function(){}})},t.prototype.regisiterWXShareCallback=function(){if(cc.sys.platform===cc.sys.WECHAT_GAME){var e=l.default.instance.shareContext;window.wx.onShareAppMessage(function(){return console.log("\u7528\u6237\u70b9\u51fb\u4e86\u8f6c\u53d1\u6309\u94ae"),{title:e.title,imageUrl:e.image,query:"share_id=1",success:function(){},fail:function(){}}})}},t.prototype.showToast=function(e,t){cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.showToast({title:e,duration:t,icon:"none",success:function(){},fail:function(){},complete:function(){},image:"",mask:!1})},t.prototype.shareGame=function(e){if(cc.sys.platform===cc.sys.WECHAT_GAME){console.log("\u5206\u4eab\u6e38\u620f");var t=l.default.instance.shareArr,o=Math.floor(Math.random()*t.length),a={title:t[o].share_content,imageUrl:t[o].share_img};this.JJShareAppMessage(a,e)}},t.prototype.playVibrateShort=function(){cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},t.prototype.playVibrateLong=function(){cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},t.prototype.showModal=function(e){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t=this;window.wx.showModal({title:"\u63d0\u793a",content:e,showCancel:!0,confirmText:"\u91cd\u65b0\u5206\u4eab",success:function(e){e.confirm?(console.log("\u70b9\u51fb\u786e\u5b9a"),t.shareGame(t.shareCallBack)):e.cancel&&console.log("\u70b9\u51fb\u53d6\u6d88")}})}},t.prototype.WxOnHide=function(e){cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.onHide(e)},t.prototype.WxOffHide=function(e){e&&cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.offHide(e)},t.prototype.WxOnShow=function(e){cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.onShow(e)},t.prototype.WxOffShow=function(e){e&&cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.offShow(e)},t.prototype.aldSendEvent=function(e,t){console.log("\u57cb\u70b9\uff1a",e),cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.JJSendEvent(function(){return{name:e,param:t}})},t.prototype.aldSendTest=function(e,t){cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.aldSendEvent(e,t)},t.prototype.aldSendOpenid=function(){},t.prototype.JJBannerAdShowCount=function(){cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.JJBannerAdShowCount(function(){return{adUnitId:"",adUnitName:"banner",pageName:"all"}})},t.prototype.JJSendVideoAdCount=function(e,t){var o=this;cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.JJSendVideoAdCount(function(){return{adUnitId:o.videoId,adUnitName:t,isEnded:e}})},t.prototype.JJShareAppMessage=function(e,t){window.wx.JJShareAppMessage(function(){return{title:e.title,imageUrl:e.imageUrl,id:e.id}}).then(function(e){t&&t(e),console.log("\u4e3b\u52a8\u5206\u4eab\u56de\u8c03",e)})},t.prototype.JJOnShareAppMessage=function(e){window.wx.JJOnShareAppMessage(function(){return{title:e.title,imageUrl:e.imageUrl,id:e.id}})},t}(c.default);o.default=d,cc._RF.pop()},{"../Config/GameData":"GameData","../Platform/Platform":"Platform","./AppConfig":"AppConfig","./BasePlatform":"BasePlatform","./JJMgr":"JJMgr","./WxPlatformBannerAd":"WxPlatformBannerAd"}],"jiujiu_pull_sdk.min":[function(e,t){"use strict";cc._RF.push(t,"5121bLR8O9NDo6V4jxUDKOE","jiujiu_pull_sdk.min"),function(){function e(e){var t="?";for(var o in e)t+=o+"="+e[o]+"&";return t}function t(t,o,a){return new Promise(function(n,r){var i=new XMLHttpRequest;i.withCredentials=!0,i.onreadystatechange=function(){4===i.readyState&&200==i.status&&n(JSON.parse(i.responseText))},i.onerror=function(){r("")},i.ontimeout=function(){r("")},i.open(t,o+e(a),!1),i.send()})}void 0===window.JJSdkConf&&console.error("jiujiu_sdk_conf.js\u5fc5\u987b\u653e\u7f6e\u5728jiujiu_sdk.js\u3001jiujiu_pull_sdk.js\u4e4b\u524d");for(var o={JJGameConfigs:function(){return t("GET",window.JJSdkConf.req_domain+"/game/configs",{version:window.JJSdkConf.version,app_key:window.JJSdkConf.app_key})},JJGameConfigByKeys:function(e){return t("GET",window.JJSdkConf.req_domain+"/get/configs/by/keys",{version:window.JJSdkConf.version,app_key:window.JJSdkConf.app_key,config_key:e})},JJGameShares:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t("GET",window.JJSdkConf.req_domain+"/game/shares",{app_key:window.JJSdkConf.app_key,p_code:e})},JJGameAds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t("GET",window.JJSdkConf.req_domain+"/ads",{app_key:window.JJSdkConf.app_key,position_id:e})},JJGetGameConfigAdShare:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o={};return e&&(o=e()),o.app_key=window.JJSdkConf.app_key,o.version=window.JJSdkConf.version,void 0===o.version?void console.error("\u914d\u7f6e\u4e09\u5408\u4e00\u63a5\u53e3\u5fc5\u987b\u5c0f\u6e38\u620f\u4f20\u9012\u7248\u672c\u53f7"):t("GET",window.JJSdkConf.req_domain+"/batch/configs",o)}},a=["JJGameConfigs","JJGameConfigByKeys","JJGameShares","JJGameAds","JJGetGameConfigAdShare"],n=a.length-1;n>=0;n--)!function(e,t){Object.defineProperty(window,e,{value:t,writable:!1,enumerable:!0,configurable:!0})}(a[n],o[a[n]])}(),cc._RF.pop()},{}],"jiujiu_sdk.min":[function(e,t){"use strict";if(cc._RF.push(t,"174a7oAWi9HfIlgM1zYBygb","jiujiu_sdk.min"),null!=window.wx){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(){try{return wx.getStorageSync("jiu_open_id")}catch(e){}return!1}function t(t){t.app_key=window.JJSdkConf.app_key,t.req_time=Date.now(),t.data.launch_param=u,new Promise(function(t,o){var a=e();a?t(a):wx.login({success:function(e){e.code?wx.request({url:window.JJSdkConf.req_domain+"/minigame/login",data:{code:e.code,app_key:window.JJSdkConf.app_key},success:function(e){if(0===e.data.code){try{wx.setStorageSync("jiu_open_id",e.data.data)}catch(t){}t(e.data.data)}else o("\u83b7\u53d6\u7528\u6237OpenId\u5931\u8d25\uff0c"+e.data.msg)}}):o("\u767b\u5f55\u5931\u8d25\uff01"+e.errMsg)}})}).then(function(e){t.open_id=e,-1!==d.indexOf(t.event+"_"+t.behavior)?n(t):r(t)},function(e){console.error(e)})}function a(e,t){try{var o=wx.getStorageSync(e);o="object"!==l(o)?[]:o}catch(e){}if("object"===l(o)&&o.length>0){var a=o.filter(function(o){return e===window.JJSdkConf.storage_req_queue+"_banner_show"?o.event===t.event&&o.behavior===t.behavior&&o.data.pageName===t.data.pageName&&o.data.adUnitId===t.data.adUnitId:e===window.JJSdkConf.storage_req_queue+"_icon_click"?o.event===t.event&&o.behavior===t.behavior&&o.data.id===t.data.id:e===window.JJSdkConf.storage_req_queue+"_rewardedVideo_click"?o.event===t.event&&o.behavior===t.behavior&&o.data.adUnitId===t.data.adUnitId&&o.data.isEnded===t.data.isEnded:e===window.JJSdkConf.storage_req_queue+"_share_share"?o.event===t.event&&o.behavior===t.behavior&&o.data.id===t.data.id&&o.data.active===t.data.active:e===window.JJSdkConf.storage_req_queue+"_event_event"&&o.event===t.event&&o.behavior===t.behavior&&o.data.name===t.data.name&&JSON.stringify(o.data.param)===JSON.stringify(t.data.param)});"object"===l(a)&&1===a.length?a[0].data.num+=1:o.push(t)}else o.push(t);try{wx.setStorageSync(e,o)}catch(e){}return o.length}function n(e){if(a(window.JJSdkConf.storage_req_queue+"_"+e.event+"_"+e.behavior,e)>=window.JJSdkConf.storage_req_queue_max_len)try{var t=wx.getStorageSync(window.JJSdkConf.storage_req_queue+"_"+e.event+"_"+e.behavior);for(var o in t)r(t[o]);wx.setStorageSync(window.JJSdkConf.storage_req_queue+"_"+e.event+"_"+e.behavior,[])}catch(e){console.error(e)}}function r(e){wx.JJReqQueue.push(function(){return new Promise(function(t,o){wx.request({url:window.JJSdkConf.req_domain+"/count",data:e,method:"GET",fail:function(){o("")},success:function(e){t(200==e.statusCode?"":"status error")}})})})}function i(){for(var e in d){var t=wx.getStorageSync(window.JJSdkConf.storage_req_queue+"_"+d[e]);for(var o in t)r(t[o]);wx.setStorageSync(window.JJSdkConf.storage_req_queue+"_"+d[e],[])}}function s(){var e=window.JJSdkConf.version,t=wx.getAccountInfoSync();return t.miniProgram.version&&(e=t.miniProgram.version),e}function c(e){for(var t in e)if("object"==o(e[t])&&null!==e[t])return!0;return!1}function l(e){var t={};return"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(e){t["[object "+e+"]"]=e.toLowerCase()}),null==e?e:"object"==(void 0===e?"undefined":o(e))||"function"==typeof e?t[function(e){return Object.prototype.toString.call(e)}.call(e)]||"object":void 0===e?"undefined":o(e)}var u=wx.getLaunchOptionsSync(),d=["banner_show","icon_click","rewardedVideo_click","share_share","event_event"];void 0===wx.JJReqQueue&&(wx.JJReqQueue=new function(){this.concurrency=4,this.queue=[],this.tasks=[],this.active_count=0;var e=this;this.push=function(t){this.tasks.push(new Promise(function(o){var a=function(){e.active_count++,t().then(function(e){o(e)}).then(function(){e.next()})};e.active_count<e.concurrency?a():e.queue.push(a)}))},this.all=function(){return Promise.all(this.tasks)},this.next=function(){e.active_count--,e.queue.length>0&&e.queue.shift()()}},wx.JJReqQueue.all()),(void 0===window.JJSdkConf&&console.error("jiujiu_sdk_conf.js\u5fc5\u987b\u653e\u7f6e\u5728jiujiu_sdk.js\u3001jiujiu_pull_sdk.js\u4e4b\u524d"),Promise.all([new Promise(function(e){wx.getNetworkType({success:function(t){e(t)},fail:function(){e("")}})}),window.JJSdkConf.get_location?new Promise(function(e){wx.getLocation({success:function(t){e(t)},fail:function(){e("")}})}):"",new Promise(function(e){try{e(wx.getSystemInfoSync())}catch(e){}e("")})])).then(function(e){var o={data:{},event:"init",behavior:"init"};o.data.nt=e[0]&&e[0].networkType||"",o.data.lat=e[1]&&e[1].latitude||"",o.data.lnt=e[1]&&e[1].longitude||"",o.data.spd=e[1]&&e[1].speed||"",o.data.wvv=e[2]?e[2].fontSizeSetting:"",o.data.wsdk=e[2]?e[2].SDKVersion:"",o.data.br=e[2]&&e[2].brand||"",o.data.md=e[2]&&e[2].model||"",o.data.pr=e[2]?e[2].pixelRatio:"",o.data.sw=e[2]?e[2].screenWidth:"",o.data.sh=e[2]?e[2].screenHeight:"",o.data.ww=e[2]?e[2].windowWidth:"",o.data.wh=e[2]?e[2].windowHeight:"",o.data.lg=e[2]?e[2].language:"",o.data.wv=e[2]?e[2].version:"",o.data.sv=e[2]?e[2].system:"",o.data.bh=e[2]?e[2].benchmarkLevel:"",o.data.gv=s(),t(o)});var f=Date.now();wx.onShow(function(e){f=Date.now();var o={data:{},event:"onShow",behavior:"onShow"};o.data.scene=e.scene,o.data.query=e.query,o.data.shareTicket=e.shareTicket,o.data.referrerInfo=e.referrerInfo,t(o)}),wx.onHide(function(){i();var e={data:{},event:"onHide",behavior:"onHide"};e.data.game_time=Date.now()-f,t(e)}),wx.onError(function(e){var o={data:{},event:"onError",behavior:"onError"};o.data=e,t(o)});var g=["payStart","paySuccess","payFail","die","revive","tools","award"],m=["complete","fail"];wx.JJStage=new function(){function e(e){return!/^\d+(.\d+)*$/.test(e.stageId)||e.stageId.length>32||isNaN(Number(e.stageId))?(console.warn("\u5173\u5361stageId\u5fc5\u987b\u7b26\u5408\u4f20\u53c2\u89c4\u5219,\u8bf7\u53c2\u8003\u6587\u6863\u3002"),!1):!("string"!==l(e.stageName)||e.stageName.length>32)||(console.warn("\u5173\u5361\u540d\u79f0\u4e3a\u5fc5\u4f20\u5b57\u6bb5,\u4e14\u957f\u5ea6\u5c0f\u4e8e32\u4e2a\u5b57\u7b26,\u8bf7\u53c2\u8003\u6587\u6863"),!1)}var o=0;this.onStart=function(a){if(e(a)){o=Date.now();var n={data:{}};n.data.stageInitTime=Date.now(),n.data.stageId=a.stageId,n.data.stageName=a.stageName,n.event="stage",n.behavior="start",t(n)}},this.onRunning=function(o){if(e(o)){if("string"!==l(o.event)&&-1===g.join(",").indexOf(o.event+","))return void console.warn("\u5173\u5361running\u72b6\u6001\u4e2d\u4ec5\u652f\u6301"+g.join(",")+"\u4e8b\u4ef6\u7c7b\u578b\uff0c\u4e14\u4e3a\u5fc5\u4f20\u5b57\u6bb5\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863\u3002");if("object"!==l(o.params))return void console.warn("\u5173\u5361running\u72b6\u6001\u4e2dparams\u4e3a\u5fc5\u4f20\u5b57\u6bb5\uff0c\u4e14\u8be5\u5b57\u6bb5\u9700\u4e3aObject\u7c7b\u578b\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863\u3002");if("string"!==l(o.params.itemName)||o.params.itemName.length>32)return void console.warn("\u9053\u5177/\u5546\u54c1\u540d\u79f0\u4e3a\u5fc5\u4f20\u5b57\u6bb5\uff0c\u4e14\u957f\u5ea6\u5c0f\u4e8e32\u4e2a\u5b57\u7b26\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863");var a={data:{},event:"stage",behavior:"running"};a.data=o,"number"!==l(o.params.itemCount)&&(a.data.params.itemCount=1),-1!==o.event.indexOf("pay")&&"number"!==l(o.params.itemMoney)&&(a.data.params.itemMoney=0),t(a)}},this.onEnd=function(a){if(e(a)){if(void 0===a.event||-1===m.join(",").indexOf(a.event+","))return void console.warn("\u5173\u5361\u7ed3\u675f\u4e8b\u4ef6\u4ec5\u652f\u6301"+m.join(",")+",\u4e14\u4e3a\u5fc5\u4f20\u5b57\u6bb5\u3002\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863");var n={data:{},event:"stage",behavior:"end"};n.data=a,0!==o&&(n.data.stage_take_time=Date.now()-o),t(n)}}};for(var _={JJSendIconExposure:function(e){var o={data:{}};o.data=e(),o.event="icon",o.behavior="show",t(o)},JJNavigateToMiniProgram:function(e){var o={data:{}};return o.data=e(),"object"!==l(o.data)?void console.error("\u7edf\u8ba1: \u6253\u5f00\u5c0f\u6e38\u620f\u53c2\u6570\u5fc5\u987b\u4e3aObject\u7c7b\u578b"):void 0===o.data.id||"number"!==l(o.data.id)?void console.error("\u7edf\u8ba1\uff1a\u6253\u5f00\u5c0f\u6e38\u620f\u53c2\u6570\u5fc5\u987b\u5305\u542b\u521b\u610fid"):"string"!==l(o.data.appId)||void 0===o.data.appId?void console.error("\u7edf\u8ba1\uff1a \u6253\u5f00\u5c0f\u6e38\u620f\u53c2\u6570appid\u9519\u8bef"):"string"!==l(o.data.path)||void 0===o.data.path?void console.error("\u7edf\u8ba1\uff1a \u6253\u5f00\u5c0f\u6e38\u620f\u53c2\u6570path\u9519\u8bef"):(o.event="icon",o.behavior="click",o.data.num=1,window.JJSdkConf.is_submit_click_event&&t(o),new Promise(function(e,a){wx.navigateToMiniProgram({appId:o.data.appId,path:o.data.path?o.data.path:"",extraData:o.data.extraData?o.data.extraData:"",envVersion:o.data.envVersion?o.data.envVersion:"release",success:function(a){o.behavior="jump",t(o),e(a)},fail:function(e){a(e)}})}))},JJBannerAdShowCount:function(e){var o={data:{}};return o.data=e(),"object"!==l(o.data)?void console.error("\u7edf\u8ba1: JJBannerAdShowCount\u53c2\u6570\u5fc5\u987b\u4e3aObject\u7c7b\u578b"):void 0===o.data.adUnitId||"string"!==l(o.data.adUnitId)?void console.error("\u7edf\u8ba1\uff1aJJBannerAdShowCount\u5fc5\u987b\u4f20\u5165adUnitId\u53c2\u6570"):void 0===o.data.adUnitName||"string"!==l(o.data.adUnitName)?void console.error("\u7edf\u8ba1\uff1aJJBannerAdShowCount\u5fc5\u987b\u4f20\u5165adUnitName\u53c2\u6570"):void 0===o.data.pageName||"string"!==l(o.data.pageName)?void console.error("\u7edf\u8ba1\uff1aJJBannerAdShowCount\u5fc5\u987b\u4f20\u5165pageName\u53c2\u6570"):(o.event="banner",o.behavior="show",o.data.num=1,void t(o))},JJSendVideoAdCount:function(e){var a={data:{}};return a.data=e(),"object"!==o(a.data)?void console.error("\u53d1\u9001\u6fc0\u52b1\u89c6\u9891\u6570\u636e\u53c2\u6570\u5fc5\u987b\u4e3a\u5bf9\u8c61"):void 0===a.data.adUnitId?void console.error("\u53d1\u9001\u6fc0\u52b1\u89c6\u9891\u6570\u636e\u53c2\u6570\u5fc5\u987b\u5305\u542b\u5e7f\u544a\u4f4dID"):void 0===a.data.adUnitName?void console.error("\u53d1\u9001\u6fc0\u52b1\u89c6\u9891\u6570\u636e\u53c2\u6570\u5fc5\u987b\u5305\u542b\u5e7f\u544a\u4f4d\u540d\u79f0"):void 0===a.data.isEnded?void console.error("\u53d1\u9001\u6fc0\u52b1\u89c6\u9891\u6570\u636e\u53c2\u6570\u5fc5\u987b\u5305\u542b\u7528\u6237\u662f\u5426\u89c2\u770b\u5b8c\u6574\u6807\u8bc6(isEnded)"):(a.event="rewardedVideo",a.behavior="click",a.data.num=1,void t(a))},JJShareAppMessage:function(o){var a=Date.now(),n={data:{}};n.data=o();var r,i=e();r=void 0!==n.data.query?n.data.query+"&jiu_share_src="+i:"jiu_share_src="+i,n.data.query=r,n.event="share",n.behavior="share",n.data.active=1,n.data.num=1;var s=n.data;return t(n),wx.shareAppMessage(n.data),new Promise(function(e){wx.onShow(function(){if(Date.now()-a>=1e3*window.JJSdkConf.share_success_time){var o={data:{},event:"share",behavior:"success"};o.data=s,t(o),e(!0)}else e(!1)})})},JJOnShareAppMessage:function(o){wx.onShareAppMessage(function(){var a={data:{}};a.data=o();var n,r=e();return n=void 0!==a.data.query?a.data.query+"&jiu_share_src="+r:"jiu_share_src="+r,a.data.query=n,a.event="share",a.behavior="share",a.data.active=0,a.data.num=1,t(a),o()})},JJSendEvent:function(e){var a={data:{},event:"event",behavior:"event"};return a.data=e(),"object"!=o(a.data)?void console.error("\u4e8b\u4ef6\u53c2\u6570\u5fc5\u987b\u662fObject\u7c7b\u578b"):""===a.data.name||"string"!=typeof a.data.name||a.data.name.length>255?void console.error("\u4e8b\u4ef6\u540d\u79f0\u5fc5\u987b\u4e3aString\u7c7b\u578b\u4e14\u4e0d\u80fd\u8d85\u8fc7255\u4e2a\u5b57\u7b26"):JSON.stringify(a.data).length>=255?void console.error("\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53c2\u6570\u4e0d\u80fd\u8d85\u8fc7255\u4e2a\u5b57\u7b26"):void 0!==a.data.param&&c(a.data.param)?void console.error("\u4e8b\u4ef6\u53c2\u6570\uff0c\u53c2\u6570\u5185\u90e8\u53ea\u652f\u6301Number,String\u7b49\u7c7b\u578b\uff0c\u8bf7\u53c2\u8003\u63a5\u5165\u6587\u6863"):(a.data.num=1,void t(a))}},h=["JJSendIconExposure","JJNavigateToMiniProgram","JJBannerAdShowCount","JJSendVideoAdCount","JJShareAppMessage","JJOnShareAppMessage","JJSendEvent"],p=h.length-1;p>=0;p--)!function(e,t){Object.defineProperty(wx,e,{value:t,writable:!1,enumerable:!0,configurable:!0})}(h[p],_[h[p]])}()}cc._RF.pop()},{}],jiujiu_sdk_conf:[function(e,t){"use strict";cc._RF.push(t,"92f165AMPBPA6X4+9kZdd8M","jiujiu_sdk_conf"),window.JJSdkConf={app_key:"42e0331c572cd5412285e54a2a6a79fd",req_domain:"https://api.jiujiuhuyu.com",version:"1.0.10",get_location:!1,share_success_time:3,storage_req_queue:"jiujiu_req_queue",storage_req_queue_max_len:50,is_submit_click_event:!1},cc._RF.pop()},{}]},{},["Bar","GameLoading","DataClass","EnumTypes","GameData","StorageData","AppConfig","BasePlatform","JJMgr","JJWxTrap","jiujiu_pull_sdk.min","jiujiu_sdk.min","jiujiu_sdk_conf","RotateLoop","ScaleLoop","WxPlatform","WxPlatformBannerAd","LoadingUI","AssetMgr","EventMgr","SoundMgr","StorageMgr","TimeMgr","PlatForm_wx","Platform","Tool"]);