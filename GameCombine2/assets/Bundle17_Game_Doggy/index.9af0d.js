window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var d=o[c]={exports:{}};e[c][0].call(d.exports,function(t){return i(e[c][1][t]||t)},d,d.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({Doggy_BeeBullet:[function(t,e,o){"use strict";cc._RF.push(e,"beaf4M5RYNPJphlIUrJ/ILf","Doggy_BeeBullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=600,e.dis=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.update=function(t){if(null!=this.way){var e=this.way.clone().mul(this.speed*t),o=this.node.getPosition();this.node.setPosition(o.add(cc.v2(e)))}},e.prototype.onBeginContact=function(t,e){e.node.destroy()},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_BeeCrl:[function(t,e,o){"use strict";cc._RF.push(e,"8bcecULj8NEbZY7Um80mptl","Doggy_BeeCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),a=t("../../Bundle1_Loading/Scripts/Tool/Tool"),s=t("./Doggy_GameLogic"),l=t("./Mod/Doggy_Utility"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canCatch=!1,e.speed=5,e.isHitBack=!1,e}return i(e,t),e.prototype.start=function(){this.node.getComponent(cc.RigidBody).bullet=!1},e.prototype.toRandomPos=function(){var t=this;this.scheduleOnce(function(){for(var e=t.node.parent.parent.getComponent(s.default).protectNodeArr,o=l.Doggy_Utility.getRandom(0,e.length);0==e[o].parent.active;)o=l.Doggy_Utility.getRandom(0,e.length);t.targetNode=e[o]},.1),this.randomPos},e.prototype.goStartRandomPos=function(){if(!this.isHitBack&&!this.canCatch)if(this.randomPos){var t=this.randomPos;this.direction=cc.v2(t).sub(this.node.getPosition());var e=this.direction;e.magSqr()<10?this.canCatch=!0:(e.normalizeSelf(),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(e.mul(1e7)),!1))}else this.canCatch=!0},e.prototype.catchTarget=function(){if(this.canCatch&&this.targetNode){this.node.getPosition();var t=this.targetNode.convertToWorldSpaceAR(cc.v2(0,0));t=this.node.parent.convertToNodeSpaceAR(t),this.direction=cc.v2(t.sub(cc.v2(this.node.position)));var e=this.direction;e.normalizeSelf(),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(e.mul(1e7)),!1)}},e.prototype.lookAtObj=function(){if(this.targetNode&&this.canCatch){var t=this.targetNode.convertToWorldSpaceAR(cc.v2(0,0)),e=(t=this.node.parent.convertToNodeSpaceAR(t)).x-this.node.x,o=t.y-this.node.y,n=cc.v2(e,o).signAngle(cc.v2(0,-1))/Math.PI*180;this.node.angle=-n}else this.randomPos&&!this.isHitBack&&(e=(t=this.randomPos).x-this.node.x,o=t.y-this.node.y,n=cc.v2(e,o).signAngle(cc.v2(0,-1))/Math.PI*180,this.node.angle=-n)},e.prototype.hitBack=function(t){var e=this;if(void 0===t&&(t=null),!this.isHitBack)if(this.isHitBack=!0,this.canCatch=!1,t){var o=this.node.parent.convertToNodeSpaceAR(t);(n=this.node.position.sub(cc.v3(o))).normalizeSelf(),n.x+=a.Tool.randomNumber(-.25,.25),n.y+=a.Tool.randomNumber(-.25,.25),n.normalizeSelf(),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(n.mul(5e8)),!1),this.scheduleOnce(function(){e.isHitBack=!1,e.canCatch=!0},.5)}else{var n;o=this.targetNode.convertToWorldSpaceAR(cc.v2(0,0)),o=this.node.parent.convertToNodeSpaceAR(o),(n=this.node.position.sub(cc.v3(o))).normalizeSelf(),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(n.mul(5e8)),!1),this.scheduleOnce(function(){e.isHitBack=!1,e.canCatch=!0},.5)}},e.prototype.onCollisionEnter=function(t){if(!(this.findLevel()&&this.findLevel().getComponent(s.default).isEnd||-1==t.node.name.indexOf("wt"))){var e=t.node.convertToWorldSpaceAR(cc.v2(0,0));e=this.node.parent.convertToNodeSpaceAR(e);var o=this.node.position.sub(e).normalize();this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(o.mul(5e8)),!1)}},e.prototype.onCollisionStay=function(t){if(!(this.findLevel()&&this.findLevel().getComponent(s.default).isEnd||-1==t.node.name.indexOf("wt"))){var e=t.node.convertToWorldSpaceAR(cc.v2(0,0));e=this.node.parent.convertToNodeSpaceAR(e);var o=this.node.position.sub(e).normalize();this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(o.mul(5e8)),!1)}},e.prototype.findLevel=function(){for(var t=cc.find("Canvas"),e=0;e<t.childrenCount;e++)if(-1!=t.children[e].name.indexOf("level"))return t.children[e]},e.prototype.onBeginContact=function(t,e,o){var n=this;if("Line"==o.node.name){var i=t.getWorldManifold().points[0];this.scheduleOnce(function(){n.hitBack(i)},0)}else if("ground"==o.node.name)this.node.stopAllActions(),this.isHitBack=!1,this.canCatch=!0;else if(-1!=o.node.name.indexOf("magma")||-1!=o.node.name.indexOf("water")||-1!=o.node.name.indexOf("danger"))this.die();else if(-1!=o.node.name.indexOf("balloon"))o.node.active=!1;else if(-1!=o.node.name.indexOf("bubble")){var r=t.getWorldManifold().points[0];this.scheduleOnce(function(){n.hitBack(r)},0),o.node.destroy()}},e.prototype.die=function(){this.targetNode=null,this.isHitBack=!0;var t=this;c.default.doggyBundle.load("Res/Prefabs/smoke",cc.Prefab,function(e,o){if(!e&&o){!t.node||t.node.isValid;var n=cc.instantiate(o);n.setPosition(t.node.getPosition()),t.node.parent.addChild(n),t.scheduleOnce(function(){n.active=!1},1)}else console.warn("smoke\u9884\u8f7d\u4f53\u52a0\u8f7d\u5931\u8d25")}),this.node.getComponent(cc.PhysicsCollider).enabled=!1,this.node.opacity=0},e.prototype.update=function(t){this.node.parent.parent.getComponent(s.default).isEnd?this.getComponent(cc.RigidBody)&&this.getComponent(cc.RigidBody).destroy():(this.goStartRandomPos(),this.catchTarget(t),this.lookAtObj())},r([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"./Doggy_GameLogic":"Doggy_GameLogic","./Mod/Doggy_Utility":"Doggy_Utility"}],Doggy_BeeFactory:[function(t,e,o){"use strict";cc._RF.push(e,"5876cwP441Ce47IbYparUUU","Doggy_BeeFactory");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),a=t("./Doggy_BeeCrl"),s=t("./Mod/Doggy_Utility"),l=cc._decorator,d=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.beePrefab=[],e.createNum=0,e.randomPosNodeArr=[],e.beeFactorySpArr=[],e}return i(e,t),e.prototype.onLoad=function(){var t=c.default.instance.storageData.doggyData.beeSkin;this.getComponent(cc.Sprite).spriteFrame=this.beeFactorySpArr[t]},e.prototype.start=function(){for(var t=0,e=0;e<this.node.parent.childrenCount;e++)-1!=this.node.parent.children[e].name.indexOf("beeFactory")&&t++;var o=s.Doggy_Utility.getRandom(8,10);1==t?this.createNum=o:2==t&&(this.createNum=Math.floor(o/2))},e.prototype.createBee=function(){var t=this,e=c.default.instance.storageData.doggyData.beeSkin;this.randomPosNodeArr=this.node.children;for(var o=function(o){n.scheduleOnce(function(){var n=cc.instantiate(t.beePrefab[e]),i=o%t.randomPosNodeArr.length,r=t.randomPosNodeArr[i];n.setPosition(cc.v2(0,0)),n.getComponent(a.default).randomPos=r.position,n.getComponent(a.default).toRandomPos(),t.node.addChild(n)},.2*o)},n=this,i=0;i<this.createNum;i++)o(i)},r([p(cc.Prefab)],e.prototype,"beePrefab",void 0),r([p()],e.prototype,"createNum",void 0),r([p(cc.Node)],e.prototype,"randomPosNodeArr",void 0),r([p(cc.SpriteFrame)],e.prototype,"beeFactorySpArr",void 0),r([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"./Doggy_BeeCrl":"Doggy_BeeCrl","./Mod/Doggy_Utility":"Doggy_Utility"}],Doggy_BeeFighterCrl:[function(t,e,o){"use strict";cc._RF.push(e,"f0210/FnCBIDIHepdCX7zih","Doggy_BeeFighterCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),a=t("../../Bundle1_Loading/Scripts/Tool/Tool"),s=t("./Doggy_BeeBullet"),l=t("./Doggy_GameLogic"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canCatch=!1,e.speed=5,e.randomPoses=[],e.isStart=!1,e.ammo=3,e.isAttack=!1,e.isHitBack=!1,e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.node.children.length;t++)this.randomPoses.push(this.node.parent.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(this.node.children[t].getPosition())));this.ammo=this.randomPoses.length},e.prototype.start=function(){this.node.getComponent(cc.RigidBody).bullet=!1,this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("fly",0);var t=this.findLevel().getComponent(l.default).protectNodeArr;this.targetNode=t[a.Tool.randomInt(0,t.length-1)]},e.prototype.getStart=function(){this.isStart=!0,console.log("\u6218\u58eb:\u542f\u52a8")},e.prototype.goNextRandomPos=function(){var t=this.randomPoses.length-this.ammo;this.randomPos=this.randomPoses[t]},e.prototype.attack=function(){var t=this;this.isAttack||(this.isAttack=!0,this.ammo--,this.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("attack",1),this.scheduleOnce(this.shootBullet,.4),this.scheduleOnce(function(){t.isAttack=!1,t.node.getComponent(dragonBones.ArmatureDisplay).playAnimation("fly",0),t.ammo<=0&&(t.node.scaleX=Math.abs(t.node.scaleX),t.canCatch=!0)},.65),console.log("\u6218\u58eb:\u653b\u51fb\uff01"))},e.prototype.shootBullet=function(){var t=this,e=this;c.default.doggyBundle.load("Res/Prefabs/Enemys/beeBullet",cc.Prefab,function(o,n){if(o)console.error("\u5b50\u5f39\u751f\u6210\u5931\u8d25",o);else{var i=cc.instantiate(n);e.node.parent.addChild(i),i.setPosition(e.node.getPosition());var r=t.node.getPosition(),c=t.targetNode.getPosition(),a=cc.v2(c.sub(r)),l=a.signAngle(cc.v2(0,1))/Math.PI*180;i.angle=-l,i.getComponent(s.default).way=a.normalizeSelf()}})},e.prototype.goRandomPosUpdate=function(){if(!this.isHitBack&&!this.canCatch&&!this.isAttack)if(this.randomPos){var t=this.randomPos;this.direction=t.sub(this.node.getPosition());var e=this.direction;if(e.magSqr()<10)return this.randomPos=null,void this.attack();this.node.scaleX=e.x>0?Math.abs(this.node.scaleX):-Math.abs(this.node.scaleX),e.normalizeSelf(),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(e.mul(1e7)),!1)}else this.goNextRandomPos()},e.prototype.catchTarget=function(){if(this.canCatch&&this.targetNode){var t=this.node.getPosition(),e=this.targetNode.convertToWorldSpaceAR(cc.v2(0,0));e=this.node.parent.convertToNodeSpaceAR(e),this.direction=cc.v2(e.sub(t));var o=this.direction;o.normalizeSelf(),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(o.mul(12e6)),!1)}},e.prototype.lookAtObj=function(){if(this.targetNode&&this.canCatch){var t=this.targetNode.convertToWorldSpaceAR(cc.v2(0,0)),e=(t=this.node.parent.convertToNodeSpaceAR(t)).x-this.node.x,o=t.y-this.node.y,n=cc.v2(e,o).signAngle(cc.v2(0,-1))/Math.PI*180;this.node.angle=cc.misc.lerp(this.node.angle,-n-90,.02)}else this.randomPos&&!this.isHitBack&&(e=(t=this.randomPos).x-this.node.x,o=t.y-this.node.y,n=cc.v2(e,o).signAngle(cc.v2(0,-1))/Math.PI*180,this.node.angle=cc.misc.lerp(this.node.angle,-n-90,.02))},e.prototype.hitBack=function(t){var e=this;if(void 0===t&&(t=null),!this.isHitBack&&!this.isAttack)if(this.isHitBack=!0,t){var o=this.node.parent.convertToNodeSpaceAR(t);(n=this.node.position.sub(cc.v3(o))).normalizeSelf(),n.x+=a.Tool.randomNumber(-.25,.25),n.y+=a.Tool.randomNumber(-.25,.25),n.normalizeSelf(),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(n.mul(5e8)),!1),this.scheduleOnce(function(){e.isHitBack=!1},.5)}else{var n;o=this.targetNode.convertToWorldSpaceAR(cc.v2(0,0)),o=this.node.parent.convertToNodeSpaceAR(o),(n=this.node.position.sub(cc.v3(o))).normalizeSelf(),this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(n.mul(5e8)),!1),this.scheduleOnce(function(){e.isHitBack=!1},.5)}},e.prototype.findLevel=function(){for(var t=cc.find("Canvas"),e=0;e<t.childrenCount;e++)if(-1!=t.children[e].name.indexOf("level"))return t.children[e]},e.prototype.onCollisionEnter=function(t){if(!(this.findLevel()&&this.findLevel().getComponent(l.default).isEnd||-1==t.node.name.indexOf("wt"))){var e=t.node.convertToWorldSpaceAR(cc.v2(0,0));e=this.node.parent.convertToNodeSpaceAR(e);var o=this.node.position.sub(e).normalize();this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(o.mul(5e8)),!1)}},e.prototype.onCollisionStay=function(t){if(!(this.findLevel()&&this.findLevel().getComponent(l.default).isEnd||-1==t.node.name.indexOf("wt"))){var e=t.node.convertToWorldSpaceAR(cc.v2(0,0));e=this.node.parent.convertToNodeSpaceAR(e);var o=this.node.position.sub(e).normalize();this.node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(o.mul(5e8)),!1)}},e.prototype.onBeginContact=function(t,e,o){var n=this;if("Line"==o.node.name){var i=t.getWorldManifold().points[0];this.scheduleOnce(function(){n.hitBack(i)},0)}else"ground"==o.node.name?(this.node.stopAllActions(),this.isHitBack=!1,this.canCatch=!0):-1!=o.node.name.indexOf("magma")||-1!=o.node.name.indexOf("water")||-1!=o.node.name.indexOf("danger")?this.die():-1!=o.node.name.indexOf("balloon")&&(o.node.active=!1)},e.prototype.die=function(){this.targetNode=null,this.isHitBack=!0;var t=this;c.default.doggyBundle.load("Res/Prefabs/smoke",cc.Prefab,function(e,o){if(!e&&o){!t.node||t.node.isValid;var n=cc.instantiate(o);n.setPosition(t.node.getPosition()),t.node.parent.addChild(n),t.scheduleOnce(function(){n.active=!1},1)}else console.warn("smoke\u9884\u8f7d\u4f53\u52a0\u8f7d\u5931\u8d25")}),this.node.getComponent(cc.PhysicsCollider).enabled=!1,this.node.opacity=0},e.prototype.update=function(t){this.isStart&&(this.node.parent.getComponent(l.default).isEnd?this.getComponent(cc.RigidBody)&&this.getComponent(cc.RigidBody).destroy():this.ammo>0?this.goRandomPosUpdate():(this.catchTarget(t),this.lookAtObj()))},r([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"./Doggy_BeeBullet":"Doggy_BeeBullet","./Doggy_GameLogic":"Doggy_GameLogic"}],Doggy_BeetleCrl:[function(t,e,o){"use strict";cc._RF.push(e,"573cb5lonNJ46UaPzaQgS3/","Doggy_BeetleCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.attackPoint=null,e.isGoTarget=!1,e.isAttacking=!1,e.attackRange=280,e.speed=300,e}return i(e,t),e.prototype.onLoad=function(){this.dragonAnim=this.node.getComponent(dragonBones.ArmatureDisplay)},e.prototype.start=function(){this.dragonAnim.playAnimation("idle",0)},e.prototype.goTarget=function(){this.isGoTarget=!0,this.dragonAnim.playAnimation("walk",0)},e.prototype.update=function(t){if(this.isGoTarget&&!this.isAttacking){var e=this.target.getPosition(),o=this.node.getPosition(),n=e.x-o.x;Math.abs(e.x-o.x)<this.attackRange?this.attack():n>0?this.node.x+=this.speed*t:this.node.x-=this.speed*t}else this.isAttacking},e.prototype.onBeginContact=function(t,e,o){this.isAttacking||"Line"==o.node.name&&this.attack()},e.prototype.attack=function(){var t=this;this.isAttacking=!0,this.dragonAnim.playAnimation("attack",0),this.scheduleOnce(this.attackEnd,1),this.scheduleOnce(function(){for(var e=t.attackPoint.parent.convertToWorldSpaceAR(t.attackPoint.getPosition()),o=cc.director.getPhysicsManager().testAABB(new cc.Rect(e.x,e.y,50,50)),n=0;n<o.length;n++)o[n].node.getComponent(cc.RigidBody).applyForceToCenter(cc.v2(0,5e7),!0)},.5)},e.prototype.attackEnd=function(){this.isAttacking=!1,this.dragonAnim.playAnimation("walk",0)},r([s(cc.Node)],e.prototype,"target",void 0),r([s(cc.Node)],e.prototype,"attackPoint",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Doggy_BoomCrl:[function(t,e,o){"use strict";cc._RF.push(e,"9b1b1FZey5P4JQcu5/G2oWg","Doggy_BoomCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),a=t("./Doggy_BulletCrl"),s=t("./Doggy_pengzhuang"),l=cc._decorator,d=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countTime=5,e.canCount=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.counting=function(){if(this.countTime--,this.node.getChildByName("count").getComponent(cc.Label).string=this.countTime.toString(),this.node.position,this.countTime<=0){var t=this;c.default.doggyBundle.load("Res/Prefabs/boomFX",cc.Prefab,function(e,o){var n=cc.instantiate(o);n.setPosition(t.node.position),t.node.parent.addChild(n)}),this.unschedule(this.counting);var e=this.node.position,o=this.node.parent;this.getComponent(cc.PhysicsCircleCollider).enabled=!1,this.node.opacity=0;for(var n=function(t){for(var n=function(n){if(0==t&&0==n)return"continue";c.default.doggyBundle.load("Res/Prefabs/dangerBullet",cc.Prefab,function(i,r){var c=cc.instantiate(r);c.getComponent(a.default).dir=cc.v2(t,n),c.setPosition(e),o.addChild(c),c.getComponent(a.default).shot()})},i=-1;i<=1;i++)n(i)},i=-1;i<=1;i++)n(i)}},e.prototype.onBeginContact=function(t,e,o){if(-1!=o.node.name.indexOf("magma")||-1!=o.node.name.indexOf("water")||-1!=o.node.name.indexOf("spike")||-1!=o.node.name.indexOf("danger")){var n=this;c.default.doggyBundle.load("Res/Prefabs/boomFX",cc.Prefab,function(t,e){var o=cc.instantiate(e);o.setPosition(n.node.position),n.node.parent.addChild(o)}),this.unschedule(this.counting);for(var i=this.node.parent.parent.getChildByName("playerNode"),r=0;r<i.childrenCount;r++)i.children[r].getComponent(s.default).playDie()}},e.prototype.update=function(){this.getComponent(cc.RigidBody).type!=cc.RigidBodyType.Dynamic||this.canCount||(this.canCount=!0,this.schedule(this.counting,1))},r([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"./Doggy_BulletCrl":"Doggy_BulletCrl","./Doggy_pengzhuang":"Doggy_pengzhuang"}],Doggy_BulletCrl:[function(t,e,o){"use strict";cc._RF.push(e,"71e6cRHF7ZMrIChaRTrOmYt","Doggy_BulletCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=5,e.canPierce=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.shot=function(){this.dir.mulSelf(200),cc.tween(this.node).by(.35,{x:this.dir.x,y:this.dir.y}).start()},e.prototype.onBeginContact=function(t,e,o){"dangerBullet"!=o.node.name&&("Line"==o.node.name&&this.canPierce||(this.node.stopAllActions(),this.node.active=!1))},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_ColliderFollow:[function(t,e,o){"use strict";cc._RF.push(e,"ff9acvEHjVDIa+uaw3inVxC","Doggy_ColliderFollow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.startPos=this.node.position},e.prototype.update=function(){this.startPos&&(this.node.position=this.startPos,this.node.getComponent(cc.PhysicsBoxCollider).apply())},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_CrocodileCrl:[function(t,e,o){"use strict";cc._RF.push(e,"0759clPMJBCwZKYY5faq6oT","Doggy_CrocodileCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Doggy_pengzhuang"),a=cc._decorator,s=a.ccclass,l=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.attackPoint=null,e.isGoTarget=!1,e.isAttacking=!1,e.attackRange=250,e.speed=300,e}return i(e,t),e.prototype.onLoad=function(){this.dragonAnim=this.node.getComponent(dragonBones.ArmatureDisplay)},e.prototype.start=function(){this.dragonAnim.playAnimation("idle",0)},e.prototype.goTarget=function(){this.isGoTarget=!0,this.dragonAnim.playAnimation("walk",0)},e.prototype.update=function(t){if(this.isGoTarget&&!this.isAttacking){var e=this.target.getPosition(),o=this.node.getPosition();(n=e.sub(o)).mag()<this.attackRange&&this.attack(),n.normalizeSelf(),(i=this.node.getPosition()).addSelf(n.mulSelf(this.speed*t)),this.node.setPosition(i)}else if(this.isAttacking){var n,i;e=this.target.getPosition(),o=this.node.getPosition(),(n=e.sub(o)).normalizeSelf(),(i=this.node.getPosition()).addSelf(n.mulSelf(this.speed*t)),this.node.setPosition(i)}},e.prototype.onBeginContact=function(t,e,o){this.isAttacking||"Line"==o.node.name&&this.attack()},e.prototype.attack=function(){var t=this;this.isAttacking=!0,this.dragonAnim.playAnimation("attack",0),this.scheduleOnce(this.attackEnd,1),this.scheduleOnce(function(){for(var e=t.attackPoint.parent.convertToWorldSpaceAR(t.attackPoint.getPosition()),o=cc.director.getPhysicsManager().testAABB(new cc.Rect(e.x,e.y,100,100)),n=0;n<o.length;n++)console.log(o[n].node.name),-1!=o[n].node.name.indexOf("player")&&o[n].node.getComponent(c.default).playDie(!1)},.5)},e.prototype.attackEnd=function(){this.isAttacking=!1,this.dragonAnim.playAnimation("walk",0)},r([l(cc.Node)],e.prototype,"target",void 0),r([l(cc.Node)],e.prototype,"attackPoint",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./Doggy_pengzhuang":"Doggy_pengzhuang"}],Doggy_Follow:[function(t,e,o){"use strict";cc._RF.push(e,"8e98ahM4+pICo1/OLCJoU4q","Doggy_Follow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.isAngle=!0,e}return i(e,t),e.prototype.lateUpdate=function(){var t=this.node.parent.convertToNodeSpaceAR(this.target.parent.convertToWorldSpaceAR(this.target.getPosition()));if(this.node.setPosition(t),this.isAngle){var e=this.target.parent.angle+this.target.angle;this.node.angle=e}},r([s(cc.Node)],e.prototype,"target",void 0),r([s],e.prototype,"isAngle",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Doggy_FountainCrl:[function(t,e,o){"use strict";cc._RF.push(e,"b4447xuGoxLuJUMbJTiYnJE","Doggy_FountainCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.dragonAnim=this.node.getComponent(dragonBones.ArmatureDisplay),this.collider=this.node.getComponent(cc.BoxCollider),this.bigColliderSize=this.collider.size,this.bigColliderOffset=this.collider.offset,this.smallColliderSize=cc.size(.53*this.bigColliderSize.width,.53*this.bigColliderSize.height),this.smallColliderOffset=cc.v2(.53*this.bigColliderOffset.x,.53*this.bigColliderOffset.y),this.playAnimRecyle()},e.prototype.playAnimRecyle=function(){var t=this;this.dragonAnim.playAnimation("newAnimation",0),cc.tween(this.collider).delay(55/24).to(7/24,{size:this.smallColliderSize,offset:this.smallColliderOffset}).delay(.125).to(10/24,{size:this.bigColliderSize,offset:this.bigColliderOffset}).delay(1).call(function(){t.playAnimRecyle()}).start()},e.prototype.onCollisionStay=function(t){-1!=t.node.name.indexOf("player")&&t.node.getComponent(cc.RigidBody).type==cc.RigidBodyType.Dynamic&&(-90==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(200,0):0==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,200):90==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(-200,0):180==this.node.parent.angle&&(t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-200)))},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_GameLogic:[function(t,e,o){"use strict";cc._RF.push(e,"3223aJUSQNAU4u1kjK6fMPY","Doggy_GameLogic");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Bundle1_Loading/Scripts/Config/EnumTypes"),a=t("../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),s=t("../../Bundle1_Loading/Scripts/Mgr/SoundMgr"),l=t("../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),d=t("../../Bundle2_Res/Scripts/ResPanelOpen"),p=t("../../Bundle2_Res/Scripts/ResPrefabBorn"),h=t("./Doggy_BeeFactory"),g=t("./Doggy_BeeFighterCrl"),u=t("./Doggy_BeetleCrl"),f=t("./Doggy_CrocodileCrl"),y=t("./Doggy_LineLogic"),v=t("./Doggy_MechworksCrl"),_=t("./Doggy_pengzhuang"),m=t("./Doggy_SpiderCrl"),C=cc._decorator,b=C.ccclass,B=C.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.protectNodeArr=[],e.ChangeTypeNodeArr=[],e.beeFactoryArr=[],e.beeFightArr=[],e.playAniNodeArr=[],e.canLineKill=!1,e.isWtMode=!1,e.isBone=!1,e.isSubPower=!1,e.tipNode=null,e.powerTime=null,e.power=null,e.draw=null,e.timeCount=10,e.gameTip=["\u6551\u6551\u6211\uff01","\u8bf7\u5e2e\u52a9\u4ed6\uff01","\u8bf7\u5e2e\u52a9\u4ed6\uff01","\u62b5\u6321\u98de\u5251\u7684\u653b\u51fb","\u963b\u6b62\u7206\u70b8","\u8bf7\u5e2e\u5e2e\u6211\uff01","\u8bf7\u5e2e\u5e2e\u6211\uff01","\u8bf7\u5e2e\u5e2e\u6211\uff01","\u8bf7\u5e2e\u5e2e\u6211\uff01","\u5979\u9700\u8981\u4f60\u7684\u5e2e\u52a9\uff01","\u8bf7\u5e2e\u52a9\u4ed6\uff01","\u8bf7\u5e2e\u52a9\u4ed6\uff01","\u8bf7\u5e2e\u52a9\u4ed6\uff01","\u5e2e\u52a9\u5c0f\u732b\u8fc7\u6cb3\u3002","\u4fdd\u62a4\u56fd\u738b","\u6551\u6551\u6211\uff01","\u6551\u6551\u6211\uff01","\u6551\u6551\u6211\uff01","\u6551\u6551\u6211\uff01","\u6551\u6551\u6211\uff01","\u963b\u6b62\u70b8\u5f39\u7206\u70b8","\u963b\u6b62\u653b\u51fb","\u6551\u6551\u4ed6\uff01","\u5979\u9700\u8981\u4f60\u7684\u5e2e\u52a9\uff01","\u6551\u6551\u4ed6\uff01","\u4f60\u80fd\u4fdd\u62a4\u4ed6\u7684\u5b89\u5168\u5417\uff1f","\u4f60\u80fd\u4fdd\u62a4\u4ed6\u7684\u5b89\u5168\u5417\uff1f","\u4f60\u80fd\u4fdd\u62a4\u4ed6\u7684\u5b89\u5168\u5417\uff1f","\u4f60\u80fd\u4fdd\u62a4\u4ed6\u7684\u5b89\u5168\u5417\uff1f","\u4f60\u80fd\u4fdd\u62a4\u4ed6\u7684\u5b89\u5168\u5417\uff1f"],e.quwei=["\u597d\u9669\uff01","\u6211\u4ee5\u540e\u518d\u4e5f\u4e0d\u5403\u9c7c\u4e86\uff01","\u8c22\u8c22\u4f60\uff01","\u5175\u6765\u5c06\u6321\u6c34\u6765\u571f\u63a9\uff01","\u4f60\u963b\u6b62\u4e86\u4e00\u573a\u707e\u96be\u3002","\u60ca\u9669\u4e00\u5e55\uff01","\u8c22\u8c22\u4f60\u7684\u5e2e\u52a9\uff01","\u597d\u9669\uff01","\u5175\u6765\u5c06\u6321\u6c34\u6765\u571f\u63a9\uff01","\u4f60\u771f\u68d2\uff01","\u6210\u529f\u8eb2\u907f\u5b50\u5f39\uff01","\u60ca\u9669\u4e00\u5e55\uff01","\u8c22\u8c22\u4f60\uff01","\u55b5\u545c~","\u56fd\u738b\u6210\u529f\u6234\u4e0a\u7687\u51a0\u3002","\u60ca\u9669\u4e00\u5e55\uff01","\u4f60\u963b\u6b62\u4e86\u4e00\u573a\u707e\u96be\u3002","\u4f60\u963b\u6b62\u4e86\u4e00\u573a\u707e\u96be\u3002","\u8c22\u8c22\u4f60\u7684\u5e2e\u52a9\uff01","\u4f60\u771f\u68d2\uff01","\u4f60\u963b\u6b62\u4e86\u4e00\u573a\u707e\u96be\u3002","\u597d\u9669\uff01","\u611f\u8c22\u4f60\u7684\u5e2e\u52a9\uff01","\u8c22\u8c22\u4f60\uff01","\u4f60\u771f\u68d2\uff01","\u60ca\u9669\u4e00\u5e55\uff01","\u597d\u9669\uff01","\u4f60\u963b\u6b62\u4e86\u4e00\u573a\u707e\u96be\u3002","\u8c22\u8c22\u4f60\uff01","\u6210\u529f\u62b5\u6321\u70ae\u5f39\uff01","\u82f1\u96c4\u6551\u7f8e","\u8d85\u7ea7\u82f1\u96c4\u6709\u65f6\u5019\u4e5f\u9700\u8981\u5e2e\u52a9","\u6709\u65f6\u5019\u4e0d\u8981\u90a3\u4e48\u51b2\u52a8","\u5c0f\u5fc3\u80cc\u540e","\u5343\u4e07\u8981\u6ce8\u610f\u5b89\u5168\u554a","\u6760\u6746\u539f\u7406","\u89e3\u51b3\u4e86\u53cc\u91cd\u5371\u6025\u5462\uff01","\u5de8\u9f99\u7684\u813e\u6c14\u53ef\u4e0d\u662f\u90a3\u4e48\u597d","\u6ce8\u610f\u5934\u4e0a","\u5343\u94a7\u4e00\u53d1\uff01"],e.points=[],e.isEnd=!1,e.Line=null,e.lock=!1,e.isDrawEnd=!1,e.dynamicObjs=[],e.redObjs=[],e.hasDrawLen=0,e.limitLength=1e3,e.maxLength=0,e.flySoundId=0,e.canMove=!0,e}return i(e,t),e.prototype.onEnable=function(){var t=cc.find("Canvas/powerBtn/timeLabel");t&&(this.powerTime=t.getComponent(cc.Label));var e=cc.find("Canvas/powerBtn/powerLabel");e&&(this.power=e.getComponent(cc.Label)),this.tipNode=this.node.getChildByName("tipNode"),this.draw=this.node.getChildByName("draw").getComponent(cc.Graphics),cc.PhysicsManager.DrawBits,cc.v2(this.node.getChildByName("levelLabel").position.x,this.node.getChildByName("levelLabel").position.y-this.node.getChildByName("levelLabel").height-50),this.clock=cc.find("Canvas/TopBar/clock"),this.clock.active=!1},e.prototype.getNowLevel=function(){return l.default.instance.storageData.doggyData.maxLevel},e.prototype.retry=function(){a.default.goDoggyGame()},e.prototype.start=function(){var t=this;this.limitLength=3e3,this.maxLength=this.limitLength,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this);for(var e=0;e<this.node.getChildByName("tipNode").childrenCount;e++)this.node.getChildByName("tipNode").children[e].active=!0,this.node.getChildByName("tipNode").children[e].getComponent(cc.Sprite)&&(this.node.getChildByName("tipNode").children[e].getComponent(cc.Sprite).enabled=!1);if(this.scheduleOnce(function(){var e=t.getNowLevel();if(t.node.getChildByName("finger")){if(1!=e)return;t.node.getChildByName("finger").active=!0,t.draw.moveTo(t.tipNode.children[0].x,t.tipNode.children[0].y);for(var o=1;o<t.tipNode.childrenCount;o++)t.draw.lineTo(t.tipNode.children[o].x,t.tipNode.children[o].y),t.draw.stroke();var n=t.node.getChildByName("tipNode").children[0].position,i=t.node.getChildByName("tipNode").children[1].position,r=t.node.getChildByName("tipNode").children[2].position,c=t.node.getChildByName("tipNode").children[3].position,a=cc.moveTo(0,cc.v2(n)),s=cc.moveTo(.5,cc.v2(i)),l=cc.moveTo(.5,cc.v2(r)),d=cc.moveTo(.5,cc.v2(c)),p=cc.sequence(a,s,l,d);t.node.getChildByName("finger").runAction(p.repeatForever())}},.1),this.node.getChildByName("tipLabel")&&(this.node.getChildByName("tipLabel").active=!1),this.node.getChildByName("levelLabel")){var o=cc.find("Canvas/TopBar/progress/level").convertToWorldSpaceAR(cc.v2(0,0));(o=this.node.convertToNodeSpaceAR(o)).y-=65,this.node.getChildByName("levelLabel").active=!0,this.node.getChildByName("levelLabel").setPosition(o),this.node.getChildByName("levelLabel").getComponent(cc.Label).string="\u633d\u6551\u5927\u72d7\u72d7\u3002"}this.node.getChildByName("levelLabel").active=!1,this.node.getChildByName("counting")&&(this.node.getChildByName("counting").active=!1);var n=this.node.getChildByName("playerNode"),i=function(t){n.children[t].active=!1,r.scheduleOnce(function(){n.children[t].scale+=.2,n.children[t].active=!0})},r=this;for(e=0;e<n.childrenCount;e++)i(e);var c=this.node.getChildByName("ground"),a=function(t){c.children[t].active=!1,s.scheduleOnce(function(){c.children[t].active=!0},0)},s=this;for(e=0;e<c.childrenCount;e++)a(e);if(this.node.getChildByName("back")){var l=function(e){d.node.getChildByName("back").children[e].active=!1,d.scheduleOnce(function(){t.node.getChildByName("back").children[e].active=!0})},d=this;for(e=0;e<this.node.getChildByName("back").childrenCount;e++)l(e)}for(e=0;e<c.childrenCount;e++)-1!=c.children[e].name.indexOf("banSpace")&&c.children[e].setSiblingIndex(0);this.getNowLevel()},e.prototype.checkInRed=function(t){for(var e=cc.view.getVisibleSize(),o=0,n=this.redObjs;o<n.length;o++){var i=n[o];if(cc.Intersection.pointInPolygon(cc.v2(t.x-.5*e.width,t.y-.5*e.height),i))return!0}return!1},e.prototype.onTouchStart=function(t){if(!this.lock){var e=t.getLocation();if(!this.checkInRed(e)){this.canMove=!0,null!=this.currentLine&&(this.hasDrawLen+=this.currentLine.getComponent(y.default).points.length);var o=cc.instantiate(this.Line);return this.node.addChild(o),this.currentLine=o,this.currentLine.getComponent(y.default).onTouchStart(t),!0}this.canMove=!1}},e.prototype.onTouchMove=function(t){this.canMove&&this.currentLine.getComponent(y.default).onTouchMove(t)},e.prototype.countingDown=function(){if(this.timeCount--,this.clock.children[0].getComponent(cc.Label).string=this.timeCount.toString(),this.timeCount<=0)if(this.isWtMode){for(var t=!0,e=0;e<this.protectNodeArr.length;e++)if(!this.protectNodeArr[e].getComponent(_.default).outOfWater){t=!1;break}t?this.success():this.fail(),this.unschedule(this.countingDown)}else this.isBone?this.protectNodeArr[0].getComponent(_.default).getBone?(this.success(),this.unschedule(this.countingDown)):(this.fail(),this.unschedule(this.countingDown)):(this.success(),this.unschedule(this.countingDown))},e.prototype.success=function(){var t=this;if(!this.isEnd){this.isEnd=!0,this.clock.getComponent(cc.Animation).stop(),this.clock.angle=0,p.default.gameOverFxCreate(!0,cc.find("Canvas")),s.default.instance.StopSound("Fly"),s.default.instance.PlaySound(c.SoundType.Win);this.maxLength,this.limitLength;this.getNowLevel(),l.default.instance.storageData.doggyData.maxLevel++,l.default.instance.writeStorage(l.default.instance.storageName.doggyData,l.default.instance.storageData.doggyData),this.scheduleOnce(function(){d.default.show_Result_Success_Panel(cc.find("Canvas")),t.scheduleOnce(function(){t.node.destroy()},1)},2)}},e.prototype.fail=function(){var t=this;this.isEnd||(this.isEnd=!0,this.clock.getComponent(cc.Animation).stop(),this.clock.angle=0,s.default.instance.StopSound("Game_Doggy/Fly"),s.default.instance.PlaySound(c.SoundType.False),p.default.gameOverFxCreate(!1,cc.find("Canvas")),this.scheduleOnce(function(){t.retry()},2),this.getNowLevel())},e.prototype.capture=function(){var t=new cc.RenderTexture,e=cc.game._renderContext;t.initWithSize(1024,1024,e.STENCIL_INDEX8);var o=new cc.Node;o.parent=cc.director.getScene(),o.x=200,o.y=650,cc.view.getVisibleSize().height>1334&&(o.y+=100);var n=o.addComponent(cc.Camera);n.targetTexture=t,n.enabled=!0,n.render();var i=new cc.SpriteFrame;return i.setTexture(t),n.enabled=!1,i},e.prototype.ChangeType=function(){for(var t=function(t){if(!e.ChangeTypeNodeArr[t])return"continue";var o=e.ChangeTypeNodeArr[t].getComponent(cc.RigidBody);o&&(o.type=cc.RigidBodyType.Dynamic);var n=e.ChangeTypeNodeArr[t].getComponent(cc.CircleCollider);n&&(n.enabled=!1,e.scheduleOnce(function(){n.enabled=!0}));var i=e.ChangeTypeNodeArr[t].name;-1!=i.indexOf("hedgehog")&&e.ChangeTypeNodeArr[t].getComponent(dragonBones.ArmatureDisplay).playAnimation("attack",0),-1!=i.indexOf("punch")&&e.ChangeTypeNodeArr[t].getComponent(cc.Animation).play(),-1!=i.indexOf("beetle")&&e.ChangeTypeNodeArr[t].getComponent(u.default).goTarget(),-1!=i.indexOf("crocodile")&&e.ChangeTypeNodeArr[t].getComponent(f.default).goTarget(),-1!=i.indexOf("mechworks")&&e.ChangeTypeNodeArr[t].getComponent(v.default).goMove()},e=this,o=0;o<this.ChangeTypeNodeArr.length;o++)t(o)},e.prototype.onTouchCancel=function(t){if(this.draw.clear(),0!=this.playAniNodeArr.length)for(var e=0;e<this.playAniNodeArr.length;e++)if(this.playAniNodeArr[e]){var o=this.playAniNodeArr[e].getComponent(cc.Animation).getClips();this.playAniNodeArr[e].getComponent(cc.Animation).play(o[0].name)}this.node.getChildByName("finger")&&(this.node.getChildByName("finger").active=!1),s.default.instance.PlaySound("Game_Doggy/Fly",!0);var n=this.node.getChildByName("ground");for(e=0;e<n.childrenCount;e++)-1!=n.children[e].name.indexOf("banSpace")&&(n.children[e].active=!1),-1!=n.children[e].name.indexOf("spider")&&n.children[e].getComponent(m.default).begin();if(this.isDrawEnd=!0,this.ChangeType(),this.node.getChildByName("ground").getChildByName("boxNode"))for(e=0;e<this.node.getChildByName("ground").getChildByName("boxNode").childrenCount;e++)this.node.getChildByName("ground").getChildByName("boxNode").children[e]&&(this.node.getChildByName("ground").getChildByName("boxNode").children[e].getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic);for(e=0;e<this.beeFactoryArr.length;e++)this.beeFactoryArr[e]&&this.beeFactoryArr[e].getComponent(h.default).createBee();for(e=0;e<this.beeFightArr.length;e++)this.beeFightArr[e].getComponent(g.default).getStart();var i=this.node.getChildByName("beeMask");if(i&&(i.active=!1),this.clock.active=!0,this.schedule(this.countingDown,1),this.canMove){this.currentLine&&this.currentLine.getComponent(y.default).onTouchEnd(t);for(var r=0,c=this.dynamicObjs;r<c.length;r++){var a=c[r];a&&(a.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic)}this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchCancel,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)}},e.prototype.showTips=function(){this.draw.moveTo(this.tipNode.children[0].x,this.tipNode.children[0].y);for(var t=1;t<this.tipNode.childrenCount;t++)this.draw.lineTo(this.tipNode.children[t].x,this.tipNode.children[t].y),this.draw.stroke()},e.prototype.InitTipBtn=function(){},r([B(cc.Node)],e.prototype,"protectNodeArr",void 0),r([B(cc.Node)],e.prototype,"ChangeTypeNodeArr",void 0),r([B(cc.Node)],e.prototype,"beeFactoryArr",void 0),r([B(cc.Node)],e.prototype,"beeFightArr",void 0),r([B(cc.Node)],e.prototype,"playAniNodeArr",void 0),r([B],e.prototype,"canLineKill",void 0),r([B()],e.prototype,"isWtMode",void 0),r([B()],e.prototype,"isBone",void 0),r([B(cc.Prefab)],e.prototype,"Line",void 0),r([B()],e.prototype,"limitLength",void 0),r([b],e)}(cc.Component);o.default=O,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/SoundMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"../../Bundle2_Res/Scripts/ResPanelOpen":void 0,"../../Bundle2_Res/Scripts/ResPrefabBorn":void 0,"./Doggy_BeeFactory":"Doggy_BeeFactory","./Doggy_BeeFighterCrl":"Doggy_BeeFighterCrl","./Doggy_BeetleCrl":"Doggy_BeetleCrl","./Doggy_CrocodileCrl":"Doggy_CrocodileCrl","./Doggy_LineLogic":"Doggy_LineLogic","./Doggy_MechworksCrl":"Doggy_MechworksCrl","./Doggy_SpiderCrl":"Doggy_SpiderCrl","./Doggy_pengzhuang":"Doggy_pengzhuang"}],Doggy_GameUI:[function(t,e,o){"use strict";cc._RF.push(e,"40d195di35GvZGTfB9xCCED","Doggy_GameUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),a=t("../../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),s=t("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),l=t("../../../Bundle1_Loading/Scripts/Mgr/SoundMgr"),d=t("../../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),p=t("../../../Bundle2_Res/Scripts/ResPanelOpen"),h=t("../Doggy_GameLogic"),g=cc._decorator,u=g.ccclass,f=g.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.doggyNewStageSort=[1,2,3,271,272,4,5,6,338,339,7,8,9,275,276,10,11,12,282,283,13,14,15,294,16,17,18,296,19,20,21,306,22,23,24,307,25,26,27,315,28,29,30,316,31,32,33,328,34,35,36,329,37,38,39,273,40,41,42,274,43,44,45,303,46,47,48,304,49,50,51,351,52,53,54,352,55,56,57,347,58,59,60,348,61,62,63,297,64,65,66,298,67,68,69,284,70,71,72,285,73,74,75,313,76,77,78,314,79,80,81,321,82,83,84,322,85,86,87,330,88,89,90,331,91,92,93,287,94,95,96,288,97,98,99,319,100,101,102,320,103,104,105,323,106,107,108,324,109,110,111,343,112,113,114,344,115,116,117,363,118,119,120,364,121,122,123,332,124,125,126,333,127,128,129,311,130,131,132,312,133,134,135,299,136,137,138,300,139,140,141,291,142,143,144,292,145,146,147,308,148,149,150,309,151,152,153,317,154,155,156,318,157,158,159,334,160,161,162,335,163,164,165,340,166,167,168,341,169,170,171,349,172,173,174,350,175,176,177,305,178,179,180,306,181,182,183,277,184,185,186,278,187,188,189,286,190,191,192,289,193,194,195,301,196,197,198,302,199,200,201,353,202,203,204,354,205,206,207,279,208,209,210,280,211,212,213,293,214,215,216,308,217,218,219,359,220,221,222,360,223,224,225,281,226,227,228,290,229,230,231,325,232,233,234,326,235,236,237,336,238,239,240,337,241,242,243,369,244,245,246,370,247,248,249,301,250,251,252,302,253,254,255,355,256,257,258,356,259,260,261,357,262,263,264,378,265,266,267,295,268,269,270,305,310,327,342,345,346,367,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400],e.mode="doggy",e.levelLabel=null,e.maxLevel=400,e}var o;return i(e,t),o=e,e.prototype.doggyNewStageGetIndex=function(t){return console.log("\u4e4b\u524d\u6392\u5e8f",t),(t-=1)>=0&&t<this.doggyNewStageSort.length?(console.log("\u73b0\u5728\u6392\u5e8f",this.doggyNewStageSort[t]),this.doggyNewStageSort[t]):t},e.prototype.onEnable=function(){this.initEvent()},e.prototype.onDisable=function(){s.EventMgr.clearTarget(this),l.default.instance.StopSound("Fly")},e.prototype.start=function(){s.EventMgr.on(c.EventType.Game_NextLevel_Event,function(){a.default.goDoggyGame()},this);var t=cc.find("Canvas/bg").getSiblingIndex(),e=this;switch(this.mode){case"doggy":var n=d.default.instance.storageData.doggyData.maxLevel;this.levelLabel.string="\u5173\u5361 "+n,n>this.maxLevel&&(n=10+(n-this.maxLevel)%(this.maxLevel-10));var i=this.doggyNewStageGetIndex(n),r="DoggyNormalLv/level"+i;a.default.doggyStageBundle.load(r,cc.Prefab,function(o,n){o&&cc.error("\u5173\u5361"+i+"\u52a0\u8f7d\u5931\u8d25",o);var r=cc.instantiate(n);e.node.addChild(r),r.setPosition(cc.v2(0,0)),r.active=!1,e.scheduleOnce(function(){r.active=!0},0),r.setSiblingIndex(t+1)})}d.default.instance.storageData.doggyData.maxLevel!=o.lastLevel&&(o.lastLevel=d.default.instance.storageData.doggyData.maxLevel,d.default.instance.usePower())},e.prototype.initEvent=function(){s.EventMgr.on(c.EventType.Game_PassLevel_Event,this.passLevel,this),s.EventMgr.on(c.EventType.Game_ShowTips_Event,this.tipBtnCB,this),s.EventMgr.on(c.EventType.Game_Retry_Event,this.retry,this),s.EventMgr.on(c.EventType.Game_PowerLess_Event,this.openPowerLessPanel,this)},e.prototype.openPowerLessPanel=function(){o.lastLevel=-1,p.default.show_Game_PowerLess_Panel(cc.find("Canvas"))},e.prototype.passLevel=function(){switch(this.mode){case"doggy":d.default.instance.storageData.doggyData.maxLevel++,d.default.instance.writeStorage(d.default.instance.storageName.doggyData,d.default.instance.storageData.doggyData)}l.default.instance.StopSound("Fly"),a.default.goDoggyGame()},e.prototype.retry=function(){this.findLevel().getComponent(h.default).retry()},e.prototype.tipBtnCB=function(){this.findLevel().getComponent(h.default).showTips()},e.prototype.InitProgress=function(){if(this.findLevel()){var t=this.findLevel().getComponent(h.default).maxLength,e=this.findLevel().getComponent(h.default).limitLength;this.node.getChildByName("TopBar").getChildByName("progress").getChildByName("bg").getComponent(cc.Sprite).fillRange=e/t,e/t<.66&&(this.node.getChildByName("TopBar").getChildByName("progress").getChildByName("star").children[2].children[0].active=!1),e/t<.33&&(this.node.getChildByName("TopBar").getChildByName("progress").getChildByName("star").children[1].children[0].active=!1),e/t<=0&&(this.node.getChildByName("TopBar").getChildByName("progress").getChildByName("star").children[0].children[0].active=!1)}},e.prototype.findLevel=function(){for(var t=0;t<this.node.childrenCount;t++)if(-1!=this.node.children[t].name.indexOf("level"))return this.node.children[t];return null},e.lastLevel=-1,r([f(cc.Label)],e.prototype,"levelLabel",void 0),o=r([u],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/SoundMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"../../../Bundle2_Res/Scripts/ResPanelOpen":void 0,"../Doggy_GameLogic":"Doggy_GameLogic"}],Doggy_GlassCrl:[function(t,e,o){"use strict";cc._RF.push(e,"6a1d3hnNolNk6sktdv85FZ8","Doggy_GlassCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iceChangeSpriteFrame=null,e.isRock=!1,e.isHit=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.onBeginContact=function(t,e,o){var n=this;(-1!=o.node.name.indexOf("Line")||-1!=o.node.name.indexOf("player")&&!this.isHit)&&(this.isRock?(this.getComponent(cc.Animation).play(),this.scheduleOnce(function(){n.node.active=!1},1)):(this.isHit=!0,this.getComponent(cc.Sprite).spriteFrame=this.iceChangeSpriteFrame,this.scheduleOnce(function(){n.node.active=!1},1)))},r([s(cc.SpriteFrame)],e.prototype,"iceChangeSpriteFrame",void 0),r([s()],e.prototype,"isRock",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Doggy_HoleCrl:[function(t,e,o){"use strict";cc._RF.push(e,"2b0e9XEbzJH3oJt97oEzSa5","Doggy_HoleCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.puls=4e4,e}return i(e,t),e.prototype.start=function(){},e.prototype.suck=function(){for(var t=this.node.parent.parent.getChildByName("playerNode"),e=0;e<t.childrenCount;e++){var o=this.node.convertToWorldSpaceAR(cc.v2(0,0)),n=(o=t.convertToNodeSpaceAR(o)).x-t.children[e].x,i=o.y-t.children[e].y,r=cc.v2(n,i);r.normalizeSelf(),t.children[e].getComponent(cc.RigidBody).applyForceToCenter(r.mul(this.puls),!1)}},e.prototype.update=function(){this.suck()},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_LaserCrl:[function(t,e,o){"use strict";cc._RF.push(e,"c3006/hilxBT5q/XLuCdGlG","Doggy_LaserCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Doggy_BeeCrl"),a=t("./Doggy_pengzhuang"),s=cc._decorator,l=s.ccclass,d=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gracphics=null,e.dis=2e3,e.height=0,e.width=0,e.stopCount=3,e.nowCount=0,e}return i(e,t),e.prototype.onLoad=function(){this.gracphics=this.node.getComponent(cc.Graphics)},e.prototype.start=function(){this.height=cc.winSize.height,this.width=cc.winSize.width},e.prototype.update=function(){if(this.nowCount<this.stopCount)this.nowCount++;else{this.nowCount=0,this.gracphics.clear();var t=this.dis,e=this.node.getPosition(),o=e.add(cc.v2(this.node.up.clone()).mul(t));this.rayCal(e,o,t),this.gracphics.stroke()}},e.prototype.rayCal=function(t,e,o,n){void 0===n&&(n=!0);var i,r=!1,c=cc.director.getPhysicsManager().rayCast(cc.v2(this.width/2+t.x,this.height/2+t.y),cc.v2(this.width/2+e.x,this.height/2+e.y),cc.RayCastType.Closest);c.length>0&&(e=cc.v2(c[0].point.x-this.width/2,c[0].point.y-this.height/2),r=this.hitCheck(c[0].collider.node),o*=1-c[0].fraction,r&&(i=c[0].normal));var a=this.node.convertToNodeSpaceAR(this.node.parent.convertToWorldSpaceAR(t)),s=this.node.convertToNodeSpaceAR(this.node.parent.convertToWorldSpaceAR(e));if(n&&this.gracphics.moveTo(a.x,a.y),this.gracphics.lineTo(s.x,s.y),r){var l=cc.v2(t.sub(e)).signAngle(i),d=cc.v2(0,1).signAngle(i)+l,p=cc.v2(Math.sin(d),-Math.cos(d));e=(t=e).add(cc.v2(p.clone()).mul(-o)),this.rayCal(t,e,o,!1)}},e.prototype.raidusToAngle=function(t){return 180*t/Math.PI},e.prototype.hitCheck=function(t){var e=t.name,o=!1;return-1!=e.indexOf("player")?t.getComponent(a.default).playDie(!1):-1!=e.indexOf("bee")?t.getComponent(c.default).die():-1!=e.indexOf("glass")&&(o=!0),o},r([l],e)}(cc.Component));o.default=d,cc._RF.pop()},{"./Doggy_BeeCrl":"Doggy_BeeCrl","./Doggy_pengzhuang":"Doggy_pengzhuang"}],Doggy_LineLogic:[function(t,e,o){"use strict";cc._RF.push(e,"6ed97E3WxVOJ5ouNebhBLv7","Doggy_LineLogic");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Doggy_GameLogic"),a=t("./UI/Doggy_GameUI"),s=cc._decorator,l=s.ccclass,d=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.points=[],e.eachLineWidth=20,e.isTouchCan=!1,e}return i(e,t),e.prototype.onLoad=function(){this.draw=this.getComponent(cc.Graphics)},e.prototype.start=function(){},e.prototype.onCollisionStay=function(t){-1!=t.node.name.indexOf("wt")&&this.getComponent(cc.RigidBody)&&(this.getComponent(cc.RigidBody).gravityScale=-2)},e.prototype.onCollisionExit=function(t){-1!=t.node.name.indexOf("wt")&&this.getComponent(cc.RigidBody)&&(this.getComponent(cc.RigidBody).gravityScale=1)},e.prototype.onTouchStart=function(t){var e=t.getLocation();return this.preWorldPoint=e,e=this.node.convertToNodeSpaceAR(e),this.isTouchCan=!0,this.prePoint=e,this.points.push(cc.v2(e.x,e.y)),this.draw.clear(),this.draw.moveTo(e.x,e.y),!0},e.prototype.onTouchMove=function(t){if(this.isTouchCan&&!(this.node.parent.getComponent(c.default).limitLength<0)){cc.find("Canvas").getComponent(a.default).InitProgress();var e=cc.find("Canvas").getComponent(a.default);e&&e.InitProgress();var o=t.getLocation(),n=o,i=(o=this.node.convertToNodeSpaceAR(o)).x-this.prePoint.x,r=o.y-this.prePoint.y;Math.sqrt(i*i+r*r)>=this.eachLineWidth&&cc.director.getPhysicsManager().rayCast(this.preWorldPoint,n,cc.RayCastType.All).length<=0&&(this.node.parent.getComponent(c.default).limitLength-=this.eachLineWidth,this.points.push(cc.v2(o.x,o.y)),this.draw.lineTo(o.x,o.y),this.draw.stroke(),this.prePoint=o,this.preWorldPoint=n)}},e.prototype.onTouchEnd=function(){if(this.isTouchCan){this.points.length,this.addComponent(cc.RigidBody);var t=this.addComponent("MyPhysicsCollider");this.getComponent(cc.PolygonCollider).points=this.points,this.isTouchCan=!1;for(var e=[],o=0;o<this.points.length+1;o+=2)o>=this.points.length&&(o=this.points.length-1),e.push(this.points[o]);t.points=e,t.density=50,t.friction=.99,this.getComponent(cc.RigidBody).allowSleep=!1,this.getComponent(cc.RigidBody).bullet=!1,t.apply(),console.log("\u753b\u7ebf\u7684\u78b0\u649e\u4f53\u70b9\u6570:",this.points.length,e.length)}},r([l],e)}(cc.Component));o.default=d,cc._RF.pop()},{"./Doggy_GameLogic":"Doggy_GameLogic","./UI/Doggy_GameUI":"Doggy_GameUI"}],Doggy_MechworksCrl:[function(t,e,o){"use strict";cc._RF.push(e,"3096bYT9DhOQLo7m/S5ZQwY","Doggy_MechworksCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMoving=!1,e}return i(e,t),e.prototype.onLoad=function(){this.body=this.getComponent(cc.RigidBody)},e.prototype.goMove=function(){this.isMoving=!0},e.prototype.update=function(){this.isMoving&&this.body.applyForceToCenter(cc.v2(this.node.up.clone().mulSelf(2e6)),!0)},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_MyButton:[function(t,e,o){"use strict";cc._RF.push(e,"fba0bJ/0WNB4aP5oY2JUorG","Doggy_MyButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),a=t("../../../Bundle1_Loading/Scripts/Mgr/SoundMgr"),s=cc._decorator,l=s.ccclass,d=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventHandler=[],e.interactable=!0,e.isPlaySoundEffect=!0,e.soundUrl="Sound/Click",e.originScale=1,e.targetScale=1.2,e.scaleDuration=.1,e.tweenTag1=1,e.tweenTag2=1,e}return i(e,t),e.prototype.onLoad=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStartCB,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEndCB,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancelCB,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.touchCancelCB,this),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStartCB,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEndCB,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancelCB,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.touchCancelCB,this)},e.prototype.start=function(){},e.prototype.touchStartCB=function(){this.interactable&&(cc.Tween.stopAllByTag(this.tweenTag1),cc.Tween.stopAllByTag(this.tweenTag2),this.node.scale=this.originScale,cc.tween(this.node).to(this.scaleDuration,{scale:this.targetScale}).tag(this.tweenTag1).start())},e.prototype.touchEndCB=function(){if(this.interactable){a.default.instance.PlaySound(c.SoundType.Button),cc.tween(this.node).to(this.scaleDuration,{scale:this.originScale}).tag(this.tweenTag2).call(function(){}).start();for(var t=0;t<this.eventHandler.length;t++){var e=this.eventHandler[t];e.target&&e._componentName&&e.target.getComponent(e._componentName)[e.handler](e.customEventData)}}},e.prototype.touchCancelCB=function(){this.interactable&&cc.tween(this.node).to(this.scaleDuration,{scale:this.originScale}).tag(this.tweenTag2).start()},r([d(cc.Component.EventHandler)],e.prototype,"eventHandler",void 0),r([d],e.prototype,"interactable",void 0),r([d],e.prototype,"isPlaySoundEffect",void 0),r([d],e.prototype,"soundUrl",void 0),r([d],e.prototype,"originScale",void 0),r([d],e.prototype,"targetScale",void 0),r([d],e.prototype,"scaleDuration",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/SoundMgr":void 0}],Doggy_RewardNode:[function(t,e,o){"use strict";cc._RF.push(e,"0cbcbcCfsxEgJD3DeV1xYzI","Doggy_RewardNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),a=t("../../../Bundle2_Res/Scripts/ResPanelOpen"),s=cc._decorator,l=s.ccclass,d=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.closeBtn=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;a.default.panelOpen(this.panel,function(){t.init()})},e.prototype.bornReward=function(t,e){var o=this;switch(t){case"skin":c.default.doggyBundle.loadDir("Res/role/Spine/hero"+e,cc.Asset,function(t,e){if(t)console.log(t,"\u9f99\u9aa8\u52a0\u8f7d\u5931\u8d25");else{var n=new cc.Node,i=n.addComponent(dragonBones.ArmatureDisplay);for(var r in e)e[r]instanceof dragonBones.DragonBonesAsset&&(i.dragonAsset=e[r]),e[r]instanceof dragonBones.DragonBonesAtlasAsset&&(i.dragonAtlasAsset=e[r]);i.armatureName="Armature",i.playAnimation("idle",0),n.x=0,n.y=0,n.scale=1,n.parent=o.panel,n.setSiblingIndex(1)}});break;case"bee":this.panel.getChildByName("cellular_"+e.toString()).active=!0;break;default:console.warn("doggy rewardPanel born wrong")}},e.prototype.init=function(){this.closeBtn.on(cc.Node.EventType.TOUCH_END,this.close,this)},e.prototype.close=function(){var t=this;a.default.panelClose(this.panel,function(){t.node.destroy()})},r([d(cc.Node)],e.prototype,"panel",void 0),r([d(cc.Node)],e.prototype,"closeBtn",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../../Bundle2_Res/Scripts/ResPanelOpen":void 0}],Doggy_RotationAuto:[function(t,e,o){"use strict";cc._RF.push(e,"fd8f63x6uNNuYnlXo2R0lYO","Doggy_RotationAuto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.update=function(){this.node.angle+=1},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_ScaleAuto:[function(t,e,o){"use strict";cc._RF.push(e,"77962n4z5VIUom32UdZFXNe","Doggy_ScaleAuto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=cc.scaleTo(.5,1.2),e=cc.scaleTo(.5,1),o=cc.sequence(t,e);this.node.runAction(o.repeatForever())},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_ShakeAuto:[function(t,e,o){"use strict";cc._RF.push(e,"ddb0fjq+c1J56ujOKHB12jP","Doggy_ShakeAuto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this;c.Tool.objectShake(this.node),this.schedule(function(){c.Tool.objectShake(t.node)},2)},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0}],Doggy_SkinBtn:[function(t,e,o){"use strict";cc._RF.push(e,"f0196xagA9MZqw3dyT5qb7P","Doggy_SkinBtn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),a=cc._decorator,s=a.ccclass,l=a.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinNode=null,e}return i(e,t),e.prototype.onLoad=function(){c.Tool.d2_AddClickEvent(this.node,this.showSkinNode,this)},e.prototype.showSkinNode=function(){this.skinNode.active=!0},r([l(cc.Node)],e.prototype,"skinNode",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0}],Doggy_SkinNode:[function(t,e,o){"use strict";cc._RF.push(e,"535ecP5ddlGDrZIw5TpZzSw","Doggy_SkinNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),a=t("../../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),s=t("../../../Bundle1_Loading/Scripts/Mgr/SoundMgr"),l=t("../../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),d=t("../../../Bundle1_Loading/Scripts/Platform/Platform"),p=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),h=t("../../../Bundle2_Res/Scripts/ResPanelOpen"),g=t("./Doggy_RewardNode"),u=cc._decorator,f=u.ccclass,y=u.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content1=null,e.content2=null,e.pageView1=null,e.pageView2=null,e.isdoggy=!0,e.backBtn=null,e.doggyBtn=null,e.beeBtn=null,e.unlockBtn=null,e.normalMat=null,e.grayMat=null,e.isRolling=!1,e}return i(e,t),e.prototype.loadSpFrame=function(t,e){t="Res/"+t,a.default.doggyBundle.load(t,cc.SpriteFrame,function(o,n){o?console.error("\u72d7\u76ae\u80a4\u5546\u5e97\u52a0\u8f7d\u56fe\u7247\u65b9\u6cd5\u5931\u8d25",t,o):e.getComponent(cc.Sprite).spriteFrame=n})},e.prototype.loadSpFromAtlas=function(t,e,o){t="Res/"+t,a.default.doggyBundle.load(t,cc.SpriteAtlas,function(t,n){if(t)return console.log("\u56fe\u96c6\u52a0\u8f7d\u5931\u8d25"),void console.log(t);o.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame(e)})},e.prototype.onLoad=function(){p.Tool.d2_AddClickEvent(this.beeBtn,this.beeBtnCB,this),p.Tool.d2_AddClickEvent(this.doggyBtn,this.doggyBtnCB,this),p.Tool.d2_AddClickEvent(this.backBtn,this.backBtnCB,this),p.Tool.d2_AddClickEvent(this.unlockBtn,this.videoBtnCB,this)},e.prototype.onEnable=function(){this.isdoggy?(this.pageView1.active=!0,this.pageView2.active=!1):(this.pageView1.active=!1,this.pageView2.active=!0),this.InitContentPic(),this.InitChoose(this.isdoggy);var t=this.node.getChildByName("Anim");h.default.panelOpen(t)},e.prototype.doggyBtnCB=function(){this.isdoggy=!0,this.pageView1.active=!0,this.pageView2.active=!1,this.node.getChildByName("Anim").getChildByName("shop").getChildByName("doggyBtn").getChildByName("choose").active=!0,this.node.getChildByName("Anim").getChildByName("shop").getChildByName("beeBtn").getChildByName("choose").active=!1,this.InitChoose(this.isdoggy)},e.prototype.beeBtnCB=function(){this.isdoggy=!1,this.pageView1.active=!1,this.pageView2.active=!0,this.node.getChildByName("Anim").getChildByName("shop").getChildByName("doggyBtn").getChildByName("choose").active=!1,this.node.getChildByName("Anim").getChildByName("shop").getChildByName("beeBtn").getChildByName("choose").active=!0,this.InitChoose(this.isdoggy)},e.prototype.itemCB=function(t,e){s.default.instance.PlaySound(c.SoundType.Button),e?1==l.default.instance.storageData.doggyData.dogSkinArr[t]?(l.default.instance.storageData.doggyData.dogSkin=t,l.default.instance.writeStorage(l.default.instance.storageName.doggyData,l.default.instance.storageData.doggyData)):d.default.instance.showToast("\u8fd8\u672a\u89e3\u9501\u8be5\u76ae\u80a4"):1==l.default.instance.storageData.doggyData.beeSkinArr[t]?(l.default.instance.storageData.doggyData.beeSkin=t,l.default.instance.writeStorage(l.default.instance.storageName.doggyData,l.default.instance.storageData.doggyData)):d.default.instance.showToast("\u8fd8\u672a\u89e3\u9501\u8be5\u76ae\u80a4"),this.InitChoose(e)},e.prototype.backBtnCB=function(){var t=this,e=this.node.getChildByName("Anim");h.default.panelClose(e,function(){t.node.active=!1,a.default.goDoggyGame()})},e.prototype.InitNew=function(){for(var t=0;t<l.default.instance.storageData.doggyData.dogSkinArr.length;t++)1==l.default.instance.storageData.doggyData.dogSkinArr[t]&&(t<9?this.content1.children[0].children[t].getChildByName("anim").color=(new cc.Color).fromHEX("#FFFFFF"):t<18?(this.content1.children[1].children[t-9].getChildByName("pic").color=(new cc.Color).fromHEX("#FFFFFF"),this.content1.children[1].children[t-9].getChildByName("pic").opacity=255):(this.content1.children[2].children[t-18].getChildByName("pic").color=(new cc.Color).fromHEX("#FFFFFF"),this.content1.children[2].children[t-18].getChildByName("pic").opacity=255));for(t=0;t<l.default.instance.storageData.doggyData.beeSkinArr.length;t++)1==l.default.instance.storageData.doggyData.beeSkinArr[t]&&(this.content2.children[0].children[t].getChildByName("pic").color=(new cc.Color).fromHEX("#FFFFFF"),this.content2.children[0].children[t].getChildByName("pic").children[0].color=(new cc.Color).fromHEX("#FFFFFF"),this.content2.children[0].children[t].getChildByName("pic").opacity=255,this.content2.children[0].children[t].getChildByName("pic").children[0].opacity=255)},e.prototype.InitContentPic=function(){if(0==this.content1.children[0].childrenCount){for(var t=this,e=function(e){var n,i=e;n=e<9?o.content1.children[0]:e<18?o.content1.children[1]:o.content1.children[2],o.scheduleOnce(function(){var o=i+1;a.default.doggyBundle.load("Res/Prefabs/item_skin",cc.Prefab,function(r,c){var s=cc.instantiate(c);a.default.doggyBundle.loadDir("Res/role/Spine/hero"+o,cc.Asset,function(o,r){if(o)console.log(o,"\u9f99\u9aa8\u52a0\u8f7d\u5931\u8d25");else{var c=new cc.Node("anim"),a=c.addComponent(dragonBones.ArmatureDisplay);for(var d in r)r[d]instanceof dragonBones.DragonBonesAsset&&(a.dragonAsset=r[d]),r[d]instanceof dragonBones.DragonBonesAtlasAsset&&(a.dragonAtlasAsset=r[d]);a.armatureName="Armature",a.playAnimation("idle",0),c.x=0,c.y=0,c.scale=.5,c.parent=s,c.setSiblingIndex(0),s.getChildByName("pic").active=!1,1==l.default.instance.storageData.doggyData.dogSkinArr[e]?a.node.color=(new cc.Color).fromHEX("#FFFFFF"):a.node.color=(new cc.Color).fromHEX("#000000"),l.default.instance.storageData.doggyData.dogSkin==i?s.getChildByName("select").active=!0:s.getChildByName("select").active=!1,s.on(cc.Node.EventType.TOUCH_END,function(){t.itemCB(i,!0)},t),n.addChild(s,i),c.setSiblingIndex(2)}})})},.01*e)},o=this,n=0;n<l.default.instance.storageData.doggyData.dogSkinArr.length;n++)e(n);var i=function(e){var o=e,n=r.content2.children[0];r.scheduleOnce(function(){a.default.doggyBundle.load("Res/Prefabs/item_bee",cc.Prefab,function(e,i){var r=cc.instantiate(i);1==l.default.instance.storageData.doggyData.beeSkinArr[o]&&(r.getChildByName("pic").color=(new cc.Color).fromHEX("#FFFFFF"),r.getChildByName("pic").children[0].color=(new cc.Color).fromHEX("#FFFFFF"),r.getChildByName("pic").opacity=255,r.getChildByName("pic").children[0].opacity=255);var c="cellular_"+(o+1),a="bees_"+(o+1)+"_1";t.loadSpFromAtlas("role/Enemy",c,r.getChildByName("pic")),t.loadSpFromAtlas("role/Enemy",a,r.getChildByName("pic").children[0]),r.on(cc.Node.EventType.TOUCH_END,function(){t.itemCB(o,!1)},t),n.addChild(r)})},.01*e)},r=this;for(n=0;n<l.default.instance.storageData.doggyData.beeSkinArr.length;n++)i(n)}},e.prototype.InitChoose=function(t){if(t)for(var e=0;e<this.content1.childrenCount;e++)for(var o=9*e,n=0;n<this.content1.children[e].childrenCount;n++)l.default.instance.storageData.doggyData.dogSkin==o+n?this.content1.children[e].children[n].getChildByName("select").active=!0:this.content1.children[e].children[n].getChildByName("select").active=!1;else for(e=0;e<this.content2.children[0].childrenCount;e++)l.default.instance.storageData.doggyData.beeSkin==e?this.content2.children[0].children[e].getChildByName("select").active=!0:this.content2.children[0].children[e].getChildByName("select").active=!1},e.prototype.videoBtnCB=function(){var t=this;d.default.instance.showVideo(function(){if(t.isdoggy)if(-1!=l.default.instance.storageData.doggyData.dogSkinArr.indexOf(0)){var e=[],o=[];e=[],o=[];for(var n=0;n<4;n++)e.push(l.default.instance.storageData.doggyData.dogSkinArr[n]),0==l.default.instance.storageData.doggyData.dogSkinArr[n]&&o.push(n);t.rollEffect(1,o,!0)}else d.default.instance.showToast("\u72d7\u86cb\u76ae\u80a4\u5df2\u6ee1",2e3);else if(-1!=l.default.instance.storageData.doggyData.beeSkinArr.indexOf(0)){for(o=[],n=0;n<l.default.instance.storageData.doggyData.beeSkinArr.length;n++)0==l.default.instance.storageData.doggyData.beeSkinArr[n]&&o.push(n);t.rollEffect(1,o,!1)}else d.default.instance.showToast("\u871c\u8702\u76ae\u80a4\u5df2\u6ee1",2e3)},function(){})},e.prototype.rollEffect=function(t,e,o){var n=this;if(!this.isRolling)if(this.isRolling=!0,o){var i=-1;if(1!=t)for(var r=0;r<e.length;r++)e[r]-=9*(t-1);if(1==t){for(var c=0;c<this.content1.children[1].childrenCount;c++)this.content1.children[1].children[c].getChildByName("select").active=!1;for(c=0;c<this.content1.children[2].childrenCount;c++)this.content1.children[2].children[c].getChildByName("select").active=!1}else if(2==t){for(c=0;c<this.content1.children[0].childrenCount;c++)this.content1.children[0].children[c].getChildByName("select").active=!1;for(c=0;c<this.content1.children[2].childrenCount;c++)this.content1.children[2].children[c].getChildByName("select").active=!1}else if(3==t){for(c=0;c<this.content1.children[0].childrenCount;c++)this.content1.children[0].children[c].getChildByName("select").active=!1;for(c=0;c<this.content1.children[1].childrenCount;c++)this.content1.children[1].children[c].getChildByName("select").active=!1}if(1==e.length)s.default.instance.PlaySound("Game_Doggy/RollSkin"),this.closeAllUse(t,!0),this.content1.children[t-1].children[e[0]].getChildByName("select").active=!0,l.default.instance.storageData.doggyData.dogSkin=9*(t-1)+e[0],l.default.instance.storageData.doggyData.dogSkinArr[l.default.instance.storageData.doggyData.dogSkin]=1,l.default.instance.writeStorage(l.default.instance.storageName.doggyData,l.default.instance.storageData.doggyData),this.scheduleOnce(function(){n.isRolling=!1,d.default.instance.showToast("\u89e3\u9501\u6210\u529f",2e3),n.isRolling=!1,n.InitContentPic(),n.InitChoose(n.isdoggy),n.InitNew(),n.openRewardPanel("skin",l.default.instance.storageData.doggyData.dogSkin+1)},.2);else if(e.length>1){var a=function(o){h.scheduleOnce(function(){s.default.instance.PlaySound("Game_Doggy/RollSkin"),n.closeAllUse(t,!0);for(var r=p.Tool.randomInt(0,e.length-1);e[r]==i;)r=p.Tool.randomInt(0,e.length-1);i=e[r],n.content1.children[t-1].children[e[r]].getChildByName("select").active=!0,14==o&&(l.default.instance.storageData.doggyData.dogSkin=9*(t-1)+e[r],l.default.instance.storageData.doggyData.dogSkinArr[l.default.instance.storageData.doggyData.dogSkin]=1,l.default.instance.writeStorage(l.default.instance.storageName.doggyData,l.default.instance.storageData.doggyData),n.scheduleOnce(function(){n.isRolling=!1,d.default.instance.showToast("\u89e3\u9501\u6210\u529f",2e3),n.InitContentPic(),n.InitChoose(n.isdoggy),n.InitNew(),n.openRewardPanel("skin",l.default.instance.storageData.doggyData.dogSkin+1)},.2))},.2*o)},h=this;for(r=0;r<15;r++)a(r)}else d.default.instance.showToast("\u8fd9\u9875\u72d7\u5934\u76ae\u80a4\u5df2\u6ee1",2e3),this.isRolling=!1}else{var g=-1;if(console.log("\u8fd9\u91cc\u662f\u871c\u8702\u76ae\u80a4\u7684\u968f\u673a",e),1==e.length)s.default.instance.PlaySound("Game_Doggy/RollSkin"),this.closeAllUse(t,!1),this.content2.children[0].children[e[0]].children[0].active=!0,l.default.instance.storageData.doggyData.beeSkin=e[0],l.default.instance.storageData.doggyData.beeSkinArr[l.default.instance.storageData.doggyData.beeSkin]=1,l.default.instance.writeStorage(l.default.instance.storageName.doggyData,l.default.instance.storageData.doggyData),this.scheduleOnce(function(){d.default.instance.showToast("\u89e3\u9501\u6210\u529f",2e3),n.InitContentPic(),n.InitChoose(n.isdoggy),n.InitNew(),n.isRolling=!1,n.openRewardPanel("bee",l.default.instance.storageData.doggyData.beeSkin+1)},.2);else if(e.length>1){var u=function(o){f.scheduleOnce(function(){s.default.instance.PlaySound("Game_Doggy/RollSkin"),n.closeAllUse(t,!1);for(var i=p.Tool.randomInt(0,e.length-1);e[i]==g;)i=p.Tool.randomInt(0,e.length-1);g=e[i],n.content2.children[0].children[e[i]].children[0].active=!0,14==o&&(l.default.instance.storageData.doggyData.beeSkin=e[i],l.default.instance.storageData.doggyData.beeSkinArr[l.default.instance.storageData.doggyData.beeSkin]=1,l.default.instance.writeStorage(l.default.instance.storageName.doggyData,l.default.instance.storageData.doggyData),n.scheduleOnce(function(){d.default.instance.showToast("\u89e3\u9501\u6210\u529f",2e3),n.InitContentPic(),n.InitChoose(n.isdoggy),n.InitNew(),n.isRolling=!1,n.openRewardPanel("bee",l.default.instance.storageData.doggyData.beeSkin+1)},.2))},.2*o)},f=this;for(r=0;r<15;r++)u(r)}else d.default.instance.showToast("\u871c\u8702\u76ae\u80a4\u5df2\u6ee1",2e3),this.isRolling=!1}},e.prototype.closeAllUse=function(t,e){if(e)for(var o=0;o<this.content1.children[t-1].childrenCount;o++)this.content1.children[t-1].children[o].getChildByName("select").active=!1;else for(o=0;o<this.content2.children[0].childrenCount;o++)this.content2.children[0].children[o].getChildByName("select").active=!1},e.prototype.openRewardPanel=function(t,e){var o=this;a.default.doggyBundle.load("Res/Prefabs/rewardNode",cc.Prefab,function(n,i){if(n)console.warn("rewardNode\u751f\u6210\u9519\u8bef",n);else{var r=cc.instantiate(i);r.parent=o.node,r.getComponent(g.default).bornReward(t,e)}})},r([y(cc.Node)],e.prototype,"content1",void 0),r([y(cc.Node)],e.prototype,"content2",void 0),r([y(cc.Node)],e.prototype,"pageView1",void 0),r([y(cc.Node)],e.prototype,"pageView2",void 0),r([y(cc.Node)],e.prototype,"backBtn",void 0),r([y(cc.Node)],e.prototype,"doggyBtn",void 0),r([y(cc.Node)],e.prototype,"beeBtn",void 0),r([y(cc.Node)],e.prototype,"unlockBtn",void 0),r([y(cc.Material)],e.prototype,"normalMat",void 0),r([y(cc.Material)],e.prototype,"grayMat",void 0),r([f],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/SoundMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"../../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../../../Bundle2_Res/Scripts/ResPanelOpen":void 0,"./Doggy_RewardNode":"Doggy_RewardNode"}],Doggy_SpiderCrl:[function(t,e,o){"use strict";cc._RF.push(e,"c2466wmNiRLGrhDmMY9AS9V","Doggy_SpiderCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isGet=!1,e}return i(e,t),e.prototype.start=function(){this.startPos=this.node.position.clone(),this.endPos=this.node.position.clone().add(new cc.Vec3(0,-300,0))},e.prototype.begin=function(){var t=this;this.tween=cc.tween(this.node).to(1,{position:this.endPos}).call(function(){t.back()}).start()},e.prototype.onBeginContact=function(t,e,o){if((-1!=o.node.name.indexOf("player")||-1!=o.node.name.indexOf("Line"))&&!this.isGet){if(-1!=o.node.name.indexOf("Line")){for(var n=t.getManifold().localPoint,i=o.node.getComponent("MyPhysicsCollider").points,r=n.sub(i[0]).mag(),c=0,a=1;a<i.length;a++)n.sub(i[a]).mag()<r&&(r=n.sub(i[a]).mag(),c=a);this.getComponent(cc.RopeJoint).connectedAnchor=i[c]}this.isGet=!0,this.getComponent(cc.RopeJoint).connectedBody=o.node.getComponent(cc.RigidBody),this.getComponent(cc.RopeJoint).maxLength=0,this.getComponent(cc.RopeJoint).apply(),this.tween&&this.tween.stop(),this.back()}},e.prototype.back=function(){cc.tween(this.node).to(1,{position:this.startPos}).start()},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_SpringCrl:[function(t,e,o){"use strict";cc._RF.push(e,"b83a7cp7pdM04HUkWuFczaR","Doggy_SpringCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onBeginContact=function(){var t=this.node.getComponent(cc.Animation);t&&t.play()},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_Utility:[function(t,e,o){"use strict";cc._RF.push(e,"806efbp/rRLmoMCZJjz0q3H","Doggy_Utility"),Object.defineProperty(o,"__esModule",{value:!0}),o.Doggy_Utility=void 0;var n=t("../../../Bundle1_Loading/Scripts/Platform/Platform"),i=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),r=function(){function t(){}return t.getFirstNotZeroFromArr=function(t){for(var e=t[0],o=0;o<t.length;o++)if(0!=t[o]){e=t[o];break}return e},t.getFirstNotZeroNumFromArr=function(t){for(var e=0;e<t.length;e++)if(0!=t[e])return t[e]},t.getChangeFromArr=function(t,e){for(var o=0,n=t.length-1;n>=0;n--)if(t[n]!=e[n]){o=n;break}return o},t.getChangeFromFrontArr=function(t,e){for(var o=-1,n=0;n<t.length;n++)if(t[n]!=e[n]){o=n;break}return o},t.getDifferCountFromArr=function(t,e){for(var o=0,n=0;n<t.length;n++)t[n]!=e[n]&&o++;return o},t.isEqualArr=function(t,e){for(var o=!0,n=0;n<e.length;n++)t[n]!=e[n]&&(o=!1);return o},t.isAllZeroInArr=function(t){for(var e=!0,o=0;o<t.length;o++)if(0!=t[o]){e=!1;break}return e},t.isNotZeroInArr=function(t){var e=!0,o=t[0];0==o&&(e=!1);for(var n=0;n<t.length;n++)o!=t[n]&&(e=!1);return e},t.loadSpByUrl=function(t,e,o){cc.loader.load({url:t},function(t,n){e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n),o&&(e.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM,e.setContentSize(o))})},t.getItemEffect=function(t,e,o,n,r){for(var c=function(){var e=cc.instantiate(t);r.addChild(e),e.setPosition(o);var c=.3+.1*Math.random()-.05,a=new cc.Vec3(o.x+i.Tool.randomNumber(-125,125),o.y+i.Tool.randomNumber(-125,125),0);cc.tween(e).to(c,{position:a}).delay(.05).to(.4,{position:n}).call(function(){e.destroy()}).start()},a=0;a<e;a++)c()},t.getRandom=function(t,e){var o=e-t,n=Math.random()*o;return n+=t,Math.floor(n)},t.getDiamond=function(){return Number(localStorage.getItem("diamond"))},t.setDiamond=function(t){localStorage.setItem("diamond",t.toString())},t.getRandom2=function(t,e){var o=e-t;return Math.random()*o+t},t.getRandomWithDot=function(t,e,o){var n=e-t,i=Math.random()*n;return Number((i+=t).toFixed(o))},t.A2BPosition=function(t,e){var o=e.convertToWorldSpaceAR(cc.v2(0,0)),n=t.parent.convertToNodeSpaceAR(o);t.setPosition(n)},t.OpenAlert=function(t,e,o){void 0===e&&(e=2e3),void 0===o&&(o=!1),n.default.instance.showToast(t,e,o)},t.judgeColor=function(t,e){var o="equal";if(4!=t&&4!=e)switch(Math.abs(t-e)){case 0:o="equal";break;case 1:o=t<e?"left":"right";break;case 2:o=t<e?"right":"left"}if(4==t||4==e)switch(Math.abs(t-e)){case 0:return"equal";default:o=t<e?"right":"left"}return o},t.changeColorByNum=function(t){var e=cc.Color.WHITE;switch(t){case 1:e=cc.Color.RED;break;case 2:e=cc.Color.GREEN;break;case 3:e=cc.Color.BLUE;break;case 4:e=(new cc.Color).fromHEX("#CC00FF")}return e},t.getDistance=function(t,e){var o=t.position,n=e.position,i=o.sub(n);return Math.abs(i.mag())},t.getDistanceByVec=function(t,e){var o=t.sub(e);return Math.abs(o.mag())},t.screenVibrate=function(){var t=cc.find("Canvas/PlayerCam");t.stopAllActions(),cc.tween(t).by(.1,{y:15}).by(.1,{y:-30}).by(.1,{y:30}).by(.1,{y:-15}).start(),cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.vibrateLong()},t}();o.Doggy_Utility=r,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0}],Doggy_WaterUpCrl:[function(t,e,o){"use strict";cc._RF.push(e,"fde8cIBCMVLE69eYsoi4u05","Doggy_WaterUpCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionStay=function(t){t.node.getComponent(cc.RigidBody).type==cc.RigidBodyType.Dynamic&&(-90==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(200,0):0==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,100):90==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(-200,0):180==this.node.parent.angle&&(t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-200)))},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_WindCrl:[function(t,e,o){"use strict";cc._RF.push(e,"5c0317Sb5lGv5BXhhjOYSmc","Doggy_WindCrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onCollisionStay=function(t){-1!=t.node.name.indexOf("player")&&t.node.getComponent(cc.RigidBody).type==cc.RigidBodyType.Dynamic&&(-90==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(200,0):0==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,200):90==this.node.parent.angle?t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(-200,0):180==this.node.parent.angle&&(t.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-200)))},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Doggy_frameAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"1ec69ztli1FaJlhoHW8Y3Zp","Doggy_frameAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playSpeed=.1,e.spriteFrames=[],e.idle=null,e.playOnLoad=!1,e.sprite=null,e.isPlay=!1,e.nextIndex=0,e.setFirstIndex=0,e.lastIndex=-1,e.timeSum=0,e.backFunc=null,e.isLoop=!1,e.isInvertedPlay=!1,e.isFirstFrameInEnd=!0,e}return i(e,t),e.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite)},e.prototype.start=function(){this.playOnLoad&&this.play(!0)},e.prototype.play=function(t,e,o,n,i,r){void 0===e&&(e=-1),void 0===o&&(o=0),void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===r&&(r=null),this.isPlay||(this.isLoop=t,this.backFunc=r,this.isFirstFrameInEnd=n,-1!=e&&(this.lastIndex=e),this.setFirstIndex=o,this.nextIndex=o,this.timeSum=0,this.isInvertedPlay=i,this.isInvertedPlay&&this.spriteFrames.reverse(),this.setSpriteFrame(this.spriteFrames[this.nextIndex++]),this.isPlay=!0)},e.prototype.stop=function(){this.isPlay=!1,null===this.idle?this.sprite.spriteFrame=this.spriteFrames[0]:this.sprite.spriteFrame=this.idle},e.prototype.pause=function(){this.isPlay=!1},e.prototype.continue=function(){this.isPlay=!0},e.prototype.setIdle=function(t){this.idle=t},e.prototype.setSpriteFrame=function(t){this.sprite.spriteFrame=t},e.prototype.setFrameArray=function(t){this.spriteFrames=[];for(var e=0;e<t.length;e++)this.spriteFrames.push(t[e])},e.prototype.getSpriteFrame=function(){return this.sprite.spriteFrame},e.prototype.getDuration=function(){return this.playSpeed*this.spriteFrames.length},e.prototype.update=function(t){if(this.isPlay&&(this.timeSum+=t,this.timeSum>=this.playSpeed&&(this.nextIndex+1>this.lastIndex&&-1!=this.lastIndex?this.nextIndex=this.spriteFrames.length:(this.sprite.spriteFrame=this.spriteFrames[this.nextIndex++],this.timeSum=0),this.nextIndex>=this.spriteFrames.length))){if(!this.isLoop)return this.isPlay=!1,this.idle?this.sprite.spriteFrame=this.idle:this.isFirstFrameInEnd&&(this.sprite.spriteFrame=this.spriteFrames[0]),this.isInvertedPlay&&(this.spriteFrames.reverse(),this.isInvertedPlay=!1),void(null!==this.backFunc&&this.backFunc());this.nextIndex=this.setFirstIndex}},r([s({displayName:"\u64ad\u653e\u901f\u5ea6",tooltip:"\u591a\u5c11\u79d2\u64ad\u653e\u4e00\u5e27"})],e.prototype,"playSpeed",void 0),r([s({type:[cc.SpriteFrame],tooltip:"\u5e27\u56fe\u7247"})],e.prototype,"spriteFrames",void 0),r([s({type:cc.SpriteFrame,tooltip:"\u52a8\u753b\u64ad\u653e\u5b8c\u540e\u7684\u7981\u6b62\u72b6\u6001\u7684\u56fe\u7247\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u4f1a\u663e\u793a\u7b2c\u4e00\u5e27"})],e.prototype,"idle",void 0),r([s({})],e.prototype,"playOnLoad",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Doggy_pengzhuang:[function(t,e,o){"use strict";cc._RF.push(e,"bc3c1SOoQRE6K8r/HaDf9EQ","Doggy_pengzhuang");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),a=t("../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),s=t("./Doggy_GameLogic"),l=t("./Mod/Doggy_frameAnimation"),d=cc._decorator,p=d.ccclass,h=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isdoggy=!0,e.isWt=!1,e.isBone=!1,e.outOfWater=!1,e.getBone=!1,e.divingframeArr=[],e.getBoneFrameArr=[],e.wtNode=null,e.dogSpframeArr=[],e.isFinishLoad=!1,e.isIdleStaticAni=!1,e.isIdleDynamicAni=!1,e.isWtAni=!1,e.isBoneAni=!1,e.frameAnim=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this,e=this;this.node.getChildByName("bg").active=!1,this.node.getChildByName("bone")||c.default.doggyBundle.load("MapRes/bone",cc.SpriteFrame,function(t,o){if(t)return console.log("bone\u56fe\u52a0\u8f7d\u5931\u8d25"),void console.log(t);var n=new cc.Node("bone");e.node.addChild(n),n.addComponent(cc.Sprite).spriteFrame=o,n.x=-9,n.y=-30,n.angle=-45,n.active=!1});var o=a.default.instance.storageData.doggyData.dogSkin;o+=1,c.default.doggyBundle.loadDir("Res/role/Spine/hero"+o,cc.Asset,function(o,n){if(o)console.log(o,"\u9f99\u9aa8\u52a0\u8f7d\u5931\u8d25");else{var i=new cc.Node;for(var r in e.heroDA=i.addComponent(dragonBones.ArmatureDisplay),n)n[r]instanceof dragonBones.DragonBonesAsset&&(e.heroDA.dragonAsset=n[r]),n[r]instanceof dragonBones.DragonBonesAtlasAsset&&(e.heroDA.dragonAtlasAsset=n[r]);e.heroDA.armatureName="Armature",e.heroDA.playAnimation("idle",0),i.x=0,i.y=0,i.scale=.6,i.parent=t.node,i.setSiblingIndex(0),e.isFinishLoad=!0}})},e.prototype.start=function(){this.isdoggy&&(this.getComponent(cc.PhysicsCircleCollider).radius=60,this.getComponent(cc.PhysicsCircleCollider).apply())},e.prototype.playIdleStatic=function(){this.isFinishLoad&&(this.isIdleStaticAni||(this.isIdleStaticAni=!0,this.heroDA.playAnimation("idle",0)))},e.prototype.playIdleDynamic=function(){this.isFinishLoad&&(this.isIdleDynamicAni||(this.isIdleDynamicAni=!0,this.isWtAni=!1,this.heroDA.playAnimation("idle",0)))},e.prototype.playWt=function(){this.isFinishLoad&&(this.isWtAni||(this.isWtAni=!0,this.isIdleDynamicAni=!1,this.heroDA.playAnimation("water",0)))},e.prototype.playBone=function(){this.isFinishLoad&&(this.isBoneAni||(this.node.getChildByName("bone")&&(this.node.getChildByName("bone").active=!0),this.isBoneAni=!0,this.heroDA.playAnimation("idle",0)))},e.prototype.playFear=function(){this.isFinishLoad&&this.heroDA.playAnimation("fear",0)},e.prototype.playWin=function(){this.isFinishLoad&&this.heroDA.playAnimation("win",0)},e.prototype.playDie=function(t){if(void 0===t&&(t=!1),t)this.heroDA.playAnimation("hit",0);else{var e=this;c.default.doggyBundle.load("Res/Prefabs/smoke",cc.Prefab,function(t,o){if(!t&&e){var n=cc.instantiate(o);n.setPosition(e.node.getPosition()),e.node.parent.parent.addChild(n),e.scheduleOnce(function(){n.active=!1},1)}else console.warn("\u70df\u96fe\u751f\u6210\u5931\u8d25",t)}),this.node.opacity=0,this.node.getComponent(cc.PhysicsCollider).enabled=!1}var o=this.findLevel();o&&(o.getComponent(s.default).unschedule(o.getComponent(s.default).countingDown),o.getComponent(s.default).fail())},e.prototype.onBeginContact=function(t,e,o){if(-1!=o.node.name.indexOf("bee")||-1!=o.node.name.indexOf("magma")||-1!=o.node.name.indexOf("water")||-1!=o.node.name.indexOf("spike")||-1!=o.node.name.indexOf("danger")||-1!=o.node.name.indexOf("thornball")||-1!=o.node.name.indexOf("hedgehog")){var n=!1;-1==o.node.name.indexOf("bee")&&-1==o.node.name.indexOf("spider")||(n=!0),this.playDie(n),console.log("\u6b7b\u4ea1\u5bfc\u81f4\u78b0\u649e",o.node.name)}-1==o.node.name.indexOf("bone")||this.isBone||(o.node.active=!1,this.isBone=!0,this.getBone=!0)},e.prototype.findLevel=function(){for(var t=cc.find("Canvas"),e=0;e<t.childrenCount;e++)if(-1!=t.children[e].name.indexOf("level"))return t.children[e]},e.prototype.onEndContact=function(){},e.prototype.onPreSolve=function(){},e.prototype.onPostSolve=function(){},e.prototype.update=function(){if(this.isWt){var t=this.wtNode.convertToWorldSpaceAR(cc.v2(0,0));(t=this.node.parent.convertToNodeSpaceAR(t)).y+this.wtNode.height/2-10>this.node.y?(this.getComponent(cc.RigidBody).gravityScale=0,this.playWt(),this.outOfWater=!1):(this.getComponent(cc.RigidBody).gravityScale=1,this.playIdleDynamic(),this.outOfWater=!0)}else this.isBone?this.getBone?this.playBone():this.playIdleDynamic():(!this.isIdleStaticAni&&(this.getComponent(cc.RigidBody).type,cc.RigidBodyType.Static),!this.isIdleDynamicAni&&(this.getComponent(cc.RigidBody).type,cc.RigidBodyType.Dynamic))},r([h()],e.prototype,"isdoggy",void 0),r([h()],e.prototype,"isWt",void 0),r([h()],e.prototype,"isBone",void 0),r([h(cc.SpriteFrame)],e.prototype,"divingframeArr",void 0),r([h(cc.SpriteFrame)],e.prototype,"getBoneFrameArr",void 0),r([h(cc.Node)],e.prototype,"wtNode",void 0),r([h({type:l.default})],e.prototype,"frameAnim",void 0),r([p],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"./Doggy_GameLogic":"Doggy_GameLogic","./Mod/Doggy_frameAnimation":"Doggy_frameAnimation"}],MyPhysicsCollider:[function(t,e){"use strict";cc._RF.push(e,"aa461EO23ZHBINXt9rwLHgy","MyPhysicsCollider"),cc.PhysicsManager.PTM_RATIO;var o=cc.Class({extends:cc.PhysicsCollider,mixins:[cc.Collider.Polygon],properties:{lineWidth:15},editor:{menu:!1,requireComponent:cc.RigidBody},_createShape:function(){for(var t=[],e=this.points,o=(this.offset,0);o<e.length-1;o++){var n=e[o],i=e[o+1],r=n.sub(i).mag(),c=Math.atan2(i.y-n.y,i.x-n.x)-Math.PI/2,a=n.add(i).mul(.5),s=new b2.PolygonShape;s&&(s.SetAsBox(this.lineWidth/2/32,r/2/32,new b2.Vec2(a.x/32,a.y/32),c),t.push(s))}return t}});e.exports=o,cc._RF.pop()},{}]},{},["Doggy_BeeBullet","Doggy_BeeCrl","Doggy_BeeFactory","Doggy_BeeFighterCrl","Doggy_BeetleCrl","Doggy_BoomCrl","Doggy_BulletCrl","Doggy_ColliderFollow","Doggy_CrocodileCrl","Doggy_Follow","Doggy_FountainCrl","Doggy_GameLogic","Doggy_GlassCrl","Doggy_HoleCrl","Doggy_LaserCrl","Doggy_LineLogic","Doggy_MechworksCrl","Doggy_RotationAuto","Doggy_SpiderCrl","Doggy_SpringCrl","Doggy_WaterUpCrl","Doggy_WindCrl","Doggy_pengzhuang","Doggy_MyButton","Doggy_ScaleAuto","Doggy_ShakeAuto","Doggy_Utility","Doggy_frameAnimation","MyPhysicsCollider","Doggy_GameUI","Doggy_RewardNode","Doggy_SkinBtn","Doggy_SkinNode"]);