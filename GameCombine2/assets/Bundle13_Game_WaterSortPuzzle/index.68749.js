window.__require=function e(t,i,o){function r(n,c){if(!i[n]){if(!t[n]){var s=n.split("/");if(s=s[s.length-1],!t[s]){var p="function"==typeof __require&&__require;if(!c&&p)return p(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+n+"'")}n=s}var l=i[n]={exports:{}};t[n][0].call(l.exports,function(e){return r(t[n][1][e]||e)},l,l.exports,e,t,i,o)}return i[n].exports}for(var a="function"==typeof __require&&__require,n=0;n<o.length;n++)r(o[n]);return r}({Utility_waterSortPuzzle:[function(e,t,i){"use strict";cc._RF.push(t,"70f10dSYL5CU6Nd22lWrvqR","Utility_waterSortPuzzle");var o=this&&this.__decorate||function(e,t,i,o){var r,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,n=(r.property,function(){function e(){}return e.getFirstNotZeroFromArr=function(e){for(var t=e[0],i=0;i<e.length;i++)if(0!=e[i]){t=e[i];break}return t},e.getFirstNotZeroNumFromArr=function(e){for(var t=0;t<e.length;t++)if(0!=e[t])return e[t]},e.getChangeFromArr=function(e,t){for(var i=0,o=e.length-1;o>=0;o--)if(e[o]!=t[o]){i=o;break}return i},e.getChangeFromFrontArr=function(e,t){for(var i=-1,o=0;o<e.length;o++)if(e[o]!=t[o]){i=o;break}return i},e.getDifferCountFromArr=function(e,t){for(var i=0,o=0;o<e.length;o++)e[o]!=t[o]&&i++;return i},e.isEqualArr=function(e,t){for(var i=!0,o=0;o<t.length;o++)e[o]!=t[o]&&(i=!1);return i},e.isAllZeroInArr=function(e){for(var t=!0,i=0;i<e.length;i++)if(0!=e[i]){t=!1;break}return t},e.isNotZeroInArr=function(e){var t=!0,i=e[0];0==i&&(t=!1);for(var o=0;o<e.length;o++)i!=e[o]&&(t=!1);return t},e.loadSpFrame=function(e,t){e="WaterSortPuzzleRes/"+e,this.resBundle.load(e,cc.SpriteFrame,function(i,o){i?console.error("\u6c34\u5408\u6210\u52a0\u8f7d\u56fe\u72471\u65b9\u6cd5\u5931\u8d25",e,i):t.getComponent(cc.Sprite).spriteFrame=o})},e.loadSpFrame2=function(e,t){e="WaterSortPuzzleRes/"+e,this.resBundle.load(e,cc.SpriteFrame,function(i,o){i?console.error("\u6c34\u5408\u6210\u52a0\u8f7d\u56fe\u72471\u65b9\u6cd5\u5931\u8d25",e,i):t.getComponent(cc.Mask).spriteFrame=o})},e.load_json=function(e){var t="json/"+e;return new Promise(function(e,i){t="WaterSortPuzzleRes/"+t,cc.loader.loadRes(t,function(t,o){t?i(t):e(o)})})},e.getRandom=function(e,t){var i=t-e,o=Math.random()*i;return o+=e,Math.floor(o)},e.getRandomWithDot=function(e,t,i){var o=t-e,r=Math.random()*o;return Number((r+=e).toFixed(i))},e.changeArr=function(e){for(var t=new Array,i=0;i<e.length;i++){var o=new Array;o=e[i].concat(),t.push(o)}for(i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)switch(t[i][r]){case"n":t[i][r]=0;break;case"o":t[i][r]=1;break;case"p":t[i][r]=2;break;case"r":t[i][r]=3;break;case"y":t[i][r]=4;break;case"b":t[i][r]=5;break;case"g":t[i][r]=6;break;case"v":t[i][r]=7;break;case"d":t[i][r]=8;break;case"h":t[i][r]=9;break;case"a":t[i][r]=10;break;case"z":t[i][r]=11;break;case"c":t[i][r]=12}for(i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)if(0!=t[i][r]){var a=t[i][r];a-=1,a+=this.changeArrRandomNum,a%=12,a+=1,t[i][r]=a}return t},e.changeArr2=function(e){var t=new Array;t=e.concat();for(var i=0;i<t.length;i++)switch(t[i]){case 0:t[i]="n";break;case 1:t[i]="0";break;case 2:t[i]="p";break;case 3:t[i]="r";break;case 4:t[i]="y";break;case 5:t[i]="b";break;case 6:t[i]="g";break;case 7:t[i]="v"}return t},e.A2BPosition=function(e,t){var i=t.convertToWorldSpaceAR(cc.v2(0,0)),o=e.parent.convertToNodeSpaceAR(i);e.setPosition(o)},e.OpenAlert=function(e,t,i){void 0===t&&(t=2e3),void 0===i&&(i=!1),cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx.showToast({title:e,duration:t,mask:!1,icon:i?"success":"none"})},e.resBundle=null,e.changeArrRandomNum=0,o([a],e)}());i.default=n,cc._RF.pop()},{}],WaterSortPuzzle_BottomComp:[function(e,t,i){"use strict";cc._RF.push(t,"49351Krd8JPSojdf9YWZ7KX","WaterSortPuzzle_BottomComp");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,o){var r,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),c=cc._decorator,s=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){if(n.default.instance.storageData.waterSortPuzzleData.maxLevel<=3)return this.node.active=!1,void console.log("\u65b0\u624b\u6559\u7a0b\u5173\u95ed")},a([s],t)}(cc.Component));i.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0}],WaterSortPuzzle_LevelLabel:[function(e,t,i){"use strict";cc._RF.push(t,"ae5f7uKSM1DGpSixv1XWLGm","WaterSortPuzzle_LevelLabel");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,o){var r,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),c=e("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),s=cc._decorator,p=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){c.EventMgr.on(n.EventType.Game_WaterSortPuzzle_LevelLabel_UpdateLevel,this.updateLevel,this)},t.prototype.updateLevel=function(e){this.node.getComponent(cc.Label).string="\u7b2c"+e.toString()+"\u5173"},a([p],t)}(cc.Component));i.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0}],WaterSortPuzzle_SkinNode:[function(e,t,i){"use strict";cc._RF.push(t,"926c6+zxE1GRr1tdx7xEXVl","WaterSortPuzzle_SkinNode");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,o){var r,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),c=e("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),s=e("../../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),p=e("../../../Bundle1_Loading/Scripts/Platform/Platform"),l=e("../../../Bundle1_Loading/Scripts/Tool/Tool"),h=e("../../../Bundle2_Res/Scripts/ResPanelOpen"),d=e("../Mod/Utility_waterSortPuzzle"),u=cc._decorator,f=u.ccclass,g=u.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.grayMat=null,t.normalMat=null,t.bar=null,t.reward=null,t.scrollView=null,t.skinFinishIndex=[1,1,1,2,3,4,5,6,-1,7,8,-1,-1,-1,-1,9,10,-1,11,12],t.skinIconScale=[.23,.23,.23,.2,.2,.2,.23,.23,.21,.22,.23,.23,.2,.23,.22,.22,.23,.23,.22,.23],t}return r(t,e),t.prototype.onLoad=function(){var e=this.node.getChildByName("panel"),t=e.getChildByName("closeBtn"),i=e.getChildByName("videoBtn"),o=this.reward.getChildByName("getBtn");l.Tool.d2_AddClickEvent(t,this.close,this),l.Tool.d2_AddClickEvent(i,this.videoUnlock,this),l.Tool.d2_AddClickEvent(o,this.closeReward,this)},t.prototype.onEnable=function(){this.reward.active=!1;var e=this.node.getChildByName("panel");h.default.panelOpen(e),this.updatePanel(),this.updateBar(0)},t.prototype.close=function(){var e=this,t=this.node.getChildByName("panel");h.default.panelClose(t,function(){e.node.active=!1,c.EventMgr.event(n.EventType.Game_WaterSortPuzzleSkin_Update)})},t.prototype.updatePanel=function(){for(var e=s.default.instance.storageData.waterSortPuzzleData.waterSkinLockData,t=s.default.instance.storageData.waterSortPuzzleData.waterSkinChooseIndex,i=0;i<20;i++){var o=void 0,r=!1;i<this.content.children.length?(o=this.content.children[i],r=!0):(o=cc.instantiate(this.content.children[0]),this.content.addChild(o));var a=o.getChildByName("icon");r||this.iconDeal(a,i);for(var n=0;n<a.children.length;n++){var c=a.children[n];e[i]?c.getComponent(cc.Sprite).setMaterial(0,this.normalMat):c.getComponent(cc.Sprite).setMaterial(0,this.grayMat)}o.getChildByName("choose").active=i==t,l.Tool.d2_AddClickEvent(o,this.clickItem,this,[i])}},t.prototype.iconDeal=function(e,t){var i=e.getChildByName("liquid"),o=e.getChildByName("top"),r=e.getChildByName("cup"),a="skinPics/cup"+(t+1>=10?t+1:"0"+(t+1)),n="skinPics/liquid"+(t+1>=10?t+1:"0"+(t+1));if(d.default.loadSpFrame(a,r),d.default.loadSpFrame(n,i),-1!=this.skinFinishIndex[t]){var c="skinPics/ornament"+(this.skinFinishIndex[t]>=10?this.skinFinishIndex[t]:"0"+this.skinFinishIndex[t]);d.default.loadSpFrame(c,o),-1!=[5,6,7,8,9,10,12].indexOf(this.skinFinishIndex[t])&&o.setSiblingIndex(2)}else o.active=!1;e.setScale(this.skinIconScale[t],this.skinIconScale[t])},t.prototype.clickItem=function(e){var t=e[0];s.default.instance.storageData.waterSortPuzzleData.waterSkinLockData[t]?(s.default.instance.storageData.waterSortPuzzleData.waterSkinChooseIndex=t,s.default.instance.writeStorage("waterSortPuzzleData",s.default.instance.storageData.waterSortPuzzleData),this.updatePanel()):p.default.instance.showToast("\u672a\u89e3\u9501\u8be5\u76ae\u80a4")},t.prototype.videoUnlock=function(){for(var e=this,t=[],i=s.default.instance.storageData.waterSortPuzzleData.waterSkinLockData,o=0;o<i.length;o++)i[o]||t.push(o);t.length>0?p.default.instance.showVideo(function(){var i=l.Tool.getRandomInArray(t);s.default.instance.storageData.waterSortPuzzleData.waterSkinLockData[i]=!0,s.default.instance.storageData.waterSortPuzzleData.waterSkinChooseIndex=i,s.default.instance.writeStorage("waterSortPuzzleData",s.default.instance.storageData.waterSortPuzzleData),e.openReward(i),e.updatePanel()},function(){}):p.default.instance.showToast("\u5df2\u5168\u90e8\u89e3\u9501")},t.prototype.openReward=function(e){this.reward.active=!0;var t=this.reward.getChildByName("Anim").getChildByName("icon");this.iconDeal(t,e);var i=e/20;this.scrollView.scrollToPercentHorizontal(i,.5)},t.prototype.closeReward=function(){this.reward.active=!1},t.prototype.updateBar_View=function(e){this.updateBar(Math.abs(e.getScrollOffset().x/e.getMaxScrollOffset().x))},t.prototype.updateBar=function(e){var t=Math.round(3*e);t>2&&(t=2);for(var i=0;i<this.bar.children.length;i++)this.bar.children[i].opacity=t==i?150:50},a([g(cc.Node)],t.prototype,"content",void 0),a([g(cc.Material)],t.prototype,"grayMat",void 0),a([g(cc.Material)],t.prototype,"normalMat",void 0),a([g(cc.Node)],t.prototype,"bar",void 0),a([g(cc.Node)],t.prototype,"reward",void 0),a([g(cc.ScrollView)],t.prototype,"scrollView",void 0),a([f],t)}(cc.Component);i.default=y,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"../../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../../../Bundle2_Res/Scripts/ResPanelOpen":void 0,"../Mod/Utility_waterSortPuzzle":"Utility_waterSortPuzzle"}],WaterSortPuzzle_SkinOpenBtn:[function(e,t,i){"use strict";cc._RF.push(t,"67f0859tVdL5J6m6tDVyYu6","WaterSortPuzzle_SkinOpenBtn");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,o){var r,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../../Bundle1_Loading/Scripts/Tool/Tool"),c=cc._decorator,s=c.ccclass,p=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skinNode=null,t}return r(t,e),t.prototype.start=function(){n.Tool.d2_AddClickEvent(this.node,this.openSkin,this)},t.prototype.openSkin=function(){this.skinNode.active=!0},a([p(cc.Node)],t.prototype,"skinNode",void 0),a([s],t)}(cc.Component);i.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0}],blLoop:[function(e,t,i){"use strict";cc._RF.push(t,"e68d4R6YfhFApE7P5A7dz79","blLoop");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,o){var r,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,s=n.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bl=null,t.position=null,t.colorNode=null,t}return r(t,e),t.prototype.start=function(){this.bl.children[0].color=this.node.color},a([s(cc.Node)],t.prototype,"bl",void 0),a([s(cc.Node)],t.prototype,"position",void 0),a([s(cc.Node)],t.prototype,"colorNode",void 0),a([c],t)}(cc.Component);i.default=p,cc._RF.pop()},{}],game:[function(e,t,i){"use strict";cc._RF.push(t,"976e778zAVIMoU5oYq5hn1a","game");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,o){var r,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../Bundle1_Loading/Scripts/Config/EnumTypes"),c=e("../../Bundle1_Loading/Scripts/Mgr/AssetMgr"),s=e("../../Bundle1_Loading/Scripts/Mgr/EventMgr"),p=e("../../Bundle1_Loading/Scripts/Mgr/SoundMgr"),l=e("../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),h=e("../../Bundle1_Loading/Scripts/Platform/Platform"),d=e("../../Bundle2_Res/Scripts/ResPanelOpen"),u=e("./Mod/Utility_waterSortPuzzle"),f=e("./pipe_waterSortPuzzle"),g=cc._decorator,y=g.ccclass,v=g.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chooseLevel=1,t.jsonAsset=null,t.bgNode=null,t.pipePrefab=null,t.slxxPrefab=null,t.jcNode=null,t.cdUpPipe=null,t.pipe=[],t.level=1,t.pipeCell=4,t.pipeCount=2,t.indexArr=[[0,0]],t.totalDF=0,t.number=0,t.randomNb=0,t.rate=2,t.isEndNumber=0,t.a=new Array,t.skinColorOffset1=[0,0,0,-30,-30,-25,0,0,-35,0,0,0,-30,0,0,-5,0,0,0,0],t.skinColorOffset2=[0,0,0,40,40,30,0,0,45,10,0,0,35,0,0,0,0,0,7,0],t.skinFinishIndex=[1,1,1,2,3,4,5,6,-1,7,8,-1,-1,-1,-1,9,10,-1,11,12],t.maxLevel=100,t}var i;return r(t,e),i=t,t.prototype.onLoad=function(){u.default.resBundle=c.default.waterSortPuzzleBundle;for(var e=JSON.parse(JSON.stringify(this.jsonAsset.json)),t=0;t<e.length;t++){var i=e[t];if(l.default.instance.storageData.waterSortPuzzleData.maxLevel%(this.maxLevel+1)==i.levelId){this.Data_pipeCount=i.pipeCount,this.Data_pipeArr=i.pipeDetail,this.Data_pipeCell=i.pipeCell,this.Data_pipeId=1,this.Data_addPipe=0;break}}this.Data_pipeId=l.default.instance.storageData.waterSortPuzzleData.waterSkinChooseIndex+1,s.EventMgr.on(n.EventType.Game_NextLevel_Event,this.nextLevel,this),s.EventMgr.on(n.EventType.Game_PassLevel_Event,this.skipLevel,this),s.EventMgr.on(n.EventType.Game_ShowTips_Event,this.addEmptyPipe,this),s.EventMgr.on(n.EventType.Game_Retry_Event,this.resetBtnClick,this),s.EventMgr.on(n.EventType.Game_PowerLess_Event,this.openPowerLessUI,this),s.EventMgr.on(n.EventType.Game_WaterSortPuzzleSkin_Update,this.changeSkin,this)},t.prototype.changeSkin=function(){c.default.goWaterSortPuzzleGame()},t.prototype.openPowerLessUI=function(){d.default.show_Game_PowerLess_Panel(cc.find("Canvas"))},t.prototype.start=function(){if(this.jcNode.active=!1,this.Data_addPipe=0,i.lastLevel!=l.default.instance.storageData.waterSortPuzzleData.maxLevel&&(i.lastLevel=l.default.instance.storageData.waterSortPuzzleData.maxLevel,l.default.instance.usePower()),this.level=l.default.instance.storageData.waterSortPuzzleData.maxLevel,s.EventMgr.event(n.EventType.Game_WaterSortPuzzle_LevelLabel_UpdateLevel,this.level),this.a=u.default.changeArr(this.Data_pipeArr),this.level>100){this.randomNb=(this.level-15)%85+15,u.default.changeArrRandomNum=this.level-100;for(var e=0;e<this.jsonAsset.json.length;e++){var t=this.jsonAsset.json[e];this.randomNb==t.levelId&&(this.Data_pipeCount=t.pipeCount,this.Data_pipeArr=t.pipeDetail,this.a=u.default.changeArr(this.Data_pipeArr),this.initPipe(t.pipeCount,u.default.changeArr(t.pipeDetail)),this.mixPipe(t.pipeCount),this.pipeCount=this.Data_pipeCount)}}else{var o=this.Data_pipeCount;this.initPipe(o,this.a),this.mixPipe(o)}},t.prototype.destroyPipe=function(e){for(var t=0;t<e;t++)this.pipe[t].destroy()},t.prototype.mixPipe=function(e){for(var t=-1,i=-45,o=-45,r=function(r){a.pipe[r].off(cc.Node.EventType.TOUCH_END),a.pipe[r].on(cc.Node.EventType.TOUCH_END,function(){var a=this;if(!u.default.isNotZeroInArr(this.pipe[r].getComponent(f.default).array))if(-1==t)p.default.instance.PlaySound(n.SoundType.Button),2==e&&0==r&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,t=r,this.pipe[r].zIndex=1,this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[1].x-this.pipe[1].width/2+10,this.pipe[1].y-this.pipe[1].height+50))),3==e&&1==r&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,t=r,this.pipe[r].zIndex=1,this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[2].x-this.pipe[2].width/2+10,this.pipe[2].y-this.pipe[2].height+50))),4==e&&1==r&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,t=r,this.pipe[r].zIndex=1,this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[0].x-this.pipe[0].width/2+10,this.pipe[0].y-this.pipe[0].height+50))),e>4&&(u.default.isAllZeroInArr(this.pipe[r].getComponent(f.default).array)||(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,t=r,this.pipe[r].zIndex=1));else if(p.default.instance.PlaySound(n.SoundType.Button),0!=this.pipe[t].getComponent(f.default).isPickUp||u.default.isNotZeroInArr(this.pipe[r].getComponent(f.default).array)||u.default.isAllZeroInArr(this.pipe[r].getComponent(f.default).array)){if(1==this.pipe[t].getComponent(f.default).isPickUp&&t==r){if(2==e||3==e)return;if(4==e&&this.number<2)return;cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,-50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!1,this.pipe[r].zIndex=0,t=r}else if(1==this.pipe[t].getComponent(f.default).isPickUp&&t!=r){this.pipe[t].zIndex=1;var c=this.pipe[t].getPosition(),s=this.pipe[t].getComponent(f.default),g=this.pipe[r].getComponent(f.default),y=this.pipe[t].getChildByName("maskNode").getChildByName("colorNode"),v=this.pipe[r].getChildByName("maskNode").getChildByName("colorNode");y.y=-318+this.skinColorOffset2[this.Data_pipeId-1];var m=this.mergeArr(s.array,g.array);s.array=m[0],g.array=m[1];var _=u.default.getChangeFromArr(m[0],m[2]),C=u.default.getChangeFromArr(m[1],m[3]),N=u.default.getChangeFromFrontArr(m[0],m[2]),P=u.default.getDifferCountFromArr(m[0],m[2]);i=(o=15*-(_+1)+i)+10*P;var b=0,w=0;switch(P){case 1:b=10;break;case 2:b=20;break;case 3:b=30}switch(N){case 0:w=50;break;case 1:w=60;break;case 2:w=70;break;case 3:w=80}if(0==u.default.isEqualArr(m[0],m[2])){this.number++,this.jcNode.active=!1,this.indexArr.push([t,r]);var S=new Array;S=m[0].concat();var k=new Array;k=m[1].concat();var B=new Array;B=m[0].concat();var z=new Array;z=m[1].concat(),this.a[t]=B,this.a[r]=z,s.preArray.push(S),g.preArray.push(k);for(var x=0;x<=C;x++)v.getChildByName("color"+x).height=0;this.initColor(g.array,v);var A=cc.v2(this.pipe[r].x-102+20,this.pipe[r].y+150),O=cc.v2(c.x,c.y-50),D=88+this.skinColorOffset1[this.Data_pipeId-1];-1==this.pipe[t].scaleX&&(this.pipe[t].scaleX=1,this.pipe[t].x+=this.pipe[t].width,this.pipe[t].getChildByName("pipeChangeNode").scaleX=1,this.pipe[t].getChildByName("pipeChangeNode").x+=this.pipe[t].getChildByName("pipeChangeNode").width,i=(o=15*-(_+1)-45)+15*P,c=this.pipe[t].getPosition(),A=cc.v2(this.pipe[r].x-102+D,this.pipe[r].y+150),O=cc.v2(c.x+102,c.y-50)),"outOfLeft"==this.isOutOfFrame(this.pipe[r])[1]?(this.pipe[t].scaleX=-1,this.pipe[t].x-=this.pipe[t].width,this.pipe[t].getChildByName("pipeChangeNode").scaleX=-1,this.pipe[t].getChildByName("pipeChangeNode").x-=this.pipe[t].getChildByName("pipeChangeNode").width,c=this.pipe[t].getPosition(),A=-1==this.pipe[r].scaleX?cc.v2(this.pipe[r].x+this.pipe[r].width-10-D,this.pipe[r].y+150):cc.v2(this.pipe[r].x-10-D,this.pipe[r].y+150),O=cc.v2(c.x,c.y-50),i=(o=15*-(_+1)-45)+15*P,i=Math.abs(i),o=Math.abs(o)):(c=this.pipe[t].getPosition(),A=-1==this.pipe[r].scaleX?cc.v2(this.pipe[r].x+10+D,this.pipe[r].y+150):cc.v2(this.pipe[r].x-this.pipe[r].width+10+D,this.pipe[r].y+150),O=cc.v2(c.x,c.y-50),i=(o=15*-(_+1)-45)+15*P),cc.tween(this.pipe[t]).to(1/this.rate,{position:A,angle:i}).delay(.5/this.rate).to(P/this.rate,{angle:o}).to(1/this.rate,{position:O,angle:0}).start(),this.scheduleOnce(function(){for(var e=function(e){var i=a.pipe[t].getChildByName("maskNode").getChildByName("bl"+(N+e));a.scheduleOnce(function(){i.active=!0},P/a.rate/P*e),a.scheduleOnce(function(){i.active=!1},P/a.rate/P*(e+1))},i=0;i<P;i++)e(i)},1.5/this.rate),this.scheduleOnce(function(){for(var e=function(e){var t=a.pipe[r].getChildByName("maskNode").getChildByName("bl"+(C-e));a.scheduleOnce(function(){var i=m[2],o=u.default.getFirstNotZeroNumFromArr(i);a.changeFlowColor(o,t),t.active=!0,t.children[0].color=a.pipe[r].getChildByName("maskNode").getChildByName("colorNode").getChildByName("color"+(C-e)).color},P/a.rate/P*e),a.scheduleOnce(function(){t.active=!1},P/a.rate/P*(e+1))},t=0;t<P;t++)e(t)},1.5/this.rate),cc.tween(y).by(1/this.rate,{angle:w,scaleY:-.2}).delay(.5/this.rate).by(P/this.rate,{angle:b}).to(1/this.rate,{angle:0,scaleY:1}).start();var j=i,L=o;j!=Math.abs(j)&&(j=-j),L!=Math.abs(L)&&(L=-L),this.pipe[t].getChildByName("flowNode").x=this.skinColorOffset1[this.Data_pipeId-1]/2-15,this.pipe[t].getChildByName("flowNode").y=-60+this.skinColorOffset2[this.Data_pipeId-1],cc.tween(this.pipe[t].getChildByName("flowNode")).to(1/this.rate,{angle:j}).delay(.5/this.rate).to(P/this.rate,{angle:L}).to(1/this.rate,{angle:0}).start(),this.scheduleOnce(function(){p.default.instance.PlaySound(n.SoundType.Fill)},1/this.rate),this.pipe[t].getChildByName("flowNode").height=3!=C?264+50*C-this.skinColorOffset2[this.Data_pipeId-1]:287+50*(C-1)-this.skinColorOffset2[this.Data_pipeId-1],cc.tween(this.pipe[t].getChildByName("flowNode")).delay(1.5/this.rate).to(0,{opacity:255}).delay(P/this.rate).to(0,{opacity:0}).start();var I=m[2],E=u.default.getFirstNotZeroNumFromArr(I);this.changeFlowColor(E,this.pipe[t].getChildByName("flowNode"));var M=0;for(x=0;x<=_;x++)0!=m[2][x]&&(0==M?(cc.tween(y.getChildByName("color"+x)).delay(1.5/this.rate).to(1/this.rate,{height:0}).start(),M++):(cc.tween(y.getChildByName("color"+x)).delay((M+1.5)/this.rate).to(1/this.rate,{height:0}).start(),M++));var F=0,R=function(e){cc.tween(v.getChildByName("color"+e)).delay((F+1.5)/T.rate).to(1/T.rate,{height:50}).start(),F++;var t=m[1];if(T.scheduleOnce(function(){if(u.default.isNotZeroInArr(t)&&50==a.pipe[r].getChildByName("maskNode").getChildByName("colorNode").getChildByName("color0").height){var e=cc.instantiate(a.cdUpPipe);a.node.getChildByName("gameNode").addChild(e);var i=a.pipe[r].y-40;e.scale=.7,1==a.pipe[r].scaleX?e.setPosition(cc.v2(a.pipe[r].x-a.pipe[r].width/2,i)):e.setPosition(cc.v2(a.pipe[r].x+a.pipe[r].width/2,i));var o=a.skinFinishIndex[a.Data_pipeId-1];if(-1!=o){var c=a.pipe[r].getChildByName("finishShow"),s="skinPics/ornament"+(o>=10?o:"0"+o);u.default.loadSpFrame(s,c),-1!=[5,6,7,8,9,10,12].indexOf(o)&&c.setSiblingIndex(3)}p.default.instance.PlaySound(n.SoundType.Done),h.default.instance.vibrateShort()}},(P+1.5)/T.rate),F==P)return"break"},T=this;for(x=C;x>=0&&"break"!==R(x);x--);this.pipe[t].getComponent(f.default).isPickUp=!1,this.pipe[t].zIndex=0,this.scheduleOnce(function(){a.isFinish()&&a.level==l.default.instance.storageData.waterSortPuzzleData.maxLevel%(a.maxLevel-1)&&0==a.isEndNumber&&(console.log("finish"),a.isEndNumber+=1,console.log("showGameFinishExport"),function(){a.schedule(function(){var e=cc.instantiate(a.slxxPrefab);a.node.addChild(e);var t=u.default.getRandom(-375,376),i=u.default.getRandom(-667,668);e.position=cc.v2(t,i)},1),p.default.instance.PlaySound(n.SoundType.Win),a.jcNode.active=!1,l.default.instance.addLevel(n.GameNames.waterSortPuzzle);for(var e=0;e<a.jsonAsset.json.length;e++){var t=a.jsonAsset.json[e];l.default.instance.storageData.waterSortPuzzleData.maxLevel%(a.maxLevel+1)==t.levelId&&(a.Data_pipeCount=t.pipeCount,a.Data_pipeArr=t.pipeDetail,a.Data_pipeCell=t.pipeCell,a.pipeCount,a.Data_pipeCount)}a.scheduleOnce(function(){d.default.show_Result_Success_Panel(cc.find("Canvas"))},(P+1.5)/a.rate+.5)}()),3==e&&(a.jcNode.active=!0,a.jcNode.setPosition(cc.v2(a.pipe[1].x-a.pipe[1].width/2+10,a.pipe[1].y-a.pipe[1].height+50)),2==a.number&&(a.jcNode.active=!1)),4==e&&(1==a.number?(a.jcNode.setPosition(cc.v2(a.pipe[1].x+a.pipe[1].width/2+10,a.pipe[1].y-a.pipe[1].height+50)),a.jcNode.active=!0):2==a.number?(a.jcNode.setPosition(cc.v2(a.pipe[2].x-a.pipe[2].width/2+10,a.pipe[2].y-a.pipe[2].height+50)),a.jcNode.active=!0):3==a.number&&(a.jcNode.active=!1))},(2.5+P)/this.rate)}else 2!=e&&3!=e&&4!=e&&(cc.tween(this.pipe[t]).by(.15,{position:cc.v2(0,-50)}).start(),this.pipe[t].getComponent(f.default).isPickUp=!1,t=-1)}}else 3==e&&1==r&&0==this.number&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,this.pipe[r].zIndex=1,t=r,this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[2].x-this.pipe[2].width/2+10,this.pipe[2].y-this.pipe[2].height+50))),3==e&&1==r&&1==this.number&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,this.pipe[r].zIndex=1,t=r,this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[0].x-this.pipe[0].width/2+10,this.pipe[0].y-this.pipe[0].height+50))),4==e&&1==r&&0==this.number&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,this.pipe[r].zIndex=1,t=r,this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[0].x-this.pipe[0].width/2+10,this.pipe[0].y-this.pipe[0].height+50))),4==e&&1==r&&1==this.number&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,this.pipe[r].zIndex=1,t=r,this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[3].x-this.pipe[3].width/2+10,this.pipe[3].y-this.pipe[3].height+50))),4==e&&2==r&&2==this.number&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,this.pipe[r].zIndex=1,t=r,this.jcNode.active=!1),4==e&&this.number>2&&(cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,this.pipe[r].zIndex=1,t=r,this.jcNode.active=!1),e>4&&(this.jcNode.active=!1,cc.tween(this.pipe[r]).by(.1,{position:cc.v2(0,50)}).start(),this.pipe[r].getComponent(f.default).isPickUp=!0,this.pipe[r].zIndex=1,t=r)},a)},a=this,c=0;c<e;c++)r(c)},t.prototype.nextLevel=function(){c.default.goWaterSortPuzzleGame()},t.prototype.initPipe=function(e,t){this.node.getChildByName("gameNode").getChildByName("jc").active=!1;var i=0,o=0,r=0,a=0,n=0,c=0;switch(e){case 2:i=200,r=200,n=40;break;case 3:i=200,r=200,n=145;break;case 4:i=150,r=200,n=170;break;case 5:i=51,r=350,o=150,a=-50,c=320;break;case 6:i=200,r=350,o=150,a=-50,n=40,c=470;break;case 7:i=150,r=350,o=150,a=-50,n=95,c=620;break;case 8:i=150,r=350,o=150,a=-50,n=170,c=770;break;case 9:i=150,r=350,o=120,a=-50,n=170,c=670;break;case 10:i=120,r=350,o=120,a=-50,n=190,c=790;break;default:if(e>10){var s=e-(P=Math.floor(e/2)),p=(650-88*P)/(P+1),l=(650-88*s)/(s+1);n=-(-325+p+88),c=(P-1)*(l+88)-50+375,i=88+p,o=88+l,r=350,a=-50}}if(e<=4){this.pipeCount=e,this.a=u.default.changeArr(this.Data_pipeArr);for(var h=0;h<e;h++){if(this.pipe[h]=cc.instantiate(this.pipePrefab),this.changePipeSkin(this.Data_pipeId,this.pipe[h]),this.node.getChildByName("gameNode").addChild(this.pipe[h]),this.pipe[h].x=i*h-n,this.pipe[h].y=r,1==h)switch(e){case 2:this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[0].x-this.pipe[0].width/2+10,this.pipe[0].y-this.pipe[0].height+50)),this.jcNode.zIndex=1;break;case 3:case 4:this.jcNode.active=!0,this.jcNode.setPosition(cc.v2(this.pipe[1].x-this.pipe[1].width/2+10,this.pipe[1].y-this.pipe[1].height+50)),this.jcNode.zIndex=1}var d=t[h].concat(),g=new Array;if(g=t[h].concat(),this.pipe[h].getComponent(f.default).array=d,this.pipe[h].getComponent(f.default).preArray=[g],u.default.isNotZeroInArr(t[h].concat())&&-1!=(b=this.skinFinishIndex[this.Data_pipeId-1])){var y=this.pipe[h].getChildByName("finishShow"),v="skinPics/ornament"+(b>=10?b:"0"+b);u.default.loadSpFrame(v,y),-1!=[5,6,7,8,9,10,12].indexOf(b)&&y.setSiblingIndex(3)}var m=this.pipe[h].getChildByName("maskNode").getChildByName("colorNode");this.initColor(d,m)}}if(5==e)for(this.pipeCount=e,this.a=u.default.changeArr(this.Data_pipeArr),this.pipe[0]=cc.instantiate(this.pipePrefab),this.changePipeSkin(this.Data_pipeId,this.pipe[0]),this.node.getChildByName("gameNode").addChild(this.pipe[0]),this.pipe[0].x=i,this.pipe[0].y=r,d=t[0].concat(),g=new Array,g=t[0].concat(),this.pipe[0].getComponent(f.default).array=d,this.pipe[0].getComponent(f.default).preArray=[g],u.default.isNotZeroInArr(t[0].concat())&&-1!=(b=this.skinFinishIndex[this.Data_pipeId-1])&&(y=this.pipe[0].getChildByName("finishShow"),v="skinPics/ornament"+(b>=10?b:"0"+b),u.default.loadSpFrame(v,y),-1!=[5,6,7,8,9,10,12].indexOf(b)&&y.setSiblingIndex(3)),m=this.pipe[0].getChildByName("maskNode").getChildByName("colorNode"),this.initColor(d,m),h=1;h<e;h++){this.pipe[h]=cc.instantiate(this.pipePrefab),this.changePipeSkin(this.Data_pipeId,this.pipe[h]),this.node.getChildByName("gameNode").addChild(this.pipe[h]),this.pipe[h].x=o*h-c,this.pipe[h].y=a;var _=t[h].concat(),C=new Array;C=t[h].concat(),this.pipe[h].getComponent(f.default).array=_,this.pipe[h].getComponent(f.default).preArray=[C],u.default.isNotZeroInArr(t[h].concat())&&-1!=(b=this.skinFinishIndex[this.Data_pipeId-1])&&(y=this.pipe[h].getChildByName("finishShow"),v="skinPics/ornament"+(b>=10?b:"0"+b),u.default.loadSpFrame(v,y),-1!=[5,6,7,8,9,10,12].indexOf(b)&&y.setSiblingIndex(3));var N=this.pipe[h].getChildByName("maskNode").getChildByName("colorNode");this.initColor(_,N)}if(e>5){this.pipeCount=e,this.a=u.default.changeArr(this.Data_pipeArr);var P=e-4;for(9==e&&(P=4),10==e&&(P=5),e>10&&(P=Math.floor(e/2)),h=0;h<P;h++)this.pipe[h]=cc.instantiate(this.pipePrefab),this.changePipeSkin(this.Data_pipeId,this.pipe[h]),this.node.getChildByName("gameNode").addChild(this.pipe[h]),this.pipe[h].x=i*h-n,this.pipe[h].y=r,d=t[h].concat(),g=new Array,g=t[h].concat(),this.pipe[h].getComponent(f.default).array=d,this.pipe[h].getComponent(f.default).preArray=[g],u.default.isNotZeroInArr(t[h].concat())&&-1!=(b=this.skinFinishIndex[this.Data_pipeId-1])&&(y=this.pipe[h].getChildByName("finishShow"),v="skinPics/ornament"+(b>=10?b:"0"+b),u.default.loadSpFrame(v,y),-1!=[5,6,7,8,9,10,12].indexOf(b)&&y.setSiblingIndex(3)),m=this.pipe[h].getChildByName("maskNode").getChildByName("colorNode"),this.initColor(d,m);for(h=P;h<e;h++){var b;this.pipe[h]=cc.instantiate(this.pipePrefab),this.changePipeSkin(this.Data_pipeId,this.pipe[h]),this.node.getChildByName("gameNode").addChild(this.pipe[h]),this.pipe[h].x=o*h-c,this.pipe[h].y=a,d=t[h].concat(),g=new Array,g=t[h].concat(),this.pipe[h].getComponent(f.default).array=d,this.pipe[h].getComponent(f.default).preArray=[g],u.default.isNotZeroInArr(t[h].concat())&&-1!=(b=this.skinFinishIndex[this.Data_pipeId-1])&&(y=this.pipe[h].getChildByName("finishShow"),v="skinPics/ornament"+(b>=10?b:"0"+b),u.default.loadSpFrame(v,y),-1!=[5,6,7,8,9,10,12].indexOf(b)&&y.setSiblingIndex(3)),m=this.pipe[h].getChildByName("maskNode").getChildByName("colorNode"),this.initColor(d,m)}}},t.prototype.changePipeSkin=function(e,t){var i="skinPics/liquid"+(e<10?"0"+e.toString():e.toString());u.default.loadSpFrame2(i,t.getChildByName("maskNode"));var o="skinPics/cup"+(e<10?"0":"")+e.toString();u.default.loadSpFrame(o,t.getChildByName("pipeChangeNode"))},t.prototype.isFinish=function(){for(var e=!0,t=0;t<this.pipe.length;t++)for(var i=this.pipe[t].getComponent(f.default),o=i.array[0],r=0;r<4;r++)if(i.array[r]!=o)return!1;return e},t.prototype.changeFlowColor=function(e,t){switch(e){case 1:t.color=(new cc.Color).fromHEX("#f4b618");break;case 2:t.color=(new cc.Color).fromHEX("#ff7daf");break;case 3:t.color=(new cc.Color).fromHEX("#ef2425");break;case 4:t.color=(new cc.Color).fromHEX("#fff32a");break;case 5:t.color=(new cc.Color).fromHEX("#01b4d3");break;case 6:t.color=(new cc.Color).fromHEX("#3aca3a");break;case 7:t.color=(new cc.Color).fromHEX("#662d9d");break;case 8:t.color=(new cc.Color).fromHEX("#0000cc");break;case 9:t.color=(new cc.Color).fromHEX("#990000");break;case 10:t.color=(new cc.Color).fromHEX("#ff33cc");break;case 11:t.color=(new cc.Color).fromHEX("#978229");break;case 12:t.color=(new cc.Color).fromHEX("#00ffcc");break;default:console.warn("\u6539\u53d8\u5012\u4e0b\u7684\u989c\u8272\u9519\u8bef",e,t)}},t.prototype.initColor=function(e,t){t.y=-318+this.skinColorOffset2[this.Data_pipeId-1];for(var i=0;i<e.length;i++)switch(e[i]){case 0:t.getChildByName("color"+i).height=0,t.getChildByName("color"+i).color=new cc.Color(255,255,255,255);break;case 1:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#f4b618");break;case 2:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#ff7daf");break;case 3:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#ef2425");break;case 4:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#fff32a");break;case 5:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#01b4d3");break;case 6:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#3aca3a");break;case 7:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#662d9d");break;case 8:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#0000cc");break;case 9:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#990000");break;case 10:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#ff33cc");break;case 11:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#978229");break;case 12:t.getChildByName("color"+i).color=(new cc.Color).fromHEX("#00ffcc")}},t.prototype.isOutOfFrame=function(e){return e.x<0?[!1,"outOfLeft"]:[!1,"outOfRight"]},t.prototype.mergeArr=function(e,t){for(var i=!1,o=!1,r=[0,0,0,0],a=[0,0,0,0],n=0;n<e.length;n++)r[n]=e[n],a[n]=t[n];var c=0;if(0==e[e.length-1]&&(i=!0),0==t[t.length-1]&&(o=!0),0==i&&1==o){var s=0;for(n=0;n<4;n++)if(0!=e[n]){s=e[n];break}for(n=0;n<4;n++)if(0!=e[n]&&e[n]!=s){c=n;break}if(0==c)for(n=0;n<4;n++){var p=e[n];e[n]=t[n],t[n]=p}else for(n=0;n<c;n++)t.push(e[n]),t.shift(),e[n]=0;return[e,t,r,a]}if(0==i&&0==o){var l=e[0];if(t[0],l=u.default.getFirstNotZeroNumFromArr(e),u.default.getFirstNotZeroNumFromArr(t)==l)for(n=0;n<e.length;n++)if(0!=e[n])for(var h=t.length-1;h>=0;h--){if(0==t[h]&&t[h+1]==e[n]&&e[n]==e[n+1]){t[h]=e[n],e[n]=0;break}if(0==t[h]&&t[h+1]==e[n]&&e[n]!=e[n+1]){t[h]=e[n],e[n]=0,n=e.length-1;break}}return[e,t,r,a]}},t.prototype.addEmptyPipe=function(){var e=this;this.destroyPipe(this.Data_pipeCount+this.Data_addPipe),this.scheduleOnce(function(){e.Data_addPipe++;var t=new Array;t=[0,0,0,0];for(var i=e.a.length,o=0;o<e.Data_addPipe;o++)i=e.a.unshift(t);e.initPipe(i,e.a),e.mixPipe(i)})},t.prototype.nextLevelBtnClick=function(){cc.director.loadScene("game_waterSortPuzzle")},t.prototype.resetBtnClick=function(){c.default.goWaterSortPuzzleGame()},t.prototype.TLBtnClick=function(){this.node.getChildByName("TLPopNode").active=!0,this.node.getChildByName("blackBackground2").active=!0,cc.tween(this.node.getChildByName("TLPopNode")).to(.5,{scale:1}).start()},t.prototype.TLPopNodeOKBtnClick=function(){var e=this;cc.tween(this.node.getChildByName("TLPopNode")).to(.5,{scale:0}).start(),this.scheduleOnce(function(){e.node.getChildByName("blackBackground2").active=!1,e.node.getChildByName("TLPopNode").active=!1},.5)},t.prototype.skipLevel=function(){this.destroyPipe(this.pipeCount),l.default.instance.addLevel(n.GameNames.waterSortPuzzle),this.level++;for(var e=0;e<this.jsonAsset.json.length;e++){var t=this.jsonAsset.json[e];l.default.instance.storageData.waterSortPuzzleData.maxLevel%(this.maxLevel+1)==t.levelId&&(this.Data_pipeCount=t.pipeCount,this.Data_pipeArr=t.pipeDetail,this.a=u.default.changeArr(this.Data_pipeArr),this.initPipe(t.pipeCount,u.default.changeArr(t.pipeDetail)),this.mixPipe(t.pipeCount),this.pipeCount=this.Data_pipeCount)}c.default.goWaterSortPuzzleGame()},t.prototype.homeBtnClick=function(){cc.director.loadScene("game_waterSortPuzzle")},t.prototype.update=function(){},t.lastLevel=-1,a([v(cc.Integer)],t.prototype,"chooseLevel",void 0),a([v(cc.JsonAsset)],t.prototype,"jsonAsset",void 0),a([v(cc.Node)],t.prototype,"bgNode",void 0),a([v(cc.Prefab)],t.prototype,"pipePrefab",void 0),a([v(cc.Prefab)],t.prototype,"slxxPrefab",void 0),a([v(cc.Node)],t.prototype,"jcNode",void 0),a([v(cc.Prefab)],t.prototype,"cdUpPipe",void 0),i=a([y],t)}(cc.Component);i.default=m,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../Bundle1_Loading/Scripts/Mgr/AssetMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/SoundMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"../../Bundle1_Loading/Scripts/Platform/Platform":void 0,"../../Bundle2_Res/Scripts/ResPanelOpen":void 0,"./Mod/Utility_waterSortPuzzle":"Utility_waterSortPuzzle","./pipe_waterSortPuzzle":"pipe_waterSortPuzzle"}],pipe_waterSortPuzzle:[function(e,t,i){"use strict";cc._RF.push(t,"57ee4zY5tlJwJUJWQDwaIVJ","pipe_waterSortPuzzle");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=this&&this.__decorate||function(e,t,i,o){var r,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(n=(a<3?r(n):a>3?r(t,i,n):r(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,s=n.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.array=[],t.preArray=[[]],t.isPickUp=!1,t.skinDir="",t.isMoving=!1,t.maskNode=null,t.colorNode=null,t.blArr=[],t}return r(t,e),t.prototype.start=function(){},t.prototype.update=function(){for(var e=0;e<this.blArr.length;e++){var t=this.blArr[e],i=this.colorNode.children[e].getChildByName("position").convertToWorldSpaceAR(cc.v2(0,0));i=this.maskNode.convertToNodeSpaceAR(i),t.setPosition(i.x,i.y),t.angle=this.colorNode.angle}},a([s],t.prototype,"array",void 0),a([s],t.prototype,"preArray",void 0),a([s],t.prototype,"isPickUp",void 0),a([s],t.prototype,"skinDir",void 0),a([s],t.prototype,"isMoving",void 0),a([s(cc.Node)],t.prototype,"maskNode",void 0),a([s(cc.Node)],t.prototype,"colorNode",void 0),a([s(cc.Node)],t.prototype,"blArr",void 0),a([c],t)}(cc.Component);i.default=p,cc._RF.pop()},{}]},{},["Utility_waterSortPuzzle","WaterSortPuzzle_BottomComp","WaterSortPuzzle_LevelLabel","WaterSortPuzzle_SkinNode","WaterSortPuzzle_SkinOpenBtn","blLoop","game","pipe_waterSortPuzzle"]);