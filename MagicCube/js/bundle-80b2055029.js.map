{"version":3,"file":"bundle.js","sources":["../../src/configs/EnumType.ts","../../src/platforms/Platform.ts","../../src/platforms/oppo/OppoPlatform.ts","../../src/platforms/cpLogicalMgr/Umeng/UmengTool.ts","../../src/platforms/vivo/VivoPlatform.ts","../../src/platforms/wx/WxPlatform.ts","../../src/extensionTools/D3Tween.ts","../../src/extensionTools/MyVector3.ts","../../src/gameComponents/CubeCarMove.ts","../../src/nimo_Mods/ctrl/TouchScan.ts","../../src/nimo_Mods/Tools.ts","../../src/managers/LevelMgr.ts","../../src/configs/StorageData.ts","../../src/managers/StorageMgr.ts","../../src/configs/GlobalData.ts","../../src/managers/EventMgr.ts","../../src/managers/ResMgr.ts","../../src/managers/PrefabMgr.ts","../../src/managers/UiMgr.ts","../../src/managers/SoundMgr.ts","../../src/managers/NetMgr.ts","../../src/platforms/cpLogicalMgr/Maoxianren/mxr_oppo.ts","../../src/platforms/cpLogicalMgr/Maoxianren/mxr_vivo.ts","../../src/platforms/cpLogicalMgr/Maoxianren/mxrMgr.ts","../../src/managers/CpMgr.ts","../../src/managers/GameMgr.ts","../../src/extensionTools/ExtensionTool.ts","../../src/uiScenes/UiScene.ts","../../src/uiScenes/Game.ts","../../src/extensionTools/D2Tween.ts","../../src/nimo_Mods/ScaleUITween.ts","../../src/d2Components/StageList.ts","../../src/d2Components/D2Component.ts","../../src/d2Components/BaseUI.ts","../../src/nimo_Mods/ctrl/TouchWayCheck.ts","../../src/platforms/cpLogicalMgr/Maoxianren/Component/NativeAdComponent.ts","../../src/uiScenes/Home.ts","../../src/nimo_Mods/PosUITween.ts","../../src/uiScenes/Load.ts","../../src/uiScenes/Over.ts","../../src/nimo_Mods/ScaleUIOnceTween.ts","../../src/nimo_Mods/RotUITween.ts","../../src/d2Components/PrivacyAgreementComponent.ts","../../src/GameConfig.ts","../../src/Main.ts"],"sourcesContent":["/**平台类型 */\r\nexport enum PlatformType {\r\n    WX = 'wx',\r\n    OPPO = 'oppo',\r\n    VIVO = \"vivo\",\r\n    PC = 'pc'\r\n}\r\n\r\n/**预制体类型 */\r\nexport enum PrefabType {\r\n    //example: Joystick = \"prefab/Joystick.prefab\",\r\n}\r\n\r\n/**ui界面类型 */\r\n\r\nexport enum UiSceneType {\r\n    /**加载页 */\r\n    Load = \"uiScene/Load.scene\",\r\n    /**首页 */\r\n    Home = \"uiScene/Home.scene\",\r\n    /**游戏页 */\r\n    Game = \"uiScene/Game.scene\",\r\n    /**结束页 */\r\n    Over = \"uiScene/Over.scene\",\r\n    /**隐私协议页 */\r\n    Pram = \"uiScene/Pram.scene\"\r\n}\r\n\r\n/**事件类型 */\r\n\r\nexport enum EventType {\r\n    /**资源加载事件 */\r\n    Load_Res_Msg_Event,\r\n\r\n    /**游戏初始化事件 */\r\n    Init_Game_Event,\r\n    /**游戏开始事件 */\r\n    Play_Game_Event,\r\n    /**游戏结束事件 */\r\n    Over_Game_Event,\r\n\r\n    /**ui开启事件 */\r\n    Open_Ui_Event,\r\n    /**ui关闭事件 */\r\n    Close_Ui_Event,\r\n\r\n    /**更新金币事件 */\r\n    Update_Coin_Event,\r\n    /**更换皮肤事件 */\r\n    Update_Skin_Event,\r\n    /**选择关卡更改事件 */\r\n    Update_NowLevel_Event,\r\n\r\n    /**设置界面开始事件 */\r\n    settingPanel_On_Event,\r\n    /**设置界面关闭事件 */\r\n    settingPanel_Off_Event,\r\n    /**控制切换事件 */\r\n    ControlChange,\r\n\r\n    /**提示开启事件 */\r\n    Tips_UI_Open,\r\n    /**提示重开事件 */\r\n    Tips_UI_Restart,\r\n    /**提示退出事件 */\r\n    Tips_UI_Quit,\r\n\r\n    /**平台唤醒事件 */\r\n    Platform_Wake_Event,\r\n    /**平台睡眠事件 */\r\n    Platform_Sleep_Event,\r\n\r\n    /**关闭视频事件 */\r\n    Close_Video_Event,\r\n    /**开始视频事件 */\r\n    Show_Video_Event,\r\n\r\n    /**原生广告更新事件 */\r\n    Update_NativeAd_Event,\r\n    /**原生广告显示事件 */\r\n    Native_Visible_Event\r\n}\r\n\r\n/**音效类型 */\r\nexport enum SoundType {\r\n    /************* 音乐 *************/\r\n    /**背景音乐 */\r\n    BGM = \"Bgm\",\r\n    /************* 音效 *************/\r\n    /**点击 */\r\n    CLICK = \"Click\",\r\n    /**转动 */\r\n    Rotate = \"Rotate\",\r\n    /**加分 */\r\n    Add = \"Add\",\r\n    /**胜利 */\r\n    Win = \"Win\",\r\n    /**广告提示 */\r\n    Tips = \"Tips\"\r\n}\r\n/**设备性能 */\r\nexport enum EquipmentPerformance {\r\n    Low = \"Low\",\r\n    Mid = \"Mid\",\r\n    High = \"High\",\r\n}","import { EventType } from \"../configs/EnumType\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\n\r\n/**平台管理类 */\r\nexport default class Platform {\r\n\r\n    //#region 广告ID\r\n    /**Banner广告Id */\r\n    bannerId: string = '';\r\n    /**激励视频广告Id */\r\n    videoId: string = '';\r\n    /**插屏广告Id */\r\n    interId: string = '';\r\n    /**格子广告Id */\r\n    gridId: string = '';\r\n    /**原生广告Id */\r\n    nativeId: string = '';\r\n    /**原生模板广告ID */\r\n    customId: string = '';\r\n    /**九宫格广告Id */\r\n    boxPortalId: string = '';\r\n    //#endregion\r\n\r\n    //#region 广告组件\r\n    /**Banner广告组件 */\r\n    bannerAd: any;\r\n    /**激励视频广告组件 */\r\n    videoAd: any;\r\n    /**插屏广告组件 */\r\n    interAd: any;\r\n    /**格子广告组件 */\r\n    gridAd: any;\r\n    /**原生广告组件 */\r\n    nativeAd: any;\r\n    /**原生模板广告组件 */\r\n    customAd: any;\r\n    /**九宫格广告组件 */\r\n    boxPortalAd: any;\r\n    //#endregion\r\n\r\n    //#region 广告回调\r\n    /**激励视频广告播放完成回调 */\r\n    videoFinishCallback: Function;\r\n    /**激励视频广告播放取消回调 */\r\n    videoCancelCallback: Function;\r\n    /**九宫格广告关闭回调 */\r\n    boxPortalCloseCallback: Function;\r\n    //#endregion\r\n\r\n    //#region 全局参数\r\n    /**平台api对象 */\r\n    platformApi: any;\r\n    /**系统信息 */\r\n    sysInfo: any;\r\n    /**是否支持分包 */\r\n    canSubPackage: boolean = false;\r\n    //#endregion\r\n\r\n    constructor() {\r\n        this.initAd();\r\n        this.regisiterCallback();\r\n    }\r\n\r\n    //#region 广告\r\n    /**初始化广告 */\r\n    initAd() { console.warn(\"未初始化广告组件\"); }\r\n    /**创建Banner广告 */\r\n    createBannerAd(isShow?: boolean) { console.warn(\"暂不支持Banner广告\"); }\r\n    /**创建Video广告 */\r\n    createVideoAd() { console.warn(\"暂不支持激励视频广告\"); }\r\n    /**创建插屏广告 */\r\n    createInterAd() { console.warn(\"暂不支持插屏广告\"); }\r\n    /**创建格子广告 */\r\n    createGridAd() { console.warn(\"暂不支持格子广告\"); }\r\n    /**创建原生广告 */\r\n    createNativeAd(id?: string, cb?: Function): NativeAd { console.warn(\"暂不支持原生广告\"); return null }\r\n    /**创建九宫格广告 */\r\n    createBoxProtalAd() { console.warn(\"暂不支持九宫格广告\"); }\r\n\r\n    /**展示Banner广告 */\r\n    showBannerAd() { }\r\n    /**隐藏Banner广告 */\r\n    hideBannerAd() { }\r\n    /**销毁Banner广告 */\r\n    destroyBannerAd() { }\r\n\r\n    /**展示激励视频广告 */\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        finishCB && finishCB();\r\n    }\r\n    /**销毁激励视频广告 */\r\n    destroyVideoAd() { }\r\n\r\n    /**展示插屏广告 */\r\n    showInterAd() { }\r\n    /**销毁插屏广告 */\r\n    destroyInterAd() { }\r\n\r\n    /**展示格子广告 */\r\n    showGridAd() { }\r\n    /**隐藏格子广告 */\r\n    hideGridAd() { }\r\n    /**销毁格子广告 */\r\n    destroyGridAd() { }\r\n\r\n    /**展示原生广告 */\r\n    showNativeAd(ad: NativeAd, cb?: Function) { };\r\n    /**隐藏原生广告 */\r\n    loadNativeAd(ad: NativeAd, cb?: Function) { };\r\n    /**销毁原生广告 */\r\n    destroyNativeAd(ad: NativeAd) { }\r\n\r\n    /**展示原生模板广告 */\r\n    showCustomAd() { }\r\n    /**隐藏原生模板广告 */\r\n    hideCustomAd() { }\r\n    /**摧毁原生模板广告 */\r\n    destroyCustomAd() { }\r\n\r\n    /**展示九宫格广告 */\r\n    showBoxProtalAd(closeCB?: Function, successCB?: Function) {\r\n        successCB && successCB();\r\n    }\r\n    /**销毁九宫格广告 */\r\n    destroyBoxProtalAd() { }\r\n    //#endregion\r\n\r\n    //#region 通用\r\n\r\n    /**获取系统信息 */\r\n    getSystemInfoSync() {\r\n        if (!this.sysInfo) {\r\n            this.sysInfo = this.platformApi.getSystemInfoSync();\r\n        }\r\n        return this.sysInfo;\r\n    }\r\n    /**弹窗 */\r\n    showToast(msg: string, duration?: number) { }\r\n    /**短震动 */\r\n    vibrateShort() {\r\n        if (!GameMgr.GlData.isVibrate)\r\n            return;\r\n        if (this.platformApi)\r\n            this.platformApi.vibrateShort();\r\n    }\r\n    /**长震动 */\r\n    vibrateLong() {\r\n        if (!GameMgr.GlData.isVibrate)\r\n            return;\r\n        if (this.platformApi)\r\n            this.platformApi.vibrateLong();\r\n    }\r\n    /**\r\n     * 分包 \r\n     * 需配置game.json\r\n     * \"subpackages\": [\r\n         {\r\n            \"name\": \"scene\", //包名\r\n            \"root\": \"res/scene\" //路径\r\n         }\r\n        ],\r\n     */\r\n    loadSubpackage(loadName: string, caller: any, callback: Function) {\r\n        let loadTask = this.platformApi.loadSubpackage({\r\n            name: loadName,\r\n            success: function (res) {\r\n                GameMgr.ConsoleLog(\"分包加载成功：\", loadName);\r\n                callback.call(res, caller, true);\r\n            },\r\n            fail: function (res) {\r\n                GameMgr.ConsoleError(\"分包加载失败：\", loadName, JSON.stringify(res));\r\n                callback.call(res, caller, false);\r\n            }\r\n        })\r\n\r\n        loadTask.onProgressUpdate(res => {\r\n            GameMgr.ConsoleLog(\"分包================\", JSON.stringify(res));\r\n        });\r\n    }\r\n    /**同步加载多个分包 */\r\n    loadSubpackagesSync(loadNames: string[], caller, callback) {\r\n        var loadCount = loadNames.length;\r\n        for (let i = 0; i < loadCount; i++) {\r\n            this.loadSubpackage(loadNames[i], caller, (caller, isSuccess) => {\r\n                if (isSuccess && --loadCount == 0) {\r\n                    GameMgr.ConsoleLog(\"全部分包加载完成\");\r\n                    callback.call(this, caller, isSuccess);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**前后台切换回调 */\r\n    regisiterCallback() {\r\n        if (this.platformApi) {\r\n            this.platformApi.offShow(this.onShowEvent);\r\n            this.platformApi.onShow(this.onShowEvent);\r\n            this.platformApi.offHide(this.onHideEvent);\r\n            this.platformApi.onHide(this.onHideEvent);\r\n        }\r\n    }\r\n\r\n    onShowEvent(e) {\r\n        GameMgr.Event.event(EventType.Platform_Wake_Event, { param: e });\r\n    }\r\n\r\n    onHideEvent(e) {\r\n        GameMgr.Event.event(EventType.Platform_Sleep_Event, { param: e });\r\n    }\r\n    /**创建桌面图标 */\r\n    createShortcut(cb?: Function) { }\r\n    /**是否已创建桌面图标 */\r\n    hasShortcut(cb?: Function) { }\r\n    /**打开调试 */\r\n    setEnableDebug() { }\r\n    /**退出游戏 */\r\n    exitApplication() { }\r\n\r\n    //#endregion\r\n}\r\n\r\n/**原生广告类 */\r\nexport class NativeAd {\r\n    nativeAd: any;\r\n    title: string;\r\n    desc: string;\r\n    imgUrl: string;\r\n    adId: string;\r\n}","import { EventType } from \"../../configs/EnumType\";\r\nimport GameMgr from \"../../managers/GameMgr\";\r\nimport Platform, { NativeAd } from \"../Platform\";\r\n\r\n/**oppo平台 */\r\nexport default class OppoPlatform extends Platform {\r\n    /******************** 广告 ********************/\r\n    initAd() {\r\n        this.canSubPackage = true;\r\n        this.platformApi = Laya.Browser.window.qg;\r\n\r\n        this.bannerId = '';\r\n        //this.videoId ='414337';\r\n        this.videoId = '414337';\r\n        this.nativeId = '414332';\r\n        this.boxPortalId = '';\r\n\r\n        // this.createBannerAd();\r\n        this.createVideoAd();\r\n        // this.createBoxProtalAd();\r\n    }\r\n\r\n    //>=1051不再需要此操作\r\n    // initAdService() {\r\n    //     console.log(\"加载Oppo============\");\r\n    //     var self = this;\r\n    //     // 支持广告\r\n    //     qg.initAdService({\r\n    //         appId: 30551941,\r\n    //         isDebug: false,\r\n    //         success: function () {\r\n    //             console.log(\"加载成功\");\r\n    //         },\r\n    //         fail: function (err) {\r\n    //             console.error(\"初始化广告组件失败\", err);\r\n    //         },\r\n    //         complete: function () {\r\n    //             console.log(\"初始化广告组件完成\");\r\n    //             self.createVideoAd();\r\n    //         }\r\n    //     })\r\n    // }\r\n\r\n    //#region Banner广告\r\n    createBannerAd(isShow: boolean = false) {\r\n        if (this.getPlatformVersionCode < 1051) {\r\n            console.warn(\"版本过低暂不支持Banner广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.bannerAd) {\r\n            this.destroyBannerAd();\r\n        }\r\n\r\n        this.bannerAd = Laya.Browser.window.qg.createBannerAd({\r\n            adUnitId: this.bannerId,\r\n            // style: {},//top,left,width,height\r\n        });\r\n\r\n        this.bannerAd.onLoad(() => {\r\n            if (isShow) {\r\n                this.bannerAd.show().then(() => { }).catch(err => {\r\n                    this.createBannerAd();\r\n                });\r\n            }\r\n            console.log(\"Banner广告加载成功\");\r\n        });\r\n\r\n        this.bannerAd.onError(err => {\r\n            this.bannerAd = null;\r\n            console.error(\"Banner广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.bannerAd.onResize(res => {\r\n            // console.log(res.width, res.height);\r\n        });\r\n    }\r\n\r\n    showBannerAd() {\r\n        if (!this.bannerAd) {\r\n            this.createBannerAd(true);\r\n            return;\r\n        }\r\n\r\n        this.bannerAd.show().then(() => { }).catch((err) => {\r\n            this.createBannerAd(true);\r\n        });\r\n    }\r\n\r\n    hideBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.hide();\r\n    }\r\n\r\n    destroyBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.destroy();\r\n        this.bannerAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 激励视频广告\r\n    createVideoAd() {\r\n        if (this.getPlatformVersionCode < 1051) {\r\n            console.warn(\"版本过低暂不支持激励视频广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.videoAd) {\r\n            this.destroyVideoAd();\r\n        }\r\n\r\n        this.videoAd = Laya.Browser.window.qg.createRewardedVideoAd({\r\n            adUnitId: this.videoId\r\n        });\r\n\r\n        this.videoAd.onLoad(res => {\r\n            console.log(\"激励视频广告加载成功\");\r\n        });\r\n\r\n        this.videoAd.onError(err => {\r\n            this.videoAd = null;\r\n            console.error(\"激励视频广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.videoAd.onClose((res) => {\r\n            if (res) {\r\n                if (res.isEnded) {\r\n                    this.videoFinishCallback && this.videoFinishCallback();\r\n                }\r\n                else {\r\n                    this.videoCancelCallback && this.videoCancelCallback();\r\n                }\r\n\r\n                //恢复游戏音效\r\n                Laya.SoundManager.muted = false;\r\n\r\n                this.videoFinishCallback = null;\r\n                this.videoCancelCallback = null;\r\n                this.videoAd.load();\r\n\r\n                GameMgr.Event.event(EventType.Close_Video_Event, { isEnded: res.isEnded });\r\n            }\r\n        })\r\n\r\n        this.videoAd.load();\r\n    }\r\n\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        if (!this.videoAd) {\r\n            this.createVideoAd();\r\n            this.showToast(\"广告暂未准备好,请稍后再试\", 2000);\r\n            // finishCB && finishCB();\r\n            return;\r\n        }\r\n\r\n        this.videoFinishCallback = finishCB;\r\n        this.videoCancelCallback = cancelCB;\r\n\r\n        //vivo播放视频需要中断游戏音效\r\n        Laya.SoundManager.muted = true;\r\n        this.videoAd.show().then(() => { }).catch(err => {\r\n            // finishCB && finishCB();\r\n            this.createVideoAd();\r\n            this.videoFinishCallback = null;\r\n            this.videoCancelCallback = null;\r\n            this.showToast(\"广告暂未准备好,请稍后再试\", 2000);\r\n            //恢复游戏音效\r\n            Laya.SoundManager.muted = false;\r\n        })\r\n\r\n\r\n        GameMgr.Event.event(EventType.Show_Video_Event);\r\n    }\r\n\r\n    destroyVideoAd() {\r\n        if (!this.videoAd) return;\r\n        this.videoAd.destroy();\r\n        this.videoAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 九宫格广告\r\n    createBoxProtalAd() {\r\n        if (this.getPlatformVersionCode < 1076) {\r\n            console.warn(\"版本过低暂不支持九宫格广告组件\");\r\n            return;\r\n        }\r\n\r\n        this.boxPortalAd = Laya.Browser.window.qg.createGamePortalAd({\r\n            adUnitId: this.boxPortalId\r\n        });\r\n\r\n        this.boxPortalAd.onLoad(() => {\r\n            console.log(\"九宫格广告加载成功\");\r\n            Laya.timer.clear(this, this.resetBoxAd);\r\n        });\r\n\r\n        this.boxPortalAd.onError(err => {\r\n            this.boxPortalAd = null;\r\n            console.error(\"九宫格广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.boxPortalAd.onClose(() => {\r\n            this.boxPortalCloseCallback && this.boxPortalCloseCallback()\r\n            this.boxPortalCloseCallback = null\r\n        });\r\n\r\n        this.boxPortalAd.load();\r\n        Laya.timer.once(2000, this, this.resetBoxAd);\r\n    }\r\n\r\n    resetBoxAd() {\r\n        this.boxPortalAd = null;\r\n    }\r\n\r\n    showBoxProtalAd(closeCB?: Function, successCB?: Function) {\r\n        // console.log(\"创建九宫格\");\r\n        if (!this.boxPortalAd) {\r\n            // console.log(\"创建九宫格1\");\r\n            closeCB && closeCB();\r\n            this.createBoxProtalAd();\r\n            this.showToast(\"广告暂未准备好,请稍后再试\", 2000);\r\n            return;\r\n        }\r\n        // console.log(\"创建九宫格2\");\r\n        this.boxPortalAd.show().then(() => {\r\n            this.boxPortalCloseCallback = closeCB;\r\n            successCB && successCB();\r\n        }).catch(err => {\r\n            this.destroyBoxProtalAd();\r\n            closeCB && closeCB();\r\n            this.showToast(\"广告暂未准备好,请稍后再试\", 2000);\r\n        });\r\n    }\r\n\r\n    destroyBoxProtalAd() {\r\n        if (!this.boxPortalAd) return;\r\n        this.boxPortalAd.destroy();\r\n        this.boxPortalAd = null;\r\n        this.createBoxProtalAd();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 原生广告\r\n    createNativeAd(id?: string, cb?: Function): NativeAd {\r\n        if (this.getPlatformVersionCode < 1051) {\r\n            console.warn(\"版本过低暂不支持原生广告组件\");\r\n            return;\r\n        }\r\n        var ad = new NativeAd;\r\n\r\n        var nativeAd = Laya.Browser.window.qg.createNativeAd({\r\n            adUnitId: id ? id : this.nativeId,\r\n        });\r\n        nativeAd.load();\r\n\r\n        nativeAd.onLoad((res) => {\r\n            if (res && res.adList) {\r\n                ad.nativeAd = nativeAd;\r\n                let curAd = res.adList.pop();\r\n                ad.title = curAd.title;\r\n                ad.adId = curAd.adId.toString();\r\n                ad.imgUrl = curAd.imgUrlList[0];\r\n                ad.desc = curAd.desc;\r\n                console.log(\"原生广告加载成功\");\r\n                ad.nativeAd.reportAdShow({ adId: ad.adId });\r\n\r\n                // if (cb) {\r\n                //     cb(ad);\r\n                //     cb = null;\r\n                // }\r\n                cb && cb(ad);\r\n            }\r\n        });\r\n\r\n        nativeAd.onError(err => {\r\n            console.error(\"原生广告加载失败\", JSON.stringify(err));\r\n            // if (cb) {\r\n            //     cb(null);\r\n            //     cb = null;\r\n            // }\r\n            cb && cb(null);\r\n        });\r\n\r\n        return ad;\r\n    }\r\n\r\n    showNativeAd(ad?: NativeAd, cb?: Function) {\r\n        if (ad && ad.nativeAd) {\r\n            // ad.nativeAd.reportAdShow({ adId: ad.adId });\r\n            ad.nativeAd.reportAdClick({ adId: ad.adId });\r\n            cb && cb(true);\r\n        }\r\n        cb && cb(false);\r\n    }\r\n\r\n    loadNativeAd(ad?: NativeAd, cb?: Function) {\r\n        if (ad && ad.nativeAd) {\r\n            ad.nativeAd.load().then(() => {\r\n                cb && cb(ad);\r\n            }).catch(err => {\r\n                cb && cb(null);\r\n            });\r\n        }\r\n        else {\r\n            this.createNativeAd(null, cb);\r\n        }\r\n    }\r\n\r\n    destroyNativeAd(ad?: NativeAd) {\r\n        if (ad && ad.nativeAd) {\r\n            ad.nativeAd.destroy()\r\n            // ad = null;\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    /******************** 平台API ********************/\r\n    /**当前平台版本号 */\r\n    get getPlatformVersionCode() {\r\n        return this.getSystemInfoSync().platformVersionCode;\r\n    }\r\n\r\n    /**\r\n     * 弹窗\r\n     * @param msg 文本\r\n     * @param duration 提示的延迟时间\r\n     */\r\n    showToast(msg: string, duration: number = 1500) {\r\n        Laya.Browser.window.qg.showToast({\r\n            title: msg,//提示文字\r\n            duration: duration,//显示时长\r\n        })\r\n    }\r\n\r\n    /**创建桌面图标 */\r\n    createShortcut(cb?: Function) {\r\n        this.hasShortcut((res) => {\r\n            // 判断图标未存在时，创建图标\r\n            if (res == false) {\r\n                Laya.Browser.window.qg.installShortcut({\r\n                    success: function () {\r\n                        // 执行用户创建图标奖励\r\n                        cb && cb();\r\n                    },\r\n                    fail: function (err) { },\r\n                    complete: function () { }\r\n                })\r\n            }\r\n        });\r\n    }\r\n    /**是否已创建桌面图标 */\r\n    hasShortcut(cb?: Function) {\r\n        Laya.Browser.window.qg.hasShortcutInstalled({\r\n            success: function (res) {\r\n                cb && cb(res);\r\n            },\r\n            fail: function (err) { },\r\n            complete: function () { }\r\n        })\r\n    }\r\n    /**打开调试 */\r\n    setEnableDebug() {\r\n        qg.setEnableDebug({\r\n            enableDebug: true, // true 为打开，false 为关闭\r\n            success: function () {\r\n                console.log(\"开启调试面板\");\r\n            },\r\n            complete: function () {\r\n            },\r\n            fail: function () {\r\n            }\r\n        });\r\n    }\r\n    /**退出游戏 */\r\n    exitApplication() {\r\n        if (this.platformApi)\r\n            this.platformApi.exitApplication({});\r\n    }\r\n}","import { PlatformType } from \"../../../configs/EnumType\";\r\nimport GameMgr from \"../../../managers/GameMgr\";\r\n\r\nexport class UmengTool {\r\n    //1.\r\n    //请求域名：https://umini.shujupie.com\r\n\r\n    //2.1\r\n    //将uma.min.js文件放置bin/sdk_js文件夹下\r\n    //2.2\r\n    //于game.js加入下面启动代码\r\n    // uma = require('./sdk_js/uma.min.js');\r\n    // uma.init({\r\n    //     appKey: '61443a8516b6c75de068b071',\r\n    //     useOpenid: true,// default true\r\n    //     autoGetOpenid: true,\r\n    //     debug: true,\r\n    //     uploadUserInfo: true// 上传用户信息，上传后可以看到有用户头像和昵称的分享信息\r\n    // });\r\n\r\n    //3.\r\n    //放在微信分享函数onShareAppMessage里捕捉\r\n    // var share ={\r\n    //     title:'代码调用分享',\r\n    //     imageUrl:'',// 图片 URL\r\n    //     query:'key1=val1&key2=val2'\r\n    // };\r\n\r\n    public static TrackShare(share) {\r\n        switch (GameMgr.GlData.platform) {\r\n            case PlatformType.WX:\r\n                var wx = Laya.Browser.window.wx;\r\n                if (!wx) return;\r\n                let data = wx.uma.trackShare(share);\r\n                return data;\r\n                break;\r\n            case PlatformType.VIVO:\r\n                var qg = Laya.Browser.window.qg;\r\n                if (!qg) return;\r\n                qg.uma.trackEvent(share);\r\n                break;\r\n            case PlatformType.OPPO:\r\n                var qg = Laya.Browser.window.qg;\r\n                if (!qg) return;\r\n                // qg.uma.trackEvent(share);\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    //4.\r\n    //trackEvent('事件ID');\r\n    //trackEvent('事件ID',{'属性1':'属性值1','属性2':'属性值2'});\r\n    // 字符型属性值\r\n    //trackEvent('ViewProductDetails',{'Category':'家电','ItemName':'西门子冰箱'});\r\n    // 数值型属性值\r\n    //trackEvent('Pay',{'PayAmount':6999});\r\n    public static TrackEvent(eventid: string, params = \"\") {\r\n        switch (GameMgr.GlData.platform) {\r\n            case PlatformType.WX:\r\n                var wx = Laya.Browser.window.wx;\r\n                if (!wx) return;\r\n                wx.uma.trackEvent(eventid, params);\r\n                break;\r\n            case PlatformType.VIVO:\r\n                var qg = Laya.Browser.window.qg;\r\n                if (!qg) return;\r\n                if (qg.uma) {\r\n                    qg.uma.enableVerify = true;\r\n                    qg.uma.trackEvent(eventid, params);\r\n                }\r\n                GameMgr.ConsoleLog(\"友盟发送事件\", qg.uma, eventid, params)\r\n                break;\r\n            case PlatformType.OPPO:\r\n                var qg = Laya.Browser.window.qg;\r\n                if (!qg) return;\r\n                // GameMgr.ConsoleLog(\"友盟发送事件\", qg.uma, eventid, params)\r\n                // qg.uma.trackEvent(eventid, params);\r\n                break;\r\n        }\r\n\r\n    }\r\n}","import { EventType } from \"../../configs/EnumType\";\r\nimport GameMgr from \"../../managers/GameMgr\";\r\nimport { UmengTool } from \"../cpLogicalMgr/Umeng/UmengTool\";\r\nimport Platform, { NativeAd } from \"../Platform\";\r\n\r\n/**vivo平台 */\r\nexport default class VivoPlatform extends Platform {\r\n    /******************** 广告 ********************/\r\n    initAd() {\r\n        this.canSubPackage = true;\r\n        this.platformApi = Laya.Browser.window.qg;\r\n\r\n        this.bannerId = '4389ee48e81644b9afa0fa9bd33fb272';\r\n        this.videoId = '2e8ab2cc9643498581b6a9ba395fd5dc';\r\n        this.nativeId = '25bfc8d39174463b9fac0189805e2cb3';\r\n        this.customId = '25bfc8d39174463b9fac0189805e2cb3';\r\n        this.boxPortalId = '';\r\n\r\n        // this.createBannerAd();\r\n        this.createVideoAd();\r\n        // this.createBoxProtalAd();\r\n    }\r\n\r\n    //#region Banner广告\r\n    createBannerAd(isShow: boolean = false) {\r\n        // style内无需设置任何字段，banner会在屏幕底部居中显示，\r\n        // 没有style字段，banner会在上边显示\r\n        // 1053以及以上版本支持属性设置\r\n        if (this.getPlatformVersionCode < 1031) {\r\n            console.warn(\"版本过低暂不支持Banner广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.bannerAd) {\r\n            this.destroyBannerAd();\r\n        }\r\n\r\n        this.bannerAd = Laya.Browser.window.qg.createBannerAd({\r\n            posId: this.bannerId,\r\n            style: {},//left:0,top:0\r\n            adIntervals: 30\r\n        });\r\n\r\n        this.bannerAd.onLoad(() => {\r\n            if (isShow) {\r\n                this.bannerAd.show().then(() => { }).catch(err => {\r\n                    this.createBannerAd();\r\n                });\r\n            }\r\n            console.log(\"Banner广告加载成功\");\r\n        });\r\n\r\n        this.bannerAd.onError(err => {\r\n            this.bannerAd = null;\r\n            console.error(\"Banner广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.bannerAd.onClose(() => {\r\n            this.createBannerAd();\r\n        });\r\n\r\n        this.bannerAd.onSize(res => {\r\n            // console.log(res.width, res.height);\r\n        });\r\n    }\r\n\r\n    showBannerAd() {\r\n        if (!this.bannerAd) {\r\n            this.createBannerAd(true);\r\n            return;\r\n        }\r\n\r\n        this.bannerAd.show().then(() => { }).catch((err) => {\r\n            this.createBannerAd(true);\r\n        });\r\n    }\r\n\r\n    hideBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.hide();\r\n    }\r\n\r\n    destroyBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.destroy();\r\n        this.bannerAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 激励视频广告\r\n    createVideoAd() {\r\n        if (this.getPlatformVersionCode < 1041) {\r\n            console.warn(\"版本过低暂不支持激励视频广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.videoAd) {\r\n            this.destroyVideoAd();\r\n        }\r\n\r\n        this.videoAd = Laya.Browser.window.qg.createRewardedVideoAd({\r\n            posId: this.videoId\r\n        });\r\n\r\n        this.videoAd.onLoad(res => {\r\n            console.log(\"激励视频广告加载成功\");\r\n        });\r\n\r\n        this.videoAd.onError(err => {\r\n            this.videoAd = null;\r\n            console.error(\"激励视频广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.videoAd.onClose((res) => {\r\n            if (res) {\r\n                if (res.isEnded) {\r\n                    this.videoFinishCallback && this.videoFinishCallback();\r\n                    UmengTool.TrackEvent(\"RewardAdFinish\");\r\n                }\r\n                else {\r\n                    this.videoCancelCallback && this.videoCancelCallback();\r\n                }\r\n\r\n                this.videoFinishCallback = null;\r\n                this.videoCancelCallback = null;\r\n                this.videoAd.load();\r\n\r\n                GameMgr.Event.event(EventType.Close_Video_Event, { isEnded: res.isEnded });\r\n                Laya.SoundManager.muted = false;\r\n            }\r\n        })\r\n    }\r\n\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        UmengTool.TrackEvent(\"RewardAdClick\");\r\n        if (!this.videoAd) {\r\n            this.createVideoAd();\r\n            finishCB && finishCB();\r\n            return;\r\n        }\r\n\r\n        this.videoFinishCallback = finishCB;\r\n        this.videoCancelCallback = cancelCB;\r\n\r\n        //vivo播放视频需要中断游戏音效\r\n        Laya.SoundManager.muted = true;\r\n        this.videoAd.show().then(() => {\r\n            // //恢复游戏音效\r\n            // Laya.SoundManager.muted = false;\r\n        }).catch(err => {\r\n            finishCB && finishCB();\r\n            this.createVideoAd();\r\n            this.videoFinishCallback = null;\r\n            this.videoCancelCallback = null;\r\n            //恢复游戏音效\r\n            Laya.SoundManager.muted = false;\r\n        })\r\n\r\n        GameMgr.Event.event(EventType.Show_Video_Event);\r\n\r\n    }\r\n\r\n    destroyVideoAd() {\r\n        if (!this.videoAd) return;\r\n        this.videoAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 九宫格广告\r\n    createBoxProtalAd() {\r\n        if (!Laya.Browser.window.qg.createBoxPortalAd) {\r\n            console.warn(\"版本过低暂不支持九宫格广告组件\");\r\n            return;\r\n        }\r\n\r\n        this.boxPortalAd = Laya.Browser.window.qg.createBoxPortalAd({\r\n            posId: this.boxPortalId,\r\n            marginTop: this.getSystemInfoSync().screenHeight * 0.4\r\n        });\r\n        this.boxPortalAd.onLoad(() => {\r\n            console.log(\"九宫格广告加载成功\");\r\n        });\r\n        this.boxPortalAd.onError(err => {\r\n            this.boxPortalAd = null;\r\n            console.error(\"九宫格广告加载失败\", JSON.stringify(err));\r\n        });\r\n        this.boxPortalAd.onClose(() => {\r\n            this.boxPortalCloseCallback && this.boxPortalCloseCallback()\r\n            this.boxPortalCloseCallback = null\r\n        });\r\n    }\r\n\r\n    showBoxProtalAd(closeCB?: Function) {\r\n        if (!this.boxPortalAd) {\r\n            closeCB && closeCB();\r\n            this.createBoxProtalAd();\r\n            return;\r\n        }\r\n\r\n        this.boxPortalAd.show().then(() => {\r\n            this.boxPortalCloseCallback = closeCB;\r\n        }).catch(err => {\r\n            this.destroyBoxProtalAd();\r\n            closeCB && closeCB();\r\n        })\r\n    }\r\n\r\n    destroyBoxProtalAd() {\r\n        if (!this.boxPortalAd) return;\r\n        this.boxPortalAd.destroy();\r\n        this.boxPortalAd = null;\r\n        this.createBoxProtalAd();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 原生广告\r\n    createNativeAd(id?: string, cb?: Function): NativeAd {\r\n        if (this.getPlatformVersionCode < 1053) {\r\n            console.warn(\"版本过低暂不支持原生广告组件\");\r\n            return;\r\n        }\r\n        var ad = new NativeAd;\r\n\r\n        var nativeAd = Laya.Browser.window.qg.createNativeAd({\r\n            posId: id ? id : this.nativeId,\r\n        });\r\n        nativeAd.onLoad((res) => {\r\n            if (res && res.adList) {\r\n                ad.nativeAd = nativeAd;\r\n                let curAd = res.adList.pop();\r\n                ad.title = curAd.title;\r\n                ad.adId = curAd.adId.toString();\r\n                ad.imgUrl = curAd.imgUrlList[0];\r\n                ad.desc = curAd.desc;\r\n                console.log(\"原生广告加载成功\");\r\n                ad.nativeAd.reportAdShow({ adId: ad.adId });\r\n                if (cb) {\r\n                    cb(ad);\r\n                    cb = null;\r\n                }\r\n            }\r\n        });\r\n\r\n        nativeAd.onError(err => {\r\n            console.error(\"原生广告加载失败\", JSON.stringify(err));\r\n            if (cb) {\r\n                cb(null);\r\n                cb = null;\r\n            }\r\n        });\r\n\r\n        return ad;\r\n    }\r\n\r\n    showNativeAd(ad?: NativeAd, cb?: Function) {\r\n        if (ad && ad.nativeAd) {\r\n            // ad.nativeAd.reportAdShow({ adId: ad.adId });\r\n            ad.nativeAd.reportAdClick({ adId: ad.adId });\r\n            cb && cb(true);\r\n        }\r\n        cb && cb(false)\r\n    }\r\n\r\n    loadNativeAd(ad?: NativeAd, cb?: Function) {\r\n        if (ad && ad.nativeAd) {\r\n            ad.nativeAd.load().then(() => {\r\n                cb && cb(ad);\r\n            }).catch(err => {\r\n                cb && cb(null);\r\n            });\r\n        }\r\n        else {\r\n            this.createNativeAd(null, cb);\r\n        }\r\n    }\r\n\r\n    destroyNativeAd(ad?: NativeAd) {\r\n        ad = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 原生模板广告\r\n    createCustomAd(isShow: boolean = false) {\r\n        if (this.getPlatformVersionCode < 1091) {\r\n            console.warn(\"版本过低暂不支持原生模板广告组件\");\r\n            return;\r\n        }\r\n        if (this.customAd) {\r\n            this.destroyCustomAd();\r\n        }\r\n        this.customAd = Laya.Browser.window.qg.createCustomAd({\r\n            posId: this.customId,\r\n        });\r\n        this.customAd.onLoad(() => {\r\n            if (isShow) {\r\n                this.customAd.show();\r\n            }\r\n            console.log(\"Custom广告加载成功\");\r\n        });\r\n\r\n        this.customAd.onError(err => {\r\n            console.log(\"原生模板广告加载失败\", err);\r\n        });\r\n        this.customAd.show().then(() => {\r\n            console.log('原生模板广告展示完成');\r\n        }).catch((err) => {\r\n            console.log('原生模板广告展示失败', JSON.stringify(err));\r\n        })\r\n    }\r\n\r\n    showCustomAd() {\r\n        this.createCustomAd(true);\r\n        // this.customAd.show().then(() => { }).catch((err) => {\r\n        //     this.createCustomAd(true);\r\n        // });\r\n    }\r\n\r\n    hideCustomAd() {\r\n        // if (!this.customAd) return;\r\n        // this.customAd.hide();\r\n        this.destroyCustomAd();\r\n    }\r\n\r\n    destroyCustomAd() {\r\n        if (!this.customAd) return;\r\n        this.customAd.destroy();\r\n        this.customAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    /******************** 平台API ********************/\r\n    /**当前平台版本号 */\r\n    get getPlatformVersionCode() {\r\n        return this.getSystemInfoSync().platformVersionCode;\r\n    }\r\n\r\n    /**\r\n     * 弹窗\r\n     * @param msg 文本\r\n     * @param duration 0为短时，1为长时 \r\n     */\r\n    showToast(msg: string, duration: number = 0) {\r\n        Laya.Browser.window.qg.showToast({\r\n            message: msg,//提示文字\r\n            duration: duration,//显示时长\r\n        })\r\n    }\r\n\r\n    /**创建桌面图标 */\r\n    createShortcut(cb?: Function) {\r\n        this.hasShortcut((res) => {\r\n            // 判断图标未存在时，创建图标\r\n            if (res == false) {\r\n                Laya.Browser.window.qg.installShortcut({\r\n                    success: function () {\r\n                        // 执行用户创建图标奖励\r\n                        cb && cb();\r\n                    },\r\n                    fail: function (err) { },\r\n                    complete: function () { }\r\n                })\r\n            }\r\n        });\r\n    }\r\n    /**是否已创建桌面图标 */\r\n    hasShortcut(cb?: Function) {\r\n        Laya.Browser.window.qg.hasShortcutInstalled({\r\n            success: function (res) {\r\n                cb && cb(res);\r\n            },\r\n            fail: function (err) { },\r\n        })\r\n    }\r\n}","import GameConfig from \"../../GameConfig\";\r\nimport Platform from \"../Platform\";\r\n\r\n/**微信平台 */\r\nexport default class WxPlatform extends Platform {\r\n    /******************** 广告 ********************/\r\n    initAd() {\r\n        this.canSubPackage = true;\r\n        this.platformApi = Laya.Browser.window.wx;\r\n\r\n        this.bannerId = '';\r\n        this.videoId = '';\r\n        this.interId = '';\r\n        this.gridId = '';\r\n\r\n        this.createBannerAd();\r\n        this.createVideoAd();\r\n        this.createBoxProtalAd();\r\n\r\n        this.showShareMenuWithTicket(true);\r\n        this.regisiterWXShareCallback();\r\n    }\r\n\r\n    //#region Banner广告\r\n    createBannerAd(isShow: boolean = false) {\r\n        if (this.compareSDKVersion(\"2.0.4\")) {\r\n            console.warn(\"版本过低暂不支持Banner广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.bannerAd) {\r\n            this.destroyBannerAd();\r\n        }\r\n\r\n        let sysInfo = this.getSystemInfoSync();\r\n        this.bannerAd = Laya.Browser.window.wx.createBannerAd({\r\n            adUnitId: this.bannerId,\r\n            style: {\r\n                top: sysInfo.screenHeight * 0.8,\r\n                width: 300,\r\n                left: sysInfo.screenWidth / 2 - 150\r\n            },\r\n            adIntervals: 30\r\n        });\r\n\r\n        this.bannerAd.onLoad(() => {\r\n            if (isShow) {\r\n                this.bannerAd.show().then(() => { }).catch(err => {\r\n                    this.createBannerAd();\r\n                });\r\n            }\r\n            console.log(\"Banner广告加载成功\");\r\n        });\r\n\r\n        this.bannerAd.onError(err => {\r\n            this.bannerAd = null;\r\n            console.error(\"Banner广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.bannerAd.onResize(res => {\r\n            let realHeight = this.bannerAd.style.realHeight + 0.1;\r\n            if (sysInfo.model.startsWith(\"iPhone X\")) realHeight += (40 / Laya.Browser.height) * GameConfig.height;\r\n            this.bannerAd.style.top = sysInfo.screenHeight - realHeight;\r\n        });\r\n    }\r\n\r\n    showBannerAd() {\r\n        if (!this.bannerAd) {\r\n            this.createBannerAd(true);\r\n            return;\r\n        }\r\n\r\n        this.bannerAd.show().then(() => { }).catch((err) => {\r\n            this.createBannerAd(true);\r\n        });\r\n    }\r\n\r\n    hideBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.hide();\r\n    }\r\n\r\n    destroyBannerAd() {\r\n        if (!this.bannerAd) return;\r\n        this.bannerAd.destroy();\r\n        this.bannerAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 激励视频广告\r\n    createVideoAd() {\r\n        if (this.compareSDKVersion(\"2.0.4\")) {\r\n            console.warn(\"版本过低暂不支持激励视频广告组件\")\r\n            return;\r\n        }\r\n\r\n        if (this.videoAd) {\r\n            this.destroyVideoAd();\r\n        }\r\n\r\n        this.videoAd = Laya.Browser.window.wx.createRewardedVideoAd({\r\n            adUnitId: this.videoId\r\n        });\r\n\r\n        this.videoAd.onLoad(res => {\r\n            console.log(\"激励视频广告加载成功\");\r\n        });\r\n\r\n        this.videoAd.onError(err => {\r\n            this.videoAd = null;\r\n            console.error(\"激励视频广告加载失败\", JSON.stringify(err));\r\n        });\r\n\r\n        this.videoAd.onClose((res) => {\r\n            if (res) {\r\n                if (res.isEnded) {\r\n                    this.videoFinishCallback && this.videoFinishCallback();\r\n                }\r\n                else {\r\n                    this.videoCancelCallback && this.videoCancelCallback();\r\n                }\r\n\r\n                this.videoFinishCallback = null;\r\n                this.videoCancelCallback = null;\r\n                this.videoAd.load();\r\n            }\r\n        })\r\n    }\r\n\r\n    showVideoAd(finishCB?: Function, cancelCB?: Function) {\r\n        if (!this.videoAd) {\r\n            this.createVideoAd();\r\n            finishCB && finishCB();\r\n            return;\r\n        }\r\n\r\n        this.videoFinishCallback = finishCB;\r\n        this.videoCancelCallback = cancelCB;\r\n\r\n        //vivo播放视频需要中断游戏音效\r\n        Laya.SoundManager.muted = true;\r\n        this.videoAd.show().then(() => { }).catch(err => {\r\n            finishCB && finishCB();\r\n            this.createVideoAd();\r\n            this.videoFinishCallback = null;\r\n            this.videoCancelCallback = null;\r\n            //恢复游戏音效\r\n            Laya.SoundManager.muted = false;\r\n        })\r\n    }\r\n\r\n    destroyVideoAd() {\r\n        if (!this.videoAd) return;\r\n        this.videoAd.destroy();\r\n        this.videoAd = null;\r\n    }\r\n    //#endregion\r\n\r\n    /******************** 平台API ********************/\r\n    /**当前平台版本号 */\r\n    get getPlatformVersionCode() {\r\n        return this.getSystemInfoSync().SDKVersion;\r\n    }\r\n    /**比对当前版本是否支持广告组件 */\r\n    compareSDKVersion(version: string = \"1.0.0\"): boolean {\r\n        let sdkVersion: string = this.getPlatformVersionCode; //当前版本\r\n        let arr1 = sdkVersion.split('.');\r\n        let arr2 = version.split('.');\r\n\r\n        let isMismatch = false; //默认版本支持\r\n        for (let i = 0; i < arr1.length; i++) {\r\n            if (arr1[i] > arr2[i]) break;\r\n            else if (arr1[i] == arr2[i]) continue;\r\n            else { isMismatch = true; } //版本不支持\r\n        }\r\n\r\n        return isMismatch;\r\n    }\r\n\r\n    /**\r\n     * 弹窗\r\n     * @param msg 文本\r\n     * @param duration 提示的延迟时间\r\n     */\r\n    showToast(msg: string, duration: number = 1500) {\r\n        Laya.Browser.window.wx.showToast({\r\n            title: msg,//提示文字\r\n            duration: duration,//显示时长\r\n        })\r\n    }\r\n\r\n    /**显示右上角转发分享功能 */\r\n    showShareMenuWithTicket(ticket) {\r\n        wx.showShareMenu({\r\n            withShareTicket: ticket,\r\n            success: function () { },\r\n            fail: function () { },\r\n            complete: function () { }\r\n        })\r\n    }\r\n\r\n    /**注册右上角转发分享监听 */\r\n    regisiterWXShareCallback() {\r\n        var shareId = 1;\r\n        if (Laya.Browser.onWeiXin) {\r\n            var object = { title: \"分享\", image: \"\" };\r\n            Laya.Browser.window.wx.onShareAppMessage(function () {\r\n                console.log(\"用户点击了转发按钮\");\r\n                let shareObj = {\r\n                    title: object.title,\r\n                    imageUrl: object.image,\r\n                    query: \"share_id=\" + shareId,\r\n                }\r\n                return shareObj;\r\n            })\r\n        }\r\n    }\r\n}","export default class D3Tween {\r\n    /**动画帧数与时间换算：每帧时间（ms) = 1000 / 帧数 */\r\n    tween: Laya.Tween;\r\n    /**动画组 */\r\n    tweens: any[];\r\n\r\n    /**目标 */\r\n    target: Laya.Sprite3D;\r\n    /**是否本地坐标 */\r\n    isLocal: boolean;\r\n\r\n    /**动画帧回调 args: progress(进度 0 - 1) */\r\n    updateTweenCallback: Function;\r\n\r\n    constructor() {\r\n        this.tween = new Laya.Tween();\r\n        this.tweens = [];\r\n    }\r\n\r\n    getTimeByFrame(frame) {\r\n        return Math.round(1000 / 100 * frame); // 60可替换为实际帧率\r\n    }\r\n\r\n    toTween(target: Laya.Sprite3D, value: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }, time: number, completeFun?: Function, ease?: Function, isLocal: boolean = true) {\r\n        this.target = target;\r\n        this.isLocal = isLocal;\r\n\r\n        //当前值\r\n        var ov: any = {};\r\n        //目标值\r\n        var tv: any = {};\r\n\r\n        if (value.pos) {\r\n            var targetPos = isLocal ? target.transform.localPosition.clone() : target.transform.position.clone();\r\n\r\n            ov.posX = targetPos.x\r\n            ov.posY = targetPos.y;\r\n            ov.posZ = targetPos.z;\r\n\r\n            tv.posX = value.pos.x;\r\n            tv.posY = value.pos.y;\r\n            tv.posZ = value.pos.z;\r\n        }\r\n        if (value.rot) {\r\n            var targetRot = isLocal ? target.transform.localRotationEuler.clone() : target.transform.rotationEuler.clone(); //target.transform.rotationEuler.clone();//\r\n\r\n            ov.rotX = targetRot.x;\r\n            ov.rotY = targetRot.y;\r\n            ov.rotZ = targetRot.z;\r\n\r\n            tv.rotX = value.rot.x;\r\n            tv.rotY = value.rot.y;\r\n            tv.rotZ = value.rot.z;\r\n        }\r\n        if (value.sca) {\r\n            var targetSca = target.transform.getWorldLossyScale().clone();\r\n\r\n            ov.scaX = targetSca.x;\r\n            ov.scaY = targetSca.y;\r\n            ov.scaZ = targetSca.z;\r\n\r\n            tv.scaX = value.sca.x;\r\n            tv.scaY = value.sca.y;\r\n            tv.scaZ = value.sca.z;\r\n        }\r\n\r\n        this.tween.to(ov, {\r\n            posX: tv.posX, posY: tv.posY, posZ: tv.posZ,\r\n            rotX: tv.rotX, rotY: tv.rotY, rotZ: tv.rotZ,\r\n            scaX: tv.scaX, scaY: tv.scaY, scaZ: tv.scaZ\r\n        }, time, ease, Laya.Handler.create(this, () => {\r\n            var nextTWeen = this.tweens.shift();\r\n            if (nextTWeen) {\r\n                this.toTween(this.target, nextTWeen.value, nextTWeen.time, nextTWeen.completeFun, ease);\r\n            }\r\n            else {\r\n                if (this.updateTweenCallback) {\r\n                    this.updateTweenCallback = null;\r\n                }\r\n            }\r\n            completeFun && completeFun();\r\n        }));\r\n\r\n        var progressTimer = 0;\r\n        this.tween.update = new Laya.Handler(this, () => {\r\n            if (!target || target.destroyed)\r\n                return;\r\n            //进度\r\n            progressTimer += Laya.timer.delta;\r\n            let progress = progressTimer / time;\r\n            if (progress > 1) progress = 1;\r\n\r\n            if (value.pos) {\r\n                if (isLocal) {\r\n                    target.transform.localPosition = new Laya.Vector3(ov.posX, ov.posY, ov.posZ);\r\n                }\r\n                else {\r\n                    target.transform.position = new Laya.Vector3(ov.posX, ov.posY, ov.posZ);\r\n                }\r\n            }\r\n            if (value.rot) {\r\n                if (isLocal) {\r\n                    target.transform.localRotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n                }\r\n                else {\r\n                    target.transform.rotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n                }\r\n            }\r\n            if (value.sca) {\r\n                target.transform.setWorldLossyScale(new Laya.Vector3(ov.scaX, ov.scaY, ov.scaZ));\r\n            }\r\n\r\n            this.updateTweenCallback && this.updateTweenCallback(progress)\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    clearTween(value?: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }) {\r\n        this.tweens = [];\r\n        this.tween.clear();\r\n\r\n        if (this.target && value) {\r\n            if (value.pos) {\r\n                if (this.isLocal) {\r\n                    this.target.transform.localPosition = new Laya.Vector3(value.pos.x, value.pos.y, value.pos.z);\r\n                }\r\n                else {\r\n                    this.target.transform.position = new Laya.Vector3(value.pos.x, value.pos.y, value.pos.z);\r\n                }\r\n            }\r\n            if (value.rot) {\r\n                this.target.transform.rotationEuler = new Laya.Vector3(value.rot.x, value.rot.y, value.rot.z);\r\n            }\r\n            if (value.sca) {\r\n                this.target.transform.setWorldLossyScale(new Laya.Vector3(value.sca.x, value.sca.y, value.sca.z));\r\n            }\r\n        }\r\n    }\r\n\r\n    then(value: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }, time: number, completeFun?: Function) {\r\n        this.tweens.push({ value: value, time: time, completeFun: completeFun });\r\n        return this;\r\n    }\r\n}","export default class MyVector3 {\r\n    static add(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.add(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static subtract(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.subtract(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static mull(v1, multipy) {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.scale(v1, multipy, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static dot(v1, v2): number {\r\n        return Laya.Vector3.dot(v1, v2);\r\n    }\r\n\r\n    static cross(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3\r\n        Laya.Vector3.cross(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static normalized(v): Laya.Vector3 {\r\n        var vTmp = new Laya.Vector3\r\n        Laya.Vector3.normalize(v, vTmp);\r\n        return vTmp.clone();\r\n    }\r\n\r\n    static distance(v1, v2): number{\r\n        var vT = MyVector3.subtract(v1,v2);\r\n        var dis = Laya.Vector3.scalarLength(vT);\r\n        return dis\r\n    }\r\n}","import D3Tween from \"../extensionTools/D3Tween\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport MyVector3 from \"../extensionTools/MyVector3\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\n\r\nexport default class CubeCarMove extends Laya.Script3D {\r\n\r\n    self: Laya.Sprite3D\r\n\r\n    onEnable() {\r\n        this.self = this.owner as Laya.Sprite3D;\r\n    }\r\n    onDisable() {\r\n\r\n    }\r\n\r\n    rotTime = 300;\r\n    isGo = false;\r\n    go(path, isStart: boolean, isBacktracking = false) {\r\n        let self = this;\r\n        let count = 1;\r\n        let goTween = new D3Tween();\r\n        this.isGo = true;\r\n        //#region 移动逻辑\r\n        if (isStart) {\r\n            count = 1;\r\n        } else {\r\n            count = path.length - 2;\r\n        }\r\n        let cb = () => {\r\n            if (!self || self.destroyed)\r\n                return;\r\n            let endBool;\r\n            let isLastBool;\r\n            let rotateName: string;\r\n\r\n            if (isStart) {\r\n                endBool = count > path.length - 1\r\n                isLastBool = count == path.length - 1;\r\n            } else {\r\n                endBool = count < 0\r\n                isLastBool = count == 0;\r\n            }\r\n\r\n            if (isStart) {\r\n                if (!isBacktracking)\r\n                    rotateName = \"start\";\r\n                else\r\n                    rotateName = \"end\";\r\n            }\r\n            else {\r\n                if (!isBacktracking)\r\n                    rotateName = \"end\";\r\n                else\r\n                    rotateName = \"start\";\r\n            }\r\n\r\n            if (!endBool) {\r\n                let pos;\r\n                let player = self.self as Laya.Sprite3D;\r\n                let distance;\r\n                if (isLastBool) {\r\n                    let targetPosGo = path[count].transform.localPosition.clone();\r\n                    let way = MyVector3.normalized(MyVector3.subtract(targetPosGo, player.transform.localPosition.clone()));\r\n                    pos = MyVector3.subtract(targetPosGo, MyVector3.mull(way, 0.8));\r\n                } else {\r\n                    pos = path[count].transform.localPosition.clone();\r\n                }\r\n                distance = MyVector3.distance(player.transform.localPosition.clone(), pos);\r\n                let time = 2000 * distance / 10;\r\n                if (path[count].name == \"rotate\") {\r\n                    //旋转逻辑\r\n                    let rot = path[count].getChildByName(rotateName).transform.localRotation.clone();\r\n                    goTween.toTween(player, { pos: pos }, time, () => {\r\n                        if (!self || self.destroyed)\r\n                            return;\r\n                        let startRot = player.transform.localRotation.clone();\r\n                        let endRot = rot;\r\n                        goTween.updateTweenCallback = (progress) => {\r\n                            self.goRot(player, startRot, endRot, progress);\r\n                        }\r\n                        goTween.toTween(player, {}, self.rotTime, () => { cb(); })\r\n                    })\r\n                } else {\r\n                    //移动逻辑\r\n                    goTween.toTween(player, { pos: pos }, time, () => { cb(); }, null, true);\r\n                }\r\n                //路径方向\r\n                if (isStart) {\r\n                    count++;\r\n                } else {\r\n                    count--;\r\n                }\r\n            } else {\r\n                //结束逻辑\r\n                self.isGo = false;\r\n                if (!isBacktracking)\r\n                    GameMgr.Level.CarCheck();\r\n            }\r\n        }\r\n        cb();\r\n\r\n        // #region 废案\r\n        // let cbStart = () => {\r\n        //     if (count < path.length) {\r\n        //         //基本参数\r\n        //         let pos = path[count].transform.localPosition.clone();\r\n        //         let player = self.self as Laya.Sprite3D;\r\n        //         let distance = MyVector3.distance(player.transform.localPosition.clone(), pos);\r\n        //         let time = 2000 * distance / 10;\r\n        //         if (path[count].name == \"rotate\") {\r\n        //             //旋转逻辑\r\n        //             let rot = path[count].getChildByName(\"start\").transform.localRotation.clone();\r\n        //             goTween.toTween(player, { pos: pos }, time, () => {\r\n        //                 let startRot = player.transform.localRotation.clone();\r\n        //                 let endRot = rot;\r\n        //                 goTween.updateTweenCallback = (progress) => {\r\n        //                     self.goRot(player, startRot, endRot, progress);\r\n        //                 }\r\n        //                 goTween.toTween(player, {}, self.rotTime, () => { cbStart(); })\r\n        //             })\r\n        //         } else {\r\n        //             //移动逻辑\r\n        //             goTween.toTween(player, { pos: pos }, time, () => { cbStart(); }, null, true);\r\n        //         }\r\n        //         count++;\r\n        //     } else {\r\n        //         //结束逻辑\r\n        //         self.isGo = false;\r\n        //         GameMgr.Level.CarCheck();\r\n        //     }\r\n        // }\r\n        // let cbEnd = () => {\r\n        //     if (count >= 0) {\r\n        //         let pos = path[count].transform.localPosition.clone();\r\n        //         let player = self.self as Laya.Sprite3D;\r\n        //         let distance = MyVector3.distance(player.transform.localPosition.clone(), pos);\r\n        //         let time = 2000 * distance / 10;\r\n        //         if (path[count].name == \"rotate\") {\r\n        //             let rot = path[count].getChildByName(\"end\").transform.localRotation.clone();\r\n        //             goTween.toTween(player, { pos: pos }, time, () => {\r\n        //                 let startRot = player.transform.localRotation.clone();\r\n        //                 let endRot = rot;\r\n        //                 goTween.updateTweenCallback = (progress) => {\r\n        //                     self.goRot(player, startRot, endRot, progress);\r\n        //                 }\r\n        //                 goTween.toTween(player, {}, self.rotTime, () => { cbEnd(); })\r\n        //             })\r\n        //         } else {\r\n        //             goTween.toTween(player, { pos: pos }, time, () => { cbEnd(); }, null, true);\r\n        //         }\r\n        //         count--;\r\n        //     } else {\r\n        //         self.isGo = false;\r\n        //         GameMgr.Level.CarCheck();\r\n        //     }\r\n        // }\r\n        // if (isStart) {\r\n        //     cbStart();\r\n        // } else {\r\n        //     cbEnd();\r\n        // }\r\n        //#endregion\r\n\r\n        //#endregion\r\n    }\r\n\r\n    goRot(target: Laya.Sprite3D, startRot: Laya.Quaternion, endRot: Laya.Quaternion, progress: number) {\r\n        if (!target || target.destroyed)\r\n            return;\r\n        let rot: Laya.Quaternion = new Laya.Quaternion();\r\n        Laya.Quaternion.lerp(startRot, endRot, progress, rot);\r\n        target.transform.localRotation = rot;\r\n    }\r\n}\r\n","import GameMgr from \"../../managers/GameMgr\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport enum TouchEventType {\r\n    start = \"touchStart\",\r\n    move = \"touchMove\",\r\n    end = \"touchEnd\",\r\n    getAxis = \"GetAxis\",\r\n    slideWay = \"slideWay\",\r\n    singleTouchStart = \"singleTouchStart\",\r\n    singleTouchMove = \"singleTouchMove\",\r\n    singleTouchEnd = \"singleTouchEnd\",\r\n    secondTouchStart = \"secondTouchStart\",\r\n    secondTouchMove = \"secondTouchMove\",\r\n    secondTouchEnd = \"secondTouchEnd\",\r\n    getAxisAlways = \"getAxisAlways\"\r\n}\r\nexport default class TouchScan extends Laya.Script {\r\n    static instance;\r\n    onEnable() {\r\n        TouchScan.instance = this;\r\n    }\r\n    //点击事件\r\n    isPressed = false;\r\n    hOriginal = 0;\r\n    vOriginal = 0;\r\n    hAxis = 0;\r\n    vAxis = 0;\r\n    //输出数值\r\n    outAxis = 0;\r\n    onMouseDown(e) {\r\n        // this.isPressed = true;\r\n        // this.hOriginal = e.stageX / Laya.stage.width;\r\n        // this.vOriginal = e.stageY / Laya.stage.height;\r\n        GameMgr.Event.event(TouchEventType.start, [e])\r\n    }\r\n    onMouseMove(e) {\r\n        // if (this.isPressed) {\r\n        //     this.hAxis = e.stageX / Laya.stage.width - this.hOriginal\r\n        //     this.vAxis = e.stageY / Laya.stage.height - this.vOriginal;\r\n        //     //重置初始点\r\n        //     if (false) {\r\n        //         this.hOriginal = e.stageX / Laya.stage.width\r\n        //         this.vOriginal = e.stageY / Laya.stage.height;\r\n        //     }\r\n        // }\r\n        GameMgr.Event.event(TouchEventType.move, [e])\r\n    }\r\n    onMouseUp(e) {\r\n        // this.isPressed = false;\r\n        GameMgr.Event.event(TouchEventType.end, [e])\r\n    }\r\n\r\n}","export default class Tools {\r\n\r\n    //#region 数值,数组,二维、三维向量、transform3D计算\r\n   \r\n    //**Vector2相加 */\r\n    static Vector2Add(a: Laya.Vector2, b: Laya.Vector2): Laya.Vector2 {\r\n        let pos = new Laya.Vector2(a.x + b.x, a.y + b.y);\r\n        return pos;\r\n    }\r\n    //**Vector2相减a-b */\r\n    static Vector2Reduce(a: Laya.Vector2, b: Laya.Vector2): Laya.Vector2 {\r\n        let pos = new Laya.Vector2(a.x - b.x, a.y - b.y);\r\n        return pos;\r\n    }\r\n    //**Vector2长度 */\r\n    static Vector2Scale(a: Laya.Vector2): number {\r\n        let scale = Math.sqrt((Math.pow(a.x, 2) + Math.pow(a.y, 2)))\r\n        return scale;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 接触事件处理\r\n    //**游戏中按钮点击 */\r\n    static gameButtonOn(img: Laya.Image, caller: any, Down: Function, Up: Function) {\r\n        img.offAllCaller(caller)\r\n\r\n        img.on(Laya.Event.MOUSE_DOWN, caller, Down);\r\n        img.on(Laya.Event.MOUSE_UP, caller, Up);\r\n        img.on(Laya.Event.MOUSE_OUT, caller, Up);\r\n    }\r\n    //**按钮消除绑定 */\r\n    static buttonOffAll(btn, caller) {\r\n        if (btn) {\r\n            btn.offAllCaller(caller)\r\n        }\r\n    }\r\n    //#endregion\r\n    //  **3D转屏幕坐标 */\r\n    // getSpritePosBySprite3DPoint(target): Laya.Point {\r\n    //     var pos = target.transform.position.clone();\r\n    //     var outPos = new Laya.Vector4;\r\n\r\n    //     Context.CommonData.mainCamera.viewport.project(pos, Context.CommonData.mainCamera.projectionViewMatrix, outPos);\r\n    //     var pos2d = new Laya.Vector2(outPos.x / Laya.stage.clientScaleX, outPos.y / Laya.stage.clientScaleY);\r\n    //     return new Laya.Point(pos2d.x, pos2d.y);\r\n    // }\r\n}","import { EventType, PlatformType, SoundType, UiSceneType } from \"../configs/EnumType\";\r\nimport GlobalData from \"../configs/GlobalData\";\r\nimport D3Tween from \"../extensionTools/D3Tween\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport MyVector3 from \"../extensionTools/MyVector3\";\r\nimport CubeCarMove from \"../gameComponents/CubeCarMove\";\r\nimport { TouchEventType } from \"../nimo_Mods/ctrl/TouchScan\";\r\nimport Tools from \"../nimo_Mods/Tools\";\r\nimport { UmengTool } from \"../platforms/cpLogicalMgr/Umeng/UmengTool\";\r\nimport Platform from \"../platforms/Platform\";\r\nimport Game from \"../uiScenes/Game\";\r\nimport GameMgr from \"./GameMgr\";\r\nimport PrefabMgr from \"./PrefabMgr\";\r\n\r\n/**关卡管理器 */\r\nexport default class LevelMgr {\r\n\r\n    //#region 全局变量\r\n    //3D场景和摄像机\r\n    mainScene: Laya.Scene3D;\r\n    mainCamera: Laya.Camera;\r\n    light: Laya.DirectionLight;\r\n    //魔方主要组件\r\n    cubeStage: Laya.Sprite3D;\r\n    cubes: Laya.Sprite3D;\r\n    axel: Laya.Sprite3D;\r\n    scanPlane: Laya.Sprite3D;\r\n    car: Laya.Sprite3D;\r\n    XGrip: Laya.Sprite3D;\r\n\r\n    //操控系数\r\n    //0是单指模式，1是双指模式\r\n    sawControlType = 0;\r\n\r\n    lightStartPos;\r\n    lightStartRot;\r\n    //#endregion\r\n\r\n    //#region 基础类\r\n    constructor() {\r\n        this.init();\r\n    }\r\n    init() {\r\n        GameMgr.ConsoleLog(\"分包总开关\", GameMgr.GlData.isSubPackage)\r\n        GameMgr.ConsoleLog(\"平台分包是否允许\", GameMgr.Platform.canSubPackage);\r\n        if (GameMgr.GlData.isSubPackage && GameMgr.Platform.canSubPackage) {\r\n            GameMgr.ConsoleLog(\"开始加载分包\")\r\n            let loadNames = [\"scene\"];\r\n            GameMgr.Res.addLoadRes(\"分包\");\r\n            GameMgr.Platform.loadSubpackagesSync(loadNames, this, (caller, isSuccess) => {\r\n                if (isSuccess) {\r\n                    caller.load3DRes();\r\n                    GameMgr.Res.removeLoadRes(\"分包\");\r\n                    GameMgr.ConsoleLog(\"分包加载完毕\");\r\n                    this.setBg();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.load3DRes();\r\n            this.setBg();\r\n        }\r\n        this.initEvent();\r\n        this.readJson();\r\n    }\r\n    bg: Laya.Image;\r\n    setBg() {\r\n        //背景\r\n        let bgScene = new Laya.Scene();\r\n        Laya.stage.addChildAt(bgScene, 0);\r\n        bgScene.size(Laya.stage.width, Laya.stage.height);\r\n        this.bg = new Laya.Image(\"ui/game/jb2.png\");\r\n        bgScene.addChild(this.bg);\r\n        this.bg.width = Laya.stage.width;\r\n        this.bg.height = Laya.stage.height;\r\n    }\r\n\r\n    /**3D游戏加载 */\r\n    load3DRes() {\r\n        GameMgr.Res.addLoadRes(\"场景\");\r\n        var resource = [\r\n            { url: GameMgr.GlData.sceneResUrl, clas: Laya.Scene3D, priority: 1 },   //场景\r\n            // { url: GameMgr.GlData.modelResUrl, clas: Laya.Sprite3D, priority: 2 },  //预设\r\n        ];\r\n\r\n        Laya.loader.create(resource,\r\n            Laya.Handler.create(this, this.onLoadFinished, [{ target: \"3dRes\" }], false),\r\n            Laya.Handler.create(this, this.onLoading, null, false));\r\n        Laya.loader.on(Laya.Event.ERROR, this, err => {\r\n            console.error(\"资源加载失败\", err);\r\n        });\r\n    }\r\n    onLoadFinished(evt) {\r\n        GameMgr.ConsoleLog(\"资源加载完成\", evt);\r\n        GameMgr.Res.removeLoadRes(\"场景\");\r\n    }\r\n    onLoading(pres) {\r\n        GameMgr.Res.updateLoadRes(\"场景\", pres, false);\r\n    }\r\n\r\n    initEvent() {\r\n        GameMgr.Event.on(EventType.Load_Res_Msg_Event, this, this.onLoadResEvent);\r\n        GameMgr.Event.on(EventType.Init_Game_Event, this, this.onInitGameEvent);\r\n        GameMgr.Event.on(EventType.Play_Game_Event, this, this.onPlayGameEvent);\r\n        GameMgr.Event.on(EventType.Over_Game_Event, this, this.onOverGameEvent);\r\n        this.initEventSpecial()\r\n    }\r\n    onLoadResEvent(e) {\r\n        if (e.allComplete) {\r\n            this.loadSceneRes(1);\r\n        }\r\n    }\r\n\r\n    /**游戏初始化事件 */\r\n    onInitGameEvent(e) {\r\n        // GameMgr.UI.openScene(UiSceneType.Home);\r\n        if (GameMgr.GlData.playCount == 0)\r\n            GameMgr.UI.openScene(UiSceneType.Home);\r\n        // else {\r\n        //     Laya.timer.once(200, this, () => {\r\n        //         GameMgr.Event.event(EventType.Play_Game_Event);\r\n        //     })\r\n        // }\r\n    }\r\n    /**游戏开始时间 */\r\n    onPlayGameEvent(e) {\r\n        GameMgr.UI.openScene(UiSceneType.Game);\r\n    }\r\n    /**游戏结束事件 */\r\n    onOverGameEvent(e) {\r\n        GameMgr.UI.openScene(UiSceneType.Over, true, e);\r\n    }\r\n\r\n    /************ 3D资源调用-结合游戏实际需求 ************/\r\n    /**加载场景资源 */\r\n    loadSceneRes(index = 0) {\r\n        //主场景\r\n        let scene = Laya.loader.getRes(GameMgr.GlData.sceneResUrl);\r\n        Laya.stage.addChild(scene);\r\n        Laya.stage.setChildIndex(scene, index);\r\n        this.mainScene = scene;\r\n\r\n        //遍历查找主相机\r\n        let camera = ExtensionTool.d3_FindNodeByName(scene, 'Main Camera') as Laya.Camera;\r\n        if (camera) {\r\n            this.mainCamera = camera;\r\n        }\r\n        else { GameMgr.ConsoleWarn(\"未找到场景主相机\"); }\r\n\r\n        return scene;\r\n    }\r\n    /**加载预制体资源 */\r\n    loadModelRes() {\r\n        return this.loadResByUrl(GameMgr.GlData.modelResUrl);\r\n    }\r\n    /**根据url加载预制体资源 */\r\n    loadResByUrl(url: string) {\r\n        return Laya.loader.getRes(url);\r\n    }\r\n    /**开启场景阴影 */\r\n    createShadow(light: Laya.DirectionLight) {\r\n        light.shadowMode = Laya.ShadowMode.SoftHigh;\r\n        light.shadowDistance = 60;\r\n        light.shadowResolution = 2048;\r\n        light.shadowCascadesMode = Laya.ShadowCascadesMode.TwoCascades;\r\n        light.shadowNormalBias = 0.4;\r\n        light.shadowStrength = 0.3;\r\n    }\r\n    /**设置场景雾化 */\r\n    setFog(isOpen: boolean, scene?: Laya.Scene3D, color?: Laya.Vector3) {\r\n        scene.enableFog = isOpen;\r\n        if (isOpen) {\r\n            //设置雾化的颜色\r\n            scene.fogColor = color; //\"#33D7E3\"转RGB\r\n            //设置雾化的起始位置，相对于相机的距离\r\n            scene.fogStart = 50;\r\n            //设置雾化最浓处的距离。\r\n            scene.fogRange = 80;\r\n        }\r\n    }\r\n\r\n    //**生成关卡物件(整场游戏都在) */\r\n    bornStageObj(url, parent?): Laya.Sprite3D {\r\n        let obj = ExtensionTool.d3_FindNodeByName(this.prefabs, url).clone() as Laya.Sprite3D;\r\n        if (parent) {\r\n            parent.addChild(obj);\r\n        } else {\r\n            this.mainScene.addChild(obj);\r\n        }\r\n        obj.transform.localPosition = new Laya.Vector3()\r\n        obj.transform.localRotationEuler = new Laya.Vector3();\r\n        obj.transform.localScale = new Laya.Vector3(1, 1, 1);\r\n        return obj\r\n    }\r\n\r\n    //#region 读Json配置文件\r\n    stagesData;\r\n    readJson() {\r\n        //读取json\r\n        GameMgr.Res.addLoadRes(\"配置\");\r\n        //关卡Json\r\n        let urlBase = \"res/json/\";\r\n        let baseEnd = \".json\";\r\n        let allJson = [urlBase + \"StagesConfig\" + baseEnd];\r\n\r\n\r\n\r\n        Laya.loader.load(allJson[0], Laya.Handler.create(this, (data) => {\r\n            GameMgr.ConsoleLog(\"stagesData\", data);\r\n            this.stagesData = data;\r\n            GameMgr.Res.removeLoadRes(\"配置\");\r\n        }), null, Laya.Loader.JSON)\r\n\r\n\r\n    }\r\n    createMap(models: Models, parent: Laya.Sprite3D | Laya.Scene3D) {\r\n        let model = models.self;\r\n        let target = this.prefabs.getChildByName(model.name);\r\n        if (target) {\r\n            var clone = ExtensionTool.d3_CloneSprite(target);\r\n        }\r\n        else {\r\n            clone = new Laya.Sprite3D();\r\n        }\r\n        clone.name = model.name;\r\n\r\n        parent.addChild(clone);\r\n        clone.transform.position = new Laya.Vector3(model.position.x, model.position.y, model.position.z);\r\n        clone.transform.localRotationEuler = new Laya.Vector3(model.rotation.x, model.rotation.y, model.rotation.z);\r\n        // clone.transform.setWorldLossyScale(new Laya.Vector3(model.scale.x, model.scale.y, model.scale.z));\r\n\r\n        if (models.models.length > 0) {\r\n            for (let i = 0; i < models.models.length; i++) {\r\n                this.createMap(models.models[i], clone);\r\n            }\r\n        }\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region 特效生成\r\n    fxPrefabs: Laya.Sprite3D;\r\n    fxInit() {\r\n        this.fxPrefabs = this.prefabs.getChildByName(\"Fx\") as Laya.Sprite3D;\r\n    }\r\n    fxBorn(url, pos: Laya.Vector3, rot: Laya.Quaternion, parent?) {\r\n        let prefab = this.fxPrefabs.getChildByName(url) as Laya.Sprite3D;\r\n        let obj = prefab.clone() as Laya.Sprite3D;\r\n        if (parent) {\r\n            parent.addChild(obj);\r\n        } else {\r\n            this.mainScene.addChild(obj);\r\n        }\r\n        obj.transform.position = pos;\r\n        obj.transform.rotation = rot;\r\n        Laya.timer.once(3000, this, () => { obj.destroy() });\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region 游戏初始化\r\n    //初始化事件\r\n    initEventSpecial() {\r\n        //提示按钮事件\r\n        GameMgr.Event.on(EventType.Tips_UI_Open, this, this.tipsOn);\r\n        GameMgr.Event.on(EventType.Tips_UI_Restart, this, this.tipsRestart);\r\n        GameMgr.Event.on(EventType.Tips_UI_Quit, this, this.tipsQuit);\r\n        //设置按钮事件\r\n        GameMgr.Event.on(EventType.ControlChange, this, this.controlChange)\r\n        GameMgr.Event.on(EventType.settingPanel_On_Event, this, () => { this.ControlOn = false })\r\n        GameMgr.Event.on(EventType.settingPanel_Off_Event, this, () => { this.ControlOn = true })\r\n        //控制事件\r\n        GameMgr.Event.on(TouchEventType.getAxis, this, this.cubeSawControl);\r\n        GameMgr.Event.on(TouchEventType.singleTouchStart, this, this.cubeTouch);\r\n        GameMgr.Event.on(TouchEventType.singleTouchMove, this, this.cubeMove);\r\n        GameMgr.Event.on(TouchEventType.singleTouchEnd, this, this.cubeWayCheck);\r\n        GameMgr.Event.on(TouchEventType.secondTouchMove, this, this.cubeSawControl2);\r\n        //游戏节点类事件\r\n        GameMgr.Event.on(EventType.Load_Res_Msg_Event, this, this.firstIn);\r\n        GameMgr.Event.on(EventType.Init_Game_Event, this, (e) => {\r\n            this.isFirstInit = true;\r\n            this.roundInit()\r\n            if (GameMgr.GlData.playCount > 0) {\r\n                this.gameStart();\r\n                GameMgr.UI.openScene(UiSceneType.Game);\r\n            }\r\n            if (e && e.select) {\r\n                UmengTool.TrackEvent(\"StartLevel\", GameMgr.GlData.nowLevel.toString() + \"select\");\r\n            } else {\r\n                UmengTool.TrackEvent(\"StartLevel\", GameMgr.GlData.nowLevel.toString() + \"normal\");\r\n            }\r\n        });\r\n        GameMgr.Event.on(EventType.Play_Game_Event, this, this.gameStart);\r\n    }\r\n    //**游戏初始化 */\r\n    prefabs: Laya.Sprite3D;\r\n\r\n    firstIn(e) {\r\n        if (!e.allComplete)\r\n            return;\r\n        // localStorage.clear();\r\n        if (GameMgr.GlData.platform == PlatformType.PC) {\r\n            // Laya.Stat.show();\r\n            // localStorage.clear();\r\n        }\r\n        GameMgr.GlData.nowLevel = GameMgr.Storage.storageData.level;\r\n        //预载体获取\r\n        this.prefabs = this.mainScene.getChildByName(\"Prefabs\") as Laya.Sprite3D;\r\n        this.fxInit();\r\n        this.tipsCamera = this.mainCamera.parent.getChildByName(\"TipsCamera\") as Laya.Camera;\r\n        this.tipsCamera.active = false;\r\n        //光源获取\r\n        this.light = this.mainScene.getChildByName(\"Directional Light\") as Laya.DirectionLight;\r\n        this.lightStartPos = this.light.transform.position.clone();\r\n        this.lightStartRot = this.light.transform.rotation.clone();\r\n        //阴影\r\n        this.createShadow(this.light);\r\n        //播放BGM\r\n        GameMgr.Sound.playMusicLoop(SoundType.BGM);\r\n        GameMgr.Event.on(EventType.Platform_Wake_Event, this, () => {\r\n            GameMgr.Sound.playMusicLoop(SoundType.BGM);\r\n        })\r\n        //背景比例\r\n        GameMgr.Level.bg.width = Laya.stage.width;\r\n        GameMgr.Level.bg.height = Laya.stage.height;\r\n        UmengTool.TrackEvent(\"LoadFinish\");\r\n    }\r\n    //#endregion\r\n\r\n    //#region 关卡初始化\r\n    paths = [];\r\n    deadPoint = []\r\n    cubeType;\r\n    fakeLevel = 0;\r\n    minFov = 40;\r\n    maxFov = 60;\r\n    nowCubeId = 0;\r\n    startRot;\r\n    isFirstInit = true;\r\n\r\n    lastLevelIndex = 0;\r\n\r\n    endPoint: Laya.Sprite3D;\r\n\r\n    /**水材质 */\r\n    waterMat: any\r\n\r\n    roundInit() {\r\n\r\n        //#region 清理所有计时器和tween\r\n        if (this.rotTween)\r\n            this.rotTween.clearTween();\r\n        Laya.timer.clearAll(this);\r\n        //#endregion\r\n\r\n        //#region 控制器重新生成\r\n        //Json体生成\r\n        // this.mainScene.addChild(this.light);\r\n        this.touchPanel = null;\r\n        if (this.XGrip) {\r\n            this.XGrip.destroy();\r\n        }\r\n\r\n        // this.createMap(this.xGripData[0], this.mainScene);\r\n        let XgripPrefab = this.prefabs.getChildByName(\"XGrip\") as Laya.Sprite3D;\r\n        //转Json\r\n\r\n        let three = {\r\n            name: \"3*3*3\",\r\n            axel: [],\r\n            scanPlane: []\r\n        }\r\n        let axel = XgripPrefab.getChildByName(\"Axel\") as Laya.Sprite3D;\r\n        let scanPlane = XgripPrefab.getChildByName(\"ScanPlane\") as Laya.Sprite3D;\r\n        // for (let i = 0; i < axel.numChildren; i++) {\r\n        //     let jsonAxel = {\r\n        //         name: \"\",\r\n        //         pos: { x: 0, y: 0, z: 0 },\r\n        //         rot: { x: 0, y: 0, z: 0, w: 0 }\r\n        //     }\r\n        //     let realAxel = axel.getChildAt(i) as Laya.Sprite3D;\r\n        //     jsonAxel.name = realAxel.name;\r\n        //     jsonAxel.pos.x = realAxel.transform.localPosition.x;\r\n        //     jsonAxel.pos.y = realAxel.transform.localPosition.y;\r\n        //     jsonAxel.pos.z = realAxel.transform.localPosition.z;\r\n        //     jsonAxel.rot.x = realAxel.transform.localRotation.x;\r\n        //     jsonAxel.rot.y = realAxel.transform.localRotation.y;\r\n        //     jsonAxel.rot.z = realAxel.transform.localRotation.z;\r\n        //     jsonAxel.rot.w = realAxel.transform.localRotation.w;\r\n        //     three.axel.push(jsonAxel);\r\n        // }\r\n\r\n\r\n        this.XGrip = XgripPrefab.clone() as Laya.Sprite3D;\r\n        this.mainScene.addChild(this.XGrip);\r\n        this.XGrip.transform.position = new Laya.Vector3(0, 0, 0);\r\n\r\n\r\n        //#endregion\r\n\r\n        //#region 选取关卡计算\r\n        this.fakeLevel = GameMgr.GlData.nowLevel - 1;\r\n        // let allStageCount = this.prefabs.getChildByName(\"Stage\").numChildren;\r\n        let allStageCount = this.stagesData.length;\r\n        let levelIndex = this.fakeLevel % (allStageCount) + 1;\r\n        let randomStep = 3;\r\n        let stepsData = [];\r\n        // let levelIndex = 15;\r\n        if (this.fakeLevel > allStageCount - 1) {\r\n            if (this.isFirstInit) {\r\n                let stageIndex = this.fakeLevel - allStageCount;\r\n                if (stageIndex >= GameMgr.Storage.storageData.randomStageInfo.length) {\r\n                    GameMgr.ConsoleLog(\"随机关卡\")\r\n                    let randomStage = [12, 15, 11, 21, 22, 23, 24, 25, 26, 27]\r\n                    levelIndex = randomStage[ExtensionTool.randomInt(0, randomStage.length - 1)];\r\n                    // randomStep = 3 + (this.fakeLevel - allStageCount) / 10\r\n                    this.lastLevelIndex = levelIndex;\r\n                } else {\r\n                    levelIndex = GameMgr.Storage.storageData.randomStageInfo[stageIndex].levelIndex;\r\n                    stepsData = GameMgr.Storage.storageData.randomStageInfo[stageIndex].steps;\r\n                    this.lastLevelIndex = levelIndex;\r\n                }\r\n            } else {\r\n                levelIndex = this.lastLevelIndex;\r\n            }\r\n        }\r\n        //0绿地,1水,2原版\r\n        let styleId = ExtensionTool.randomInt(0, 2);\r\n        if (this.fakeLevel < 15) {\r\n            styleId = 2;\r\n        } else {\r\n            styleId = Math.floor((this.fakeLevel - 15) / 15) % 3;\r\n        }\r\n\r\n        // GameMgr.ConsoleLog(\"建筑风格ID计算\",(this.fakeLevel - 15) / 15,styleId);\r\n        //#endregion\r\n\r\n        //#region 生成关卡\r\n\r\n        //获取关卡信息\r\n        // let stagePrefab = this.prefabs.getChildByName(\"Stage\").getChildAt(levelIndex - 1) as Laya.Sprite3D;\r\n        // let stageInfo = stagePrefab.name.split(\"_\");\r\n        let stageInfo = this.stagesData[levelIndex - 1].name.split(\"_\");\r\n        let type = stageInfo[1];\r\n        //设置魔方控制器\r\n        this.cubeStage = this.XGrip.getChildByName(type) as Laya.Sprite3D;\r\n        this.axel = this.cubeStage.getChildByName(\"Axel\") as Laya.Sprite3D;\r\n        this.scanPlane = this.cubeStage.getChildByName(\"ScanPlane\") as Laya.Sprite3D;\r\n        this.cubeStage.transform.localRotationEuler = new Laya.Vector3();\r\n        //给魔方控制器增加面碰撞体\r\n        this.cubePlaneInit();\r\n\r\n        //#region 生成魔方模型\r\n        if (this.cubes)\r\n            this.cubes.destroy();\r\n        let stage = new Laya.Sprite3D(this.stagesData[levelIndex - 1].name);\r\n        this.mainScene.addChild(stage);\r\n        this.waterMat = null;\r\n        for (let i = 0; i < this.stagesData[levelIndex - 1].cubes.length; i++) {\r\n            let cubeInfo = this.stagesData[levelIndex - 1].cubes[i];\r\n            let cube = this.bornStageObj(cubeInfo.name, stage) as Laya.Sprite3D;\r\n            cube.transform.localPosition = new Laya.Vector3(cubeInfo.pos.x, cubeInfo.pos.y, cubeInfo.pos.z)\r\n            cube.transform.localRotation = new Laya.Quaternion(cubeInfo.rot.x, cubeInfo.rot.y, cubeInfo.rot.z, cubeInfo.rot.w)\r\n            let model = cube.getChildAt(0) as Laya.Sprite3D;\r\n            for (let j = 0; j < model.numChildren; j++) {\r\n                model.getChildAt(j).active = false;\r\n            }\r\n            model.getChildAt(styleId).active = true;\r\n            if (styleId == 1) {\r\n                if (!this.waterMat) {\r\n                    let cube = model.getChildAt(styleId) as Laya.MeshSprite3D;\r\n                    let mats = cube.meshRenderer.sharedMaterials;\r\n                    this.waterMat = mats.filter(w => { return w.name.indexOf(\"sea\") != -1 })[0];\r\n                    Laya.timer.loop(16, this, () => {\r\n                        this.waterMat.tilingOffsetW -= 0.002;\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        this.cubes = stage;\r\n        this.cubes.transform.localPosition = new Laya.Vector3();\r\n\r\n        // GameMgr.ConsoleLog(this.stagesData[levelIndex - 1])\r\n        this.startRot = new Laya.Quaternion(this.stagesData[levelIndex - 1].rot.x, this.stagesData[levelIndex - 1].rot.y, this.stagesData[levelIndex - 1].rot.z, this.stagesData[levelIndex - 1].rot.w);\r\n\r\n        this.cubeStage.addChild(this.cubes);\r\n        this.cubes.transform.localRotationEuler = new Laya.Vector3(0, 0, 0);\r\n        this.cubeStage.transform.localRotation = this.startRot;\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        //#region 获取魔方身上的path点\r\n        this.paths = [];\r\n        this.deadPoint = [];\r\n        let allTerrainsPoint = [];\r\n        for (let i = 0; i < this.cubes.numChildren; i++) {\r\n            let cube = this.cubes.getChildAt(i);\r\n            let pathNode = cube.getChildByName(\"path\") as Laya.Sprite3D;\r\n            let path = [];\r\n            if (!pathNode) {\r\n                this.paths.push(path);\r\n            } else {\r\n                for (let j = 0; j < pathNode.numChildren; j++) {\r\n                    let point = pathNode.getChildAt(j) as Laya.Sprite3D;\r\n                    let count = 0;\r\n\r\n                    //#region 2*2*2死路点计算\r\n                    if (type == \"2*2*2\") {\r\n                        if (Math.abs(Math.abs(point.transform.position.x) - 6.5) < 1) {\r\n                            count++;\r\n                        }\r\n                        if (Math.abs(Math.abs(point.transform.position.y) - 6.5) < 1) {\r\n                            count++;\r\n                        }\r\n                        if (Math.abs(Math.abs(point.transform.position.z) - 6.5) < 1) {\r\n                            count++;\r\n                        }\r\n                        if (count > 1 && point.name != \"rotate\") {\r\n                            if (i != this.cubes.numChildren - 1) {\r\n                                this.deadPoint.push(new Laya.Vector2(i, j));\r\n                                GameMgr.ConsoleLog(\"死路点\", i, j);\r\n                            } else {\r\n                                GameMgr.ConsoleLog(\"终点不算死路\");\r\n                            }\r\n                        }\r\n                    }\r\n                    //#endregion\r\n\r\n                    //#region 3*3*3死路点计算\r\n                    if (type == \"3*3*3\") {\r\n                        if (Math.abs(Math.abs(point.transform.position.x) - 9.75) < 1) {\r\n                            count++;\r\n                        }\r\n                        if (Math.abs(Math.abs(point.transform.position.y) - 9.75) < 1) {\r\n                            count++;\r\n                        }\r\n                        if (Math.abs(Math.abs(point.transform.position.z) - 9.75) < 1) {\r\n                            count++;\r\n                        }\r\n\r\n                    }\r\n                    if (count > 1 && point.name != \"rotate\") {\r\n                        GameMgr.ConsoleLog(count, point.transform.position);\r\n                        if (i != this.cubes.numChildren - 1) {\r\n                            this.deadPoint.push(new Laya.Vector2(i, j));\r\n                            GameMgr.ConsoleLog(\"死路点\", i, j);\r\n                        } else {\r\n                            GameMgr.ConsoleLog(\"终点不算死路\");\r\n                        }\r\n                    }\r\n                    //#endregion\r\n\r\n                    path.push(point);\r\n                }\r\n                this.paths.push(path);\r\n            }\r\n            //魔方属性\r\n            let terrains = cube.getChildByName(\"terrains\") as Laya.Sprite3D;\r\n            //魔方的所有装饰点\r\n            for (let a = 0; a < terrains.numChildren; a++) {\r\n                let point = terrains.getChildAt(a) as Laya.Sprite3D;\r\n                allTerrainsPoint.push(point);\r\n            }\r\n        }\r\n\r\n        //#region 给魔方增加装饰物\r\n        //装饰点去重\r\n        let reapetId = [];\r\n        for (let i = 0; i < allTerrainsPoint.length; i++) {\r\n            for (let j = i + 1; j < allTerrainsPoint.length; j++) {\r\n\r\n                if (MyVector3.distance(allTerrainsPoint[i].transform.position.clone(), allTerrainsPoint[j].transform.position.clone()) < 1) {\r\n                    let typeI = allTerrainsPoint[i].getChildAt(0).name;\r\n                    let typeJ = allTerrainsPoint[j].getChildAt(0).name;\r\n                    if (typeI == \"empty\" && typeJ != \"empty\") {\r\n                        reapetId.push(i);\r\n                    } else if (typeI != \"empty\" && typeJ == \"empty\") {\r\n                        reapetId.push(j);\r\n                    } else {\r\n                        reapetId.push(i);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (let j = 0; j < this.scanPlane.numChildren; j++) {\r\n            //外表面代表点\r\n            let scanPoint = this.scanPlane.getChildAt(j) as Laya.Sprite3D;\r\n            for (let a = 0; a < allTerrainsPoint.length; a++) {\r\n                if (reapetId.indexOf(a) != -1) {\r\n                    continue;\r\n                }\r\n                //魔方的属性点\r\n                let point = allTerrainsPoint[a] as Laya.Sprite3D;\r\n                //外表面点与魔方属性点是否重合，重合则生成装饰\r\n                if (MyVector3.distance(scanPoint.transform.position.clone(), point.transform.position.clone()) < 1) {\r\n                    //生成装饰\r\n                    let bornPoint = point.getChildAt(0) as Laya.Sprite3D;\r\n                    let info = bornPoint.name;\r\n                    let bornPrecent = 1;\r\n                    switch (type) {\r\n                        case \"3*3*3\":\r\n                            bornPrecent = 0.25;\r\n                            // bornPrecent = 0.3;\r\n                            break;\r\n                        case \"2*2*2\":\r\n                            bornPrecent = 0.15;\r\n                            break;\r\n                        case \"2*2*1\":\r\n                            bornPrecent = 0.05;\r\n                            break;\r\n                        case \"1*2*1\":\r\n                            bornPrecent = 0;\r\n                            break;\r\n                    }\r\n                    this.bornTerrains(styleId, info, bornPoint, bornPrecent);\r\n                }\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n\r\n        this.cubeType = type;\r\n        //#region 增加起点建筑、终点建筑\r\n        let startObj = this.bornStageObj(\"Start\", this.paths[0][0])\r\n        for (let i = 0; i < startObj.numChildren; i++) {\r\n            if (i != styleId) {\r\n                startObj.getChildAt(i).active = false;\r\n            }\r\n        }\r\n        for (let i = this.paths.length - 1; i >= 0; i++) {\r\n            let endPath = this.paths[i];\r\n            if (endPath.length > 0) {\r\n                let endObj = this.bornStageObj(\"End\", this.paths[i][this.paths[i].length - 1]);\r\n                for (let j = 0; j < endObj.numChildren; j++) {\r\n                    if (j != styleId) {\r\n                        endObj.getChildAt(j).active = false;\r\n                    }\r\n                }\r\n                this.endPoint = endObj;\r\n                break;\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        //#region 根据不同类型切换，摄像机Fov,旋转速度,关卡信息\r\n\r\n        let randomAxel = [\"up\", \"bottom\"];\r\n        let mainCam = this.mainCamera;\r\n        let tipCam = this.tipsCamera;\r\n        let posMain = mainCam.transform.position.clone();\r\n        let posTip = tipCam.transform.position.clone();\r\n        switch (type) {\r\n            case \"3*3*3\":\r\n                this.minFov = 60\r\n                this.maxFov = 80;\r\n                randomAxel = [];\r\n                posMain.y = -5;\r\n                posTip.y = -5;\r\n                for (let i = 0; i < this.axel.numChildren; i++) {\r\n                    randomAxel.push(this.axel.getChildAt(i).name);\r\n                }\r\n                break;\r\n            case \"2*2*2\":\r\n                this.minFov = 45\r\n                this.maxFov = 65;\r\n                randomAxel = [];\r\n                posMain.y = -3.5;\r\n                posTip.y = -3;\r\n                for (let i = 0; i < this.axel.numChildren; i++) {\r\n                    randomAxel.push(this.axel.getChildAt(i).name);\r\n                }\r\n                break;\r\n            case \"2*2*1\":\r\n                this.minFov = 40\r\n                this.maxFov = 60;\r\n                randomAxel = [];\r\n                posMain.y = -2.75;\r\n                posTip.y = -1;\r\n                for (let i = 0; i < this.axel.numChildren; i++) {\r\n                    randomAxel.push(this.axel.getChildAt(i).name);\r\n                }\r\n                break;\r\n            case \"1*2*1\":\r\n                this.minFov = 30\r\n                this.maxFov = 50;\r\n                randomAxel = [];\r\n                posMain.y = -2.5;\r\n                posTip.y = 0;\r\n                for (let i = 0; i < this.axel.numChildren; i++) {\r\n                    randomAxel.push(this.axel.getChildAt(i).name);\r\n                }\r\n                break;\r\n        }\r\n\r\n        mainCam.transform.position = posMain;\r\n        this.tipsCamera.transform.position = posTip;\r\n        this.mainCamera.fieldOfView = (this.maxFov + this.minFov) / 1.8;\r\n        //#endregion\r\n\r\n        //#region 车生成\r\n        if (this.car)\r\n            this.car.destroy();\r\n        let carPrefab = this.prefabs.getChildByName(\"Objs\").getChildByName(\"Car\") as Laya.Sprite3D;\r\n        this.car = carPrefab.clone() as Laya.Sprite3D;\r\n        //车开始初始化\r\n        let startPoint: Laya.Sprite3D = this.paths[0][0];\r\n        let nextPoint: Laya.Sprite3D = this.paths[0][1];\r\n        let cubeStart = startPoint.parent.parent;\r\n        cubeStart.addChild(this.car);\r\n        let startPos = startPoint.transform.position.clone();\r\n        let way = MyVector3.normalized(MyVector3.subtract(nextPoint.transform.position.clone(), startPos));\r\n        this.car.transform.position = MyVector3.add(startPos, MyVector3.mull(way, 0.8));;\r\n        this.car.transform.rotation = this.paths[0][0].transform.rotation.clone();\r\n        let carGrip = this.car.getChildByName(\"Grip\");\r\n        for (let i = 0; i < carGrip.numChildren; i++) {\r\n            if (i != styleId) {\r\n                carGrip.getChildAt(i).active = false;\r\n            }\r\n        }\r\n        this.nowCubeId = 0;\r\n        //#endregion\r\n\r\n        //#region 步骤初始化\r\n        this.stepsInit();\r\n        //#endregion\r\n\r\n        //#region 将魔方打乱\r\n        if (this.isFirstInit) {\r\n            switch (this.fakeLevel + 1) {\r\n                case 1:\r\n                    this.cubeRotateStart(\"up\", \"reduce\");\r\n                    break;\r\n                case 2:\r\n                    this.cubeRotateStart(\"bottom\", \"reduce\");\r\n                    break;\r\n                case 3:\r\n                    this.cubeRotateStart(\"bottom\", \"add\");\r\n                    this.cubeRotateStart(\"bottom\", \"add\");\r\n                    break;\r\n                case 4:\r\n                    this.cubeRotateStart(\"bottom\", \"reduce\");\r\n                    break;\r\n                case 5:\r\n                    this.cubeRotateStart(\"left\", \"add\");\r\n                    break;\r\n                case 6:\r\n                    this.cubeRotateStart(\"left\", \"add\");\r\n                    break;\r\n                case 7:\r\n                    this.cubeRotateStart(\"bottom\", \"add\");\r\n                    break;\r\n                case 8:\r\n                    this.cubeRotateStart(\"front\", \"reduce\");\r\n                    break;\r\n                case 9:\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    break;\r\n                case 10:\r\n                    this.cubeRotateStart(\"front\", \"reduce\");\r\n                    this.cubeRotateStart(\"front\", \"reduce\");\r\n                    break;\r\n                case 11:\r\n                    this.cubeRotateStart(\"bottom\", \"add\");\r\n                    this.cubeRotateStart(\"bottom\", \"add\");\r\n                    // this.cubeRotateStart(\"front\", \"add\");\r\n                    break;\r\n                case 12:\r\n                    this.cubeRotateStart(\"front\", \"reduce\");\r\n                    this.cubeRotateStart(\"front\", \"reduce\");\r\n                    // this.cubeRotateStart(\"up\", \"add\");\r\n                    // this.cubeRotateStart(\"front\", \"reduce\");\r\n                    break;\r\n                case 13:\r\n                    this.cubeRotateStart(\"left\", \"add\");\r\n                    this.cubeRotateStart(\"left\", \"add\");\r\n                    // this.cubeRotateStart(\"up\", \"add\");\r\n                    // this.cubeRotateStart(\"up\", \"add\");\r\n                    // this.cubeRotateStart(\"front\", \"reduce\");\r\n                    // this.cubeRotateStart(\"front\", \"add\");\r\n                    // this.cubeRotateStart(\"back\",\"reduce\");\r\n                    break;\r\n                case 14:\r\n                    // this.cubeRotateStart(\"bottom\", \"add\");\r\n                    // this.cubeRotateStart(\"front\", \"add\");\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    break;\r\n                case 15:\r\n                    // this.cubeRotateStart(\"bottom\", \"add\");\r\n                    // this.cubeRotateStart(\"front\", \"add\");\r\n                    this.cubeRotateStart(stepEnum.front, stepEnum.reduce);\r\n                    this.cubeRotateStart(\"left\", \"add\");\r\n                    break;\r\n                case 16:\r\n                    this.cubeRotateStart(stepEnum.front, stepEnum.reduce);\r\n                    this.cubeRotateStart(stepEnum.bottom, stepEnum.reduce);\r\n                    break;\r\n                case 17:\r\n                    this.cubeRotateStart(stepEnum.bottom, stepEnum.add);\r\n                    this.cubeRotateStart(stepEnum.front, stepEnum.reduce);\r\n                    break;\r\n                case 18:\r\n                    this.cubeRotateStart(stepEnum.front, stepEnum.reduce);\r\n                    this.cubeRotateStart(stepEnum.bottom, stepEnum.reduce);\r\n                    break;\r\n                case 19:\r\n                    this.cubeRotateStart(stepEnum.left, stepEnum.add);\r\n                    this.cubeRotateStart(stepEnum.front, stepEnum.reduce);\r\n                    break;\r\n                case 20:\r\n                    this.cubeRotateStart(\"right\", \"add\");\r\n                    this.cubeRotateStart(\"back\", \"add\");\r\n                    break;\r\n                case 21:\r\n                    this.cubeRotateStart(\"left\", \"add\");\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    this.cubeRotateStart(\"bottom\", \"add\");\r\n                    break;\r\n                case 22:\r\n                    this.cubeRotateStart(\"left\", \"reduce\");\r\n                    this.cubeRotateStart(stepEnum.front, stepEnum.reduce);\r\n                    this.cubeRotateStart(stepEnum.bottom, stepEnum.add);\r\n                    break;\r\n                case 23:\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    this.cubeRotateStart(\"up\", \"reduce\");\r\n                    this.cubeRotateStart(\"back\", \"reduce\");\r\n                    break;\r\n                case 24:\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    this.cubeRotateStart(\"bottom\", \"reduce\");\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    break;\r\n                case 25:\r\n                    this.cubeRotateStart(\"back\", \"add\");\r\n                    this.cubeRotateStart(\"midZ\", 'add');\r\n                    break;\r\n                case 26:\r\n                    this.cubeRotateStart(\"midY\", \"reduce\");\r\n                    break;\r\n                case 27:\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    break;\r\n                case 28:\r\n                    this.cubeRotateStart(\"midZ\", \"add\");\r\n                    break;\r\n                case 29:\r\n                    this.cubeRotateStart(\"bottom\", \"reduce\");\r\n                    // this.cubeRotateStart(\"left\", \"add\");\r\n                    break;\r\n                case 30:\r\n                    // this.cubeRotateStart(\"left\", \"add\");\r\n                    this.cubeRotateStart(\"back\", \"add\");\r\n                    break;\r\n                case 31:\r\n                    this.cubeRotateStart(\"right\", \"reduce\");\r\n                    this.cubeRotateStart(\"midZ\", \"add\");\r\n                    break;\r\n                case 32:\r\n                    this.cubeRotateStart(\"midY\", \"add\");\r\n                    this.cubeRotateStart(\"front\", \"add\");\r\n                    break;\r\n                case 33:\r\n                    this.cubeRotateStart(\"back\", \"reduce\");\r\n                    this.cubeRotateStart(\"bottom\", \"reduce\");\r\n                    break;\r\n                case 34:\r\n                    this.cubeRotateStart(\"midZ\", \"add\");\r\n                    this.cubeRotateStart(\"up\", \"add\");\r\n                    break;\r\n                case 35:\r\n                    this.cubeRotateStart(\"midZ\", \"add\");\r\n                    this.cubeRotateStart(\"left\", \"add\");\r\n                    break;\r\n                default:\r\n                    if (stepsData.length > 0) {\r\n                        for (let i = 0; i < stepsData.length; i++) {\r\n                            this.cubeRotateStart(stepsData[i].axelOrCubeId, stepsData[i].way);\r\n                        }\r\n                    } else {\r\n                        //随机转动步数\r\n                        for (let i = 0; i < randomStep; i++) {\r\n                            let axel = randomAxel[ExtensionTool.randomInt(0, randomAxel.length - 1)];\r\n                            let action = \"add\";\r\n                            if (ExtensionTool.halfPercent()) {\r\n                                action = \"reduce\";\r\n                            }\r\n                            this.cubeRotateStart(axel, action);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        } else {\r\n            for (let i = 0; i < this.startSteps.length; i++) {\r\n                this.cubeRotateStart(this.startSteps[i].axelOrCubeId, this.startSteps[i].way);\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region 旋转update初始化\r\n        Laya.timer.clear(this, this.rotUpdate);\r\n        Laya.timer.frameLoop(1, this, this.rotUpdate);\r\n        //#endregion\r\n\r\n        //#region 视角控制初始化\r\n        this.controlChange(0);\r\n        // this.cubeStage.transform.localRotationEuler = new Laya.Vector3(0, 120, 0);\r\n\r\n        // this.cubeStage.addChild(this.light);\r\n        // this.light.transform.position = this.lightStartPos;\r\n        // this.light.transform.rotation = this.lightStartRot;\r\n        //#endregion\r\n\r\n        //#region 第一次初始化处理\r\n        if (this.isFirstInit) {\r\n            this.isFirstInit = false;\r\n            this.isTips = false;\r\n            let stageIndex = this.fakeLevel - allStageCount;\r\n            if (stageIndex >= GameMgr.Storage.storageData.randomStageInfo.length) {\r\n                let randomStageData = {\r\n                    levelIndex: levelIndex,\r\n                    steps: ExtensionTool.cloneArray(this.startSteps)\r\n                }\r\n                GameMgr.Storage.writeRandomStageData(randomStageData);\r\n            }\r\n            // let tipsCamera = this.mainCamera.parent.getChildByName(\"TipsCamera\") as Laya.Camera;\r\n            // tipsCamera.active = false;\r\n        }\r\n        //#endregion\r\n\r\n        //#region 保证起始点一开始能看见处理\r\n        let up = new Laya.Vector3();\r\n        startPoint.transform.getUp(up);\r\n        // this.nowRot = new Laya.Vector3(0, -50, 0);\r\n        // this.targetRot = this.nowRot\r\n        // this.cubeStage.transform.localRotationEuler = new Laya.Vector3(0, -50, 0);\r\n        if (Math.abs(up.x) < 0.1) {\r\n            up.x = 0;\r\n        }\r\n        if (Math.abs(up.y) < 0.1) {\r\n            up.y = 0;\r\n        }\r\n        if (Math.abs(up.z) < 0.1) {\r\n            up.z = 0;\r\n        }\r\n        this.nowRot.x = 20;\r\n        if (up.y > 0 || (up.x < 0 && up.z > 0) || (up.x > 0 && up.z > 0)) {\r\n            GameMgr.ConsoleLog(\"正面不用处理\");\r\n        } else {\r\n            GameMgr.ConsoleLog(\"背面\");\r\n            this.nowRot.y += 180;\r\n            this.targetRot.y = this.nowRot.y;\r\n            if (up.y < 0) {\r\n                this.nowRot.x = -20;\r\n                this.targetRot.x = -20\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        GameMgr.ConsoleLog(\"初始化完毕\")\r\n    }\r\n    //#endregion\r\n\r\n    //#region 游戏进程控制\r\n    isFinish = false;\r\n    isRealFinish = false;\r\n    //**游戏开始 */\r\n    gameStart() {\r\n        this.isFinish = false;\r\n        this.isRealFinish = false;\r\n        // this.ControlOn = true;\r\n        this.CarStartGo();\r\n        GameMgr.Sound.playMusicLoop(SoundType.BGM);\r\n        GameMgr.ConsoleLog(\"游戏开始\")\r\n    }\r\n    //重启当前关卡\r\n    gameRestart() {\r\n        if (!this.isFinish) {\r\n            this.roundInit();\r\n            this.CarStartGo();\r\n        } else if (this.isTips) {\r\n            this.roundInit();\r\n            this.CarStartGo();\r\n            this.isFinish = false;\r\n            this.isRealFinish = false;\r\n        }\r\n    }\r\n    //游戏结束\r\n    gameFinish() {\r\n        // if (this.isTips)\r\n        //     return;\r\n        this.isFinish = true;\r\n    }\r\n    gameRealFinish() {\r\n        if (this.isRealFinish) {\r\n            return;\r\n        }\r\n        this.fxBorn(fxType.ConfettiBlastRainbow, this.car.transform.position.clone(), this.car.transform.rotation.clone(), this.endPoint);\r\n        this.car.active = false;\r\n        GameMgr.Sound.play(SoundType.Win);\r\n        this.isRealFinish = true;\r\n        // this.ControlOn = false;\r\n        if (this.isTips)\r\n            return;\r\n        Laya.timer.once(2000, this, () => {\r\n            GameMgr.Event.event(EventType.Over_Game_Event, { isWin: true })\r\n        })\r\n    }\r\n    jumpStage() {\r\n        this.isFinish = true;\r\n        this.car.active = false;\r\n        this.isRealFinish = true;\r\n        GameMgr.Event.event(EventType.Over_Game_Event, { isWin: true })\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region 玩家控制逻辑 \r\n    ControlOn = true;\r\n\r\n    //按下判断\r\n    cubeTouch(e) {\r\n        if (!this.ControlOn)\r\n            return;\r\n        this.point = new Laya.Vector2();\r\n        this.out = new Laya.HitResult();\r\n        this.point.x = e.stageX * Laya.stage.clientScaleX;\r\n        this.point.y = e.stageY * Laya.stage.clientScaleY;\r\n        this.mainCamera.viewportPointToRay(this.point, this.ray);\r\n        this.mainScene.physicsSimulation.rayCast(this.ray, this.out)\r\n\r\n        // GameMgr.ConsoleLog(this.point, this.ray, this.out)\r\n        let canControlCube = this.out.succeeded && !this.isTips;\r\n        let canControlSaw = true;\r\n\r\n        if (this.isRealFinish) {\r\n            canControlCube = false;\r\n        }\r\n\r\n        if (canControlCube) {\r\n            // let canRotateAxel = this.out.collider.owner.name.split(\"_\");\r\n            this.touchPanel = this.out.collider.owner as Laya.Sprite3D;\r\n            // GameMgr.ConsoleLog(this.touchPanel.name, this.touchPanel.transform.position);\r\n\r\n            // GameMgr.ConsoleLog(\"能转动轴\", canRotateAxel);\r\n            // this.canRotateAxelNames = canRotateAxel;\r\n            this.isSawCanControl = false;\r\n            this.isCanCubeControl = true;\r\n            this.startPos.x = this.point.x;\r\n            this.startPos.y = this.point.y;\r\n            this.nowPos.x = this.point.x;\r\n            this.nowPos.y = this.point.y;\r\n        } else if (canControlSaw) {\r\n            // GameMgr.ConsoleLog(\"转动视角\");\r\n            this.isSawCanControl = true;\r\n            this.isCanCubeControl = false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //移动\r\n\r\n    //#region 视角\r\n    isSecond = false;\r\n    isSawCanControl = false;\r\n    rotLerpAxis;\r\n\r\n    rotateSawSpeed = 22.5;\r\n    maxLerpAxis = 0.3;\r\n    minLerpAxis = 0.001;\r\n\r\n    targetRot = new Laya.Vector3();\r\n    nowRot = new Laya.Vector3();\r\n    //视角update\r\n    rotUpdate() {\r\n        let goRot = new Laya.Vector3();\r\n        let distance = MyVector3.distance(this.targetRot, this.nowRot)\r\n        // if (distance > 1 / (1 - this.maxLerpAxis)) {\r\n        //     this.rotLerpAxis = this.maxLerpAxis;\r\n        // }\r\n        // else if (distance > 1 / (1 - this.minLerpAxis)) {\r\n        //     this.rotLerpAxis = 1 - 1 / distance;\r\n        // }\r\n        // else {\r\n        //     this.rotLerpAxis = 0;\r\n        // }\r\n        this.rotLerpAxis = this.maxLerpAxis;\r\n\r\n        Laya.Vector3.lerp(this.nowRot, this.targetRot, this.rotLerpAxis, goRot);\r\n        this.nowRot = goRot;\r\n        switch (this.sawControlType) {\r\n            case 0:\r\n                this.XGrip.transform.localRotationEuler = new Laya.Vector3(this.nowRot.x, 0, 0);\r\n                this.cubeStage.transform.localRotationEuler = new Laya.Vector3(0, this.nowRot.y, 0);\r\n                break;\r\n        }\r\n    }\r\n    //\r\n    //控制改变\r\n    controlChange(type) {\r\n        this.sawControlType = type;\r\n\r\n        if (this.sawControlType == 1) {\r\n\r\n        } else if (this.sawControlType == 0) {\r\n            this.XGrip.transform.localRotationEuler = new Laya.Vector3(30, 0, 0);\r\n            if (this.startRot)\r\n                this.cubeStage.transform.rotation = this.startRot;\r\n            this.targetRot = new Laya.Vector3(this.XGrip.transform.localRotationEuler.x, this.cubeStage.transform.localRotationEuler.y, 0)\r\n            this.nowRot = this.targetRot;\r\n        }\r\n        GameMgr.ConsoleLog(\"控制改变\", this.sawControlType);\r\n    }\r\n    cubeSawControl(e) {\r\n        if (!this.isSawCanControl)\r\n            return;\r\n        if (!this.ControlOn)\r\n            return;\r\n        let x = e.x;\r\n        let y = e.y;\r\n        // GameMgr.ConsoleLog(e.x, e.y);\r\n        let rot = new Laya.Vector3(y * this.rotateSawSpeed * 0.01, x * this.rotateSawSpeed * 0.01, 0)\r\n        let nowX;\r\n        let nowY;\r\n        switch (this.sawControlType) {\r\n            case 0:\r\n                nowX = this.targetRot.x + rot.x;\r\n                if (nowX >= 90) {\r\n                    nowX = 90;\r\n                } else if (nowX <= -90) {\r\n                    nowX = -90;\r\n                }\r\n                nowY = this.targetRot.y + rot.y;\r\n                this.targetRot = new Laya.Vector3(nowX, nowY, 0);\r\n                // this.XGrip.transform.localRotationEuler = new Laya.Vector3(nowX, 0, 0);\r\n                // this.cubeStage.transform.rotate(new Laya.Vector3(0, rot.y, 0), true, false);\r\n                break;\r\n            case 1:\r\n                // this.targetRot = rot;\r\n                this.cubeStage.transform.rotate(rot, false, false);\r\n                break;\r\n        }\r\n    }\r\n    cubeSawControl2(d) {\r\n        if (!this.ControlOn)\r\n            return;\r\n        let nowFov;\r\n        let axis;\r\n        switch (this.sawControlType) {\r\n            case 0:\r\n                nowFov = this.mainCamera.fieldOfView;\r\n                axis = (nowFov - this.minFov) / (this.maxFov - this.minFov) - d.distance * 0.02 * 260;\r\n                this.mainCamera.fieldOfView = ExtensionTool.numberLerp(this.minFov, this.maxFov, axis)\r\n                break;\r\n            case 1:\r\n                this.cubeStage.transform.rotate(new Laya.Vector3(0, 0, -d.angle * 0.5 * this.rotateSawSpeed), false, false);\r\n                nowFov = this.mainCamera.fieldOfView;\r\n                axis = (nowFov - this.minFov) / (this.maxFov - this.minFov) - d.distance * 0.5 * 260;\r\n                this.mainCamera.fieldOfView = ExtensionTool.numberLerp(this.minFov, this.maxFov, axis)\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    //#endregion\r\n\r\n    //#region 方块移动\r\n    cubeControlType = 1;\r\n    startPos = new Laya.Vector2();\r\n    nowPos = new Laya.Vector2();\r\n    isCanCubeControl = false;\r\n    isCubeMoving = false;\r\n    cubeMove(e) {\r\n        if (!this.ControlOn)\r\n            return;\r\n        if (!this.isCanCubeControl)\r\n            return;\r\n        if (this.isCubeMoving)\r\n            return;\r\n        this.point = new Laya.Vector2();\r\n        this.out = new Laya.HitResult();\r\n        this.point.x = e.stageX * Laya.stage.clientScaleX;\r\n        this.point.y = e.stageY * Laya.stage.clientScaleY;\r\n        this.mainCamera.viewportPointToRay(this.point, this.ray);\r\n        this.mainScene.physicsSimulation.rayCast(this.ray, this.out)\r\n\r\n        if (this.out.succeeded) {\r\n            this.nowPos.x = this.point.x;\r\n            this.nowPos.y = this.point.y;\r\n        } else {\r\n            let dir = Tools.Vector2Reduce(this.nowPos, this.startPos);\r\n            let sensitivityScale = 100;\r\n            if (Laya.Vector2.scalarLength(dir) < sensitivityScale) {\r\n                this.isSawCanControl = true;\r\n                this.isCanCubeControl = false;\r\n            }\r\n        }\r\n    }\r\n    //松开\r\n    cubeWayCheck(e) {\r\n        if (!this.ControlOn)\r\n            return;\r\n        if (!this.isCanCubeControl)\r\n            return;\r\n        if (this.isCubeMoving)\r\n            return;\r\n        if (!this.touchPanel)\r\n            return;\r\n        //#region 获取当前面不同方向对应的转动行为\r\n        let calls = [];\r\n        let angles = [];\r\n        let points = [];\r\n        let action = [];\r\n        let dirs = [];\r\n        let midPoint = ExtensionTool.d3_getSpritePosBySprite3DPoint(this.touchPanel);\r\n        for (let i = 0; i < this.touchPanel.numChildren; i++) {\r\n            let point3D = this.touchPanel.getChildAt(i) as Laya.Sprite3D;\r\n            if (point3D) {\r\n                let point = ExtensionTool.d3_getSpritePosBySprite3DPoint(point3D);\r\n                let outWay = new Laya.Vector2(point.x - midPoint.x, point.y - midPoint.y);;\r\n                points.push(point);\r\n                action.push(point3D.name);\r\n                dirs.push(outWay);\r\n            }\r\n        }\r\n        //#endregion\r\n        //#region 玩家划动方向 执行当前面对应的转动行为\r\n        let dir = Tools.Vector2Reduce(this.nowPos, this.startPos);\r\n\r\n        let info;\r\n        let closestAngle = 10000;\r\n        let sensitivityScale = 100;\r\n        let closestId = -1;\r\n        let closetDistance = 10000;\r\n        switch (this.cubeControlType) {\r\n            case 0:\r\n                if (Laya.Vector2.scalarLength(dir) > sensitivityScale) {\r\n                    for (let i = 0; i < points.length; i++) {\r\n                        let dis = Laya.Vector2.scalarLength(Tools.Vector2Reduce(this.nowPos, points[i]))\r\n                        if (dis < closetDistance) {\r\n                            closetDistance = dis;\r\n                            closestId = i;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case 1:\r\n                if (Laya.Vector2.scalarLength(dir) > sensitivityScale) {\r\n                    for (let i = 0; i < dirs.length; i++) {\r\n                        let angle = ExtensionTool.getAngle2D(dir, dirs[i])\r\n                        if (angle < closestAngle) {\r\n                            closestAngle = angle;\r\n                            closestId = i;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        if (closestId != -1) {\r\n            info = action[closestId].split(\"_\");\r\n            let rotateAxelName = info[0];\r\n            let actionDo = info[1];\r\n            this.cubeRotate(rotateAxelName, actionDo, false);\r\n        }\r\n        //#endregion\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region 方块操作API\r\n    ray;\r\n    out;\r\n    point;\r\n    canRotateAxelNames;\r\n    touchPanel: Laya.Sprite3D;\r\n    colliders = [];\r\n    cubePlaneInit() {\r\n        //清除之前的碰撞体\r\n        for (let i = 0; i < this.colliders.length; i++) {\r\n            this.colliders[i].destroy();\r\n        }\r\n        //给面给予碰撞体\r\n        for (let i = 0; i < this.scanPlane.numChildren; i++) {\r\n            let obj = this.scanPlane.getChildAt(i) as Laya.Sprite3D\r\n            let collider = obj.addComponent(Laya.PhysicsCollider);\r\n            let shape = new Laya.BoxColliderShape(6.5, 0, 6.5);\r\n            collider.colliderShape = shape;\r\n            this.colliders.push(collider);\r\n        }\r\n        //射线初始化\r\n        this.mainScene.physicsSimulation.continuousCollisionDetection = true;\r\n        this.ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));\r\n        this.point = new Laya.Vector2(0, 0);\r\n        this.out = new Laya.HitResult();\r\n    }\r\n\r\n\r\n    //旋转执行\r\n    rotTween: D3Tween;\r\n    cubeRotate(rotateAxelName, actionDo, isBacktracking = false, endCallBack?) {\r\n\r\n        //塞入对应方块到转动axel\r\n        let axel = this.axel.getChildByName(rotateAxelName) as Laya.Sprite3D;\r\n        // GameMgr.ConsoleLog(\"旋转轴\", rotateAxelName, axel);\r\n        let minAxel = axel.getChildByName(\"axel\") as Laya.Sprite3D;\r\n        if (axel) {\r\n            let rotateCubes: Laya.Sprite3D[] = [];\r\n            for (let j = 0; j < minAxel.numChildren; j++) {\r\n                let axelPoint = minAxel.getChildAt(j) as Laya.Sprite3D;\r\n                for (let a = this.cubes.numChildren - 1; a >= 0; a--) {\r\n                    let cubePoint = this.cubes.getChildAt(a) as Laya.Sprite3D;\r\n                    let distance = MyVector3.distance(axelPoint.transform.position.clone(), cubePoint.transform.position.clone())\r\n                    if (distance < 1) {\r\n                        let pos1 = cubePoint.transform.position.clone();\r\n                        let rot1 = cubePoint.transform.rotation.clone();\r\n                        axelPoint.addChild(cubePoint);\r\n                        rotateCubes.push(cubePoint);\r\n                        cubePoint.transform.position = pos1;\r\n                        cubePoint.transform.rotation = rot1;\r\n                    }\r\n                }\r\n            }\r\n            //转动轴\r\n            this.rotTween = new D3Tween();\r\n            let targetRot = minAxel.transform.localRotationEuler.clone();\r\n            minAxel.transform.localRotationEuler = targetRot;\r\n            if (actionDo == \"add\") {\r\n                targetRot.y -= 90;\r\n                if (this.cubeType == \"2*2*1\") {\r\n                    targetRot.y -= 90;\r\n                }\r\n            } else if (actionDo == \"reduce\") {\r\n                targetRot.y += 90;\r\n                if (this.cubeType == \"2*2*1\") {\r\n                    targetRot.y += 90;\r\n                }\r\n            } else {\r\n                GameMgr.ConsoleError(\"行为信息错误\", actionDo);\r\n            }\r\n            // GameMgr.ConsoleLog(\"行为\", axel.name, actionDo);\r\n            let self = this;\r\n            this.isCubeMoving = true;\r\n            let time = 300;\r\n            if (this.cubeType == \"2*2*1\") {\r\n                time = 600\r\n            }\r\n\r\n            this.rotTween.toTween(minAxel, { rot: targetRot }, time, () => {\r\n                endCb();\r\n                self.isCubeMoving = false\r\n                this.CarCheck();\r\n            })\r\n            //转动步骤记录\r\n            if (!isBacktracking) {\r\n                this.stepAdd(stepEnum.cube, rotateAxelName, actionDo);\r\n            } else {\r\n                this.stepReduce();\r\n            }\r\n\r\n            //将Cube放回cubes类里\r\n            let endCb = () => {\r\n                for (let b = 0; b < rotateCubes.length; b++) {\r\n                    if (rotateCubes[b] && !rotateCubes[b].destroyed) {\r\n                        let pos = rotateCubes[b].transform.position.clone();\r\n                        let rot = rotateCubes[b].transform.rotation.clone();\r\n                        this.cubes.addChild(rotateCubes[b]);\r\n                        rotateCubes[b].transform.position = pos;\r\n                        rotateCubes[b].transform.rotation = rot;\r\n                    }\r\n                }\r\n                endCallBack && endCallBack();\r\n                GameMgr.Platform.vibrateShort();\r\n            }\r\n            GameMgr.Sound.play(SoundType.Rotate);\r\n        } else {\r\n            GameMgr.ConsoleError(\"名字信息错误\", rotateAxelName);\r\n        }\r\n    }\r\n\r\n    cubeRotateStart(rotateAxelName, actionDo) {\r\n        //塞入对应方块到转动axel\r\n        let axel = this.axel.getChildByName(rotateAxelName) as Laya.Sprite3D;\r\n        // GameMgr.ConsoleLog(\"旋转轴\", rotateAxelName, axel);\r\n        let minAxel = axel.getChildByName(\"axel\") as Laya.Sprite3D;\r\n        if (axel) {\r\n            let rotateCubes: Laya.Sprite3D[] = [];\r\n            for (let j = 0; j < minAxel.numChildren; j++) {\r\n                let axelPoint = minAxel.getChildAt(j) as Laya.Sprite3D;\r\n                for (let a = this.cubes.numChildren - 1; a >= 0; a--) {\r\n                    let cubePoint = this.cubes.getChildAt(a) as Laya.Sprite3D;\r\n                    let distance = MyVector3.distance(axelPoint.transform.position.clone(), cubePoint.transform.position.clone())\r\n                    if (distance < 1) {\r\n                        let pos1 = cubePoint.transform.position.clone();\r\n                        let rot1 = cubePoint.transform.rotation.clone();\r\n                        axelPoint.addChild(cubePoint);\r\n                        rotateCubes.push(cubePoint);\r\n                        cubePoint.transform.position = pos1;\r\n                        cubePoint.transform.rotation = rot1;\r\n                    }\r\n                }\r\n            }\r\n            //转动轴\r\n            let targetRot = minAxel.transform.localRotationEuler.clone();\r\n            minAxel.transform.localRotationEuler = targetRot;\r\n            if (actionDo == \"add\") {\r\n                targetRot.y -= 90;\r\n                if (this.cubeType == \"2*2*1\") {\r\n                    targetRot.y -= 90;\r\n                }\r\n            } else if (actionDo == \"reduce\") {\r\n                targetRot.y += 90;\r\n                if (this.cubeType == \"2*2*1\") {\r\n                    targetRot.y += 90;\r\n                }\r\n            } else {\r\n                GameMgr.ConsoleError(\"行为信息错误\", actionDo);\r\n            }\r\n            // GameMgr.ConsoleLog(\"行为\", axel.name, actionDo);\r\n            let self = this;\r\n            this.isCubeMoving = true;\r\n\r\n            minAxel.transform.localRotationEuler = targetRot;\r\n            //转动步骤记录\r\n            this.startStepAdd(stepEnum.cube, rotateAxelName, actionDo);\r\n\r\n            //将Cube放回cubes类里\r\n            let endCb = () => {\r\n\r\n                for (let b = 0; b < rotateCubes.length; b++) {\r\n                    let pos = rotateCubes[b].transform.position.clone();\r\n                    let rot = rotateCubes[b].transform.rotation.clone();\r\n                    this.cubes.addChild(rotateCubes[b]);\r\n                    rotateCubes[b].transform.position = pos;\r\n                    rotateCubes[b].transform.rotation = rot;\r\n                }\r\n            }\r\n            endCb();\r\n            self.isCubeMoving = false\r\n        } else {\r\n            GameMgr.ConsoleError(\"名字信息错误\", rotateAxelName);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    //#endregion\r\n\r\n    //#region 车车行动逻辑\r\n\r\n    CarStartGo() {\r\n        //车开始走\r\n        let carComp: CubeCarMove = this.car.addComponent(CubeCarMove);\r\n        carComp.go(this.paths[0], true);\r\n        this.stepAdd(stepEnum.car, 0, stepEnum.start)\r\n    }\r\n    CarCheck() {\r\n        let carPos = this.car.transform.position.clone();\r\n        let carComp: CubeCarMove = this.car.getComponent(CubeCarMove);\r\n        if (carComp.isGo)\r\n            return;\r\n        if (this.isCubeMoving)\r\n            return;\r\n        if (this.isFinish) {\r\n            this.gameRealFinish();\r\n            return;\r\n        }\r\n        let isGo = false;\r\n        let goId = -1;\r\n        let isStart = false;\r\n        let nowPointPos = new Laya.Vector2();\r\n        for (let i = 0; i < this.paths.length; i++) {\r\n            let length = this.paths[i].length;\r\n            if (i != this.nowCubeId && length > 0) {\r\n                let startPoint = this.paths[i][0].transform.position.clone();\r\n                let endPoint = this.paths[i][length - 1].transform.position.clone();\r\n                if (MyVector3.distance(carPos, startPoint) < 1.05) {\r\n                    isGo = true;\r\n                    isStart = true;\r\n                    goId = i;\r\n                } else if (MyVector3.distance(carPos, endPoint) < 1.05) {\r\n                    isGo = true;\r\n                    isStart = false;\r\n                    goId = i;\r\n                }\r\n            } else if (i == this.nowCubeId) {\r\n                let startPoint = this.paths[i][0].transform.position.clone();\r\n                let endPoint = this.paths[i][length - 1].transform.position.clone();\r\n                if (MyVector3.distance(carPos, startPoint) < 1) {\r\n                    nowPointPos.x = i;\r\n                    nowPointPos.y = 0;\r\n                }\r\n                if (MyVector3.distance(carPos, endPoint) < 1) {\r\n                    nowPointPos.x = i;\r\n                    nowPointPos.y = this.paths[i].length - 1;\r\n                }\r\n            }\r\n        }\r\n        //死路点掉头\r\n        for (let i = 0; i < this.deadPoint.length; i++) {\r\n            if (this.deadPoint[i].x == nowPointPos.x && this.deadPoint[i].y == nowPointPos.y) {\r\n                GameMgr.ConsoleLog(\"死路掉头\");\r\n                if (nowPointPos.y == 0) {\r\n                    this.car.transform.rotation = this.paths[this.nowCubeId][0].transform.rotation.clone();\r\n                    this.CarGo(nowPointPos.x, true);\r\n                } else {\r\n                    let length = this.paths[this.nowCubeId].length;\r\n                    this.car.transform.rotation = this.paths[this.nowCubeId][length - 1].transform.rotation.clone();\r\n                    this.CarGo(nowPointPos.x, false);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        //是否返回了起点（不可穿墙）\r\n        if (this.nowCubeId == 0 && nowPointPos.y == 0) {\r\n            this.car.transform.rotation = this.paths[0][0].transform.rotation.clone();\r\n            this.CarGo(0, true);\r\n            GameMgr.ConsoleLog(\"回到了起点，掉头\");\r\n            return;\r\n        }\r\n        //将要去的点是否是起点或终点的背面（不可穿墙）\r\n        if ((goId == 0 && isStart) || (goId == this.paths.length - 1 && !isStart)) {\r\n            GameMgr.ConsoleLog(\"前面是墙，不能过去，停车\");\r\n            // if (nowPointPos.y == 0) {\r\n            //     this.car.transform.rotation = this.paths[this.nowCubeId][0].transform.rotation.clone();\r\n            //     this.CarGo(nowPointPos.x, true);\r\n            // } else {\r\n            //     let length = this.paths[this.nowCubeId].length;\r\n            //     this.car.transform.rotation = this.paths[this.nowCubeId][length - 1].transform.rotation.clone();\r\n            //     this.CarGo(nowPointPos.x, false);\r\n            // }\r\n            return;\r\n        }\r\n\r\n        //正常走\r\n        if (isGo) {\r\n            this.CarGo(goId, isStart);\r\n            this.stepAdd(stepEnum.car, goId, isStart ? stepEnum.start : stepEnum.end);\r\n        }\r\n    }\r\n    CarGo(cubeId, isStart, isBacktracking = false) {\r\n        let i = cubeId;\r\n        let startPointId;\r\n        let length = this.paths[cubeId].length;\r\n        let carComp = this.car.getComponent(CubeCarMove);\r\n        if (isStart) {\r\n            startPointId = 0\r\n        } else {\r\n            startPointId = length - 1;\r\n        }\r\n        let startPoint: Laya.Sprite3D = this.paths[i][startPointId];\r\n        let cubeStart = startPoint.parent.parent;\r\n        let lastPos = this.car.transform.position.clone();\r\n        let lastRot = this.car.transform.rotation.clone();\r\n        cubeStart.addChild(this.car);\r\n        // this.car.transform.rotation = this.paths[i][startPointId].transform.rotation.clone();\r\n        this.car.transform.rotation = lastRot\r\n        // this.car.transform.position = startPoint.transform.position.clone();\r\n        this.car.transform.position = lastPos;\r\n        this.nowCubeId = i;\r\n        if (i == this.paths.length - 1) {\r\n            GameMgr.ConsoleLog(\"到达终点\")\r\n            this.gameFinish();\r\n            if (!isStart) {\r\n                this.gameRealFinish();\r\n                return;\r\n            }\r\n        }\r\n        carComp.go(this.paths[i], isStart, isBacktracking);\r\n        // GameMgr.ConsoleLog(\"去往\", cubeStart.name);\r\n        this.fxBorn(fxType.NumberFx, this.car.transform.position.clone(), new Laya.Quaternion(), this.cubeStage);\r\n        GameMgr.Platform.vibrateShort();\r\n        GameMgr.Sound.play(SoundType.Add);\r\n        if (!this.isTips)\r\n            GameMgr.Storage.updateCoin(2);\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region 步骤系统\r\n    steps = [];\r\n    startSteps = [];\r\n    stepsInit() {\r\n        this.steps = [];\r\n        if (this.isFirstInit) {\r\n            this.startSteps = [];\r\n        }\r\n    }\r\n    /**\r\n     * 步骤记录\r\n     *  @param type \"cube\"/\"car\",\r\n     *  @param axelOrCubeId \"up\"/0,\r\n     *  @param way \"add\"\"reduce\"/\"start\"\"end\"\r\n     */\r\n    stepAdd(type, axelOrCubeId, way) {\r\n        let data = {\r\n            type: type,\r\n            axelOrCubeId: axelOrCubeId,\r\n            way: way\r\n        }\r\n        this.steps.push(data);\r\n        GameMgr.ConsoleLog(data);\r\n    }\r\n    startStepAdd(type, axelOrCubeId, way) {\r\n        if (this.isFirstInit) {\r\n            let data = {\r\n                type: type,\r\n                axelOrCubeId: axelOrCubeId,\r\n                way: way\r\n            }\r\n            this.startSteps.push(data);\r\n            GameMgr.ConsoleLog(\"打乱步骤\", data);\r\n        }\r\n    }\r\n    /** \r\n     * 默认最后一步\r\n    */\r\n    stepReduce() {\r\n        this.steps.splice(this.steps.length - 1, 1);\r\n        // GameMgr.ConsoleLog(ExtensionTool.cloneArray(this.steps));\r\n    }\r\n\r\n    //回退处理\r\n    backTracering() {\r\n        //使用不能\r\n        return\r\n        let carComp: CubeCarMove = this.car.getComponent(CubeCarMove);\r\n        if (carComp.isGo)\r\n            return;\r\n        if (this.isCubeMoving)\r\n            return;\r\n\r\n        let lastStep = this.steps[this.steps.length - 1];\r\n        let way;\r\n        switch (lastStep.type) {\r\n            case stepEnum.cube:\r\n                if (lastStep.way == stepEnum.add) {\r\n                    way = stepEnum.reduce;\r\n                } else if (lastStep.way = stepEnum.reduce) {\r\n                    way = stepEnum.add;\r\n                }\r\n                this.cubeRotate(lastStep.axelOrCubeId, way, true)\r\n                break;\r\n            case stepEnum.car:\r\n                if (lastStep.way == stepEnum.start) {\r\n                    way = false\r\n                } else if (lastStep.way = stepEnum.end) {\r\n                    way = true\r\n                }\r\n                this.CarGo(lastStep.axelOrCubeId, way, true);\r\n                break;\r\n        }\r\n        GameMgr.ConsoleLog(lastStep.axelOrCubeId, way)\r\n        this.stepReduce();\r\n    }\r\n\r\n    //教程处理\r\n    tipsInvertal = 1000;\r\n    isHintDone = false;\r\n    stepId;\r\n    HintDo() {\r\n        this.isHintDone = false;\r\n        this.stepId = this.startSteps.length;\r\n        this.HintDoCb();\r\n    }\r\n    HintDoCb() {\r\n        Laya.timer.once(GameMgr.Level.tipsInvertal, GameMgr.Level, () => {\r\n            if (GameMgr.Level.isTips) {\r\n                GameMgr.Level.stepId--;\r\n                if (GameMgr.Level.stepId >= 0) {\r\n                    let lastStep = GameMgr.Level.startSteps[GameMgr.Level.stepId];\r\n                    let way;\r\n                    if (lastStep.way == stepEnum.add) {\r\n                        way = stepEnum.reduce;\r\n                    } else if (lastStep.way = stepEnum.reduce) {\r\n                        way = stepEnum.add;\r\n                    }\r\n                    GameMgr.Level.cubeRotate(lastStep.axelOrCubeId, way, false, GameMgr.Level.HintDoCb)\r\n                }\r\n            } else {\r\n                GameMgr.Level.isHintDone = true;\r\n            }\r\n        })\r\n    }\r\n    //#endregion\r\n\r\n    //#region 装饰生成API\r\n    // isCanBornEmpty = true;\r\n    // isDontBornEmptyCount = 0;\r\n    bornTerrains(styleId, type, parent, precent = 0.3) {\r\n        if (type == \"empty\") {\r\n            // if (!this.isCanBornEmpty) {\r\n            //     if (this.isDontBornEmptyCount == 1) {\r\n            //         this.isCanBornEmpty = true;\r\n            //         this.isDontBornEmptyCount = 0;\r\n            //     } else {\r\n            //         this.isDontBornEmptyCount++;\r\n            //     }\r\n            //     GameMgr.ConsoleLog(\"empty轮空\")\r\n            //     return;\r\n            // } else {\r\n            //     this.isCanBornEmpty = false;\r\n            // }\r\n            if (ExtensionTool.percent(1 - precent)) {\r\n                return;\r\n            }\r\n        } else {\r\n            if (ExtensionTool.percent(0.5) && styleId == 2) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        let terrains = this.prefabs.getChildByName(\"Terrains\");\r\n        let styleName;\r\n        switch (styleId) {\r\n            case 0:\r\n                styleName = \"Green\";\r\n                break;\r\n            case 1:\r\n                styleName = \"Water\";\r\n                break;\r\n            case 2:\r\n                styleName = \"Yellow\";\r\n                break;\r\n        }\r\n        let typeT = terrains.getChildByName(styleName).getChildByName(type) as Laya.Sprite3D;\r\n        let randomId = ExtensionTool.randomInt(0, typeT.numChildren - 1);\r\n        let prefab = typeT.getChildAt(randomId) as Laya.Sprite3D;\r\n        let obj = prefab.clone() as Laya.Sprite3D;\r\n        parent.addChild(obj);\r\n        obj.transform.localPosition = new Laya.Vector3();\r\n        obj.transform.localRotationEuler = new Laya.Vector3();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 提示\r\n\r\n    //提示开启\r\n    tipsCamera: Laya.Camera;\r\n    isTips = false;\r\n    scene3DImage;\r\n    renderTexture: Laya.RenderTexture;\r\n    tipsOn() {\r\n        if (!this.isFinish) {\r\n            this.isTips = true;\r\n            this.gameRestart()\r\n            this.HintDo();\r\n            Laya.timer.frameLoop(1, this, this.tipsUpdate);\r\n\r\n            //提示图标显示\r\n            let tipsCamera = this.tipsCamera;\r\n            // tipsCamera.clearFlag = Laya.CameraClearFlags.DepthOnly\r\n            this.mainCamera.active = false;\r\n            tipsCamera.renderingOrder = -1;\r\n            tipsCamera.fieldOfView = this.minFov * 0.75;\r\n            this.mainCamera.fieldOfView = 100;\r\n            this.renderTexture = new Laya.RenderTexture(518, 518, Laya.RenderTextureFormat.R8G8B8A8, Laya.RenderTextureDepthFormat.DEPTHSTENCIL_24_8);\r\n            tipsCamera.renderTarget = this.renderTexture;\r\n            this.scene3DImage = new Laya.Image();\r\n            this.scene3DImage.source = new Laya.Texture(this.renderTexture);\r\n            this.renderTexture.lock = false;\r\n            tipsCamera.active = true;\r\n            Game.instance.scene.addChild(this.scene3DImage);\r\n            this.scene3DImage.centerX = 0;\r\n            this.scene3DImage.centerY = -80\r\n        }\r\n    }\r\n    //提示update\r\n    tipsUpdate() {\r\n\r\n    }\r\n    //提示重来\r\n    tipsRestart() {\r\n        this.gameRestart()\r\n        this.HintDo();\r\n\r\n    }\r\n    //提示退出\r\n    tipsQuit() {\r\n        this.gameRestart()\r\n        this.isTips = false;\r\n        Laya.timer.clear(this, this.tipsUpdate);\r\n        this.scene3DImage.destroy();\r\n        this.tipsCamera.active = false;\r\n        this.mainCamera.active = true;\r\n    }\r\n\r\n    //#endregion\r\n\r\n}\r\n\r\n//#region 步骤用\r\nexport enum stepEnum {\r\n    cube = \"cube\",\r\n    car = \"car\",\r\n    up = \"up\",\r\n    left = \"left\",\r\n    bottom = \"bottom\",\r\n    right = \"right\",\r\n    front = \"front\",\r\n    back = \"back\",\r\n    add = \"add\",\r\n    reduce = \"reduce\",\r\n    start = \"start\",\r\n    end = \"end\"\r\n}\r\n//#endregion\r\n\r\n//#region Json转物件用\r\nclass Models {\r\n    public models: Models[];\r\n    public self: Model;\r\n}\r\n\r\nclass Model {\r\n    public name: string;\r\n    public position: V3;\r\n    public rotation: V3;\r\n    public scale: V3;\r\n}\r\n\r\nclass V3 {\r\n    public x: number;\r\n    public y: number;\r\n    public z: number;\r\n}\r\n//#endregion\r\n\r\n//#region 特效用\r\nexport enum fxType {\r\n    ConfettiBlastRainbow = \"ConfettiBlastRainbow\",\r\n    NumberFx = \"NumberFx\"\r\n}\r\n//#endregion","/**\r\n * 缓存数据类型\r\n * 根据游戏去做配置\r\n */\r\nexport class StorageData {\r\n    //常用缓存数据\r\n    /**分数 */\r\n    score = 0;\r\n    /**关卡 */\r\n    level = 1;\r\n    /**金币 */\r\n    coin = 0;\r\n\r\n    /**游戏刷新时间 */\r\n    freshTime = new Date().getTime() - 86400000;\r\n    /**游戏次数 */\r\n    playCount = 0;\r\n\r\n    /**签到天数 */\r\n    signDay = 1;\r\n    /**签到周数 */\r\n    signWeek = 1;\r\n    /**当日是否已签到 */\r\n    isSign = false;\r\n\r\n    /**皮肤列表：角色/武器(可扩展) */\r\n    skinList = [[1], [1]];\r\n    /**当前皮肤：角色/武器(可扩展) */\r\n    skinId = [1, 1];\r\n\r\n    /**随机关卡信息 */\r\n    randomStageInfo = []\r\n}","import { EventType } from \"../configs/EnumType\";\r\nimport { StorageData } from \"../configs/StorageData\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport Game from \"../uiScenes/Game\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\nexport default class StorageMgr {\r\n    /**缓存数据 */\r\n    storageData: StorageData = new StorageData;\r\n    /**缓存键名 */\r\n    storageName: StorageData = new StorageData;\r\n\r\n    constructor() {\r\n        for (let key in this.storageData) {\r\n            let jsonData = this.readStorage(key);\r\n            if (!jsonData) {\r\n                this.writeStorage(key, this.storageName[key]);\r\n                GameMgr.ConsoleLog(\"初始化缓存数据\", key, this.storageName[key]);\r\n            }\r\n            else {\r\n                this.storageData[key] = JSON.parse(jsonData);\r\n                GameMgr.ConsoleLog(\"加载缓存数据\", key, this.storageData[key]);\r\n            }\r\n            this.storageName[key] = key; //数据键名更新\r\n        }\r\n        this.refreshData();\r\n    }\r\n\r\n    /**写入缓存 */\r\n    writeStorage(key: any, value: any) {\r\n        Laya.LocalStorage.setItem(key, JSON.stringify(value));\r\n        this.storageData[key] = value;\r\n    }\r\n\r\n    /**读取缓存 */\r\n    readStorage(key: any) {\r\n        return Laya.LocalStorage.getItem(key);\r\n    }\r\n\r\n    /**移除缓存 */\r\n    removeStorage(key: string) {\r\n        Laya.LocalStorage.removeItem(key);\r\n    }\r\n\r\n    /**更新每日数据 */\r\n    private refreshData() {\r\n        var gameTime = Math.floor((this.storageData.freshTime) / 86400000);\r\n        var curTime = Math.floor(new Date().getTime() / 86400000);\r\n        if (gameTime != curTime) { //TODON 测试签到 -86400000\r\n            GameMgr.ConsoleLog(\"更新每日数据\");\r\n            //更新当日游戏次数\r\n            this.writeStorage(this.storageName.playCount, 0);\r\n            //更新刷新时间\r\n            this.writeStorage(this.storageName.freshTime, new Date().getTime());\r\n        }\r\n    }\r\n\r\n\r\n    /*********** 常用缓存数据 ***********/\r\n    /**重置签到 */\r\n    initSign() {\r\n        this.writeStorage(this.storageName.isSign, false);\r\n        if (this.storageData.signDay > 7) {\r\n            this.writeStorage(this.storageName.signDay, 1);\r\n            this.writeStorage(this.storageName.signWeek, this.storageData.signWeek + 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 签到\r\n     * @param callback 回调\r\n     */\r\n    sign(callback?: Function) {\r\n        this.writeStorage(this.storageName.isSign, true);\r\n        this.writeStorage(this.storageName.signDay, this.storageData.signDay + 1);\r\n\r\n        callback && callback();\r\n    }\r\n\r\n    /**通关 */\r\n    passLevel() {\r\n        this.writeStorage(this.storageName.level, this.storageData.level + 1);\r\n    }\r\n\r\n    /**\r\n     * 金币更新\r\n     * @param value 更新值\r\n     * @param callback 回调\r\n     */\r\n    updateCoin(value, callback?: Function) {\r\n        this.writeStorage(this.storageName.coin, this.storageData.coin + value);\r\n        GameMgr.Event.event(EventType.Update_Coin_Event, { coin: this.storageData.coin });\r\n        callback && callback(this.storageData.coin);\r\n    }\r\n\r\n    /**记录随机关卡信息 */\r\n    writeRandomStageData(addStageData) {\r\n        this.storageData.randomStageInfo.push(addStageData);\r\n        this.writeStorage(this.storageName.randomStageInfo, this.storageData.randomStageInfo);\r\n    }\r\n\r\n    /**解锁新皮肤 */\r\n    unlockSkin(id, type = 0) {\r\n        if (!this.hasSkin(id, type)) {\r\n            this.storageData.skinList[type].push(id);\r\n            this.writeStorage(this.storageName.skinList, this.storageData.skinList);\r\n            this.changeSkin(id);\r\n        }\r\n    }\r\n\r\n    /**是否拥有此皮肤 */\r\n    hasSkin(id, type = 0): boolean {\r\n        return this.storageData.skinList[type].indexOf(id) != -1;\r\n    }\r\n\r\n    /**更换皮肤 */\r\n    changeSkin(id, type = 0, callback?: Function) {\r\n        this.writeStorage(this.storageName.skinId[type], id);\r\n        GameMgr.Event.event(EventType.Update_Skin_Event);\r\n        callback && callback();\r\n    }\r\n}","import { PlatformType } from \"./EnumType\";\r\n\r\n/**全局数据 */\r\nexport default class GlobalData {\r\n    /**游戏版本号 */\r\n    gameVersion = '1.0.1';\r\n    /**游戏平台 */\r\n    platform: PlatformType;\r\n    /**本次进入游戏局数 */\r\n    playCount: number = 0;\r\n\r\n    /**是否输出日志 */\r\n    isShowLog: boolean = false;\r\n    /**是否分包 */\r\n    isSubPackage: boolean = true;\r\n\r\n    /**场景资源路径 */\r\n    sceneResUrl: string = \"res/scene/Conventional/ResScene.ls\";\r\n    /**预设资源路径 */\r\n    modelResUrl: string = \"res/model/Conventional/ResScene.lh\";\r\n    /**分批加载可选路径 */\r\n    modelsResUrl: string[] = [];\r\n\r\n    /**现在所选关卡 */\r\n    nowLevel = 1;\r\n    /**是否播放背景音乐 */\r\n    isPlayBGM = true;\r\n    /**是否播放声音 */\r\n    isPlaySound = true;\r\n    /**是否有振动效果 */\r\n    isVibrate = true;\r\n\r\n    /**重来所需金币 */\r\n    restartNeedCoin = 10;\r\n\r\n}\r\n","import { EventType } from \"../configs/EnumType\";\r\n\r\nexport default class EventMgr {\r\n    private eventDispatcher: Laya.EventDispatcher;\r\n    private getTypeKey(type) {\r\n        let key = Event[EventType[type]];\r\n        if (!key) key = type;\r\n        return key\r\n    }\r\n\r\n    constructor() {\r\n        this.eventDispatcher = new Laya.EventDispatcher;\r\n\r\n        for (var prop in EventType) {\r\n            if (prop.length > 1) continue;\r\n            // console.log(prop, EventType[prop]);\r\n            Event[EventType[prop]] = EventType[prop];\r\n        }\r\n    }\r\n\r\n    on(type, caller, listener, args?: any[]) {\r\n        this.eventDispatcher.on(this.getTypeKey(type), caller, listener, args)\r\n    }\r\n\r\n    once(type, caller, listener, args?: any[]) {\r\n        this.eventDispatcher.once(this.getTypeKey(type), caller, listener, args);\r\n    }\r\n\r\n    off(type, caller, listener, onceonly?) {\r\n        this.eventDispatcher.off(this.getTypeKey(type), caller, listener, onceonly)\r\n    }\r\n\r\n    offAll(type?) {\r\n        this.eventDispatcher.offAll(this.getTypeKey(type));\r\n    }\r\n\r\n    offAllCaller(caller) {\r\n        this.eventDispatcher.offAllCaller(caller);\r\n    }\r\n\r\n    event(type, data?: any) {\r\n        this.eventDispatcher.event(this.getTypeKey(type), data);\r\n    }\r\n\r\n    hasListener(type) {\r\n        this.eventDispatcher.hasListener(this.getTypeKey(type));\r\n    }\r\n\r\n    isMouseEvent(type) {\r\n        this.eventDispatcher.isMouseEvent(this.getTypeKey(type));\r\n    }\r\n}\r\n\r\nclass Event {\r\n}","import { EventType } from \"../configs/EnumType\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\nexport default class ResMgr {\r\n    resList: string[];\r\n    currentLoadType: string;\r\n\r\n    /**加载的数量 */\r\n    resCount: number;\r\n\r\n    constructor() {\r\n        this.resList = [];\r\n        this.resCount = 0;\r\n    }\r\n\r\n    addLoadRes(type) {\r\n        if (this.resList.indexOf(type) == -1) {\r\n            this.resCount++;\r\n            this.resList.push(type);\r\n            if (!this.currentLoadType) {\r\n                this.currentLoadType = type;\r\n                GameMgr.Event.event(EventType.Load_Res_Msg_Event, { type: type, progress: 0, isComplete: false });\r\n            }\r\n        }\r\n    }\r\n\r\n    removeLoadRes(type) {\r\n        let index = this.resList.indexOf(type);\r\n        if (index != -1) {\r\n            this.resList.splice(index, 1);\r\n            this.resCount--;\r\n            GameMgr.Event.event(EventType.Load_Res_Msg_Event, { type: type, progress: 1, isComplete: true });\r\n\r\n            // Laya.timer.once(100, this, () => {\r\n            if (this.resList.length > 0) {\r\n                this.currentLoadType = this.resList[0];\r\n                GameMgr.Event.event(EventType.Load_Res_Msg_Event, { type: this.resList[0], progress: 0, isComplete: false });\r\n            }\r\n            else if (this.resCount == 0) {\r\n                GameMgr.ConsoleLog(\"全部资源加载完成\");\r\n                GameMgr.Event.event(EventType.Load_Res_Msg_Event, { allComplete: true });\r\n            }\r\n            else {\r\n                this.currentLoadType = null;\r\n            }\r\n            // })\r\n        }\r\n    }\r\n\r\n    updateLoadRes(type, progress, isComplete) {\r\n        GameMgr.Event.event(EventType.Load_Res_Msg_Event, { type: type, progress: progress, isComplete: isComplete });\r\n    }\r\n}","import { PrefabType } from \"../configs/EnumType\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\n/**预制体管理器 */\r\nexport default class PrefabMgr {\r\n    constructor() {\r\n        let url = [];\r\n        for (let prefab in PrefabType) {\r\n            url.push(PrefabType[prefab]);\r\n        }\r\n\r\n        if (url.length > 0) {\r\n            GameMgr.Res.addLoadRes(\"预制体\");\r\n            Laya.loader.load(url, Laya.Handler.create(this, this.loadComplete), Laya.Handler.create(this, this.loadProgress), Laya.Loader.PREFAB);\r\n        }\r\n    }\r\n\r\n    private loadProgress(res) {\r\n        console.log(\"预制体资源加载中...\", res);\r\n    }\r\n\r\n    private loadComplete() {\r\n        console.log(\"预制体资源加载完成!\");\r\n        GameMgr.Res.removeLoadRes(\"预制体\");\r\n    }\r\n\r\n    /**\r\n     * 获取预制体对象\r\n     * @param name 预制体名称\r\n     */\r\n    getItem(name: string): any {\r\n        let prefab: Laya.Prefab = Laya.loader.getRes(name);\r\n\r\n        if (prefab) {\r\n            return Laya.Pool.getItemByCreateFun(name, prefab.create, prefab);\r\n        }\r\n        else {\r\n            console.warn(\"预制体加载失败：确认是否已添加PrefabType成员\");\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 回收预制体对象\r\n     * @param name 预制体名称\r\n     * @param item 预制体对象\r\n     */\r\n    recoverItem(name, item) {\r\n        Laya.Pool.recover(name, item);\r\n        item.parent.removeChild(item);\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\nexport default class UiMgr {\r\n    private scenes: Laya.Scene[];\r\n    private topScene: Laya.Scene;\r\n\r\n    constructor() {\r\n        this.scenes = [];\r\n    }\r\n\r\n    get TopScene() {\r\n        return this.topScene;\r\n    }\r\n\r\n    openScene(url: UiSceneType, closeOther: boolean = false, param?: any, callBack?: Function, parent?: Laya.Node) {\r\n        let scene = this.scenes.filter((w) => { return w.url == url; });\r\n        if (scene && scene.length > 0) {\r\n            GameMgr.ConsoleLog(\"已打开此场景\", scene);\r\n            scene[0].close();\r\n            this.scenes.splice(this.scenes.indexOf(scene[0]), 1);\r\n        }\r\n\r\n        /**关闭其他页面 */\r\n        if (closeOther) {\r\n            for (let i = this.scenes.length - 1; i >= 0; i--) {\r\n                this.closeScene(this.scenes[i].url as UiSceneType);\r\n            }\r\n        }\r\n\r\n        Laya.Scene.open(url, false, param, Laya.Handler.create(this, s => {\r\n            //重置父对象，此操作会再次触发生命周期OnEnable\r\n            if (parent) parent.addChild(s);\r\n            // else Laya.stage.addChild(s);\r\n\r\n            this.scenes.push(s);\r\n            this.topScene = s;\r\n\r\n            callBack && callBack(s);\r\n            GameMgr.Event.event(EventType.Open_Ui_Event, s.url);\r\n        }))\r\n    }\r\n\r\n    closeScene(url?: UiSceneType, param?: any) {\r\n        let scene = null;\r\n        if (url) {\r\n            this.scenes.forEach(s => {\r\n                if (s.url == url) {\r\n                    scene = s;\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n        else if (this.topScene) {\r\n            scene = this.topScene;\r\n        }\r\n\r\n        if (scene && scene instanceof Laya.Scene) {\r\n            this.scenes.splice(this.scenes.indexOf(scene), 1);\r\n            if (this.scenes.length > 0) this.topScene = this.scenes[this.scenes.length - 1];\r\n            else this.topScene = null;\r\n\r\n            scene.close();\r\n            GameMgr.Event.event(EventType.Close_Ui_Event, { url: scene.url, param: param });\r\n        }\r\n    }\r\n}","import { SoundType } from \"../configs/EnumType\";\r\nimport GameMgr from \"./GameMgr\";\r\n\r\nexport default class SoundMgr {\r\n    private _soundFile: string[];\r\n    private _pathRoot: string;\r\n    private _soundCtx: any;\r\n\r\n    private soundType: soundType = soundType.ogg;\r\n\r\n    currentBgm: string; //当前播放背景音乐\r\n    loopSounds: string[]; //循环的音效列表\r\n\r\n    constructor() {\r\n        this._pathRoot = \"res/sound/\";\r\n        this._soundCtx = {};\r\n\r\n        this._soundFile = [];\r\n        this.loopSounds = [];\r\n        for (var key in SoundType) {\r\n            let sound = SoundType[key];\r\n            this._soundFile.push(sound);\r\n        }\r\n        GameMgr.ConsoleLog(\"音效：\", this._soundFile);\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        let path = this._pathRoot;\r\n        let file = \"\";\r\n        let soundFile = this._soundFile;\r\n        let soundCount = this._soundFile.length;\r\n        for (let i = 0; i < soundCount; ++i) {\r\n            file = soundFile[i];\r\n            let innerAudioContext = new Laya.SoundChannel;\r\n            innerAudioContext.url = path + file + soundType;\r\n\r\n            //innerAudioContext.loops = 0; 循环\r\n            Laya.SoundManager.addChannel(innerAudioContext);\r\n            this._soundCtx[file] = true;\r\n        }\r\n\r\n        // let loadUrl = [\"res/sound/Bgm.mp3\"];\r\n        // Laya.loader.load(loadUrl);\r\n        // Laya.SoundManager.autoReleaseSound = false;\r\n        Laya.SoundManager.autoStopMusic = true;\r\n    }\r\n\r\n    /**设置音量 */\r\n    setSoundVolume(name, value) {\r\n        if (this._soundCtx[name]) {\r\n            Laya.SoundManager.setSoundVolume(value, this._pathRoot + name + this.soundType)\r\n        }\r\n    }\r\n\r\n    play(name, isLoop = false) {\r\n        if (this._soundCtx[name]) {\r\n            if (isLoop && this.loopSounds.indexOf(name) == -1) {\r\n                this.loopSounds.push(name);\r\n                Laya.SoundManager.playSound(this._pathRoot + name + this.soundType, 0);\r\n            }\r\n            else {\r\n                Laya.SoundManager.playSound(this._pathRoot + name + this.soundType);\r\n            }\r\n        }\r\n    }\r\n\r\n    stop(name, isLoop = false) {\r\n        if (this._soundCtx[name]) {\r\n            if (isLoop) {\r\n                let index = this.loopSounds.indexOf(name);\r\n                if (index != -1)\r\n                    this.loopSounds.splice(index, 1);\r\n            }\r\n\r\n            Laya.SoundManager.stopSound(this._pathRoot + name + this.soundType);\r\n        }\r\n    }\r\n\r\n    playMusic(name?) {\r\n        Laya.SoundManager.stopMusic();\r\n        if (name) {\r\n            Laya.SoundManager.playMusic(this._pathRoot + name + this.soundType, 0);\r\n            this.currentBgm = name;\r\n        }\r\n        else if (this.currentBgm) {\r\n            Laya.SoundManager.playMusic(this._pathRoot + this.currentBgm + this.soundType, 0);\r\n        }\r\n        else {\r\n            Laya.SoundManager.playMusic(this._pathRoot + SoundType.BGM + this.soundType, 0);\r\n        }\r\n    }\r\n    playMusicLoop(name?) {\r\n        if (this.currentBgm != name) {\r\n            Laya.SoundManager.playMusic(this._pathRoot + name + this.soundType, 0);\r\n            this.currentBgm = name;\r\n        }\r\n    }\r\n\r\n    stopMusic() {\r\n        Laya.SoundManager.stopMusic();\r\n    }\r\n}\r\nenum soundType {\r\n    mp3 = \".mp3\",\r\n    wav = '.wav',\r\n    ogg = \".ogg\"\r\n}","export default class NetMgr{\r\n\r\n}","import { EventType, UiSceneType } from \"../../../configs/EnumType\";\r\nimport ExtensionTool from \"../../../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../../../managers/GameMgr\";\r\nimport { NativeAd } from \"../../Platform\";\r\nimport { DataConfig } from \"./mxrMgr\";\r\n\r\n\r\nexport default class mxr_oppo {\r\n\r\n    //#region 主要接口\r\n    /**初始化 */\r\n    static init() {\r\n        this.dataConfig = new DataConfig;\r\n        //oppo强制60秒后才能显示原生广告\r\n        this.dataConfig.showNativeDelayTime = 60;\r\n        Laya.timer.once(this.dataConfig.showNativeDelayTime * 1000, this, () => {\r\n            this.canShowNativeAd = true;\r\n            this.refreshNativeAd(0);\r\n        });\r\n        GameMgr.Event.on(EventType.Open_Ui_Event, this, this.onOpenUiEvent);\r\n        GameMgr.Event.on(EventType.Close_Ui_Event, this, this.onCloseUiEvent);\r\n    }\r\n    /**打开页面事件 */\r\n    static onOpenUiEvent(url) {\r\n        GameMgr.ConsoleLog(\"开启页面\", url);\r\n        switch (url) {\r\n            case UiSceneType.Load:\r\n                break;\r\n            case UiSceneType.Home:\r\n                break;\r\n            case UiSceneType.Game:\r\n                break;\r\n            case UiSceneType.Over:\r\n                break;\r\n        }\r\n    }\r\n    /**关闭页面事件 */\r\n    static onCloseUiEvent(param) {\r\n        GameMgr.ConsoleLog(\"关闭页面\", param.url);\r\n        switch (param.url) {\r\n            case UiSceneType.Load:\r\n                break;\r\n            case UiSceneType.Home:\r\n                break;\r\n            case UiSceneType.Game:\r\n                break;\r\n            case UiSceneType.Over:\r\n                break;\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 全局参数\r\n    static canShowNativeAd = false; //false\r\n    static dataConfig: DataConfig;\r\n    static token = \"\";\r\n    //#endregion\r\n\r\n    //#region 常用接口类\r\n\r\n    /**网络请求 */\r\n    static httpRequest(url: string, params: any, type: string = 'get', completeHandler?: Function) {\r\n        var xhr: Laya.HttpRequest = new Laya.HttpRequest();\r\n        xhr.http.timeout = 5000;//设置超时时间；\r\n        xhr.once(Laya.Event.COMPLETE, this, completeHandler);\r\n        xhr.once(Laya.Event.ERROR, this, this.httpRequest, [url, params, type, completeHandler]);\r\n        if (type == \"get\") {\r\n            xhr.send(url, \"\", type, \"text\");\r\n        } else if (type == \"post\") {\r\n            xhr.send(url, JSON.stringify(params), type, \"text\");\r\n        }\r\n    }\r\n    /**登录 */\r\n    static login() {\r\n        if (Laya.Browser.window.qg) {\r\n            Laya.Browser.window.qg.login({\r\n                success(res) {\r\n                    console.log(\"登录成功\", JSON.stringify(res));\r\n                    if (res.token) {\r\n                        mxr_oppo.token = res.token;\r\n                        mxr_oppo.getUserId();\r\n                    } else {\r\n                        console.log('登录失败！' + res.errMsg);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**获取userId */\r\n    static getUserId(completeCB?: Function) {\r\n        let timeStamp = ExtensionTool.getCurrentTime;\r\n        // let str = this.abstractPar(\"appKey\", this.appKey) + this.abstractPar(\"appSecret\", this.appSecret) + this.abstractPar(\"pkgName\", this.pkgName) +\r\n        //     this.abstractPar(\"timeStamp\", timeStamp) + this.abstractPar(\"token\", this.token, true);\r\n        // let md5 = new Md5;\r\n        // let signStr = md5.hexMD5(str).toUpperCase();\r\n        // console.log(\"签名：\", signStr, str);\r\n        // let addStr = this.abstractPar(\"pkgName\", this.pkgName) +\r\n        //     this.abstractPar(\"timeStamp\", timeStamp) + this.abstractPar(\"token\", this.token) + this.abstractPar(\"sign\", signStr) +\r\n        //     this.abstractPar(\"version\", GameMgr.GlData.gameVersion, true)\r\n        // let url = \"https://play.open.oppomobile.com/instant-game-open/userInfo?\" + addStr;\r\n        // console.log(\"请求地址：\", url, addStr);\r\n        // this.httpRequest(url, \"\", 'get', (res) => {\r\n        //     res = JSON.parse(res);\r\n        //     completeCB && completeCB();\r\n        //     console.log(\"userData\", JSON.stringify(res));\r\n        //     if (res.userInfo && res.userInfo.userId) {\r\n        //         KolaSDK.userId = res.userInfo.userId;\r\n        //         KolaSDK.OnShow(null);\r\n        //     }\r\n        // });\r\n    }\r\n    static abstractPar(par, va, islast = false) {\r\n        var str = par + \"=\" + va;\r\n        if (!islast)\r\n            str += \"&\";\r\n        return str;\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region 原生广告刷新逻辑\r\n    static refreshNativeAd(time?) {\r\n        time = time != null ? time * 1000 : this.dataConfig.nativeAdRefreshTime * 1000;\r\n        Laya.timer.clear(this, this.loopCreateNativeAd);\r\n        Laya.timer.loop(time, this, this.loopCreateNativeAd);\r\n    }\r\n    static loopCreateNativeAd(isClick = false) {\r\n        if (isClick && this.nativeAd) {\r\n            GameMgr.Platform.destroyNativeAd(this.nativeAd);\r\n            this.nativeAd = null;\r\n        }\r\n        GameMgr.Platform.loadNativeAd(this.nativeAd, (ad: NativeAd) => {\r\n            if (ad && ad.nativeAd) {\r\n                console.log(\"原生广告创建成功=======\", JSON.stringify(ad));\r\n                this.nativeAd = ad;\r\n            }\r\n            else {\r\n                this.refreshNativeAd(5);\r\n            }\r\n            GameMgr.Event.event(EventType.Update_NativeAd_Event);\r\n        });\r\n        this.refreshNativeAd();\r\n    }\r\n    static nativeAd: NativeAd;\r\n    //#endregion\r\n\r\n}\r\n\r\n\r\n","import { EventType, UiSceneType } from \"../../../configs/EnumType\";\r\nimport ExtensionTool from \"../../../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../../../managers/GameMgr\";\r\nimport { NativeAd } from \"../../Platform\";\r\nimport { DataConfig } from \"./mxrMgr\";\r\n\r\n\r\nexport default class mxr_vivo {\r\n\r\n    //#region 主要接口\r\n    /**初始化 */\r\n    static init() {\r\n        this.dataConfig = new DataConfig;\r\n        // Laya.timer.once(this.dataConfig.showNativeDelayTime * 1000, this, () => {\r\n        //     this.canShowNativeAd = true;\r\n        //     this.refreshNativeAd(0);\r\n        // });\r\n        GameMgr.Event.on(EventType.Open_Ui_Event, this, this.onOpenUiEvent);\r\n        GameMgr.Event.on(EventType.Close_Ui_Event, this, this.onCloseUiEvent);\r\n    }\r\n    /**打开页面事件 */\r\n    static onOpenUiEvent(url) {\r\n        GameMgr.ConsoleLog(\"开启页面\", url);\r\n        switch (url) {\r\n            case UiSceneType.Load:\r\n                break;\r\n            case UiSceneType.Home:\r\n                break;\r\n            case UiSceneType.Game:\r\n                GameMgr.Platform.showBannerAd();\r\n                break;\r\n            case UiSceneType.Over:\r\n                GameMgr.Platform.showCustomAd();\r\n                break;\r\n        }\r\n    }\r\n    /**关闭页面事件 */\r\n    static onCloseUiEvent(param) {\r\n        GameMgr.ConsoleLog(\"关闭页面\", param.url);\r\n        switch (param.url) {\r\n            case UiSceneType.Load:\r\n                break;\r\n            case UiSceneType.Home:\r\n                break;\r\n            case UiSceneType.Game:\r\n                break;\r\n            case UiSceneType.Over:\r\n                GameMgr.Platform.hideCustomAd();\r\n                GameMgr.Platform.hideBannerAd();\r\n                break;\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 全局参数\r\n    static canShowNativeAd = false; //false\r\n    static dataConfig: DataConfig;\r\n    static token = \"\";\r\n    //#endregion\r\n\r\n    //#region 常用接口类\r\n\r\n    /**网络请求 */\r\n    static httpRequest(url: string, params: any, type: string = 'get', completeHandler?: Function) {\r\n        var xhr: Laya.HttpRequest = new Laya.HttpRequest();\r\n        xhr.http.timeout = 5000;//设置超时时间；\r\n        xhr.once(Laya.Event.COMPLETE, this, completeHandler);\r\n        xhr.once(Laya.Event.ERROR, this, this.httpRequest, [url, params, type, completeHandler]);\r\n        if (type == \"get\") {\r\n            xhr.send(url, \"\", type, \"text\");\r\n        } else if (type == \"post\") {\r\n            xhr.send(url, JSON.stringify(params), type, \"text\");\r\n        }\r\n    }\r\n    /**登录 */\r\n    static login() {\r\n        if (Laya.Browser.window.qg) {\r\n            Laya.Browser.window.qg.login({\r\n                success(res) {\r\n                    console.log(\"登录成功\", JSON.stringify(res));\r\n                    if (res.token) {\r\n                        mxr_vivo.token = res.token;\r\n                        mxr_vivo.getUserId();\r\n                    } else {\r\n                        console.log('登录失败！' + res.errMsg);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**获取userId */\r\n    static getUserId(completeCB?: Function) {\r\n        let timeStamp = ExtensionTool.getCurrentTime;\r\n        // let str = this.abstractPar(\"appKey\", this.appKey) + this.abstractPar(\"appSecret\", this.appSecret) + this.abstractPar(\"pkgName\", this.pkgName) +\r\n        //     this.abstractPar(\"timeStamp\", timeStamp) + this.abstractPar(\"token\", this.token, true);\r\n        // let md5 = new Md5;\r\n        // let signStr = md5.hexMD5(str).toUpperCase();\r\n        // console.log(\"签名：\", signStr, str);\r\n        // let addStr = this.abstractPar(\"pkgName\", this.pkgName) +\r\n        //     this.abstractPar(\"timeStamp\", timeStamp) + this.abstractPar(\"token\", this.token) + this.abstractPar(\"sign\", signStr) +\r\n        //     this.abstractPar(\"version\", GameMgr.GlData.gameVersion, true)\r\n        // let url = \"https://play.open.oppomobile.com/instant-game-open/userInfo?\" + addStr;\r\n        // console.log(\"请求地址：\", url, addStr);\r\n        // this.httpRequest(url, \"\", 'get', (res) => {\r\n        //     res = JSON.parse(res);\r\n        //     completeCB && completeCB();\r\n        //     console.log(\"userData\", JSON.stringify(res));\r\n        //     if (res.userInfo && res.userInfo.userId) {\r\n        //         KolaSDK.userId = res.userInfo.userId;\r\n        //         KolaSDK.OnShow(null);\r\n        //     }\r\n        // });\r\n    }\r\n    static abstractPar(par, va, islast = false) {\r\n        var str = par + \"=\" + va;\r\n        if (!islast)\r\n            str += \"&\";\r\n        return str;\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region 原生广告刷新逻辑\r\n    static refreshNativeAd(time?) {\r\n        time = time != null ? time * 1000 : this.dataConfig.nativeAdRefreshTime * 1000;\r\n        Laya.timer.clear(this, this.loopCreateNativeAd);\r\n        Laya.timer.loop(time, this, this.loopCreateNativeAd);\r\n    }\r\n    static loopCreateNativeAd(isClick = false) {\r\n        if (isClick && this.nativeAd) {\r\n            GameMgr.Platform.destroyNativeAd(this.nativeAd);\r\n            this.nativeAd = null;\r\n        }\r\n        GameMgr.Platform.loadNativeAd(this.nativeAd, (ad: NativeAd) => {\r\n            if (ad && ad.nativeAd) {\r\n                console.log(\"原生广告创建成功=======\", JSON.stringify(ad));\r\n                this.nativeAd = ad;\r\n            }\r\n            else {\r\n                this.refreshNativeAd(5);\r\n            }\r\n            GameMgr.Event.event(EventType.Update_NativeAd_Event);\r\n        });\r\n        this.refreshNativeAd();\r\n    }\r\n    static nativeAd: NativeAd;\r\n    //#endregion\r\n\r\n}\r\n\r\n\r\n","import { PlatformType, UiSceneType } from \"../../../configs/EnumType\";\r\nimport GameMgr from \"../../../managers/GameMgr\";\r\nimport Load from \"../../../uiScenes/Load\";\r\nimport mxr_oppo from \"./mxr_oppo\";\r\nimport mxr_vivo from \"./mxr_vivo\";\r\n\r\nexport default class mxrMgr {\r\n    /**各平台初始化判断 */\r\n    static init() {\r\n        switch (GameMgr.GlData.platform) {\r\n            case PlatformType.WX:\r\n                GameMgr.GlData.isSubPackage = true;\r\n                break;\r\n            case PlatformType.OPPO:\r\n                mxr_oppo.init();\r\n                GameMgr.GlData.isSubPackage = false;\r\n                break;\r\n            case PlatformType.VIVO:\r\n                mxr_vivo.init();\r\n                GameMgr.GlData.isSubPackage = true;\r\n                break;\r\n            case PlatformType.PC:\r\n                GameMgr.GlData.isSubPackage = false;\r\n                break;\r\n        }\r\n        // localStorage.clear();\r\n        let json = Laya.LocalStorage.getItem(\"PrivacyAgreement\");\r\n        if (json) {\r\n            var isAgree = JSON.parse(json);\r\n            if (isAgree) {\r\n                GameMgr.UI.closeScene(UiSceneType.Pram);\r\n                return;\r\n            }\r\n        }\r\n        GameMgr.UI.openScene(UiSceneType.Pram, false, null, (s) => {\r\n            Laya.stage.addChild(s);\r\n            s.zOrder = 100;\r\n        })\r\n    }\r\n\r\n}\r\n\r\n/**配置文件 */\r\nexport class DataConfig {\r\n    /**原生广告本地刷新时间-秒 */\r\n    nativeAdRefreshTime: number = 30;\r\n    /**初次进游戏延迟显示原生广告时间-秒 */\r\n    showNativeDelayTime: number = 3;\r\n    /**是否显示游戏中原生广告 */\r\n    isShowGameNativeAd: boolean = true;\r\n    /**是否显示插屏原生广告 */\r\n    isShowInterNativeAd: boolean = true;\r\n    /**是否开启调试 */\r\n    isDebug: boolean = false;\r\n    /**原生模板广告本地刷新时间-秒 */\r\n    customAdRefreshTime: number = 30;\r\n}\r\n","import mxrMgr from \"../platforms/cpLogicalMgr/Maoxianren/mxrMgr\";\r\n\r\nexport default class CpMgr {\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        //根据合作cp动态更改\r\n        // qyMgr.init();\r\n\r\n        //猫仙人\r\n        mxrMgr.init();\r\n    }\r\n}","import Platform from \"../platforms/Platform\";\r\nimport OppoPlatform from \"../platforms/oppo/OppoPlatform\";\r\nimport VivoPlatform from \"../platforms/vivo/VivoPlatform\";\r\nimport WxPlatform from \"../platforms/wx/WxPlatform\";\r\nimport LevelMgr from \"./LevelMgr\";\r\nimport StorageMgr from \"./StorageMgr\";\r\nimport GlobalData from \"../configs/GlobalData\";\r\nimport { EquipmentPerformance, PlatformType } from \"../configs/EnumType\";\r\nimport { StorageData } from \"../configs/StorageData\";\r\nimport EventMgr from \"./EventMgr\";\r\nimport ResMgr from \"./ResMgr\";\r\nimport PrefabMgr from \"./PrefabMgr\";\r\nimport UiMgr from \"./UiMgr\";\r\nimport SoundMgr from \"./SoundMgr\";\r\nimport NetMgr from \"./NetMgr\";\r\nimport CpMgr from \"./CpMgr\";\r\n\r\n\r\n/**游戏管理器 */\r\nexport default class GameMgr {\r\n    static Res: ResMgr;\r\n\r\n    static UI: UiMgr;\r\n    static GlData: GlobalData;\r\n    static Level: LevelMgr;\r\n    static Platform: Platform;\r\n    static Storage: StorageMgr;\r\n    static Event: EventMgr;\r\n    static Prefab: PrefabMgr;\r\n    static Sound: SoundMgr;\r\n    static Net: NetMgr;\r\n    static CP: CpMgr;\r\n\r\n    /**缓存键名 */\r\n    static StorageKey: StorageData;\r\n\r\n    static init() {\r\n        this.GlData = new GlobalData;\r\n        this.initPlatform();\r\n        this.UI = new UiMgr;\r\n        this.Event = new EventMgr;\r\n        this.Res = new ResMgr;\r\n        this.Prefab = new PrefabMgr;\r\n        this.Sound = new SoundMgr;\r\n        this.Net = new NetMgr;\r\n        this.initStorage();\r\n\r\n        //运营策略初始化\r\n        this.CP = new CpMgr;\r\n        //游戏全局逻辑控制器\r\n        this.Level = new LevelMgr;\r\n    }\r\n\r\n    /**初始化缓存 */\r\n    private static initStorage() {\r\n        this.Storage = new StorageMgr;\r\n        this.StorageKey = this.Storage.storageName;\r\n    }\r\n\r\n    /**初始化平台 */\r\n    private static initPlatform() {\r\n        if (Laya.Browser.onWeiXin && Laya.Browser.window.wx) { //微信平台\r\n            this.GlData.platform = PlatformType.WX;\r\n            this.Platform = new WxPlatform;\r\n        }\r\n        else if (Laya.Browser.onVVMiniGame) { //vivo平台\r\n            this.GlData.platform = PlatformType.VIVO;\r\n            this.Platform = new VivoPlatform;\r\n        }\r\n        else if (Laya.Browser.onQGMiniGame) { //oppo平台\r\n            this.GlData.platform = PlatformType.OPPO;\r\n            this.Platform = new OppoPlatform;\r\n        }\r\n        else if (Laya.Browser.onPC || Laya.Browser.onMobile) { //PC\r\n            this.GlData.platform = PlatformType.PC;\r\n            this.Platform = new Platform;\r\n        }\r\n    }\r\n\r\n    static ConsoleLog(...data: any[]) {\r\n        if (this.GlData.isShowLog) {\r\n            console.log(...data);\r\n        }\r\n    }\r\n\r\n    static ConsoleWarn(...data: any[]) {\r\n        if (this.GlData.isShowLog) {\r\n            console.warn(...data);\r\n        }\r\n    }\r\n\r\n    static ConsoleError(...data: any[]) {\r\n        if (this.GlData.isShowLog) {\r\n            console.error(...data);\r\n        }\r\n    }\r\n\r\n    private static _isStartGame: boolean = false;\r\n    /**是否开始游戏 */\r\n    static get IsStartGame() {\r\n        return this._isStartGame;\r\n    }\r\n    static set IsStartGame(value) {\r\n        this._isStartGame = value;\r\n    }\r\n\r\n    /**当前帧率 */\r\n    static get FPS() {\r\n        return 1000 / Laya.timer.delta;\r\n    }\r\n    /**设备性能 */\r\n    static equipmentPerformance: EquipmentPerformance;\r\n    /**检测设备性能 */\r\n    static checkPerformance(cb?: Function) {\r\n        let value = 0;\r\n        let count = 50;\r\n        let curCount = count;\r\n        Laya.timer.loop(100, this, addValue);\r\n\r\n        function addValue() {\r\n            value += GameMgr.FPS;\r\n            curCount--;\r\n\r\n            if (curCount <= 0) {\r\n                Laya.timer.clear(this, addValue);\r\n                let fps = value / count;\r\n                if (fps > 50) {\r\n                    GameMgr.equipmentPerformance = EquipmentPerformance.High;\r\n                }\r\n                else if (fps > 40) {\r\n                    GameMgr.equipmentPerformance = EquipmentPerformance.Mid;\r\n                }\r\n                else {\r\n                    GameMgr.equipmentPerformance = EquipmentPerformance.Low;\r\n                }\r\n\r\n                cb && cb();\r\n            }\r\n        }\r\n    }\r\n}","import { SoundType } from \"../configs/EnumType\"\r\nimport GameMgr from \"../managers/GameMgr\"\r\nimport D3Tween from \"./D3Tween\"\r\nimport MyVector3 from \"./MyVector3\"\r\n\r\nexport default class ExtensionTool {\r\n    //#region File\r\n    /**\r\n     * 遍历Scene所有Var值及类型 输出\r\n     * @param jsonDir Scene.json路径 example:'MyScenes/LvMoneyUI.json'\r\n     * example out:\r\n     * 遍历Var开始：\r\n       xxx:Laya.Image\r\n       xxx:Laya.List\r\n       遍历Var结束！\r\n     */\r\n    static file_ExportVarByUIScene(jsonDir: string) {\r\n        Laya.loader.load(jsonDir, Laya.Handler.create(this, (data: any) => {\r\n            let str: string = '遍历Var开始：\\n'\r\n            let checkVar = (node: any) => {\r\n                if (node && node.props && node.props.var != undefined && node.props.var != null) {\r\n                    let type = node.type\r\n                    let v = node.props.var\r\n                    str += v + ':Laya.' + type + '\\n'\r\n                }\r\n            }\r\n            let checkChild = (node: any) => {\r\n                let child: any[] = node.child ? node.child : []\r\n                for (let i = 0; i < child.length; i++) {\r\n                    let c: any = child[i]\r\n                    checkVar(c)\r\n                    if (c.child) checkChild(c)\r\n                }\r\n            }\r\n            checkChild(data)\r\n            str += '遍历Var结束！'\r\n            console.log(str)\r\n        }), null, Laya.Loader.JSON)\r\n    }\r\n\r\n    /**\r\n     * 保存字符串内容到文件。效果相当于从浏览器下载了一个文件到本地。\r\n     * @param textToWrite 要保存的文件内容\r\n     * @param fileNameToSaveAs 要保存的文件名\r\n     */\r\n    static file_SaveForBrowser(textToWrite, fileNameToSaveAs) {\r\n        console.log(\"浏览器\");\r\n        let textFileAsBlob = new Blob([textToWrite], { type: 'application/json' });\r\n        let downloadLink = document.createElement(\"a\");\r\n        downloadLink.download = fileNameToSaveAs;\r\n        downloadLink.innerHTML = \"Download File\";\r\n        if (window.webkitURL != null) {\r\n            downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);\r\n        }\r\n        downloadLink.click();\r\n    }\r\n\r\n    /**\r\n     * 读取json文件\r\n     * @param jsonUrl json路径\r\n     * @param completeCB 加载完成回调\r\n     */\r\n    static file_LoadJson(jsonUrl: string, completeCB?: Function) {\r\n        Laya.loader.load(jsonUrl, Laya.Handler.create(this, () => {\r\n            let data = Laya.Loader.getRes(jsonUrl);\r\n            completeCB && completeCB(data);\r\n        }), null, Laya.Loader.JSON);\r\n    }\r\n    //#endregion\r\n\r\n    //#region 3D\r\n    /**\r\n     * 遍历rootNode的子节点，查找name匹配的节点\r\n     * @param rootNode 根节点\r\n     * @param name 需要查找的节点的name\r\n     */\r\n    static d3_FindNodeByName(rootNode: Laya.Sprite3D, name: string): Laya.Sprite3D {\r\n        let targetNode: Laya.Sprite3D = null\r\n\r\n        let funC = (node: Laya.Sprite3D) => {\r\n            for (let i = 0; i < node.numChildren; i++) {\r\n                if (node.getChildAt(i).name == name) {\r\n                    targetNode = node.getChildAt(i) as Laya.Sprite3D\r\n                    return\r\n                } else {\r\n                    funC(node.getChildAt(i) as Laya.Sprite3D)\r\n                }\r\n            }\r\n        }\r\n\r\n        funC(rootNode)\r\n        return targetNode\r\n    }\r\n\r\n    /**\r\n     * 随机获取半径范围内坐标点\r\n     * @param maxRadius 最大半径范围\r\n     * @param centerPos 中心点\r\n     * @param minRadius 最小半径范围\r\n     * @returns \r\n     */\r\n    static d3_GetRandomPointInCircle(maxRadius: number, centerPos: Laya.Vector3, minRadius: number = 0) {\r\n        let dir = new Laya.Vector3()\r\n        let r = Math.random() * (maxRadius - minRadius) + minRadius\r\n\r\n        dir.x = Math.random() * 2 - 1\r\n        dir.z = Math.random() * 2 - 1\r\n        Laya.Vector3.normalize(dir, dir)\r\n\r\n        let pos = new Laya.Vector3()\r\n        Laya.Vector3.scale(dir, r, dir)\r\n        Laya.Vector3.add(centerPos, dir, pos)\r\n        return pos\r\n    }\r\n\r\n    /**获取粒子系统 */\r\n    static d3_GetParticleSystem(particle: Laya.ShuriKenParticle3D | any) {\r\n        return particle.particleSystem;\r\n    }\r\n\r\n    /**克隆目标 */\r\n    static d3_CloneSprite(spr: any) {\r\n        if (!spr || !spr.clone) return null;\r\n        return spr.clone();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 2D\r\n    /**\r\n     * 按钮事件\r\n     * @param btn 按钮\r\n     * @param caller 事件对象\r\n     * @param callBack 回调函数\r\n     * @param args 参数\r\n     * @param isStopPropagation 是否阻止穿透\r\n     * @param isSound 是否有按钮声音\r\n     * @param isTween 是否有缓动效果\r\n     * @param isVibrate 是否有按钮按下震动\r\n     */\r\n    static d2_AddClickEvent(btn: Laya.Sprite, caller: any, callBack: Function, args?: any[], isStopPropagation: boolean = false, isSound = true, isTween = true, isVibrate = true) {\r\n        btn.offAllCaller(caller);\r\n\r\n        /**tween参数 */\r\n        let tweenTime = 60;\r\n        let oldSize = btn.scaleX;\r\n        let newSize = oldSize * 0.9;\r\n\r\n        let isPressed = false;\r\n        let cbDown = (evt) => {\r\n            isPressed = true;\r\n            if (isTween)\r\n                Laya.Tween.to(btn, { scaleX: newSize, scaleY: newSize }, tweenTime);\r\n            if (isStopPropagation) evt.stopPropagation;\r\n        }\r\n        btn.on(Laya.Event.MOUSE_DOWN, caller, cbDown, args);\r\n\r\n        let cbUp = (evt) => {\r\n            if (isPressed == false) return;\r\n            isPressed = false;\r\n            if (isStopPropagation) evt.stopPropagation;\r\n            if (isTween)\r\n                Laya.Tween.to(btn, { scaleX: oldSize, scaleY: oldSize }, tweenTime);\r\n            if (callBack) callBack.call(caller, evt);\r\n            //TODON 添加按钮声\r\n            if (isSound)\r\n                GameMgr.Sound.play(SoundType.CLICK);\r\n            if (isVibrate)\r\n                GameMgr.Platform.vibrateShort();\r\n        }\r\n        btn.on(Laya.Event.MOUSE_UP, caller, cbUp, args);\r\n\r\n        let cbOut = (evt) => {\r\n            if (isTween)\r\n                Laya.Tween.to(btn, { scaleX: oldSize, scaleY: oldSize }, tweenTime);\r\n            if (isStopPropagation) evt.stopPropagation;\r\n        }\r\n        btn.on(Laya.Event.MOUSE_OUT, caller, cbOut, args);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Math\r\n    static clamp01(v): number {\r\n        if (v > 1) return 1;\r\n        if (v < 0) return 0;\r\n        return v;\r\n    }\r\n\r\n    static clamp(value, min, max) {\r\n        if (value < min) return min;\r\n        if (value > max) return max;\r\n        return value;\r\n    }\r\n    //#endregion\r\n\r\n    //#region System\r\n    /**获取当前时间戳 ms*/\r\n    static get getCurrentTime() {\r\n        return new Date().getTime();\r\n    }\r\n    /**获取当前时间戳 s*/\r\n    static get getCurrentTime_Second() {\r\n        return Math.floor(Date.parse((new Date()).toString()) / 1000);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Nimo增加\r\n\r\n    //#region 数值,数组、3D计算\r\n    //**数值固定值靠近*/\r\n    static numberTo(base, target, dt) {\r\n        if (Math.abs((target - base)) < dt) {\r\n            base = target\r\n        } else if (base < target) {\r\n            base += dt;\r\n        } else if (base > target) {\r\n            base -= dt;\r\n        }\r\n        return base;\r\n    }\r\n    //**数值lerp */\r\n    static numberLerp(base, target, lerp) {\r\n        if (lerp < 0) {\r\n            lerp = 0;\r\n        }\r\n        if (lerp > 1) {\r\n            lerp = 1;\r\n        }\r\n        base = base + (target - base) * lerp;\r\n        return base;\r\n    }\r\n    //**随机范围数值 a是小，b是大*/\r\n    static randomNumber(a, b) {\r\n        return a + (b - a) * Math.random();\r\n    }\r\n    //**随机范围整数（包含最大值），a是小，b是大 */\r\n    static randomInt(a, b) {\r\n        return Math.floor(a + (b + 1 - a) * Math.random());\r\n    }\r\n    //**一半几率 */\r\n    static halfPercent() {\r\n        return Math.random() < 0.5;\r\n    }\r\n    //**指定几率 */\r\n    static percent(axis) {\r\n        return Math.random() < axis;\r\n    }\r\n    //**获取向量间夹角度-180~180*/\r\n    static getAngle(v1: Laya.Vector3, v2: Laya.Vector3): number {\r\n        var a = Laya.Vector3.dot(v1, v2)\r\n        var b = Laya.Vector3.scalarLength(v1) * Laya.Vector3.scalarLength(v2);\r\n        if (b == 0) {\r\n            if (v1.z > v2.z) return 0;\r\n            else if (v1.z < v2.z) return 180;\r\n\r\n            if (v1.y > v2.y) return 90;\r\n            else if (v1.y < v2.y) return -90;\r\n        }\r\n        var cosAngle = a / b;\r\n        if (cosAngle < -1) {\r\n            cosAngle = -1;\r\n        }\r\n        if (cosAngle > 1) {\r\n            cosAngle = 1;\r\n        }\r\n        var angle = Math.acos(cosAngle) * 180 / Math.PI;\r\n        return angle;\r\n    }\r\n    //**2D向量夹角 0~180 */\r\n    static getAngle2D(v1: Laya.Vector2, v2: Laya.Vector2): number {\r\n        var a = Laya.Vector2.dot(v1, v2);\r\n        var b = Laya.Vector2.scalarLength(v1) * Laya.Vector2.scalarLength(v2);\r\n        var angle = Math.acos(a / b) * 180 / Math.PI\r\n        return angle\r\n    }\r\n\r\n    /**\r\n     * 2D向量夹角 顺时针(0,180)，逆时针(0,-180) ,v2相对与v1的什么方向\r\n     */\r\n    static getAngle2DWay(v1: Laya.Vector2, v2: Laya.Vector2): number {\r\n        var a = Laya.Vector2.dot(v1, v2);\r\n        var b = Laya.Vector2.scalarLength(v1) * Laya.Vector2.scalarLength(v2);\r\n        var angle = Math.acos(a / b) * 180 / Math.PI\r\n        var axis = v1.x * v2.y - v2.x * v1.y;\r\n        if (axis > 0) {\r\n            angle *= 1\r\n        } else if (axis < 0) {\r\n            angle *= -1;\r\n        } else {\r\n            angle = 0;\r\n        }\r\n        return angle\r\n    }\r\n    //**获得法线对应平面投影 */\r\n    static getProjection(dir, normal) {\r\n        let upProject = MyVector3.mull(normal, MyVector3.dot(dir, normal));\r\n        let downProject = MyVector3.subtract(dir, upProject)\r\n        return downProject;\r\n    }\r\n    //**复制数组 */\r\n    static cloneArray(array) {\r\n        let outArray = [].concat(array);\r\n        return outArray;\r\n    }\r\n    //**随机抽取数组中一个元素(不删除) */\r\n    static getRandomInArray(array) {\r\n        if (array.length) {\r\n            let r = Math.random() * array.length;\r\n            r = Math.floor(r);\r\n            return array[r];\r\n        } else {\r\n            GameMgr.ConsoleLog(\"传入错误参数,返回空\")\r\n            return null;\r\n        }\r\n    }\r\n    //**随机抽取数组中一个元素(删除) */\r\n    static takeRandomInArray(array) {\r\n        if (array.length) {\r\n            let r = Math.random() * array.length;\r\n            r = Math.floor(r);\r\n            let obj = array[r]\r\n            array.splice(r, 1);\r\n            return obj;\r\n        } else {\r\n            GameMgr.ConsoleLog(\"传入错误参数,返回空\")\r\n            return null;\r\n        }\r\n    }\r\n    //**打乱数组元素（洗牌） */\r\n    static randomArray(array) {\r\n        let newArray = new Array(array.length);\r\n        let length = newArray.length;\r\n        for (let i = 0; i < length; i++) {\r\n            let obj = this.takeRandomInArray(array);\r\n            newArray[i] = obj;\r\n        }\r\n        return newArray;\r\n    }\r\n    //  **3D转屏幕坐标 */\r\n    static d3_getSpritePosBySprite3DPoint(target): Laya.Point {\r\n        if (!target) {\r\n            return new Laya.Point(0, 0);\r\n        }\r\n        var pos = target.transform.position.clone();\r\n        var outPos = new Laya.Vector4;\r\n\r\n        GameMgr.Level.mainCamera.viewport.project(pos, GameMgr.Level.mainCamera.projectionViewMatrix, outPos);\r\n        var pos2d = new Laya.Vector2(outPos.x / Laya.stage.clientScaleX, outPos.y / Laya.stage.clientScaleY);\r\n        return new Laya.Point(pos2d.x, pos2d.y);\r\n    }\r\n    //#endregion\r\n\r\n    //#region 碰撞类计算\r\n    //**2D格子碰撞判定 */\r\n    static BoxCheck_2D_Normal(axis1, horizontal1, range1, width1, axis2, horizontal2, range2, width2): boolean {\r\n        let horizontalDis = Math.abs(horizontal2 - horizontal1);\r\n        let axisDis = Math.abs(axis2 - axis1);\r\n        let horizontalRange = (width1 + width2) / 2;\r\n        let axisRange = (range1 + range2) / 2;\r\n        // console.log(dirZ,hitZ)\r\n        return horizontalDis < horizontalRange && axisDis < axisRange;\r\n    }\r\n    //**2D圆形碰撞判定 */\r\n    static CircleCheck_2D(axis1, horizontal1, radius1, axis2, horizontal2, radius2) {\r\n        let distance = Math.pow(axis1 - axis2, 2) + Math.pow(horizontal1 - horizontal2, 2);\r\n        let range = Math.pow(radius1 + radius2, 2);\r\n        return { isHit: distance < range, distance: distance, range: range };\r\n    }\r\n    //#endregion\r\n\r\n    //#region 3D表现类\r\n    //**3D物体变小后变大提醒 */\r\n    static objectScaleTips(target: Laya.Sprite3D) {\r\n        let t = new D3Tween();\r\n        let normalScale = target.transform.localScale.clone();\r\n        let smallScale = MyVector3.mull(normalScale, 0.8);\r\n        let bigScale = MyVector3.mull(normalScale, 1.2);\r\n        t.toTween(target, { sca: smallScale }, 50)\r\n            .then({ sca: bigScale }, 50)\r\n            .then({ sca: normalScale }, 50);\r\n    }\r\n    //#endregion\r\n\r\n    //#region 2DUI表现类\r\n\r\n    //**表情弹出淡化Toast */\r\n    public static faceToast(faceUrl, parent, startPos: Laya.Vector2, endPos: Laya.Vector2) {\r\n        let image: Laya.Image = new Laya.Image(faceUrl)\r\n        image.anchorX = 0.5;\r\n        image.anchorY = 0.5;\r\n        image.alpha = 1;\r\n        image.size(100, 100)\r\n        parent.addChild(image);\r\n        image.x = startPos.x;\r\n        image.y = startPos.y;\r\n        Laya.Tween.to(image, { x: endPos.x, y: endPos.y, alpha: 0.9 }, 1000, Laya.Ease.strongOut, Laya.Handler.create(this, () => {\r\n            if (image && !image.destroyed) {\r\n                Laya.Tween.to(image, { x: endPos.x, y: endPos.y - 100, alpha: 0 }, 1000, null, Laya.Handler.create(this, () => {\r\n                    if (image && !image.destroyed) {\r\n                        image.destroy();\r\n                    }\r\n                }))\r\n            }\r\n        }))\r\n    }\r\n\r\n    //#region 开心与伤心表情（需配合素材库使用，未整理）\r\n    // public static faceHappyToast(startPos, parent, axis = 1) {\r\n    //     let x = Math.random() * 75 + 100\r\n    //     let xAxis = axis;\r\n    //     if (Math.random() > 0.5) {\r\n    //         xAxis = -axis;\r\n    //     }\r\n    //     let y = Math.random() * 75 + 100;\r\n    //     y *= axis;\r\n    //     let endPos = Tools.Vector2Add(startPos, new Laya.Vector2(xAxis * x, -y));\r\n    //     let url = \"HAPPY\"\r\n    //     let index = 1 + Math.floor(Math.random() * 5);\r\n    //     url = url + index.toString();\r\n    //     Tools.faceToast(faceUrl[url], parent, startPos, endPos)\r\n    // }\r\n    // public static faceSadToast(startPos, parent, axis = 1) {\r\n    //     let x = Math.random() * 75 + 100\r\n    //     let xAxis = axis;\r\n    //     if (Math.random() > 0.5) {\r\n    //         xAxis = -axis;\r\n    //     }\r\n    //     let y = Math.random() * 75 + 100;\r\n    //     y *= axis;\r\n    //     let endPos = Tools.Vector2Add(startPos, new Laya.Vector2(xAxis * x, -y));\r\n    //     let url = \"SAD\"\r\n    //     let index = 1 + Math.floor(Math.random() * 3);\r\n    //     url = url + index.toString();\r\n    //     Tools.faceToast(faceUrl[url], parent, startPos, endPos)\r\n    // }\r\n    //#endregion\r\n\r\n    //**文字淡出Toast */\r\n    static wordToastOk = true;\r\n    public static wordToast(wordUrl, parent, startPos: Laya.Vector2) {\r\n        if (!this.wordToastOk)\r\n            return;\r\n        ExtensionTool.wordToastOk = false;\r\n        let image: Laya.Image = new Laya.Image(wordUrl)\r\n        image.anchorX = 0.5;\r\n        image.anchorY = 0.5;\r\n        image.alpha = 1;\r\n        parent.addChild(image);\r\n        image.top = 300;\r\n        image.centerX = 0;\r\n        let endPos = startPos;\r\n        image.scaleX = 0;\r\n        image.scaleY = 0;\r\n        Laya.Tween.to(image, { scaleX: 1, scaleY: 1 }, 500, Laya.Ease.strongOut, Laya.Handler.create(this, () => {\r\n            ExtensionTool.wordToastOk = true;\r\n            if (image && !image.destroyed) {\r\n                Laya.Tween.to(image, { top: 200, alpha: 0 }, 500, null, Laya.Handler.create(this, () => {\r\n                    if (image && !image.destroyed) {\r\n                        image.destroy();\r\n                    }\r\n                }))\r\n            }\r\n        }))\r\n    }\r\n\r\n    //#region 开心与伤心语言（需配合素材库使用，未整理）\r\n    // public static wordHappyToast(startPos, parent, axis = 1) {\r\n    //     let x = Math.random() * 75 + 100\r\n    //     let xAxis = axis;\r\n    //     if (Math.random() > 0.5) {\r\n    //         xAxis = -axis;\r\n    //     }\r\n    //     let y = Math.random() * 75 + 100;\r\n    //     y *= axis;\r\n    //     let url = \"HAPPY\"\r\n    //     let index = this.randomInt(1, 2)\r\n    //     url = url + index.toString();\r\n    //     Tools.wordToast(wordUrl[url], parent, startPos)\r\n    // }\r\n    // public static wordSadToast(startPos, parent, axis = 1) {\r\n    //     let x = Math.random() * 75 + 100\r\n    //     let xAxis = axis;\r\n    //     if (Math.random() > 0.5) {\r\n    //         xAxis = -axis;\r\n    //     }\r\n    //     let y = Math.random() * 75 + 100;\r\n    //     y *= axis;\r\n    //     let url = \"SAD\"\r\n    //     let index = this.randomInt(1, 2)\r\n    //     url = url + index.toString();\r\n    //     Tools.wordToast(wordUrl[url], parent, startPos)\r\n    // }\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region 排序算法类\r\n\r\n    //冒泡排序 \r\n    static bubbleSort(arr) {\r\n        let numArr = this.cloneArray(arr);\r\n        let idArr = [];\r\n        for (let i = 0; i < numArr.length; i++) {\r\n            idArr.push(i);\r\n        }\r\n        for (let i = 0; i < numArr.length - 1; i++) {\r\n            for (let j = 0; j < numArr.length - 1 - i; j++) {\r\n                if (numArr[j] > numArr[j + 1]) {\r\n                    let numTemp = numArr[j + 1];\r\n                    numArr[j + 1] = numArr[j];\r\n                    numArr[j] = numTemp;\r\n                    let idTemp = idArr[j + 1];\r\n                    idArr[j + 1] = idArr[j];\r\n                    idArr[j] = idTemp;\r\n                }\r\n            }\r\n        }\r\n        return [numArr, idArr]\r\n    }\r\n\r\n\r\n    //#endregion\r\n\r\n    //#endregion\r\n}","import GameMgr from \"../managers/GameMgr\";\r\n\r\nexport default class UiScene extends Laya.Scene {\r\n    onAwake() {\r\n        this.size(Laya.stage.width, Laya.stage.height);\r\n        this.init();\r\n        this.initEvent();\r\n    }\r\n\r\n    onClosed(){\r\n        GameMgr.Event.offAllCaller(this);\r\n        Laya.timer.clearAll(this);\r\n    }\r\n\r\n    /**初始化界面 */\r\n    init() { }\r\n    /**初始化事件 */\r\n    initEvent() { }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport { TouchEventType } from \"../nimo_Mods/ctrl/TouchScan\";\r\nimport { UmengTool } from \"../platforms/cpLogicalMgr/Umeng/UmengTool\";\r\nimport UiScene from \"./UiScene\";\r\n\r\n/**游戏页 */\r\nexport default class Game extends UiScene {\r\n\r\n    static instance;\r\n\r\n    private tipsPanel: Laya.Image;\r\n    private teach1: Laya.Image;\r\n    private teach2: Laya.Image;\r\n    private tipsBg: Laya.Image;\r\n    private tipsBlack: Laya.Panel;\r\n\r\n    private restart: Laya.Button;\r\n    private tips: Laya.Button;\r\n    private tipsRestart: Laya.Button;\r\n    private tipsQuit: Laya.Button;\r\n    private jump: Laya.Button;\r\n\r\n    init() {\r\n        Game.instance = this;\r\n        // this.settingPanelInit();\r\n        switch (GameMgr.GlData.nowLevel) {\r\n            case 1:\r\n                this.teach1On();\r\n                break;\r\n            case 2:\r\n                this.teach2On();\r\n                break;\r\n            case 3:\r\n                this.teach2On();\r\n                break\r\n            default:\r\n                break;\r\n        }\r\n        let coinNeed = this.restart.getChildByName(\"value\") as Laya.Label;\r\n        coinNeed.text = GameMgr.GlData.restartNeedCoin.toString();\r\n    }\r\n\r\n    initEvent() {\r\n        ExtensionTool.d2_AddClickEvent(this.restart, this, this.restartDo);\r\n        // ExtensionTool.d2_AddClickEvent(this.setting, this, this.openSettingPanel);\r\n        ExtensionTool.d2_AddClickEvent(this.tips, this, this.tipsDo);\r\n        ExtensionTool.d2_AddClickEvent(this.tipsRestart, this, this.tipsRestartDo);\r\n        ExtensionTool.d2_AddClickEvent(this.tipsQuit, this, this.tipsQuitDo);\r\n        ExtensionTool.d2_AddClickEvent(this.jump, this, this.jumpStage);\r\n        GameMgr.Event.on(TouchEventType.start, this, this.teach1Off);\r\n        GameMgr.Event.on(TouchEventType.start, this, this.teach2Off);\r\n    }\r\n\r\n    //重来按钮\r\n    restartDo() {\r\n        if (GameMgr.Storage.storageData.coin >= GameMgr.GlData.restartNeedCoin) {\r\n            GameMgr.Storage.updateCoin(-GameMgr.GlData.restartNeedCoin);\r\n            GameMgr.Level.gameRestart();\r\n            UmengTool.TrackEvent(\"RestartClick\",\"true\");\r\n        } else {\r\n            GameMgr.ConsoleLog(\"金币不足\");\r\n            GameMgr.Platform.showToast(\"金币不足\");\r\n            UmengTool.TrackEvent(\"RestartClick\",\"false\");\r\n        }\r\n     \r\n    }\r\n\r\n    //#region 提示\r\n\r\n    //提示开启按钮\r\n    isTipsOn = false;\r\n    tipsDo() {\r\n        if (GameMgr.Level.isFinish)\r\n            return;\r\n        let self = this;\r\n        let cb = () => {\r\n            GameMgr.Event.event(EventType.Tips_UI_Open);\r\n            // self.restart.set_visible(false);\r\n            // self.tips.set_visible(false);\r\n            self.tipsRestart.set_visible(true);\r\n            self.tipsQuit.set_visible(true);\r\n            self.tipsPanel.set_visible(true);\r\n            self.tipsBg.set_visible(true);\r\n            self.tipsBlack.set_visible(true);\r\n            this.tipsBlack.mouseEnabled = true;\r\n            this.tipsBlack.mouseThrough = false;\r\n        }\r\n        if (!this.isTipsOn) {\r\n            UmengTool.TrackEvent(\"TipsClick\");\r\n            GameMgr.Platform.showVideoAd(() => {\r\n                self.isTipsOn = true;\r\n                cb();\r\n                GameMgr.ConsoleLog(\"视频提示解锁\")\r\n            })\r\n        } else {\r\n            cb();\r\n            GameMgr.ConsoleLog(\"已解锁\")\r\n        }\r\n\r\n    }\r\n    //提示重来按钮\r\n    tipsRestartDo() {\r\n        GameMgr.Event.event(EventType.Tips_UI_Restart);\r\n    }\r\n    //提示退出按钮\r\n    tipsQuitDo() {\r\n        GameMgr.Event.event(EventType.Tips_UI_Quit);\r\n        // this.restart.set_visible(true);\r\n        // this.tips.set_visible(true);\r\n        this.tipsRestart.set_visible(false);\r\n        this.tipsQuit.set_visible(false);\r\n        this.tipsPanel.set_visible(false);\r\n        this.tipsBg.set_visible(false);\r\n        this.tipsBlack.set_visible(false);\r\n        this.tipsBlack.mouseEnabled = true;\r\n        this.tipsBlack.mouseThrough = true;\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region 教程\r\n    teach1On() {\r\n        this.teach1.set_visible(true);\r\n        Laya.timer.loop(16, this, this.teach1Update);\r\n    }\r\n    teach1Update() {\r\n        let hand = this.teach1.getChildAt(0) as Laya.Image;\r\n        hand.x += 10;\r\n        if (hand.x > 650) {\r\n            hand.x = 0;\r\n        }\r\n    }\r\n    teach1Off() {\r\n        this.teach1.set_visible(false);\r\n        Laya.timer.clear(this, this.teach1Off);\r\n    }\r\n    teach2On() {\r\n        this.teach2.set_visible(true);\r\n    }\r\n    teach2Off() {\r\n        this.teach2.set_visible(false);\r\n    }\r\n    //#endregion\r\n\r\n    //#region 跳关\r\n    jumpStage() {\r\n        UmengTool.TrackEvent(\"PassClick\");\r\n        GameMgr.Platform.showVideoAd(() => {\r\n            GameMgr.Level.jumpStage();\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n}","export default class D2Tween {\r\n    /**透明度缓动 */\r\n    static toAlpha(target: Laya.Sprite, startValue: number, endValue: number, duration: number, ease: Function = null, completeCB: Function = null, isReset: boolean = false, isLoop: boolean = false) {\r\n        if (!target) return;\r\n\r\n        var handler = null;\r\n        target.alpha = startValue;\r\n        alpha1();\r\n\r\n        function alpha1() {\r\n            handler = isLoop || isReset ? new Laya.Handler(this, alpha2) : new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null });\r\n            Laya.Tween.to(target, { alpha: endValue }, duration, ease, handler);\r\n        }\r\n\r\n        function alpha2() {\r\n            handler = isLoop ? new Laya.Handler(this, alpha1) : null;\r\n            Laya.Tween.to(target, { alpha: startValue }, duration, ease, handler);\r\n        }\r\n    }\r\n\r\n    /**缩放缓动 */\r\n    static toScale(target: Laya.Sprite, startValue: number, endValue: number, duration: number, ease?: Function, completeCB?: Function, isReset?: boolean, isLoop: boolean = false) {\r\n        if (!target) return;\r\n\r\n        var handler = null;\r\n        target.scale(startValue, startValue);\r\n        scale1();\r\n\r\n        function scale1() {\r\n            handler = isLoop || isReset ? new Laya.Handler(this, scale2) : new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null });\r\n            Laya.Tween.to(target, { scaleX: endValue, scaleY: endValue }, duration, ease, handler);\r\n        }\r\n\r\n        function scale2() {\r\n            handler = isLoop ? new Laya.Handler(this, scale1) : null;\r\n            Laya.Tween.to(target, { scaleX: startValue, scaleY: startValue }, duration, ease, handler);\r\n        }\r\n    }\r\n\r\n    /**移动缓动 */\r\n    static toPosition(target: Laya.Sprite, position: { x?: number, y?: number }, duration: number, ease: Function = null, completeCB: Function = null, isLoop = false, type = 0) {\r\n        let curPos: any = {};\r\n        let targetPos: any = {};\r\n        if (position.x != null) {\r\n            curPos.x = target.x;\r\n            targetPos.x = position.x;\r\n        }\r\n        if (position.y != null) {\r\n            curPos.y = target.y;\r\n            targetPos.y = position.y;\r\n        }\r\n\r\n        pos1();\r\n\r\n        function pos1() {\r\n            if (isLoop) {\r\n                switch (type) {\r\n                    case 0:\r\n                        var handler = new Laya.Handler(this, pos2);\r\n                        break;\r\n                    case 1:\r\n                        handler = new Laya.Handler(this, pos3);\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                handler = new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null })\r\n            }\r\n            Laya.Tween.to(target, targetPos, duration, ease, handler);\r\n        }\r\n\r\n        function pos2() {\r\n            Laya.Tween.to(target, curPos, duration, ease, Laya.Handler.create(this, pos1));\r\n        }\r\n\r\n        function pos3() {\r\n            target.pos(curPos.x, curPos.y);\r\n            pos1();\r\n        }\r\n    }\r\n\r\n    /**旋转缓动 */\r\n    static toRotaion(target: Laya.Sprite, angle: number, duration: number, ease: Function = null, completeCB: Function = null, isReset: boolean = false, isLoop: boolean = false) {\r\n        var curAngle = target.rotation;\r\n        var targetAngle = curAngle + angle;\r\n        var loopAngle = (curAngle - angle) + curAngle;\r\n        rotate1();\r\n\r\n        function rotate1() {\r\n            if (isLoop) {\r\n                var handler = new Laya.Handler(this, rotate2);\r\n            }\r\n            else if (isReset) {\r\n                handler = new Laya.Handler(this, rotate4)\r\n            }\r\n            else {\r\n                handler = new Laya.Handler(this, () => { completeCB && completeCB(); completeCB = null })\r\n            }\r\n            Laya.Tween.to(target, { rotation: targetAngle }, duration, null, handler);\r\n        }\r\n\r\n        function rotate2() {\r\n            Laya.Tween.to(target, { rotation: loopAngle }, duration * 2, null, Laya.Handler.create(this, rotate3));\r\n        }\r\n\r\n        function rotate3() {\r\n            Laya.Tween.to(target, { rotation: targetAngle }, duration * 2, null, Laya.Handler.create(this, rotate2));\r\n        }\r\n\r\n        function rotate4() {\r\n            Laya.Tween.to(target, { rotation: curAngle }, duration);\r\n        }\r\n    }\r\n\r\n    /**清除缓动 */\r\n    static clearTween(target: Laya.Sprite) {\r\n        Laya.Tween.clearAll(target);\r\n    }\r\n}","import D2Tween from \"../extensionTools/D2Tween\";\r\n\r\n\r\nexport default class ScaleUITween extends Laya.Script {\r\n\r\n\r\n\r\n    onEnable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        // D2Tween.toScale(target, 0, 1.5, 300, null, () => {\r\n        //     D2Tween.toScale(target, 1.5, 1.3, 150, null);\r\n        // }, false, false)\r\n        D2Tween.toScale(target, 0.9, 1.1, 500, null, () => { }, false, true)\r\n    }\r\n\r\n    onDisable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        D2Tween.clearTween(target);\r\n        target.scale(1, 1);\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport GlobalData from \"../configs/GlobalData\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport { UmengTool } from \"../platforms/cpLogicalMgr/Umeng/UmengTool\";\r\nimport Platform from \"../platforms/Platform\";\r\n\r\nexport default class StageList extends Laya.Script {\r\n    static instance;\r\n    isInit = false;\r\n    list: Laya.List;\r\n    item: Laya.Image;\r\n    onEnable(): void {\r\n        if (!this.isInit)\r\n            this.init();\r\n    }\r\n    onDisable(): void {\r\n    }\r\n\r\n    init(value = 0) {\r\n        this.isInit = true;\r\n        this.list = this.owner as Laya.List;\r\n        //列表基础参数\r\n        // this.list.width = 540;\r\n        // this.list.width = 750;\r\n        // this.list.height = 450;\r\n        let allStageCount = GameMgr.Storage.storageData.level + 1;\r\n        this.list.vScrollBarSkin = \"\";\r\n        this.list.repeatX = 3;\r\n        this.list.repeatY = Math.ceil((allStageCount) / 3);\r\n        this.list.array = new Array(allStageCount);\r\n        this.list.renderHandler = Laya.Handler.create(this, this.onListRender, null, false)\r\n        let scrollBar: Laya.ScrollBar = this.list.scrollBar\r\n        let height = 195 * this.list.repeatY - this.list.height;\r\n        scrollBar.value = height;\r\n        //是否触发自动滚动\r\n        // this.list.mouseHandler = new Laya.Handler(this, this.mouseHandler);\r\n        // Laya.timer.once(1000, this, () => {\r\n        //     Laya.timer.frameLoop(1, this, this.scrollLoop)\r\n        // })\r\n    }\r\n    //选择UI\r\n    // bgChooseUrl = \"startMenu/Shop/sy_dk_2.png\";\r\n    //已解锁UI\r\n    // bgUnlockUrl = \"startMenu/Shop/sy_dk_1.png\";\r\n    onListRender(cell, index) {\r\n        //按钮事件\r\n        var img = cell.getChildByName(\"Item\");\r\n        var active = img.getChildByName(\"active\");\r\n        var choose = img.getChildByName(\"choose\");\r\n        var lock = img.getChildByName(\"lock\");\r\n        var value = img.getChildByName(\"value\");\r\n        ExtensionTool.d2_AddClickEvent(img, this, this.clickEvent, [index])\r\n        //状态判断\r\n        let levelIndex = index + 1;\r\n        let nowLevel = GameMgr.GlData.nowLevel;\r\n        let topLevel = GameMgr.Storage.storageData.level;\r\n        active.visible = true;\r\n        choose.visible = levelIndex == nowLevel;\r\n        lock.set_visible(levelIndex > topLevel);\r\n        //数值给予\r\n        if (levelIndex >= 100) {\r\n            value.scaleX = 0.6;\r\n            value.scaleY = 0.6;\r\n        }\r\n        value.value = levelIndex.toString();\r\n    }\r\n\r\n    //#region 自动滚动\r\n    scrollDir = 1;\r\n    mouseHandler(e, index) {\r\n        this.againScroll()\r\n    }\r\n    againScroll() {\r\n        Laya.timer.clear(this, this.scrollLoop)\r\n        Laya.timer.once(3000, this, () => {\r\n            Laya.timer.frameLoop(1, this, this.scrollLoop)\r\n        })\r\n    }\r\n    scrollLoop() {\r\n        let scrollBar: Laya.ScrollBar = this.list.scrollBar\r\n        scrollBar.value += this.scrollDir;\r\n        if (scrollBar.value >= scrollBar.max || scrollBar.value <= 0) {\r\n            this.scrollDir = -this.scrollDir\r\n            this.againScroll()\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region 按钮事件\r\n    clickEvent(index) {\r\n        if (index + 1 <= GameMgr.Storage.storageData.level) {\r\n            if (GameMgr.GlData.nowLevel != index + 1) {\r\n                GameMgr.GlData.nowLevel = index + 1;\r\n                this.list.refresh();\r\n                GameMgr.Event.event(EventType.Update_NowLevel_Event);\r\n                GameMgr.UI.closeScene(UiSceneType.Home);\r\n                GameMgr.UI.closeScene(UiSceneType.Game);\r\n                GameMgr.UI.closeScene(UiSceneType.Over);\r\n              \r\n                GameMgr.Event.event(EventType.Init_Game_Event,{select:true});\r\n            }\r\n        } else {\r\n            GameMgr.Platform.showToast(\"请继续通关解锁关卡\")\r\n        }\r\n    }\r\n}\r\n","import GameMgr from \"../managers/GameMgr\";\r\n\r\n/**2D组件基类 */\r\nexport default class D2Component extends Laya.Script {\r\n    /**自身对象 */\r\n    self: Laya.Sprite;\r\n\r\n    onAwake() {\r\n        this.self = this.owner as Laya.Sprite;\r\n        this.init();\r\n    }\r\n\r\n    /**初始化 */\r\n    init(...data: any[]) { }\r\n\r\n    onDestroy() {\r\n        Laya.timer.clearAll(this);\r\n        GameMgr.Event.offAllCaller(this);\r\n    }\r\n}","import { EventType } from \"../configs/EnumType\";\r\nimport D2Tween from \"../extensionTools/D2Tween\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport D2Component from \"./D2Component\";\r\n\r\n\r\nexport default class BaseUI extends D2Component {\r\n\r\n    //#region 参数\r\n    //按钮\r\n    settingButton: Laya.Button;\r\n    chooseStage: Laya.Button;\r\n    backFromChooseStage: Laya.Button;\r\n    musicSettingButton: Laya.Button;\r\n    soundSettingButton: Laya.Button;\r\n    vibrateSettingButton: Laya.Button;\r\n    backClose: Laya.Button;\r\n    //ui\r\n    gradeValue: Laya.FontClip;\r\n    stageChoosePanel: Laya.Panel;\r\n    settingPanel: Laya.Image;\r\n    chooseStageBg: Laya.Panel\r\n    coinValue: Laya.Label;\r\n    //#endregion\r\n\r\n    //#region 初始化\r\n    init() {\r\n        //关卡\r\n        this.gradeValue = this.self.getChildByName(\"gradeUI\").getChildByName(\"gradeValue\") as Laya.FontClip;\r\n        this.gradeValue.value = GameMgr.GlData.nowLevel.toString();\r\n        //选关\r\n        this.stageChoosePanel = this.self.getChildByName(\"stageChoosePanel\") as Laya.Panel;\r\n        this.chooseStageBg = this.self.getChildByName(\"chooseStageBg\") as Laya.Panel\r\n        this.chooseStage = this.self.getChildByName(\"chooseStage\") as Laya.Button;\r\n        this.backFromChooseStage = this.stageChoosePanel.getChildByName(\"backFromChooseStage\") as Laya.Button;\r\n        this.backClose = this.stageChoosePanel.getChildByName(\"backClose\") as Laya.Button;\r\n        this.switchChooseStage(false);\r\n        //金币\r\n        this.coinValue = this.self.getChildByName(\"coinBack\").getChildByName(\"coinValue\") as Laya.Label;\r\n        this.coinValue.text = GameMgr.Storage.storageData.coin.toString();\r\n        //设置\r\n        let setting = this.self.getChildByName(\"settingShow\").getChildByName(\"settingPanel\");\r\n        this.settingButton = this.self.getChildByName(\"setting\") as Laya.Button;\r\n        this.musicSettingButton = setting.getChildByName(\"muisc\") as Laya.Button;\r\n        this.soundSettingButton = setting.getChildByName(\"sound\") as Laya.Button;\r\n        this.vibrateSettingButton = setting.getChildByName(\"vibrate\") as Laya.Button;\r\n        this.settingPanel = setting as Laya.Image;\r\n        //初始化按钮和事件\r\n        this.initEvent();\r\n    }\r\n    //#endregion\r\n\r\n    //#region 初始化事件\r\n    initEvent() {\r\n        ExtensionTool.d2_AddClickEvent(this.chooseStage, this, this.switchChooseStage, [true]);\r\n        ExtensionTool.d2_AddClickEvent(this.backFromChooseStage, this, this.switchChooseStage, [false]);\r\n        ExtensionTool.d2_AddClickEvent(this.backClose, this, this.switchChooseStage, [false])\r\n        ExtensionTool.d2_AddClickEvent(this.musicSettingButton, this, this.bgmSwitch);\r\n        ExtensionTool.d2_AddClickEvent(this.soundSettingButton, this, this.soundSwitch);\r\n        ExtensionTool.d2_AddClickEvent(this.vibrateSettingButton, this, this.vibrateSwitch);\r\n        ExtensionTool.d2_AddClickEvent(this.settingButton, this, this.settingSwitch);\r\n\r\n\r\n        // ExtensionTool.d2_AddClickEvent(this.self, this, this.switchChooseStage, [false]);\r\n        GameMgr.Event.on(EventType.Update_Coin_Event, this, (e) => {\r\n            this.coinValue.text = e.coin.toString();\r\n        })\r\n    }\r\n    //#endregion\r\n\r\n    //#region 选关界面选关\r\n    switchChooseStage(isOpen?) {\r\n        this.stageChoosePanel.set_visible(isOpen);\r\n        this.chooseStageBg.set_visible(isOpen);\r\n        this.backFromChooseStage.set_visible(isOpen);\r\n        this.chooseStage.set_visible(!isOpen);\r\n        this.self.mouseThrough = !isOpen;\r\n    }\r\n    //#endregion\r\n\r\n    //#region 设置\r\n    settingUpdate() {\r\n\r\n    }\r\n    isSettingOpen = false;\r\n    settingSwitch() {\r\n        //清除setting动画  -90  35.5\r\n        D2Tween.clearTween(this.settingPanel);\r\n        if (!this.isSettingOpen) {\r\n            //开启操作\r\n            D2Tween.toPosition(this.settingPanel, { x: 0, y: 35.5 }, 500, null, () => { }, false);\r\n\r\n        } else {\r\n            //关闭操作\r\n            D2Tween.toPosition(this.settingPanel, { x: 0, y: -90 }, 500, null, () => { }, false);\r\n        }\r\n        this.isSettingOpen = !this.isSettingOpen;\r\n    }\r\n    bgmSwitch() {\r\n        GameMgr.GlData.isPlayBGM = !GameMgr.GlData.isPlayBGM;\r\n        this.updateSetting();\r\n    }\r\n    soundSwitch() {\r\n        GameMgr.GlData.isPlaySound = !GameMgr.GlData.isPlaySound;\r\n        this.updateSetting();\r\n    }\r\n    vibrateSwitch() {\r\n        GameMgr.GlData.isVibrate = !GameMgr.GlData.isVibrate;\r\n        this.updateSetting();\r\n    }\r\n    updateSetting() {\r\n        if (GameMgr.GlData.isPlayBGM) {\r\n            Laya.SoundManager.setMusicVolume(1);\r\n        } else {\r\n            Laya.SoundManager.setMusicVolume(0);\r\n        }\r\n        if (GameMgr.GlData.isPlaySound) {\r\n            Laya.SoundManager.setSoundVolume(1);\r\n        } else {\r\n            Laya.SoundManager.setSoundVolume(0);\r\n        }\r\n        let music = this.musicSettingButton.getChildAt(0) as Laya.Image;\r\n        let sound = this.soundSettingButton.getChildAt(0) as Laya.Image;\r\n        let vibrate = this.vibrateSettingButton.getChildAt(0) as Laya.Image;\r\n        music.visible = !GameMgr.GlData.isPlayBGM;\r\n        sound.visible = !GameMgr.GlData.isPlaySound;\r\n        vibrate.visible = !GameMgr.GlData.isVibrate;\r\n    }\r\n    //#endregion\r\n}","import ExtensionTool from \"../../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../../managers/GameMgr\";\r\nimport Game from \"../../uiScenes/Game\";\r\nimport Tools from \"../Tools\";\r\nimport { TouchEventType } from \"./TouchScan\";\r\n\r\n\r\n\r\nexport default class TouchWayCheck extends Laya.Script {\r\n    startPos;\r\n    nowPos;\r\n    touchTimer;\r\n    isDown;\r\n    isPress;\r\n    calls = [];\r\n    onEnable() {\r\n        GameMgr.Event.on(TouchEventType.start, this, this.onMouseDown);\r\n        GameMgr.Event.on(TouchEventType.move, this, this.onMouseMove);\r\n        GameMgr.Event.on(TouchEventType.end, this, this.onMouseUp);\r\n    }\r\n    onDisable() {\r\n        GameMgr.Event.off(TouchEventType.start, this, this.onMouseDown);\r\n        GameMgr.Event.off(TouchEventType.move, this, this.onMouseMove);\r\n        GameMgr.Event.off(TouchEventType.end, this, this.onMouseUp);\r\n    }\r\n    firstId = -1;\r\n    secondId = -1;\r\n    firstOriginalPoint = new Laya.Vector2();\r\n    secondOriginalPoint = new Laya.Vector2();\r\n\r\n    isSecond = false;\r\n\r\n    onMouseDown(e) {\r\n        if (this.isSecond == false) {\r\n            if (this.firstId == -1) {\r\n                this.checkOut(e);\r\n                this.firstId = e.touchId;\r\n                GameMgr.Event.event(TouchEventType.singleTouchStart, e);\r\n                // GameMgr.ConsoleLog(\"单指按下\");\r\n                this.firstOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n            } else if (this.firstId != e.touchId && this.secondId == -1) {\r\n                this.secondId = e.touchId;\r\n                this.isSecond = true;\r\n                GameMgr.Event.event(TouchEventType.secondTouchStart, e);\r\n                // GameMgr.ConsoleLog(\"双指按下\");\r\n                this.secondOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n            }\r\n        } else {\r\n            if (this.firstId == -1) {\r\n                this.firstId = e.touchId;\r\n                this.firstOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n            } else if (this.secondId == -1) {\r\n                this.secondId = e.touchId;\r\n                this.secondOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n            }\r\n        }\r\n        this.checkOutAlways(e);\r\n    }\r\n    onMouseMove(e) {\r\n        if (this.isSecond == false) {\r\n            if (e.touchId == this.firstId) {\r\n                this.checkWay(e);\r\n                GameMgr.Event.event(TouchEventType.singleTouchMove, e);\r\n                // GameMgr.ConsoleLog(\"单指移动\");\r\n            }\r\n        } else {\r\n            if (this.firstId != -1 && this.secondId != -1) {\r\n                let data = {\r\n                    distance: 0,\r\n                    angle: 0,\r\n                }\r\n                let lastDir = Tools.Vector2Reduce(this.secondOriginalPoint, this.firstOriginalPoint)\r\n                let lastDistance = Laya.Vector2.scalarLength(lastDir);\r\n                let nowDir;\r\n                if (e.touchId == this.firstId) {\r\n                    nowDir = Tools.Vector2Reduce(this.secondOriginalPoint, new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height));\r\n                } else if (e.touchId == this.secondId) {\r\n                    nowDir = Tools.Vector2Reduce(new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height), this.firstOriginalPoint);\r\n                }\r\n                if (nowDir) {\r\n                    let nowDistance = Laya.Vector2.scalarLength(nowDir);\r\n                    data.distance = (nowDistance - lastDistance);\r\n                    data.angle = ExtensionTool.getAngle2DWay(lastDir, nowDir);\r\n                    GameMgr.Event.event(TouchEventType.secondTouchMove, data);\r\n                    // GameMgr.ConsoleLog(\"双指移动\", data.distance, data.angle);\r\n                }\r\n            }\r\n        }\r\n        if (e.touchId == this.firstId) {\r\n            this.firstOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n        }\r\n        if (e.touchId == this.secondId) {\r\n            this.secondOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n        }\r\n        this.checkWayAlways(e);\r\n    }\r\n    onMouseUp(e) {\r\n        this.checkOutAlways(e);\r\n        if (e.touchId == this.firstId) {\r\n            this.firstOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n        }\r\n        if (e.touchId == this.secondId) {\r\n            this.secondOriginalPoint = new Laya.Vector2(e.stageX / Laya.stage.width, e.stageY / Laya.stage.height);\r\n        }\r\n        if (this.isSecond == false) {\r\n            if (e.touchId == this.firstId) {\r\n                this.checkOut(e);\r\n                GameMgr.Event.event(TouchEventType.singleTouchEnd, e);\r\n                this.firstId = -1;\r\n                // GameMgr.ConsoleLog(\"单指松开\");\r\n            }\r\n        } else {\r\n            if (e.touchId == this.firstId) {\r\n                this.firstId = -1;\r\n            }\r\n            if (e.touchId == this.secondId) {\r\n                this.secondId = -1;\r\n            }\r\n            if (this.firstId == -1 && this.secondId == -1) {\r\n                // GameMgr.ConsoleLog(\"双指松开\");\r\n                this.isSecond = false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //#region 杂项\r\n    WayCheck() {\r\n        let dir = Tools.Vector2Reduce(this.nowPos, this.startPos);\r\n        let scale = Tools.Vector2Scale(dir);\r\n        let sensitivity = 100;\r\n        if (scale > sensitivity) {\r\n            let angle = Math.atan2(dir.y, dir.x) / Math.PI * 180;\r\n            let call = \"none\"\r\n            if (angle > -135 && angle < -45) {\r\n                call = \"up\"\r\n            } else if (angle > -45 && angle < 45) {\r\n                call = \"right\"\r\n            } else if (angle < 135 && angle > 45) {\r\n                call = \"down\"\r\n            } else if (angle < -135 || angle > 135) {\r\n                call = \"left\"\r\n            }\r\n            //划方向确认\r\n            switch (call) {\r\n                case \"none\":\r\n                    break;\r\n                case \"up\":\r\n                    break;\r\n                case \"right\":\r\n                    break;\r\n                case \"down\":\r\n                    break;\r\n                case \"left\":\r\n                    break;\r\n            }\r\n            this.isDown = false\r\n            // GameMgr.Event.event(TouchEventType.slideWay, { call: call, angle: angle, dir: dir })\r\n        }\r\n        this.startPos = this.nowPos;\r\n    }\r\n    onDestroy() {\r\n        if (this.touchTimer) {\r\n            clearTimeout(this.touchTimer);\r\n        }\r\n    }\r\n\r\n    //左右参数处理（建议打包）\r\n    orignalHorizontal = 0;\r\n    orignalAxis = 0;\r\n    //玩家用\r\n    //查看方向（传入差值即可（位置中点0，范围-0.5~0.5，但传入差值为-1~1）\r\n    public checkWay(e) {\r\n        let horizontal = e.stageX - this.orignalHorizontal\r\n        let axis = e.stageY - this.orignalAxis;\r\n        // horizontal *= 1000 * 16 / Laya.timer.delta;\r\n        // if (horizontal > 1) {\r\n        //     horizontal = 1;\r\n        // }\r\n        // if (horizontal < -1) {\r\n        //     horizontal = -1\r\n        // }\r\n        // axis *= 1000 * 16 / Laya.timer.delta;\r\n        // if (axis > 1) {\r\n        //     axis = 1;\r\n        // }\r\n        // if (axis < -1) {\r\n        //     axis = -1\r\n        // }\r\n        //移动接口\r\n        this.checkOut(e);\r\n        GameMgr.Event.event(TouchEventType.getAxis, [{ x: horizontal, y: axis }])\r\n    }\r\n    //按下和松开的时候，重置初始点\r\n    public checkOut(e) {\r\n        this.orignalHorizontal = e.stageX\r\n        this.orignalAxis = e.stageY\r\n    }\r\n\r\n    orignalHorizontalAlways = 0;\r\n    orignalAxisAlways = 0;\r\n    public checkWayAlways(e) {\r\n        let horizontal = e.stageX / Laya.stage.width - this.orignalHorizontalAlways;\r\n        let axis = e.stageY / Laya.stage.height - this.orignalAxisAlways;\r\n        //移动接口\r\n        this.checkOutAlways(e);\r\n        GameMgr.Event.event(TouchEventType.getAxisAlways, [{ x: horizontal, y: axis }])\r\n    }\r\n    public checkOutAlways(e) {\r\n        this.orignalHorizontalAlways = e.stageX / Laya.stage.width\r\n        this.orignalAxisAlways = e.stageY / Laya.stage.height\r\n    }\r\n\r\n    startPosition\r\n    prePosition\r\n    offset = new Laya.Vector3();\r\n    modelRotateControlDown() {\r\n        let mousePos = new Laya.Vector3(Laya.MouseManager.instance.mouseX, Laya.MouseManager.instance.mouseY, 0);\r\n        this.startPosition = mousePos.clone();\r\n        this.prePosition = mousePos.clone();\r\n    }\r\n\r\n    modelRotateControlMove() {\r\n        let mousePos = new Laya.Vector3(Laya.MouseManager.instance.mouseX, Laya.MouseManager.instance.mouseY, 0);\r\n        Laya.Vector3.subtract(mousePos, this.prePosition, this.offset);\r\n        this.prePosition = mousePos.clone();\r\n\r\n        var offset = new Laya.Vector3(this.offset.x, this.offset.y, 0);\r\n\r\n        let rot = new Laya.Vector3();\r\n        Laya.Vector3.cross(offset, new Laya.Vector3(0, 0, 1), rot);\r\n        Laya.Vector3.normalize(rot, rot);\r\n        // GameMgr.Event.event(\"ModelRotateGo\", { rot: rot });\r\n        // this.self.transform.rotate(new Laya.Vector3(-rot.x / 10, -rot.y / 10, rot.z / 10), false);\r\n    }\r\n\r\n    modelRotateControlUp() {\r\n        let mousePos = new Laya.Vector3(Laya.MouseManager.instance.mouseX, Laya.MouseManager.instance.mouseY, 0);\r\n        // Laya.Vector3.subtract(mousePos, this.startPosition, this.finalOffset);\r\n        // // this.isSlide = true;\r\n        // this.angle = Laya.Vector3.scalarLength(this.finalOffset);\r\n    }\r\n    //#endregion\r\n\r\n}","import { EventType, PlatformType } from \"../../../../configs/EnumType\";\r\nimport D2Component from \"../../../../d2Components/D2Component\";\r\nimport ExtensionTool from \"../../../../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../../../../managers/GameMgr\";\r\nimport { NativeAd } from \"../../../Platform\";\r\nimport { UmengTool } from \"../../Umeng/UmengTool\";\r\nimport mxr_oppo from \"../mxr_oppo\";\r\nimport mxr_vivo from \"../mxr_vivo\";\r\n\r\n\r\n\r\nexport default class NativeAdComponent extends D2Component {\r\n    /** @prop {name:triggerPos,tips:\"触发位置\",type:Option,option:\"Home,Game,Over,Inter\", default: \"Home\"}*/\r\n    triggerPos: string = \"Home\";\r\n\r\n    /** @prop {name:isEnable,tips:\"是否启用\",type:Bool, default: true}*/\r\n    isEnable: boolean = true;\r\n\r\n    imgAd: Laya.Image;\r\n    btnClose: Laya.Image;\r\n    btnCheck: Laya.Image;\r\n    imgClick: Laya.Image;\r\n\r\n    lbTitle: Laya.Label;\r\n    lbDesc: Laya.Label;\r\n\r\n    nativeAd: NativeAd;\r\n\r\n    logicalMgr: any;\r\n\r\n    init() {\r\n        console.log(\"原生广告组件==============\");\r\n        this.self.visible = false;\r\n        GameMgr.Event.event(EventType.Native_Visible_Event, false);\r\n        if (!this.isEnable) return;\r\n        switch (GameMgr.GlData.platform) {\r\n            case PlatformType.OPPO: this.logicalMgr = mxr_oppo; break;\r\n            case PlatformType.VIVO: this.logicalMgr = mxr_vivo; break;\r\n            case PlatformType.PC: return;\r\n        }\r\n        GameMgr.Event.on(\"Update_NativeAd_Event\", this, this.updateData);\r\n        // if (this.triggerPos == \"Game\") {\r\n        //     // Laya.timer.once(5000, this, this.updateData);\r\n        // } else {\r\n        this.updateData();\r\n        // }\r\n    }\r\n\r\n    canShow: boolean = true;\r\n    updateData(args?) {\r\n        this.self.visible = false;\r\n        GameMgr.Event.event(EventType.Native_Visible_Event, false);\r\n        if (args) {\r\n            this.canShow = !args.isClose\r\n        }\r\n\r\n        if (!this.canShow) {\r\n            console.log(\"事件是关闭的\");\r\n            return;\r\n        }\r\n        if (!this.logicalMgr || !this.logicalMgr.canShowNativeAd) {\r\n            console.log(\"配置或配置问题\")\r\n            return;\r\n        }\r\n        if (this.triggerPos == \"Game\" && !this.logicalMgr.dataConfig.isShowGameNativeAd) {\r\n            console.log(\"后台配置不允许游戏中原生广告显示，暂不显示\")\r\n            return;\r\n        }\r\n        // GameMgr.ConsoleLog(\"原生广告更新\", !this.canShow, !this.qy || !this.qy.canShowNativeAd, this.triggerPos == \"Game\" && !this.qy.dataConfig.isShowGameNativeAd)\r\n        this.nativeAd = this.logicalMgr.nativeAd;\r\n        GameMgr.ConsoleLog(\"是否有原生广告\", this.nativeAd)\r\n        if (this.nativeAd) {\r\n            let ad = this.nativeAd;\r\n            console.log(\"显示原生广告\", JSON.stringify(ad));\r\n            this.self.visible = true;\r\n            GameMgr.Event.event(EventType.Native_Visible_Event, true);\r\n\r\n            this.self.zOrder = 10;\r\n            this.imgAd = this.self.getChildByName(\"imgAd\") as Laya.Image;\r\n            this.btnClose = this.self.getChildByName(\"btnClose\") as Laya.Image;\r\n            this.btnCheck = this.self.getChildByName(\"btnCheck\") as Laya.Image;\r\n            this.lbTitle = this.self.getChildByName(\"lbTitle\") as Laya.Label;\r\n            this.lbDesc = this.self.getChildByName(\"lbDesc\") as Laya.Label;\r\n            this.imgClick = this.self.getChildByName(\"imgClick\") as Laya.Image;\r\n\r\n            this.imgAd.skin = ad.imgUrl;\r\n            this.lbTitle.text = ad.title;\r\n            this.lbDesc.text = ad.desc;\r\n\r\n            ExtensionTool.d2_AddClickEvent(this.btnClose, this, this.closeAd);\r\n            ExtensionTool.d2_AddClickEvent(this.btnCheck, this, this.clickAd);\r\n            ExtensionTool.d2_AddClickEvent(this.imgClick, this, this.clickAd, null, false, true, false, false);\r\n            UmengTool.TrackEvent(\"NativeAdShow\");\r\n        }\r\n    }\r\n\r\n    clickAd() {\r\n        GameMgr.Platform.showNativeAd(this.nativeAd, (isShow) => {\r\n            if (isShow) {\r\n                //重新刷新\r\n                this.logicalMgr.loopCreateNativeAd(true);\r\n                this.self.visible = false;\r\n            }\r\n        });\r\n        UmengTool.TrackEvent(\"NativeAdClick\");\r\n    }\r\n\r\n    closeAd() {\r\n        //如果是首页面不再\r\n        this.self.visible = false;\r\n        GameMgr.Event.event(EventType.Native_Visible_Event, false);\r\n        switch (this.triggerPos) {\r\n            case \"Home\":\r\n                break;\r\n            case \"Game\":\r\n                break;\r\n            case \"Inter\":\r\n                GameMgr.Event.off(\"Update_NativeAd_Event\", this, this.updateData);\r\n                GameMgr.Event.event(\"Update_NativeAd_Event\", { isClose: false })\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onDisable() {\r\n        console.log(\"移除原生广告组件\");\r\n        GameMgr.Event.event(EventType.Native_Visible_Event, false);\r\n        Laya.timer.clearAll(this);\r\n        GameMgr.Event.offAllCaller(this);\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport UiScene from \"./UiScene\";\r\n\r\n/**首页 */\r\nexport default class Home extends UiScene {\r\n\r\n    private btnStart: Laya.Button;\r\n    // private gradeValue: Laya.FontClip;\r\n\r\n    init() {\r\n        // this.gradeValue.value = GameMgr.Storage.storageData.level.toString();\r\n    }\r\n\r\n\r\n\r\n    initEvent() {\r\n        ExtensionTool.d2_AddClickEvent(this.btnStart, this, this.onStartClick);\r\n    }\r\n\r\n    onStartClick() {\r\n        GameMgr.UI.closeScene(UiSceneType.Home);\r\n        GameMgr.Event.event(EventType.Play_Game_Event);\r\n    \r\n    }\r\n}","import D2Tween from \"../extensionTools/D2Tween\";\r\n\r\n\r\nexport default class PosUITween extends Laya.Script {\r\n    /** @prop {name:delayTime,tips:\"延迟时间\",type:number, default: 0}*/\r\n    delayTime: number = 0;\r\n\r\n\r\n    onEnable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        // D2Tween.toScale(target, 0, 1.5, 300, null, () => {\r\n        //     D2Tween.toScale(target, 1.5, 1.3, 150, null);\r\n        // }, false, false)\r\n        // D2Tween.toScale(target, 0.9, 1.1, 500, null, () => { }, false, true)\r\n        // D2Tween.toRotaion(target, 359, 5000, null, () => { target.rotation = 0 }, false, true);\r\n        // target.y = -15 + 30 * this.delayTime / 1000;\r\n        Laya.timer.once(this.delayTime, this, () => {\r\n            D2Tween.toPosition(target, { y: 15 }, 1000, Laya.Ease.sineInOut, () => { }, true);\r\n        })\r\n    }\r\n\r\n    onDisable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        D2Tween.clearTween(target);\r\n        Laya.timer.clearAll(this);\r\n        // target.scale(1, 1);\r\n        target.y = -15;\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport D2Tween from \"../extensionTools/D2Tween\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport UiScene from \"./UiScene\";\r\n\r\n/**加载页 */\r\nexport default class Load extends UiScene {\r\n    /**公司logo底图 */\r\n    private plCompanyLogoBg: Laya.Panel;\r\n    /**公司logo */\r\n    private imgCompanyLogo: Laya.Image;\r\n    /**加载进度条 */\r\n    private barLoadPgs: Laya.ProgressBar\r\n    /**加载信息 */\r\n    private lbLoadMsg: Laya.Label;\r\n    /**记录当前'.'数量 */\r\n    private curPointCount: number;\r\n    /**'.'计时器 */\r\n    private changePointTimer: number\r\n\r\n    /**健康游戏忠告底图 */\r\n    private warning: Laya.Panel;\r\n    /**健康游戏忠告文字 */\r\n    private warningWord: Laya.Box;\r\n    init() {\r\n\r\n        this.showWarning();\r\n        // this.warning.visible = false;\r\n        // this.showLoading();\r\n    }\r\n\r\n    showWarning() {\r\n\r\n        D2Tween.toAlpha(this.warningWord, 0, 1, 200, null, () => {\r\n            Laya.timer.once(500, this, () => {\r\n                D2Tween.toAlpha(this.warningWord, 1, 0, 500, null, () => {\r\n                    this.warning.visible = false;\r\n                    this.showCompanyLogo();\r\n                })\r\n            })\r\n        });\r\n    }\r\n\r\n    showCompanyLogo() {\r\n        this.plCompanyLogoBg.visible = true;\r\n        D2Tween.toAlpha(this.imgCompanyLogo, 0, 1, 200, null, () => {\r\n            Laya.timer.once(500, this, () => {\r\n                D2Tween.toAlpha(this.imgCompanyLogo, 1, 0, 500, null, () => {\r\n                    this.showLoading();\r\n                })\r\n            })\r\n        });\r\n    }\r\n    showLoading() {\r\n        this.plCompanyLogoBg.visible = false;\r\n        //监听读条\r\n        GameMgr.Event.on(EventType.Load_Res_Msg_Event, this, this.loadResMsgEvent);\r\n\r\n        //初始化读条\r\n        if (GameMgr.Res.resList.length == 0) {\r\n            this.loadResMsgEvent({ allComplete: true });\r\n        }\r\n        else {\r\n            let type = GameMgr.Res.currentLoadType;\r\n            this.loadResMsgEvent({ type: type, progress: 0, isComplete: false })\r\n\r\n            this.changePointTimer = 0;\r\n            this.curPointCount = 3;\r\n            Laya.timer.frameLoop(1, this, this.frameLoadProgress)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 加载资源事件监听\r\n     * @param e e.type：类型、 e.progress：进度、 e.isComplete：完成\r\n     * 3d资源、图集、音效、预制体、缓存数据、分包\r\n     */\r\n    loadResMsgEvent(e) {\r\n        if (e.allComplete) {\r\n            this.lbLoadMsg.text = \"资源加载完成\";\r\n            this.barLoadPgs.value = 1;\r\n            Laya.timer.clear(this, this.frameLoadProgress);\r\n            //TODON 加载首页（事件/ui管理器调用）\r\n            GameMgr.UI.closeScene(UiSceneType.Load);\r\n            GameMgr.Event.event(EventType.Init_Game_Event);\r\n        }\r\n        else {\r\n            if (e.type != GameMgr.Res.currentLoadType) return;\r\n            let msg = this.lbLoadMsg.text;\r\n\r\n            let str = '';\r\n            for (let i = 0; i < this.curPointCount; i++) {\r\n                str += '.';\r\n            }\r\n\r\n            msg = e.type + \"资源加载中\" + str;\r\n            this.lbLoadMsg.text = msg;\r\n\r\n            if (e.isComplete) {\r\n                this.barLoadPgs.value = 1;\r\n            }\r\n            else if (e.progress == 0) {\r\n                this.barLoadPgs.value = 0;\r\n            }\r\n            else {\r\n                this.barLoadPgs.value = Math.max(e.progress, this.barLoadPgs.value);\r\n            }\r\n        }\r\n    }\r\n\r\n    frameLoadProgress() {\r\n        this.changePointTimer += Laya.timer.delta;\r\n        if (this.changePointTimer > 200) {\r\n            this.changePointTimer = 0;\r\n            let oldStr = '';\r\n            for (let i = 0; i < this.curPointCount; i++) {\r\n                oldStr += '.';\r\n            }\r\n            this.curPointCount++;\r\n            if (this.curPointCount > 3) {\r\n                this.curPointCount = 1;\r\n            }\r\n            let str = '';\r\n            for (let i = 0; i < this.curPointCount; i++) {\r\n                str += '.';\r\n            }\r\n\r\n            let msg = this.lbLoadMsg.text;\r\n            msg = msg.replace(oldStr, str);\r\n            this.lbLoadMsg.text = msg;\r\n        }\r\n\r\n        this.barLoadPgs.value += 0.01;\r\n    }\r\n}","import { EventType, UiSceneType } from \"../configs/EnumType\";\r\nimport ExtensionTool from \"../extensionTools/ExtensionTool\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport { UmengTool } from \"../platforms/cpLogicalMgr/Umeng/UmengTool\";\r\nimport UiScene from \"./UiScene\";\r\n\r\n/**结束页 */\r\nexport default class Over extends UiScene {\r\n    private imgStatus: Laya.Image;\r\n    private btnContinue: Laya.Button;\r\n\r\n    onOpened(data) {\r\n        if (data) {\r\n            //    data.isWin\r\n        }\r\n    }\r\n\r\n    onClosed() {\r\n        super.onClosed();\r\n        GameMgr.GlData.playCount++;\r\n    }\r\n\r\n    initEvent() {\r\n        ExtensionTool.d2_AddClickEvent(this.btnContinue, this, this.onContinueClick);\r\n    }\r\n\r\n    onContinueClick() {\r\n        GameMgr.GlData.nowLevel++;\r\n        if (GameMgr.GlData.nowLevel > GameMgr.Storage.storageData.level) {\r\n            UmengTool.TrackEvent(\"FinishLevel\", GameMgr.Storage.storageData.level.toString())\r\n            GameMgr.Storage.passLevel();\r\n        }\r\n        GameMgr.UI.closeScene(UiSceneType.Over);\r\n        GameMgr.Event.event(EventType.Init_Game_Event, { select: false });\r\n    }\r\n}","import D2Tween from \"../extensionTools/D2Tween\";\r\n\r\nexport default class ScaleUIOnceTween extends Laya.Script {\r\n\r\n    onEnable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        D2Tween.toScale(target, 0, 1.2, 350, null, () => {\r\n            D2Tween.toAlpha(target, 1, 0, 800, null);\r\n        }, false, false)\r\n\r\n        // D2Tween.toScale(target, 0.9, 1.1, 500, null, () => { }, false, true)\r\n    }\r\n\r\n    onDisable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        D2Tween.clearTween(target);\r\n        target.scale(1, 1);\r\n    }\r\n}","import D2Tween from \"../extensionTools/D2Tween\";\r\n\r\n\r\nexport default class RotUITween extends Laya.Script {\r\n\r\n\r\n\r\n    onEnable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        // D2Tween.toScale(target, 0, 1.5, 300, null, () => {\r\n        //     D2Tween.toScale(target, 1.5, 1.3, 150, null);\r\n        // }, false, false)\r\n        // D2Tween.toScale(target, 0.9, 1.1, 500, null, () => { }, false, true)\r\n        // D2Tween.toRotaion(target, 359, 5000, null, () => { target.rotation = 0 }, false, true);\r\n        Laya.timer.loop(10, this, () => {\r\n            target.rotation++;\r\n        })\r\n    }\r\n\r\n    onDisable(): void {\r\n        let target = this.owner as Laya.Sprite;\r\n        D2Tween.clearTween(target);\r\n        Laya.timer.clearAll(this);\r\n        // target.scale(1, 1);\r\n    }\r\n}","import { UiSceneType } from \"../configs/EnumType\";\r\nimport GameMgr from \"../managers/GameMgr\";\r\nimport D2Component from \"./D2Component\";\r\n\r\nexport default class PrivacyAgreementComponent extends D2Component {\r\n    /** @prop {name:companyName, tips:\"公司名称\", type:String, default: \"广州猫仙人游戏科技有限公司\"}*/\r\n    companyName: string = \"广州猫仙人游戏科技有限公司\";\r\n\r\n    /** @prop {name:gameName, tips:\"游戏名称\", type:String, default: \"怪兽之王\"}*/\r\n    gameName: string = \"怪兽之王\";\r\n\r\n    line1: Laya.Label;\r\n    line2: Laya.Label;\r\n    detail: Laya.Label;\r\n\r\n    cbDontShow: Laya.CheckBox;\r\n    btnAgree: Laya.Image;\r\n    btnDisagree: Laya.Image;\r\n    btnClose: Laya.Image;\r\n\r\n    bg1: Laya.Image;\r\n    bg2: Laya.Image;\r\n\r\n    init() {\r\n        this.self.visible = false;\r\n        let json = Laya.LocalStorage.getItem(\"PrivacyAgreement\");\r\n        if (json) {\r\n            var isAgree = JSON.parse(json);\r\n            if (isAgree) {\r\n                GameMgr.UI.closeScene(UiSceneType.Pram); return;\r\n            }\r\n        }\r\n\r\n        Laya.timer.scale = 0;\r\n\r\n        this.bg1 = this.self.getChildAt(0) as Laya.Image;\r\n        this.bg2 = this.self.getChildAt(1) as Laya.Image;\r\n        this.bg2.visible = false;\r\n\r\n        this.line1 = this.bg1.getChildByName(\"line1\") as Laya.Label;\r\n        this.line2 = this.bg1.getChildByName(\"line2\") as Laya.Label;\r\n        this.detail = this.bg1.getChildByName(\"detail\") as Laya.Label;\r\n        this.cbDontShow = this.bg1.getChildByName(\"cbDontShow\") as Laya.CheckBox;\r\n\r\n        this.btnAgree = this.bg1.getChildByName(\"btnAgree\") as Laya.Image;\r\n        this.btnDisagree = this.bg1.getChildByName(\"btnDisagree\") as Laya.Image;\r\n        this.btnClose = this.bg2.getChildByName(\"btnClose\") as Laya.Image;\r\n\r\n        this.msg = this.bg2.getChildByName(\"msg\") as Laya.Text;\r\n\r\n        this.self.visible = true;\r\n        this.line1.text = \"       欢迎使用\" + this.gameName + \"！\" + this.gameName + \"非常重视您的隐私和个人信息保护。\";\r\n        this.line2.text = \"      在您使用\" + this.gameName + \"前，请认真阅读《隐私协议》，您同意并接受全部条款后方可使用\" + this.gameName + \"。\"\r\n\r\n        // let length = this.gameName.length * 35 + 480;\r\n        // this.detail.x = length;\r\n\r\n        //默认勾选\r\n        this.cbDontShow.selected = true;\r\n\r\n        this.btnAgree.on(Laya.Event.CLICK, this, () => {\r\n            if (this.cbDontShow.selected) {\r\n                Laya.LocalStorage.setItem(\"PrivacyAgreement\", JSON.stringify(true));\r\n            }\r\n            let scene = this.self.parent;\r\n            if (scene && scene instanceof Laya.Scene && scene.url == UiSceneType.Pram) {\r\n                GameMgr.UI.closeScene(UiSceneType.Pram);\r\n            }\r\n            Laya.timer.scale = 1;\r\n        });\r\n\r\n        this.btnDisagree.on(Laya.Event.CLICK, this, () => {\r\n            GameMgr.Platform.exitApplication();\r\n        })\r\n\r\n        this.detail.on(Laya.Event.CLICK, this, this.showDetail);\r\n    }\r\n\r\n\r\n    msg: Laya.Text;\r\n    prevX: number = 0;\r\n    prevY: number = 0;\r\n\r\n\r\n\r\n    showDetail() {\r\n        this.bg2.visible = true;\r\n        this.initLine();\r\n        this.btnClose.on(Laya.Event.CLICK, this, () => {\r\n            this.bg2.visible = false;\r\n            this.msg.scrollY = 0;\r\n            this.msg.off(Laya.Event.MOUSE_DOWN, this, this.startScrollText);\r\n            this.btnClose.offAllCaller(this);\r\n        });\r\n    }\r\n    initLine() {\r\n        let msgValue = \"在为广大用户提供高品质服务的同时，一向注重保护用户的个人数据安全，视用户信息安全与隐私保护为自己的“生命线”。我们秉承“一切以用户价值为依归”的理念，致力于提升信息处理透明度，增强您对信息管理的便捷性，保障您的信息及通信安全。\" + this.companyName + \"严格遵守法律法规，遵循以下隐私保护原则，为您提供更加安全、可靠的服务： 1、安全可靠：我们竭尽全力通过合理有效的信息安全技术及管理流程，防止您的信息泄露、损毁、丢失。 2、自主选择：我们为您提供便利的信息管理选项，以便您做出合适的选择，管理您的个人信息。 3、保护通信秘密：我们严格遵照法律法规，保护您的通信秘密，为您提供安全的通信服务。 4、合理必要：为了向您和其他用户提供更好的服务，我们仅收集必要的信息。 5、清晰透明：我们努力使用简明易懂的表述，向您介绍隐私政策，以便您清晰地了解我们的信息处理方式。 6、将隐私保护融入产品设计：我们在产品或服务开发的各个环节，综合法律、产品、设计等多方因素，融入隐私保护的理念。 本《隐私政策》主要向您说明： 我们收集哪些信息； 我们收集信息的用途； 您所享有的权利。 希望您仔细阅读《隐私政策》（以下简称“本政策”），详细了解我们对信息的收集、使用方式，以便您更好地了解我们的服务并作出适当的选择。 若您使用\" + this.companyName + \"服务，即表示您认同我们在本政策中所述内容。 如您有问题，请联系我们。 一、我们收集的信息 我们根据合法、正当、必要的原则，仅收集实现产品功能所必要的信息。 1.1您在使用我们服务时主动提供的信息 1.1.1 您在注册帐户时填写的信息。例如，您在注册帐户时所填写的昵称、手机号码。 1.1.2 您在使用服务时上传的信息。例如，您在使用游戏、社区时，上传的头像、分享的照片。 1.1.3 您通过我们的客服或参加我们举办的活动时所提交的信息。例如，您参与我们线上活动时填写的调查问卷中可能包含您的姓名、电话、家庭地址等信息。 我们的部分服务可能需要您提供特定的个人敏感信息来实现特定功能。若您选择不提供该类信息，则可能无法正常使用服务中的特定功能，但不影响您使用服务中的其他功能。若您主动提供您的个人敏感信息，即表示您同意我们按本政策所述目的和方式来处理您的个人敏感信息。 1.2我们在您使用服务时获取的信息 1.2.1 日志信息。当您使用我们的服务时，我们可能会自动收集相关信息并存储为服务日志信息。 1.2.1.1 设备信息。例如，设备型号、操作系统版本、唯一设备标识符、电池、信号强度等信息。 1.2.1.2软件信息。例如，软件的版本号、浏览器类型。为确保操作环境的安全或提供服务所需，我们会收集有关您使用的移动应用和其他软件的信息。 1.2.1.3 IP地址。 1.2.1.4 服务日志信息。例如，您在使用我们服务时搜索、查看的信息、服务故障信息、引荐网址等信息。 1.2.1.5通讯日志信息。例如，您在使用我们服务时曾经通讯的账户、通讯时间和时长。 1.2.2 位置信息。当您使用与位置有关的服务时，我们可能会记录您设备所在的位置信息，以便为您提供相关服务。 1.2.2.1在您使用服务时，我们可能会通过IP地址、GPS、WiFi或基站等途径获取您的地理位置信息； 1.2.2.2您或其他用户在使用服务时提供的信息中可能包含您所在地理位置信息，例如您提供的帐号信息中可能包含的您所在地区信息，您或其他人共享的照片包含的地理标记信息； 1.2.3 其他相关信息。为了帮助您更好地使用我们的产品或服务，我们会收集相关信息。例如，我们收集的好友列表、群列表信息、声纹特征值信息。为确保您使用我们服务时能与您认识的人进行联系，如您选择开启导入通讯录功能，我们可能对您联系人的姓名和电话号码进行加密，并仅收集加密后的信息。 1.3其他用户分享的信息中含有您的信息例如，其他用户发布的照片或分享的视频中可能包含您的信息。 1.4从第三方合作伙伴获取的信息我们可能会获得您在使用第三方合作伙伴服务时所产生或分享的信息。例如，您使用第三方合作伙伴服务微信或QQ帐户登录时，我们会获得您使用第三方合作伙伴服务登录的名称、登录时间，方便您进行授权管理。请您仔细阅读第三方合作伙伴服务的用户协议或隐私政策。 二、我们如何使用收集的信息 我们严格遵守法律法规的规定及与用户的约定，将收集的信息用于以下用途。若我们超出以下用途使用您的信息，我们将再次向您进行说明，并征得您的同意。 --电子邮箱地址 您在注册时提供的电子邮箱地址是您在产品内的身份标识，我们使用您的电子邮箱地址在产品中识别您，以便为您提供产品服务。例如：记录您的产品数据；响应您的产品内请求；向您提供客户服务等。我们对电子邮箱地址的使用是基于您对本隐私政策的同意。 --IP地址 IP地址是网络通信中常用的标识信息，我们使用您的IP地址是为了向您提供服务或改善我们的服务质量，例如：与您建立诸如下载、产品内请求等网络通信；识别您的所属区域以便提供个性化服务；判断您的登录行为的一致性以保障您的账户安全。我们对IP地址的使用是基于我们对您的合同义务。 --设备信息 设备标识码、设备类型、网络类型、操作系统等设备信息有助于我们更好了解您体验产品服务的设备情况，我们使用您的设备信息是为了向您提供服务或改善我们的服务质量，例如：统计设备适配性；反馈并解决您在体验产品服务过程中遇到的故障；判断您的登录行为的一致性以保障您的账户安全。我们对设备信息的使用是基于我们对您的合同义务。 --联系方式 电子邮箱地址、电话号码、即时通讯工具账号、收货地址、身份证明信息等您在特定场景下提供的联系方式，将仅用于完成该场景的目的，例如：向您发送促销信息；给您寄送奖品；响应您的客户反馈。我们对联系方式的使用是基于您对本隐私政策的同意。 --个人特征 性别、年龄、个人爱好等个人特征，主要为了向您提供个性化服务，例如：个人空间展示；用户行为统计；用户问卷调查等。我们对个人特征的使用是基于您对本隐私政策的同意。 --产品数据 产品id、角色名称、产品日志等产品服务内生成的数据，是我们提供产品服务的基础之一，我们对产品数据的使用是为了履行我们对您的合同义务。 我们收集信息是为了： 2.1向您提供服务。 2.2满足您的个性化需求。例如，语言设定、位置设定、个性化的帮助服务。 2.3产品开发和服务优化。例如，当我们的系统发生故障时，我们会记录和分析系统故障时产生的信息，优化我们的服务。 2.4安全保障。例如，我们会将您的信息用于身份验证、安全防范、反诈骗监测、存档备份、客户的安全服务等用途。例如，您下载或安装的安全软件会对恶意程序或病毒进行检测，或为您识别诈骗信息。 2.5向您推荐您可能感兴趣的广告、资讯等。 2.6评估、改善我们的广告投放和其他促销及推广活动的效果。 2.7管理软件。例如，进行软件认证、软件升级等。 2.8邀请您参与有关我们服务的调查。 为了让您有更好的体验、改善我们的服务或经您同意的其他用途，在符合相关法律法规的前提下，我们可能将通过某些服务所收集的信息用于我们的其他服务。例如，将您在使用我们某项服务时的信息，用于另一项服务中向您展示个性化的内容或广告、用于用户研究分析与统计等服务。 为了确保服务的安全，帮助我们更好地了解我们应用程序的运行情况，我们可能记录相关信息，例如，您使用应用程序的频率、故障信息、总体使用情况、性能数据以及应用程序的来源。我们不会将我们存储在分析软件中的信息与您在应用程序中提供的个人身份信息相结合。 三、我们如何使用Cookie及相关技术 我们或我们的第三方合作伙伴，可能通过放置安全的Cookie及相关技术收集您的信息，目的是为您提供更个性化的用户体验和服务。我们会严格要求第三方合作伙伴遵守本政策的相关规定。 您也可以通过浏览器设置管理Cookie。但请注意，如果停用Cookie，您可能无法享受最佳的服务体验，某些服务也可能无法正常使用。 四、我们如何存储和披露您的信息 为了履行我们对您的合同义务，即：向您提供产品服务，您的个人信息会在我们的服务器上进行处理。我们的服务器位于中国。 为了向您提供产品服务，我们可能会向以下第三方披露您的个人信息： --腾讯公司，为确保您能在产品服务中使用微信支付，基于您的同意，我们会向其提供与您支付有关的信息，该公司位于中国； --阿里巴巴公司，为确保您能在产品服务中使用支付宝支付，基于您的同意，我们会向其提供与您支付有关的信息，该公司位于中国； --高德软件公司，为确保您能在产品服务中使用定位查询功能，基于您的同意，我们会向高德地图提供您的地理位置信息，该公司位于中国； --谷歌公司，为确保您能在产品服务中使用定位查询功能，基于您的同意，我们会向谷歌地图提供您的地理位置信息，该公司位于美国； --基于履行法定义务或合同义务，预防技术或安全问题，保护他人权益、公共利益或其它合理必要的理由，我们应该向其披露您的个人信息的司法机构、执法主体或其它有权实体。 五、您如何管理自己的信息 5.1您可以在使用我们服务的过程中，访问、修改和删除您提供的注册信息和其他个人信息，也可按照通知指引与我们联系。您访问、修改和删除个人信息的范围和方式将取决于您使用的具体服务。例如，若您在使用地理位置相关服务时，希望停止分享您的地理位置信息，您可通过手机定位关闭功能、软硬件服务商及通讯服务提供商的关闭方式停止分享，建议您仔细阅读相关指引。 5.2我们将按照本政策所述，仅为实现我们产品或服务的功能，收集、使用您的信息。如您发现我们违反法律、行政法规的规定或者双方的约定收集、使用您的个人信息，您可以要求我们删除。如您发现我们收集、存储的您的个人信息有错误的，您也可以要求我们更正。请通过本政策列明的联系方式与我们联系。 5.3在您访问、修改和删除相关信息时，我们可能会要求您进行身份验证，以保障帐号的安全。 5.4请您理解，由于技术所限、法律或监管要求，我们可能无法满足您的所有要求，我们会在合理的期限内答复您的请求。 六、我们分享的信息 我们遵照法律法规的规定，对信息的分享进行严格的限制，例如： 6.1经您事先同意，我们可能与第三方分享您的个人信息； 6.2仅为实现外部处理的目的，我们可能会与第三方合作伙伴（第三方服务供应商、承包商、代理、广告合作伙伴、应用开发者等，例如，代表我们发出电子邮件或推送通知的通讯服务提供商、为我们提供位置服务的地图服务供应商）（他们可能并非位于您所在的法域）分享您的个人信息，让他们按照我们的说明、隐私政策以及其他相关的保密和安全措施来为我们处理上述信息，并用于以下用途： 6.2.1 向您提供我们的服务； 6.2.2 实现“我们如何使用收集的信息”部分所述目的； 6.2.3 履行我们在本政策中的义务和行使我们的权利； 6.2.4 理解、维护和改善我们的服务。 如我们与上述第三方分享您的信息，我们将会采用加密、匿名化处理等手段保障您的信息安全。 6.3随着我们业务的持续发展，当发生合并、收购、资产转让等交易导致向第三方分享您的个人信息时，我们将通过推送通知、公告等形式告知您相关情形，按照法律法规及不低于本政策所要求的标准继续保护或要求新的管理者继续保护您的个人信息。 6.4我们会将所收集到的信息用于大数据分析。例如，我们将收集到的信息用于分析形成不包含任何个人信息的城市热力图或行业洞察报告。我们可能对外公开并与我们的合作伙伴分享经统计加工后不含身份识别内容的信息，用于了解用户如何使用我们服务或让公众了解我们服务的总体使用趋势。 6.5我们可能基于以下目的披露您的个人信息： 6.5.1 遵守适用的法律法规等有关规定； 6.5.2 遵守法院判决、裁定或其他法律程序的规定； 6.5.3 遵守相关政府机关或其他法定授权组织的要求； 6.5.4 我们有理由确信需要遵守法律法规等有关规定； 6.5.5 为执行相关服务协议或本政策、维护社会公共利益，为保护我们的客户、我们或我们的关联公司、其他用户或雇员的人身财产安全或其他合法权益合理且必要的用途。 七、我们可能向您发送的信息 7.1信息推送 您在使用我们的服务时，我们可能向您发送电子邮件、短信、资讯或推送通知。您可以按照我们的相关提示，在设备上选择取消订阅。 7.2与服务有关的公告 我们可能在必要时（例如，因系统维护而暂停某一项服务时）向您发出与服务有关的公告。您可能无法取消这些与服务有关、性质不属于广告的公告。 八、存储信息的地点和期限 8.1存储信息的地点 我们遵守法律法规的规定，将境内收集的用户个人信息存储于境内。 8.2存储信息的期限 一般而言，我们仅为实现目的所必需的最短时间保留您的个人信息。但在下列情况下，我们有可能因需符合法律要求，更改个人信息的存储时间： 8.2.1 为遵守适用的法律法规等有关规定； 8.2.2 为遵守法院判决、裁定或其他法律程序的规定； 8.2.3 为遵守相关政府机关或法定授权组织的要求； 8.2.4 我们有理由确信需要遵守法律法规等有关规定； 8.2.5 为执行相关服务协议或本政策、维护社会公共利益，为保护我们的客户、我们或我们的关联公司、其他用户或雇员的人身财产安全或其他合法权益所合理必需的用途。 当我们的产品或服务发生停止运营的情形时，我们将采取例如，推送通知、公告等形式通知您，并在合理的期限内删除或匿名化处理您的个人信息。 九、信息安全 我们为您的信息提供相应的安全保障，以防止信息的丢失、不当使用、未经授权访问或披露。 9.1我们严格遵守法律法规保护用户的通信秘密。 9.2我们将在合理的安全水平内使用各种安全保护措施以保障信息的安全。例如，我们使用加密技术（例如，TLS、SSL）、匿名化处理等手段来保护您的个人信息。 9.3我们建立专门的管理制度、流程和组织确保信息安全。例如，我们严格限制访问信息的人员范围，要求他们遵守保密义务，并进行审查。 9.4若发生个人信息泄露等安全事件，我们会启动应急预案，阻止安全事件扩大，并以推送通知、公告等形式告知您。 我们可能使用您的相关信息，在相关网站、应用及其他渠道向您提供与您更加相关的广告。您可以在关于广告页面中了解更多。 十、未成年人保护 我们非常重视对未成年人个人信息的保护。根据相关法律法规的规定，若您是18周岁以下的未成年人，在使用\" + this.companyName + \"的服务前，我们建议应事先取得您的家长或法定监护人的同意。若您是未成年人的监护人，当您对您所监护的未成年人的个人信息有相关疑问时，请通过联系方式与我们联系。 十一、适用范围 我们的所有服务均适用本政策。但某些服务有其特定的隐私指引/声明，该特定隐私指引/声明更具体地说明我们在该服务中如何处理您的信息。如本政策与特定服务的隐私指引/声明有不一致之处，请以该特定隐私指引/声明为准。请您注意，本政策不适用由其他公司或个人提供的服务。例如，您通过使用微信帐号登录其他公司或个人提供的服务。 您使用该等第三方服务须受其隐私政策（而非本政策）约束，您需要仔细阅读其政策内容。 十二、变更 我们可能适时修订本政策内容。如该等变更会导致您在本政策项下权利的实质减损，我们将在变更生效前，通过在页面显著位置提示、向您发送电子邮件等方式通知您。在该种情况下，若您继续使用我们的服务，即表示同意受经修订的政策约束。\"\r\n        this.msg.text = this.companyName + msgValue;\r\n        let str = this.msg.text;\r\n        let s = str.split(' ');\r\n        console.log(s.length);\r\n        for (var i = 0; i < s.length; i++) {\r\n            str = str.replace(' ', '\\n');\r\n        }\r\n        this.msg.text = str;\r\n        this.msg.on(Laya.Event.MOUSE_DOWN, this, this.startScrollText);\r\n    }\r\n    startScrollText(e: Event): void {\r\n        this.prevX = this.msg.mouseX;\r\n        this.prevY = this.msg.mouseY;\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.scrollText);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.finishScrollText);\r\n    }\r\n    /* 停止滚动文本 */\r\n    finishScrollText(e: Event): void {\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.scrollText);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.finishScrollText);\r\n    }\r\n    /* 鼠标滚动文本 */\r\n    scrollText(e: Event): void {\r\n        var nowX: number = this.msg.mouseX;\r\n        var nowY: number = this.msg.mouseY;\r\n        this.msg.scrollX += this.prevX - nowX;\r\n        this.msg.scrollY += this.prevY - nowY;\r\n        this.prevX = nowX;\r\n        this.prevY = nowY;\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport Game from \"./uiScenes/Game\"\nimport ScaleUITween from \"./nimo_Mods/ScaleUITween\"\nimport StageList from \"./d2Components/StageList\"\nimport BaseUI from \"./d2Components/BaseUI\"\nimport TouchScan from \"./nimo_Mods/ctrl/TouchScan\"\nimport TouchWayCheck from \"./nimo_Mods/ctrl/TouchWayCheck\"\nimport NativeAdComponent from \"./platforms/cpLogicalMgr/Maoxianren/Component/NativeAdComponent\"\nimport Home from \"./uiScenes/Home\"\nimport PosUITween from \"./nimo_Mods/PosUITween\"\nimport Load from \"./uiScenes/Load\"\nimport Over from \"./uiScenes/Over\"\nimport ScaleUIOnceTween from \"./nimo_Mods/ScaleUIOnceTween\"\nimport RotUITween from \"./nimo_Mods/RotUITween\"\nimport PrivacyAgreementComponent from \"./d2Components/PrivacyAgreementComponent\"\nimport UiScene from \"./uiScenes/UiScene\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=750;\r\n    static height:number=1334;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"vertical\";\r\n    static alignV:string=\"middle\";\r\n    static alignH:string=\"center\";\r\n    static startScene:any=\"uiScene/Game.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=true;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"uiScenes/Game.ts\",Game);\n        reg(\"nimo_Mods/ScaleUITween.ts\",ScaleUITween);\n        reg(\"d2Components/StageList.ts\",StageList);\n        reg(\"d2Components/BaseUI.ts\",BaseUI);\n        reg(\"nimo_Mods/ctrl/TouchScan.ts\",TouchScan);\n        reg(\"nimo_Mods/ctrl/TouchWayCheck.ts\",TouchWayCheck);\n        reg(\"platforms/cpLogicalMgr/Maoxianren/Component/NativeAdComponent.ts\",NativeAdComponent);\n        reg(\"uiScenes/Home.ts\",Home);\n        reg(\"nimo_Mods/PosUITween.ts\",PosUITween);\n        reg(\"uiScenes/Load.ts\",Load);\n        reg(\"uiScenes/Over.ts\",Over);\n        reg(\"nimo_Mods/ScaleUIOnceTween.ts\",ScaleUIOnceTween);\n        reg(\"nimo_Mods/RotUITween.ts\",RotUITween);\n        reg(\"d2Components/PrivacyAgreementComponent.ts\",PrivacyAgreementComponent);\n        reg(\"uiScenes/UiScene.ts\",UiScene);\r\n    }\r\n}\r\nGameConfig.init();","import { UiSceneType } from \"./configs/EnumType\";\r\nimport GameConfig from \"./GameConfig\";\r\nimport GameMgr from \"./managers/GameMgr\";\r\n\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\t\t// Config3D.useCannonPhysics = true;\r\n\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\r\n\t\t//初始化游戏入口\r\n\t\tGameMgr.init();\r\n\t\t//加载IDE指定的场景\r\n\t\t// GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\t\tGameMgr.UI.openScene(UiSceneType.Load);\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":[],"mappings":"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"}