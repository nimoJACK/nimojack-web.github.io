{"version":3,"file":"bundle.js","sources":["../../src/scripts/mods/BaseUI.ts","../../src/scripts/mods/PlayerData.ts","../../src/JJExport/enums/EnumType.ts","../../src/scripts/mods/Tween3D.ts","../../src/scripts/mods/Tools.ts","../../src/scripts/mods/RubberEffect.ts","../../src/scripts/stage/StageController.ts","../../src/scripts/tools/Data.ts","../../src/JJExport/ExportAndAdControl.ts","../../src/scripts/EndMenu.ts","../../src/scripts/stage/ColliderController.ts","../../src/JJExport/managers/SoundManager.ts","../../src/scripts/mods/camShake.ts","../../src/scripts/stage/FxController.ts","../../src/scripts/Loading.ts","../../src/scripts/StageUpdate.ts","../../src/scripts/mods/TouchWayCheck.ts","../../src/JJExport/managers/UiManager.ts","../../src/JJExport/utils/CommonData.ts","../../src/JJExport/plugins/MyVector3.ts","../../src/JJExport/utils/UtilsFunction.ts","../../src/JJExport/utils/EventType.ts","../../src/JJExport/managers/PrefabManager.ts","../../src/JJExport/managers/GameManager.ts","../../src/JJExport/managers/TweenManager.ts","../../src/JJExport/managers/LevelManager.ts","../../src/JJExport/platforms/BasePlatform.ts","../../src/JJExport/platforms/WxPlatformBannerAd.ts","../../src/JJExport/platforms/WxPlatform.ts","../../src/JJExport/managers/PlatformManager.ts","../../src/JJExport/managers/NetManager.ts","../../src/JJExport/Context.ts","../../src/JJExport/Common/JJUtils.ts","../../src/JJExport/Common/JJMgr.ts","../../src/scripts/mods/D3Tween.ts","../../src/scripts/Stage.ts","../../src/scripts/StartMenu.ts","../../src/GameConfig.ts","../../src/Main.ts"],"sourcesContent":["export default class BaseUI extends Laya.Scene {\r\n \r\n    onAwake()\r\n    {\r\n        this.height = Laya.stage.height;\r\n        this.init();\r\n    }\r\n    init(){}\r\n}","export default class PlayerData {\r\n    //玩家存档\r\n    static GetPlayerData() {\r\n        let data;\r\n        data = Laya.LocalStorage.getJSON('PlayerData');\r\n        if (data) {\r\n            return data;\r\n        } else {\r\n            data = {\r\n                'ver': 1,\r\n                'grade': 1,\r\n                'coin': 0,\r\n                'nowPeople': 0,\r\n                'peopleActive': [true, false, false, false, false,\r\n                    false, false, false, false],\r\n                'lockAxis': 0,\r\n                'energy': 20,\r\n                'lastEnergyTime': new Date().getTime()\r\n            }\r\n            Laya.LocalStorage.setJSON('PlayerData', data);\r\n            return data;\r\n        }\r\n    }\r\n    static SavePlayerData(data) {\r\n        Laya.LocalStorage.setJSON('PlayerData', data);\r\n    }\r\n    static clearPlayerData() {\r\n        Laya.LocalStorage.clear();\r\n    }\r\n    static CheckPlayerData() {\r\n        let data;\r\n        data = Laya.LocalStorage.getJSON('PlayerData');\r\n        if (!data.ver || data.ver != 1) {\r\n            data = {\r\n                'ver': 1,\r\n                'grade': 1,\r\n                'coin': 0,\r\n                'nowPeople': 0,\r\n                'peopleActive': [true, false, false, false, false,\r\n                    false, false, false, false],\r\n                'lockAxis': 0,\r\n            }\r\n            Laya.LocalStorage.setJSON('PlayerData', data);\r\n        }\r\n    }\r\n}\r\n\r\n","/**场景类型 */\r\nexport enum SceneType {\r\n    /**加载页 */\r\n    Loading = \"UIScene/Loading.scene\",\r\n    /**加载页 */\r\n    BusyLoading = \"UIScene/BusyLoading.scene\",\r\n    /**主页 */\r\n    Home = \"UIScene/Home.scene\",\r\n    /**游戏页 */\r\n    Game = \"UIScene/Game.scene\",\r\n    /**3D游戏页 */\r\n    Game3D = \"UIScene/Game3D.scene\",\r\n    /**复活页 */\r\n    Reborn = \"UIScene/Reborn.scene\",\r\n    /**结算页 */\r\n    Settlement = \"UIScene/Settlement.scene\",\r\n\r\n    Mission = \"UIScene/Mission.scene\",\r\n\r\n    /**皮肤页 */\r\n    Skin = \"UIScene/Skin.scene\",\r\n    /**皮肤试用页 */\r\n    FreeSkin = \"UIScene/FreeSkin.scene\",\r\n    /**签到页 */\r\n    Sign = \"UIScene/Sign.scene\",\r\n    /**离线收益页 */\r\n    Offline = \"UIScene/Offline.scene\",\r\n\r\n    Strength = \"UIScene/Strength.scene\",\r\n\r\n    /**签到提示页 */\r\n    SignTips = \"UIScene/SignTips.scene\",\r\n\r\n    Busy = \"UIScene/Busy.scene\",\r\n\r\n    Background = \"UIScene/Background.scene\",\r\n\r\n    Box = \"UIScene/Box.scene\",\r\n\r\n    Clean = \"UIScene/Clean.scene\",\r\n}\r\n\r\n/**预制体类型 */\r\nexport enum PrefabItem {\r\n    BoxItem = \"prefab/BoxItem.prefab\",\r\n    FontDamaged = \"prefab/FontDamaged.prefab\",\r\n    CompoundItem = \"prefab/CompoundItem.prefab\",\r\n}\r\n\r\n/**音效类型 */\r\nexport enum SoundType {\r\n    /************* 音乐 *************/\r\n    /**背景音乐 */\r\n\r\n    BGM = \"Bgm\",\r\n\r\n    /************* 音效 *************/\r\n    /**点击 */\r\n    CLICK = \"Click\",\r\n    Select = \"Select\",\r\n    Win = \"Win\"\r\n}","export default class Tween3D {\r\n    /** 动画帧数与时间换算：每帧时间（ms) = 1000 / 帧数 */\r\n    tween: Laya.Tween;\r\n    tweens: any[];\r\n\r\n    target: Laya.Sprite3D;\r\n    isLocal: boolean;\r\n\r\n    constructor() {\r\n        this.tween = new Laya.Tween();\r\n        this.tweens = [];\r\n    }\r\n\r\n    getTimeByFrame(frame) {\r\n        return Math.round(1000 / 100 * frame); // 60可替换为实际帧率\r\n    }\r\n\r\n    toTween(target: Laya.Sprite3D, value: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }, time: number, completeFun?: Function, isLocal: boolean = true) {\r\n        this.target = target;\r\n        this.isLocal = isLocal;\r\n\r\n        //当前值\r\n        var ov: any = {};\r\n        //目标值\r\n        var tv: any = {};\r\n\r\n        if (value.pos) {\r\n            var targetPos = isLocal ? target.transform.localPosition.clone() : target.transform.position.clone();\r\n\r\n            ov.posX = targetPos.x\r\n            ov.posY = targetPos.y;\r\n            ov.posZ = targetPos.z;\r\n\r\n            tv.posX = value.pos.x;\r\n            tv.posY = value.pos.y;\r\n            tv.posZ = value.pos.z;\r\n        }\r\n        if (value.rot) {\r\n            var targetRot = isLocal ? target.transform.localRotationEuler.clone() : target.transform.rotationEuler.clone(); //target.transform.rotationEuler.clone();//\r\n\r\n            ov.rotX = targetRot.x;\r\n            ov.rotY = targetRot.y;\r\n            ov.rotZ = targetRot.z;\r\n\r\n            tv.rotX = value.rot.x;\r\n            tv.rotY = value.rot.y;\r\n            tv.rotZ = value.rot.z;\r\n        }\r\n        if (value.sca) {\r\n            var targetSca = target.transform.getWorldLossyScale().clone();\r\n\r\n            ov.scaX = targetSca.x;\r\n            ov.scaY = targetSca.y;\r\n            ov.scaZ = targetSca.z;\r\n\r\n            tv.scaX = value.sca.x;\r\n            tv.scaY = value.sca.y;\r\n            tv.scaZ = value.sca.z;\r\n        }\r\n\r\n        this.tween.to(ov, {\r\n            posX: tv.posX, posY: tv.posY, posZ: tv.posZ,\r\n            rotX: tv.rotX, rotY: tv.rotY, rotZ: tv.rotZ,\r\n            scaX: tv.scaX, scaY: tv.scaY, scaZ: tv.scaZ\r\n        }, time, null, Laya.Handler.create(this, () => {\r\n            completeFun && completeFun();\r\n            var nextTWeen = this.tweens.shift();\r\n            if (nextTWeen) {\r\n                this.toTween(this.target, nextTWeen.value, nextTWeen.time, nextTWeen.completeFun);\r\n            }\r\n        }));\r\n\r\n        this.tween.update = new Laya.Handler(this, () => {\r\n            if (value.pos) {\r\n                if (isLocal) {\r\n                    target.transform.localPosition = new Laya.Vector3(ov.posX, ov.posY, ov.posZ);\r\n                }\r\n                else {\r\n                    target.transform.position = new Laya.Vector3(ov.posX, ov.posY, ov.posZ);\r\n                }\r\n            }\r\n            if (value.rot) {\r\n                if (isLocal) {\r\n                    target.transform.localRotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n                }\r\n                else {\r\n                    target.transform.rotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n                }\r\n                // target.transform.rotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n            }\r\n            if (value.sca) {\r\n                target.transform.setWorldLossyScale(new Laya.Vector3(ov.scaX, ov.scaY, ov.scaZ));\r\n            }\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    clearTween(value?: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }) {\r\n        this.tweens = [];\r\n        this.tween.clear();\r\n\r\n        if (this.target && value) {\r\n            if (value.pos) {\r\n                if (this.isLocal) {\r\n                    this.target.transform.localPosition = new Laya.Vector3(value.pos.x, value.pos.y, value.pos.z);\r\n                }\r\n                else {\r\n                    this.target.transform.position = new Laya.Vector3(value.pos.x, value.pos.y, value.pos.z);\r\n                }\r\n            }\r\n            if (value.rot) {\r\n                this.target.transform.rotationEuler = new Laya.Vector3(value.rot.x, value.rot.y, value.rot.z);\r\n            }\r\n            if (value.sca) {\r\n                this.target.transform.setWorldLossyScale(new Laya.Vector3(value.sca.x, value.sca.y, value.sca.z));\r\n            }\r\n        }\r\n    }\r\n\r\n    then(value: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }, time: number, completeFun?: Function) {\r\n        this.tweens.push({ value: value, time: time, completeFun: completeFun });\r\n        return this;\r\n    }\r\n}","import { SoundType } from \"../../JJExport/enums/EnumType\";\r\nimport Data from \"../tools/Data\";\r\nimport Tween3D from \"./Tween3D\";\r\n\r\nexport default class Tools {\r\n   //加载场景\r\n   static loadScene(Url, zOrder = 0, cb: Function = () => { }, param: any = null) {\r\n      Url && Laya.Scene.open(Url, false, param, Laya.Handler.create(this, (scene) => {\r\n         Laya.stage.addChild(scene);\r\n         scene.zOrder = zOrder;\r\n         cb();\r\n      }));\r\n   }\r\n   /** 按钮事件\r\n   * @param btn 按钮\r\n   * @param caller 事件对象\r\n   * @param callBack 回调函数\r\n   * @param args 参数\r\n   * @param isStopPropagation 是否阻止穿透\r\n   */\r\n   static d2_AddClickEvent(btn: Laya.Sprite, caller: any, callBack: Function, args?: any[], isStopPropagation: boolean = false, isSound: boolean = true, isTween: boolean = true) {\r\n      btn.offAllCaller(caller);\r\n\r\n      /**tween参数 */\r\n      let tweenTime = 60;\r\n      let oldSize = btn.scaleX;\r\n      let newSize = oldSize * 0.9;\r\n\r\n      let isPressed = false;\r\n      let cbDown = (evt) => {\r\n         isPressed = true;\r\n         if (isTween)\r\n            Laya.Tween.to(btn, { scaleX: newSize, scaleY: newSize }, tweenTime);\r\n         if (isStopPropagation) evt.stopPropagation;\r\n      }\r\n      btn.on(Laya.Event.MOUSE_DOWN, caller, cbDown, args);\r\n\r\n      let cbUp = (evt) => {\r\n         if (isPressed == false) return;\r\n         isPressed = false;\r\n         if (isStopPropagation) evt.stopPropagation;\r\n         if (isTween)\r\n            Laya.Tween.to(btn, { scaleX: oldSize, scaleY: oldSize }, tweenTime);\r\n         if (callBack) callBack.call(caller, evt);\r\n\r\n         //TODO 增加按钮声音\r\n         Data.soundController.play(SoundType.CLICK);\r\n         // if (isSound)\r\n         //     GameMgr.Sound.play(SoundType.CLICK);\r\n      }\r\n      btn.on(Laya.Event.MOUSE_UP, caller, cbUp, args);\r\n\r\n      let cbOut = (evt) => {\r\n         if (isPressed == false) return;\r\n         isPressed = false;\r\n         if (isTween)\r\n            Laya.Tween.to(btn, { scaleX: oldSize, scaleY: oldSize }, tweenTime);\r\n         if (isStopPropagation) evt.stopPropagation;\r\n      }\r\n      btn.on(Laya.Event.MOUSE_OUT, caller, cbOut, args);\r\n   }\r\n   //**事件开启 */\r\n   static TouchOn(start: Function, move: Function, end: Function, caller) {\r\n      Laya.stage.on(Laya.Event.MOUSE_DOWN, caller, start);\r\n      Laya.stage.on(Laya.Event.MOUSE_MOVE, caller, move);\r\n      Laya.stage.on(Laya.Event.MOUSE_UP, caller, end);\r\n      Laya.stage.on(Laya.Event.MOUSE_OUT, caller, end);\r\n   }\r\n   //**接触事件关闭 */\r\n   static TouchOff(start: Function, move: Function, end: Function, caller) {\r\n      Laya.stage.off(Laya.Event.MOUSE_DOWN, caller, start);\r\n      Laya.stage.off(Laya.Event.MOUSE_MOVE, caller, move);\r\n      Laya.stage.off(Laya.Event.MOUSE_UP, caller, end);\r\n      Laya.stage.on(Laya.Event.MOUSE_OUT, caller, end);\r\n   }\r\n   //**普通UI按钮点击 */\r\n   static buttonInit(btn: Laya.Button, caller: any, cb: Function, param?: any[], isScale?: boolean) {\r\n      btn.offAllCaller(caller);\r\n\r\n      if (btn instanceof Laya.Button && !isScale) {\r\n         let callback = (event) => {\r\n            Data.soundController.play(SoundType.CLICK);\r\n            if (cb) cb.call(caller, event);\r\n         }\r\n         btn.on(Laya.Event.CLICK, caller, callback, [param]);\r\n      }\r\n      else {\r\n         let scaleTime = 60;\r\n         let wRatio = 1;\r\n         let scaleX = btn.scaleX * wRatio;\r\n         let scaleY = btn.scaleY * wRatio;\r\n         let size = 0.9 * wRatio;\r\n\r\n         let isPressed = false;\r\n         let cbDown = (event) => {\r\n            isPressed = true;\r\n            // event.stopPropagation();\r\n            Laya.Tween.to(btn, { scaleX: size, scaleY: size }, scaleTime);\r\n         }\r\n         btn.on(Laya.Event.MOUSE_DOWN, caller, cbDown, [param]);\r\n\r\n         let cbUp = (event) => {\r\n            if (isPressed == false) return;\r\n            isPressed = false;\r\n            // event.stopPropagation();\r\n            Laya.Tween.to(btn, { scaleX: scaleX, scaleY: scaleY }, scaleTime);\r\n            if (cb) cb.call(caller, event);\r\n            //TODON 添加按钮声\r\n            Data.soundController.play(SoundType.CLICK);\r\n         }\r\n         btn.on(Laya.Event.MOUSE_UP, caller, cbUp, [param]);\r\n\r\n         let cbOut = (event) => {\r\n            // event.stopPropagation();\r\n            Laya.Tween.to(btn, { scaleX: scaleX, scaleY: scaleY }, scaleTime);\r\n         }\r\n         btn.on(Laya.Event.MOUSE_OUT, caller, cbOut, [param]);\r\n      }\r\n   }\r\n   //**Image的Button点击 */\r\n   static imageButtonInit(img: Laya.Image, caller, cb: Function, value?: any) {\r\n      img.offAllCaller(caller);\r\n      let cb1 = (event) => {\r\n         Data.soundController.play(SoundType.CLICK);\r\n         if (cb) cb.call(caller, event);\r\n      }\r\n      img.on(Laya.Event.MOUSE_UP, caller, cb1, [value]);\r\n   }\r\n   //**游戏中按钮点击 */\r\n   static gameButtonOn(img: Laya.Image, caller: any, Down: Function, Up: Function) {\r\n      img.offAllCaller(caller)\r\n\r\n      img.on(Laya.Event.MOUSE_DOWN, caller, Down);\r\n      img.on(Laya.Event.MOUSE_UP, caller, Up);\r\n      img.on(Laya.Event.MOUSE_OUT, caller, Up);\r\n   }\r\n   //**Vector3相加 */\r\n   static Vector3Add(a: Laya.Vector3, b: Laya.Vector3): Laya.Vector3 {\r\n      let pos = new Laya.Vector3();\r\n      Laya.Vector3.add(a, b, pos);\r\n      return pos;\r\n   }\r\n   //**Vector3相减a-b */\r\n   static Vector3Reduce(a: Laya.Vector3, b: Laya.Vector3): Laya.Vector3 {\r\n      let pos = new Laya.Vector3();\r\n      let c = Tools.Vector3Axis(b, -1);\r\n      pos = this.Vector3Add(a, c);\r\n      return pos;\r\n   }\r\n   //**Vector2相加 */\r\n   static Vector2Add(a: Laya.Vector2, b: Laya.Vector2): Laya.Vector2 {\r\n      let pos = new Laya.Vector2(a.x + b.x, a.y + b.y);\r\n      return pos;\r\n   }\r\n   //**Vector2相减a-b */\r\n   static Vector2Reduce(a: Laya.Vector2, b: Laya.Vector2): Laya.Vector2 {\r\n      let pos = new Laya.Vector2(a.x - b.x, a.y - b.y);\r\n      return pos;\r\n   }\r\n   //**Vector2长度 */\r\n   static Vector2Scale(a: Laya.Vector2): number {\r\n      let scale = Math.sqrt((Math.pow(a.x, 2) + Math.pow(a.y, 2)))\r\n      return scale;\r\n   }\r\n   //**获取transform前方 */\r\n   static getTransformForward(transform: Laya.Transform3D): Laya.Vector3 {\r\n      let pos = new Laya.Vector3();\r\n      transform.getForward(pos);\r\n      pos = this.Vector3Axis(pos, -1);\r\n      return pos;\r\n   }\r\n   //**乘Vector */\r\n   static Vector3Axis(vec3: Laya.Vector3, axis: number): Laya.Vector3 {\r\n      let pos = vec3.clone();\r\n      pos.x *= axis;\r\n      pos.y *= axis;\r\n      pos.z *= axis;\r\n      return pos;\r\n   }\r\n   //**改欧拉角Y */\r\n   static setTransRotEulerY(transform: Laya.Transform3D, rotY: number) {\r\n      let rot = transform.localRotationEuler.clone();\r\n      rot.y = rotY;\r\n      transform.localRotationEuler = rot;\r\n   }\r\n   //**改欧拉角X */\r\n   static setTransRotEulerX(transform: Laya.Transform3D, rotX: number) {\r\n      let rot = transform.localRotationEuler.clone();\r\n      rot.x = rotX;\r\n      transform.localRotationEuler = rot;\r\n   }\r\n   //**改欧拉角Z */\r\n   static setTransRotEulerZ(transform: Laya.Transform3D, rotZ: number) {\r\n      let rot = transform.localRotationEuler.clone();\r\n      rot.z = rotZ;\r\n      transform.localRotationEuler = rot;\r\n   }\r\n   //**随机抽取数组中一个元素(不删除) */\r\n   static getRandomInArray(array) {\r\n      if (array.length) {\r\n         let r = Math.random() * array.length;\r\n         r = Math.floor(r);\r\n         return array[r];\r\n      } else {\r\n         console.log(\"传入错误参数,返回空\")\r\n         return null;\r\n      }\r\n   }\r\n   //**随机抽取数组中一个元素(删除) */\r\n   static takeRandomInArray(array) {\r\n      if (array.length) {\r\n         let r = Math.random() * array.length;\r\n         r = Math.floor(r);\r\n         let obj = array[r]\r\n         array.splice(r, 1);\r\n         return obj;\r\n      } else {\r\n         console.log(\"传入错误参数,返回空\")\r\n         return null;\r\n      }\r\n   }\r\n   /**3D转屏幕坐标 */\r\n   static getSpritePosBySprite3DPoint(target, offset: Laya.Vector2 = new Laya.Vector2(0, 0)): Laya.Point {\r\n      var pos = target.transform.position.clone();\r\n      var outPos = new Laya.Vector4;\r\n      Data.mainCam.viewport.project(pos, Data.mainCam.projectionViewMatrix, outPos);\r\n      var pos2d = new Laya.Vector2(outPos.x / Laya.stage.clientScaleX, outPos.y / Laya.stage.clientScaleY);\r\n      pos2d.x += offset.x;\r\n      pos2d.y += offset.y;\r\n      return new Laya.Point(pos2d.x, pos2d.y);\r\n   }\r\n   //**金币收集 */\r\n   static coinCollectAnim(url, startPos, endPos, parent, amount = 15, callBack = null) {\r\n      var amountTmp = amount;\r\n      for (var i = 0; i < amount; i++) {\r\n         let coin = Laya.Pool.getItemByClass(\"coin\", Laya.Image);\r\n         coin.skin = url;\r\n         coin.x = startPos.x;\r\n         coin.y = startPos.y;\r\n\r\n         coin.scale(0.8, 0.8);\r\n\r\n         parent.addChild(coin);\r\n\r\n         let time = 300 + Math.random() * 100 - 50;\r\n         Laya.Tween.to(coin, { x: coin.x + Math.random() * 250 - 125, y: coin.y + Math.random() * 250 - 125 }, time);\r\n         Laya.timer.once(time + 50, this, function () {\r\n            Laya.Tween.to(coin, { x: endPos.x, y: endPos.y }, 400, null, new Laya.Handler(this, function () {\r\n               parent.removeChild(coin);\r\n               Laya.Pool.recover(\"coin\", coin);\r\n               amountTmp--;\r\n               if (amountTmp == 0 && callBack) callBack(parent);\r\n            }));\r\n         })\r\n      }\r\n   }\r\n   static coinCollectAnimAni(ani, startPos, endPos, parent, amount = 15, callBack = null) {\r\n      var amountTmp = amount;\r\n      for (var i = 0; i < amount; i++) {\r\n         let coin = Laya.Pool.getItemByClass(\"coinAnim\", Laya.Clip);\r\n         coin.skin = ani.skin;\r\n         coin.index = ani.index;\r\n         coin.clipX = ani.clipX;\r\n         coin.clipY = ani.clipY;\r\n         coin.autoPlay = ani.autoPlay;\r\n         coin.x = startPos.x;\r\n         coin.y = startPos.y;\r\n\r\n         coin.scale(0.8, 0.8);\r\n\r\n         parent.addChild(coin);\r\n\r\n         let time = 300 + Math.random() * 100 - 50;\r\n         Laya.Tween.to(coin, { x: coin.x + Math.random() * 250 - 125, y: coin.y + Math.random() * 250 - 125 }, time);\r\n         Laya.timer.once(time + 50, this, function () {\r\n            Laya.Tween.to(coin, { x: endPos.x, y: endPos.y }, 400, null, new Laya.Handler(this, function () {\r\n               parent.removeChild(coin);\r\n               Laya.Pool.recover(\"coinAnim\", coin);\r\n               amountTmp--;\r\n               if (amountTmp == 0 && callBack) callBack(parent);\r\n            }));\r\n         })\r\n      }\r\n   }\r\n   //**数值固定值靠近*/\r\n   static numberTo(base, target, dt) {\r\n\r\n      if (base < target) {\r\n         base += dt;\r\n      } else if (base > target) {\r\n         base -= dt;\r\n      }\r\n      if (Math.abs((target - base)) < dt) {\r\n         base = target\r\n      }\r\n      return base;\r\n   }\r\n   //**找节点中这个名字的玩意儿*/\r\n   static findNodeByName(rootNode: Laya.Sprite3D, name: string): Laya.Sprite3D {\r\n      let targetNode: Laya.Sprite3D = null\r\n\r\n      let funC = (node: Laya.Sprite3D) => {\r\n         for (let i = 0; i < node.numChildren; i++) {\r\n            if (node.getChildAt(i).name == name) {\r\n               targetNode = node.getChildAt(i) as Laya.Sprite3D\r\n               return\r\n            } else {\r\n               funC(node.getChildAt(i) as Laya.Sprite3D)\r\n            }\r\n         }\r\n      }\r\n\r\n      funC(rootNode)\r\n      return targetNode\r\n   }\r\n   /**读取Json文件 */\r\n   //从bin开始\r\n   //  res/Stages/StagesConfig.json\r\n   static loadJsonFile(path: string, callBack: Function) {\r\n      Laya.loader.load(path, Laya.Handler.create(this, (json) => {\r\n         var data = Laya.loader.getRes(path);\r\n         callBack(data);\r\n      }), null, Laya.Loader.JSON);\r\n   }\r\n   /**物体抖动 */\r\n   static objectShake(target: Laya.Sprite3D, shakeTime: number = 1, shakeAmount: number = 0.7) {\r\n      var shake = shakeTime;\r\n      var decreaseFactor = 1;\r\n      var originalPos = target.transform.localPosition.clone();\r\n\r\n      Laya.timer.frameLoop(1, this, updateShake);\r\n\r\n      function randomPos(): Laya.Vector3 {\r\n         var x = Math.random() > 0.5 ? Math.random() : -(Math.random());\r\n         var y = Math.random() > 0.5 ? Math.random() : -(Math.random());\r\n         return new Laya.Vector3(x, y, 0);\r\n      }\r\n\r\n      function updateShake() {\r\n         if (shake > 0) {\r\n            var pos = new Laya.Vector3();\r\n            Laya.Vector3.scale(randomPos(), shakeAmount, pos);\r\n            Laya.Vector3.add(originalPos, pos, pos);\r\n            target.transform.localPosition = pos;\r\n\r\n            shake -= 0.02 * decreaseFactor;\r\n         }\r\n         else {\r\n            shake = 0;\r\n            target.transform.localPosition = originalPos;\r\n            Laya.timer.clear(this, updateShake);\r\n         }\r\n      }\r\n   }\r\n\r\n   //**物体变小后变大提醒 */\r\n   static objectScaleTips(target: Laya.Sprite3D) {\r\n      let t = new Tween3D();\r\n      let normalScale = target.transform.localScale.clone();\r\n      let smallScale = Tools.Vector3Axis(normalScale, 0.8);\r\n      let bigScale = Tools.Vector3Axis(normalScale, 1.2);\r\n      t.toTween(target, { sca: smallScale }, 50)\r\n         .then({ sca: bigScale }, 50)\r\n         .then({ sca: normalScale }, 50);\r\n   }\r\n   //**手机振动 */\r\n   static vibrateShort() {\r\n      if (Laya.Browser.onWeiXin) {\r\n         wx.vibrateShort({\r\n            success: function () { },\r\n            fail: function () { },\r\n            complete: function () { }\r\n         })\r\n      }\r\n   }\r\n   //**延时执行函数 */\r\n   static delayCall(call, time) {\r\n      setTimeout(() => {\r\n         call();\r\n      }, time);\r\n   }\r\n   /**\r\n        * \r\n        * @param myPos 待旋转对象坐标\r\n        * @param targetPos 被绕对象坐标\r\n        * @param axis 轴\r\n        * @param angle 角度\r\n        * @returns 旋转后坐标\r\n        */\r\n   public static RotateWithAxis(myPos: Laya.Vector3, targetPos: Laya.Vector3, axis: Laya.Vector3, angle: number): Laya.Vector3 {\r\n      let desPos: Laya.Vector3 = new Laya.Vector3()\r\n      let dis: number = Laya.Vector3.distance(myPos, targetPos)\r\n      let dir = new Laya.Vector3()\r\n      Laya.Vector3.subtract(myPos, targetPos, dir)\r\n      Laya.Vector3.normalize(dir, dir)\r\n      let q = new Laya.Quaternion()\r\n      Laya.Vector3.normalize(axis, axis)\r\n      Laya.Quaternion.createFromAxisAngle(axis, angle * Math.PI / 180, q)\r\n      Laya.Vector3.transformQuat(dir, q, dir)\r\n      Laya.Vector3.scale(dir, dis, dir)\r\n      Laya.Vector3.add(targetPos, dir, desPos)\r\n      return desPos\r\n   }\r\n\r\n\r\n   /**16进制RGB转colorV3 */\r\n   public static d3_getRgbByHex(_hexColor) {\r\n      var color = [], rgb = [];\r\n      let hexColor = _hexColor.replace(/#/, \"\");\r\n      if (hexColor.length == 3) { // 处理 \"#abc\" 成 \"#aabbcc\"\r\n         var tmp = [];\r\n         for (var i = 0; i < 3; i++) {\r\n            tmp.push(hexColor.charAt(i) + hexColor.charAt(i));\r\n         }\r\n         hexColor = tmp.join(\"\");\r\n      }\r\n      for (var i = 0; i < 3; i++) {\r\n         color[i] = \"0x\" + hexColor.substr(i * 2, 2);\r\n         // rgb.push(parseInt(Number(color[i])));\r\n         rgb.push(parseInt(color[i]));\r\n      }\r\n      return new Laya.Vector3(rgb[0] / 255, rgb[1] / 255, rgb[2] / 255);\r\n   }\r\n}","import Tools from \"./Tools\";\r\n\r\n\r\nenum RubberType {\r\n    Custom = 0,\r\n    RubberDuck,\r\n    HardRubber,\r\n    Jelly,\r\n    SoftLatex\r\n}\r\n\r\nexport default class RubberEffect extends Laya.Script3D {\r\n    /**类型 */\r\n    m_Presets: RubberType = RubberType.Jelly;\r\n\r\n    m_EffectIntensity = 1;\r\n    m_Damping = 0.7;\r\n    m_Mass = 1;\r\n    m_Stiffness = 0.2;\r\n\r\n    /**动态mesh */\r\n    WorkingMesh: Laya.Mesh;\r\n    /**原始mesh */\r\n    OriginalMesh: Laya.Mesh;\r\n\r\n    vr: VertexRubber[];\r\n    V3_WorkingMesh: Laya.Vector3[] = [];\r\n    Renderer: Laya.MeshRenderer;\r\n\r\n    sleeping = true;\r\n\r\n    last_world_position: Laya.Vector3 = new Laya.Vector3;\r\n    last_world_rotation: Laya.Quaternion = new Laya.Quaternion;\r\n\r\n    self: Laya.MeshSprite3D;\r\n\r\n    TransformPoint(pos: Laya.Vector3) {\r\n        let selfPos = this.self.transform.position.clone();\r\n        return Tools.Vector3Add(selfPos, pos);\r\n    }\r\n\r\n    InverseTransformPoint(pos: Laya.Vector3) {\r\n        let selfPos = this.self.transform.position.clone();\r\n        return Tools.Vector3Reduce(pos, selfPos);\r\n    }\r\n\r\n    maxX: number = 0;\r\n    minX: number = 0;\r\n\r\n    maxY: number = 0;\r\n    minY: number = 0;\r\n\r\n    maxZ: number = 0;\r\n    minZ: number = 0;\r\n\r\n    size: Laya.Vector3;\r\n\r\n    getExtent(): Laya.Vector3 {\r\n\r\n        return\r\n    }\r\n    // changeToWorldPos(pos:Laya.Vector3[]){\r\n    //     let newPos = [];\r\n    //     let selfPos = this.self.transform.position.clone();\r\n    //     for(var i = 0; i < pos.length; i++){\r\n    //         newPos[i] = MyVector3.add(pos[i], selfPos);\r\n    //     }\r\n\r\n    //     return newPos;\r\n    // }\r\n\r\n    calcBounds(pos: Laya.Vector3[]) {\r\n        for (var i = 0; i < pos.length; i++) {\r\n            this.maxX = Math.max(this.maxX, pos[i].x);\r\n            this.maxY = Math.max(this.maxY, pos[i].y);\r\n            this.maxZ = Math.max(this.maxZ, pos[i].z);\r\n\r\n            this.minX = Math.min(this.minX, pos[i].x);\r\n            this.minY = Math.min(this.minY, pos[i].y);\r\n            this.minZ = Math.min(this.minZ, pos[i].z);\r\n        }\r\n\r\n        let v = new Laya.Vector3(this.maxX, this.maxY, this.maxZ)\r\n        this.Renderer.bounds.setExtent(v);\r\n        let selfPos = this.self.transform.position.clone();\r\n        this.Renderer.bounds.setMin(Tools.Vector3Add(selfPos, v));\r\n        this.Renderer.bounds.setMax(Tools.Vector3Reduce(selfPos, v));\r\n\r\n        this.size = new Laya.Vector3(this.maxX - this.minX, this.maxY - this.minY, this.maxZ - this.minZ);\r\n    }\r\n\r\n    onStart() {\r\n        this.self = this.owner as Laya.MeshSprite3D;\r\n        this.checkPreset(); //检测类型\r\n\r\n        var filter = this.self.meshFilter;\r\n        this.OriginalMesh = filter.sharedMesh;\r\n        this.WorkingMesh = this.OriginalMesh.clone();\r\n        filter.sharedMesh = this.WorkingMesh;\r\n\r\n        var ActiveVertex = [];\r\n        for (var i = 0; i < this.WorkingMesh.vertexCount; i++) {\r\n            ActiveVertex.push(i);\r\n        }\r\n\r\n        //顶点坐标\r\n        let meshPos = [];\r\n        this.WorkingMesh.getPositions(meshPos);\r\n        // meshPos = this.changeToWorldPos(meshPos);\r\n\r\n        this.vr = [];\r\n        for (var i = 0; i < ActiveVertex.length; i++) {\r\n            var ref_index = ActiveVertex[i];\r\n            this.vr[i] = new VertexRubber(this.TransformPoint(meshPos[ref_index]), this.m_Mass, this.m_Stiffness, this.m_Damping);\r\n            this.vr[i].indexId = ref_index;\r\n        }\r\n\r\n        this.Renderer = this.self.meshRenderer;\r\n        this.calcBounds(meshPos);\r\n\r\n        this.WakeUp();\r\n    }\r\n\r\n    WakeUp() {\r\n        for (var i = 0; i < this.vr.length; i++) {\r\n            this.vr[i].sleeping = false;\r\n        }\r\n\r\n        this.sleeping = false;\r\n    }\r\n\r\n    onUpdate() {\r\n        let rot1 = this.self.transform.rotation.clone();\r\n        let rot2 = this.last_world_rotation.clone();\r\n\r\n        let v4_1 = new Laya.Vector4(rot1.x, rot1.y, rot1.z, rot1.w);\r\n        let v4_2 = new Laya.Vector4(rot2.x, rot2.y, rot2.z, rot2.w);\r\n\r\n        // console.log(this.self.transform.position, this.last_world_position, Laya.Vector3.equals(this.self.transform.position, this.last_world_position));\r\n        if (!Laya.Vector3.equals(this.self.transform.position, this.last_world_position) || !Laya.Vector4.equals(v4_1, v4_2)) {\r\n            this.WakeUp();\r\n        }\r\n\r\n        if (!this.sleeping) {\r\n            // if (true) {\r\n            this.OriginalMesh.getPositions(this.V3_WorkingMesh);\r\n            var v_sleeping_counter = 0;\r\n            for (var i = 0; i < this.vr.length; i++) {\r\n                if (this.vr[i].sleeping) {\r\n                    v_sleeping_counter++;\r\n                }\r\n                else {\r\n                    var v3_target = this.TransformPoint(this.V3_WorkingMesh[this.vr[i].indexId]);\r\n                    this.vr[i].mass = this.m_Mass;\r\n                    this.vr[i].stiffness = this.m_Stiffness;\r\n                    this.vr[i].damping = this.m_Damping;\r\n\r\n                    // let bounds = this.Renderer.bounds;\r\n                    // console.log(bounds.getMax(), bounds.getExtent());\r\n\r\n                    this.vr[i].intensity = (1 - (this.Renderer.bounds.getMax().y - v3_target.y) / this.size.y) * this.m_EffectIntensity;\r\n                    this.vr[i].update(v3_target);\r\n\r\n                    v3_target = this.InverseTransformPoint(this.vr[i].pos);\r\n\r\n                    let v = new Laya.Vector3;\r\n                    Laya.Vector3.lerp(this.V3_WorkingMesh[this.vr[i].indexId], v3_target, this.vr[i].intensity, v);\r\n                    this.V3_WorkingMesh[this.vr[i].indexId] = v;\r\n                }\r\n            }\r\n\r\n            this.WorkingMesh.setPositions(this.V3_WorkingMesh);\r\n\r\n            if (Laya.Vector3.equals(this.self.transform.position, this.last_world_position) && Laya.Vector4.equals(v4_1, v4_2) && v_sleeping_counter == this.vr.length) {\r\n                this.sleeping = true;\r\n            }\r\n            else {\r\n                this.last_world_position = this.self.transform.position.clone();\r\n                this.last_world_rotation = this.self.transform.rotation.clone();\r\n            }\r\n        }\r\n    }\r\n\r\n    checkPreset() {\r\n        switch (this.m_Presets) {\r\n            case RubberType.HardRubber:\r\n                this.m_Mass = 8;\r\n                this.m_Stiffness = 0.5;\r\n                this.m_Damping = 0.9;\r\n                this.m_EffectIntensity = 0.5;\r\n                break;\r\n\r\n            case RubberType.Jelly:\r\n                this.m_Mass = 3;\r\n                this.m_Stiffness = 0.9;\r\n                this.m_Damping = 0.75;\r\n                this.m_EffectIntensity = 0.9;\r\n                break;\r\n\r\n            case RubberType.RubberDuck:\r\n                this.m_Mass = 1;\r\n                this.m_Stiffness = 0.6;\r\n                this.m_Damping = 0.7;\r\n                this.m_EffectIntensity = 0.01;\r\n                break;\r\n\r\n            case RubberType.SoftLatex:\r\n                this.m_Mass = 0.9;\r\n                this.m_Stiffness = 0.3;\r\n                this.m_Damping = 0.25;\r\n                this.m_EffectIntensity = 1;\r\n                break;\r\n        }\r\n\r\n        this.m_Mass = Math.max(this.m_Mass, 0);\r\n        this.m_Stiffness = Math.max(this.m_Stiffness, 0);\r\n        this.m_EffectIntensity = this.clamp(this.m_EffectIntensity, 0, 1);\r\n    }\r\n    clamp(value, min, max) {\r\n        if (value < min) return min;\r\n        if (value > max) return max;\r\n        return value;\r\n    }\r\n}\r\n\r\nclass VertexRubber {\r\n    indexId: number;\r\n    mass: number;\r\n    stiffness: number;\r\n    damping: number;\r\n    intensity: number;\r\n    pos: Laya.Vector3;\r\n    target: Laya.Vector3;\r\n    force: Laya.Vector3;\r\n    acc: Laya.Vector3;\r\n    v_sleeping = false;\r\n\r\n    set sleeping(value) {\r\n        this.v_sleeping = value;\r\n    }\r\n    get sleeping() {\r\n        return this.v_sleeping;\r\n    }\r\n\r\n    STOP_LIMIT = 0.001;\r\n\r\n    vel = new Laya.Vector3;\r\n\r\n    constructor(v_target: Laya.Vector3, m: number, s: number, d: number) {\r\n        this.mass = m;\r\n        this.stiffness = s;\r\n        this.damping = d;\r\n        this.intensity = 1;\r\n        this.pos = this.target = v_target.clone();\r\n        this.sleeping = false;\r\n    }\r\n\r\n    update(target: Laya.Vector3) {\r\n        if (this.v_sleeping) {\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        this.force = Tools.Vector3Axis(Tools.Vector3Reduce(target, this.pos), this.stiffness);\r\n        this.acc = Tools.Vector3Axis(this.force, 1 / this.mass);\r\n        this.vel = Tools.Vector3Axis(Tools.Vector3Add(this.vel, this.acc), this.damping);\r\n        this.pos = Tools.Vector3Add(this.pos, this.vel);\r\n\r\n        if (Laya.Vector3.scalarLength(Tools.Vector3Add(Tools.Vector3Add(this.vel, this.force), this.acc)) < this.STOP_LIMIT) {\r\n            this.pos = target;\r\n            this.v_sleeping = true;\r\n        }\r\n    }\r\n}","import CamFollow from \"../mods/CamFollow\";\r\nimport PlayerData from \"../mods/PlayerData\";\r\nimport RubberEffect from \"../mods/RubberEffect\";\r\nimport Tools from \"../mods/Tools\";\r\nimport Tween3D from \"../mods/Tween3D\";\r\nimport Stage from \"../Stage\";\r\nimport Data from \"../tools/Data\";\r\nimport ModelAnimController, { ModelAnimClips } from \"./ModelAnimController\";\r\n\r\n\r\n\r\n\r\nexport default class StageController {\r\n    static wallBornCount = 0;\r\n    static roadCubes = [];\r\n    static canPickCubes = [];\r\n    static trailPos = [];\r\n    static spring = [];\r\n    static beacon = [];\r\n    static stageID = 0;\r\n    static endPos = [];\r\n    static startPos = [];\r\n    static wormHoleIn: { [key: string]: any; } = {}\r\n    static wormHoleOut: { [key: string]: any; } = {}\r\n    static stop = [];\r\n    static stageColor = [];\r\n    static cubeCount = 0;\r\n    static trailCubeCount = 0;\r\n    static endItemCount = 0;\r\n    static Init() {\r\n        Laya.timer.clearAll(this)\r\n        for (let i = 0; i < Data.usingPrefabs.length; i++) {\r\n            Data.usingPrefabs[i].destroy();\r\n        }\r\n        this.canPickCubes = [];\r\n        this.roadCubes = [];\r\n        this.spring = [];\r\n        this.beacon = [];\r\n        this.endPos = [];\r\n        this.startPos = [];\r\n        this.wormHoleIn = {};\r\n        this.wormHoleOut = {};\r\n        this.trailPos = [];\r\n        this.stageID = 0;\r\n        this.stop = [];\r\n        Data.collider.ColliderInit();\r\n        this.loadStageConfigs();\r\n\r\n    }\r\n    //玩家事件\r\n    static PlayerInit() {\r\n        //console.log(\"玩家初始化\");\r\n        Data.model = Data.player.getChildByName(\"Model\") as Laya.Sprite3D;\r\n        // for (let i = 1; i < Data.model.numChildren; i++) {\r\n        //     Data.model.getChildAt(i).active = false;\r\n        // }\r\n        // let index = parseInt(PlayerData.GetPlayerData().nowPeople);\r\n        // Data.model.getChildAt(index + 1).active = true;\r\n        // Data.model.getChildAt(index + 10).active = true;\r\n        // ModelAnimController.playAnim(ModelAnimClips.Idle);\r\n        // Data.model.transform.localPosition = new Laya.Vector3(0, 0.3, 0);\r\n        // Tools.setTransRotEulerY(Data.model.transform, -120);\r\n        let ball = this.BornObj(Tools.findNodeByName(Data.prefabs, \"qiu\"));\r\n        Data.model.addChild(ball);\r\n        ball.transform.localPosition = new Laya.Vector3(0, 0, 0);\r\n        Data.model.transform.localPosition = new Laya.Vector3(0, 2, 0);\r\n        let ballMesh = ball.getChildByName(\"qiu_0\") as Laya.MeshSprite3D;\r\n        if (!ballMesh.getComponent(RubberEffect))\r\n            ballMesh.addComponent(RubberEffect);\r\n        Data.model.active = true;\r\n        ballMesh.meshRenderer.material = this.stageColor[2];\r\n        // let comp = Data.mainCam.addComponent(CamFollow);\r\n        // comp.justGo();\r\n        // Tools.setTransRotEulerX(Data.mainCam.transform, -65);\r\n        // Tools.setTransRotEulerY(Data.mainCam.transform, -180 + 4);\r\n        // Data.fxController.BornMoveSmokeFx();\r\n    }\r\n    //加载关卡\r\n    static loadStageConfigs() {\r\n        let grade = PlayerData.GetPlayerData().grade;\r\n        let url = \"res/Stages/StagesConfig.json\";\r\n        let level = (grade - 1) % 14 + 1;\r\n        //console.log(\"grade:\", grade, \"level:\", level);\r\n        let levelurl = \"res/Stages/Level\" + level.toString() + \".json\"\r\n\r\n        //变色   绿，\r\n        // let allColor = [\"00FF0B\", \"FF170B\", \"0094FF\", \"FAFF07\", \"FF06EE\"];\r\n        let allColors = [[\"ff0011\", \"40bdff\"], [\"00ff8a\", \"ff60ff\"], [\"00a3ff\", \"ffa048\"], [\"ffc600\", \"9e7aff\"]]\r\n        let allColor = Tools.getRandomInArray(allColors);\r\n        let realColor = [];\r\n\r\n        for (let i = 0; i < 3; i++) {\r\n            let color\r\n            let mat = new Laya.PBRStandardMaterial;\r\n            if (i == 0) {\r\n                color = Tools.d3_getRgbByHex(\"FFFFFF\");\r\n                mat.metallic = 0.1;\r\n                mat.smoothness = 0;\r\n            } else {\r\n                color = Tools.d3_getRgbByHex(allColor[i - 1]);\r\n                mat.metallic = 0;\r\n                mat.smoothness = 0.2\r\n            }\r\n\r\n\r\n            mat.albedoColor = new Laya.Vector4(color.x * 0.6, color.y * 0.6, color.z * 0.6, 1);\r\n            realColor.push(mat);\r\n        }\r\n        this.stageColor = realColor;\r\n\r\n        Tools.loadJsonFile(url, (data) => {\r\n            // let grade = PlayerData.GetPlayerData().grade;\r\n            let index = 0;\r\n            //console.log(data);\r\n            // let stageData = [data[0], data[1]]\r\n            // if (data[2]) {\r\n            //     stageData.push(data[2]);\r\n            // }\r\n            let stageData = data;\r\n            this.roadCubes = new Array(stageData.length);\r\n            this.endPos = new Array(stageData.length);\r\n            this.startPos = new Array(stageData.length);\r\n            this.canPickCubes = new Array(stageData.length);\r\n            this.trailPos = new Array(stageData.length);\r\n            this.cubeCount = 0;\r\n            this.trailCubeCount = 0;\r\n\r\n            //第几关\r\n            let grade = Data.readGrade();\r\n            let allStageCount = stageData.length;\r\n            let levelIndex = 0;\r\n            if (grade <= allStageCount) {\r\n                levelIndex = grade - 1;\r\n            } else {\r\n                levelIndex = (Math.floor(Math.random() * 19) + 2) - 1;\r\n            }\r\n        \r\n\r\n\r\n\r\n            this.stageID = 0;\r\n            this.roadCubes[0] = [];\r\n            this.endPos[0] = [];\r\n            this.startPos[0] = [];\r\n            this.canPickCubes[0] = [];\r\n            this.trailPos[0] = [];\r\n            this.StageBornDo(stageData[levelIndex].stage);\r\n\r\n            // let end = Data.scene3D.getChildByName(\"End\") as Laya.Sprite3D;\r\n            // let endPos = this.endPos[this.endPos.length - 1].clone();\r\n            // endPos.z -= 0.5\r\n            // end.transform.position = endPos;\r\n            let total = (this.cubeCount - this.trailCubeCount)\r\n            let axisCount = Math.floor(total / 5);\r\n            // let add = total % 5;\r\n            this.endItemCount = axisCount;\r\n            // this.BornEndItem(axisCount, add);\r\n            // this.PlayerInit();\r\n        })\r\n    }\r\n    //生成关卡\r\n    static StageBornDo(data) {\r\n        for (let i = 0; i < data.length; i++) {\r\n            let name = data[i].name;\r\n            let tips = name.split(\"_\");\r\n            let pos = new Laya.Vector3(parseFloat(data[i].position.x), parseFloat(data[i].position.y), parseFloat(data[i].position.z));\r\n            let rotation = new Laya.Vector3(parseFloat(data[i].rotation.x), parseFloat(data[i].rotation.y), parseFloat(data[i].rotation.z))\r\n            let scale = new Laya.Vector3(parseFloat(data[i].scale.x), parseFloat(data[i].scale.y), parseFloat(data[i].scale.z))\r\n            switch (tips[0]) {\r\n                case \"Ground\":\r\n                    this.BornGround(pos, rotation, scale);\r\n                    break;\r\n                case \"BlockCube\":\r\n                    this.BornBlockCube(pos, rotation, scale);\r\n                    break;\r\n                case \"PickCube\":\r\n                    this.BornPickCube(pos);\r\n                    break;\r\n                case \"StartPoint\":\r\n                    if (this.stageID == 0) {\r\n                        this.SetPlayerPos(pos);\r\n                    }\r\n                    this.startPos[this.stageID] = pos;\r\n                    this.roadCubes[this.stageID].push(pos);\r\n                    break;\r\n                case \"CamPoint\":\r\n                    pos.z -= 2.5\r\n                    Data.mainCam.transform.position = pos;\r\n                    rotation.y += 180;\r\n                    Data.mainCam.transform.rotationEuler = rotation;\r\n                    Data.mainCam.transform.rotate(new Laya.Vector3(-5, 0, 0), false, false)\r\n                    break\r\n                case \"Trail\":\r\n                    this.BornTrail(pos, rotation, scale);\r\n                    break;\r\n                case \"TrailGround\":\r\n                    this.BornTrailGround(pos);\r\n                    break;\r\n                case \"EndPoint\":\r\n                    // this.endPos[this.stageID] = pos;\r\n                    this.roadCubes[this.stageID].push(pos);\r\n                    break;\r\n                case \"Spring\":\r\n                    this.BornSpring(pos, rotation);\r\n                    break;\r\n                case \"Beacon\":\r\n                    this.BornBeacon(pos, rotation);\r\n                    break;\r\n                case \"SpringStage\":\r\n                    this.BornSpringStage(pos, rotation);\r\n                    break;\r\n                case \"Wormhole\":\r\n                    this.BornWormhole(pos, tips[1], tips[2])\r\n                    break;\r\n                case \"Stop\":\r\n                    this.BornStop(pos);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    //生成地板\r\n    static BornGround(pos, rotation, scale) {\r\n        // let url = \"Ground\" + this.stageColor[0].toString();\r\n        // let prefab = Tools.findNodeByName(Data.prefabs, url)\r\n        // let ground = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n        // ground.transform.localRotationEuler = rotation;\r\n        // ground.transform.localScale = scale;\r\n    }\r\n    //生成阻挡墙\r\n    static BornBlockCube(pos, rotation, scale) {\r\n        // let url = \"BlockCube\" + this.stageColor[1].toString();\r\n        let url = \"BlockCube\";\r\n        let prefab = Tools.findNodeByName(Data.prefabs, url)\r\n        let blockCube = this.BornObj(prefab, pos) as Laya.MeshSprite3D;\r\n        blockCube.transform.localRotationEuler = rotation;\r\n        blockCube.transform.localScale = scale;\r\n        blockCube.meshRenderer.material = this.stageColor[0];\r\n    }\r\n    //生成可捡方块\r\n    static BornPickCube(pos) {\r\n        for (let i = 0; i < this.canPickCubes[this.stageID].length; i++) {\r\n            if (Laya.Vector3.equals(this.canPickCubes[this.stageID][i].transform.position.clone(), pos)) {\r\n                //console.log(\"有相同\")\r\n                return;\r\n            }\r\n        }\r\n        // let url = \"PickCube\" + this.stageColor[2].toString();\r\n        let url = \"PickCube\";\r\n        let prefab = Tools.findNodeByName(Data.prefabs, url)\r\n        let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n\r\n        this.changePickCubeMat(obj, 1);\r\n\r\n        this.roadCubes[this.stageID].push(obj.transform.position.clone());\r\n        this.canPickCubes[this.stageID].push(obj);\r\n        this.cubeCount++;\r\n    }\r\n    //生成轨道\r\n    static BornTrail(pos, rotation, scale) {\r\n        let url = \"Trail\" + this.stageColor[1].toString();\r\n        let prefab = Tools.findNodeByName(Data.prefabs, url);\r\n        let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n        obj.transform.localRotationEuler = rotation;\r\n        obj.transform.localScale = scale;\r\n        //判定索道经过了几个点\r\n        let addVector = Tools.getTransformForward(obj.transform);\r\n        Laya.Vector3.normalize(addVector, addVector);\r\n        if (pos.z % 1 == 0.5) {\r\n            for (let i = 0; i <= scale.z; i++) {\r\n                let add = Tools.Vector3Axis(addVector, i);\r\n                let point = Tools.Vector3Add(pos, add);\r\n                this.addTrail(point);\r\n            }\r\n        } else if (pos.z % 1 == 0) {\r\n            let addScale = scale.z - 0.5;\r\n\r\n            let addPos = Tools.Vector3Add(pos, Tools.Vector3Axis(addVector, 0.5));\r\n            for (let i = 0; i <= addScale; i++) {\r\n                let add = Tools.Vector3Axis(addVector, i);\r\n                let point = Tools.Vector3Add(addPos, add);\r\n                this.addTrail(point);\r\n            }\r\n        }\r\n\r\n    }\r\n    static addTrail(pos) {\r\n        for (let i = 0; i < this.trailPos[this.stageID].length; i++) {\r\n            if (Laya.Vector3.equals(this.trailPos[this.stageID][i], pos)) {\r\n                return;\r\n            }\r\n        }\r\n        this.roadCubes[this.stageID].push(pos);\r\n        this.trailPos[this.stageID].push(pos);\r\n        this.trailCubeCount++;\r\n    }\r\n    //生成轨道支柱\r\n    static BornTrailGround(pos) {\r\n        let url = \"TrailGround\" + this.stageColor[1].toString();\r\n        let prefab = Tools.findNodeByName(Data.prefabs, url);\r\n        let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n    }\r\n    //生成转角弹簧\r\n    static BornSpring(pos, rotation) {\r\n        let prefab = Tools.findNodeByName(Data.prefabs, \"Spring\");\r\n        let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n        obj.transform.localRotationEuler = rotation;\r\n        this.spring.push(obj);\r\n    }\r\n    //生成方向值\r\n    static BornBeacon(pos, rotation) {\r\n        let prefab = Tools.findNodeByName(Data.prefabs, \"Beacon\");\r\n        let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n        obj.transform.localRotationEuler = rotation;\r\n        this.beacon.push(obj);\r\n    }\r\n    //生成隐形弹簧\r\n    static BornSpringStage(pos, rotation) {\r\n        let prefab = Tools.findNodeByName(Data.prefabs, \"SpringStage\");\r\n        let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n        obj.transform.localRotationEuler = rotation;\r\n        this.spring.push(obj);\r\n    }\r\n    //生成虫洞\r\n    static BornWormhole(pos, id, type) {\r\n        let prefab = Tools.findNodeByName(Data.prefabs, \"Wormhole\");\r\n        let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n        if (type == \"In\") {\r\n            this.wormHoleIn[id] = obj.transform.position.clone();\r\n        } else if (type == \"Out\") {\r\n            this.wormHoleOut[id] = obj.transform.position.clone();\r\n        }\r\n    }\r\n    //生成停止版\r\n    static BornStop(pos) {\r\n        let prefab = Tools.findNodeByName(Data.prefabs, \"Stop\");\r\n        let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n        this.stop.push(obj.transform.position.clone());\r\n    }\r\n    //生成结算板子\r\n    static BornEndItem(count, add) {\r\n        for (let i = 0; i < count; i++) {\r\n            let index = i % 7 + 1;\r\n            let name = \"EndItem\" + index.toString();\r\n            let prefab = Tools.findNodeByName(Data.prefabs, name);\r\n            let pos = this.endPos[this.endPos.length - 1].clone();\r\n            pos.z += 20 + i * 7;\r\n            let obj = this.BornObj(prefab, pos) as Laya.Sprite3D;\r\n            let first = obj.getChildByName(\"first\") as Laya.Sprite3D;\r\n            let second = obj.getChildByName(\"second\") as Laya.Sprite3D;\r\n            let point = obj.getChildByName(\"point\") as Laya.Sprite3D;\r\n            let axis = obj.getChildByName(\"x\") as Laya.Sprite3D;\r\n            this.BornNumber(1 + Math.floor(i / 10), first.transform.position.clone())\r\n            this.BornNumber(i % 10, second.transform.position.clone())\r\n            this.BornPoint(point.transform.position.clone());\r\n            this.BornAxis(axis.transform.position.clone());\r\n            first.destroy();\r\n            second.destroy();\r\n            point.destroy();\r\n            axis.destroy();\r\n        }\r\n        let end = Data.scene3D.getChildByName(\"End\") as Laya.Sprite3D;\r\n        let chest = end.getChildByName(\"Chest\") as Laya.Sprite3D;\r\n        let chestPos = chest.transform.localPosition.clone();\r\n        chestPos.z = 20 + count * 7 + 0.5;\r\n        chestPos.y = 0.31 + add * 0.3;\r\n        chest.transform.localPosition = chestPos;\r\n    }\r\n    static BornNumber(number, pos) {\r\n        let url = number.toString();\r\n        let prefab = Tools.findNodeByName(Data.prefabs, url);\r\n        let obj = this.BornObj(prefab, pos);\r\n    }\r\n    static BornPoint(pos) {\r\n        let url = \"point\";\r\n        let prefab = Tools.findNodeByName(Data.prefabs, url);\r\n        let obj = this.BornObj(prefab, pos);\r\n    }\r\n    static BornAxis(pos) {\r\n        let url = \"axis\"\r\n        let prefab = Tools.findNodeByName(Data.prefabs, url);\r\n        let obj = this.BornObj(prefab, pos);\r\n    }\r\n\r\n    //设置玩家位置\r\n    static SetPlayerPos(pos) {\r\n        Data.player.transform.position = pos;\r\n    }\r\n\r\n    /**更改pickCube的材质颜色 */\r\n    static changePickCubeMat(obj: Laya.Sprite3D, index: number) {\r\n        let cube = Tools.findNodeByName(obj, \"Cube_0\") as Laya.MeshSprite3D;\r\n        let qiu = obj.getChildByName(\"qiu\").getChildByName(\"qiu_0\") as Laya.MeshSprite3D;\r\n        let yuanhuan = Tools.findNodeByName(obj, \"yuanhuan_0\") as Laya.MeshSprite3D;\r\n        let face = obj.getChildByName(\"Face\").getChildByName(\"qiu_0\") as Laya.MeshSprite3D;\r\n        cube.meshRenderer.material = this.stageColor[index];\r\n        qiu.meshRenderer.material = this.stageColor[index];\r\n        yuanhuan.meshRenderer.material = this.stageColor[index];\r\n        face.meshRenderer.material = this.stageColor[index];\r\n    }\r\n\r\n    //统一物品生成接口\r\n    static BornObj(Prefab, pos = new Laya.Vector3(0, 0, 0)) {\r\n        let obj = Prefab.clone();\r\n        if (obj) {\r\n            Data.scene3D.addChild(obj);\r\n            obj.transform.position = pos;\r\n            Data.usingPrefabs.push(obj);\r\n        }\r\n        return obj;\r\n    }\r\n\r\n}","import ColliderController from \"../stage/ColliderController\";\r\n\r\nimport PlayerData from \"../mods/PlayerData\";\r\nimport SoundManager from \"../../JJExport/managers/SoundManager\";\r\n\r\nimport camShake from \"../mods/camShake\";\r\nimport FxController from \"../stage/FxController\";\r\nimport StageController from \"../stage/StageController\";\r\n\r\nexport enum SceneUrl {\r\n    LOADING = 'scenes/Loading.scene',\r\n    STARTMENU = 'scenes/StartMenu.scene',\r\n    STAGEUI = 'scenes/StageUI.scene',\r\n    ENDMENU = 'scenes/EndMenu.scene'\r\n}\r\n\r\nexport default class Data {\r\n    static isPure = true;\r\n    //全局常用对象\r\n    static scene3D: Laya.Scene3D;\r\n    static prefabs: Laya.Sprite3D;\r\n    static fxs: Laya.Sprite3D;\r\n    static player: Laya.Sprite3D;\r\n    static model: Laya.Sprite3D;\r\n    static anim: Laya.Animator;\r\n    static mainCam: Laya.Camera\r\n    static soundController: SoundManager\r\n    static fxController: FxController\r\n    static collider: ColliderController;\r\n    static nowScene: number = 0;//loading 0 ,start 1，stage2,end3\r\n    //Tools\r\n    static camShake: camShake;\r\n    //关卡生成预载体存放\r\n    static usingPrefabs: any = [];\r\n    //场景动态数值\r\n    static isSuccess: boolean = false;\r\n    static endAxis: number = 0;\r\n    static endCoin: number = 0;\r\n    static AddGrade() {\r\n        let data = PlayerData.GetPlayerData()\r\n        data.grade++;\r\n\r\n        if (parseInt(data.grade) == 3) {\r\n            data.peopleActive[1] = true;\r\n        } else if (parseInt(data.grade) == 10) {\r\n            data.peopleActive[2] = true;\r\n        } else if (parseInt(data.grade) > 99) {\r\n            data.grade = 99;\r\n        }\r\n        PlayerData.SavePlayerData(data);\r\n    }\r\n    static readGrade(): number {\r\n        let data = PlayerData.GetPlayerData();\r\n        return parseInt(data.grade);\r\n    }\r\n    static AddCoin(count: number) {\r\n        let data = PlayerData.GetPlayerData()\r\n        data.coin += count;\r\n        PlayerData.SavePlayerData(data);\r\n    }\r\n    static readCoin(): number {\r\n        let data = PlayerData.GetPlayerData();\r\n        return parseInt(data.coin);\r\n    }\r\n    static unlock(id) {\r\n        //console.log(\"解锁\", id);\r\n        let data = PlayerData.GetPlayerData();\r\n        data.peopleActive[id] = true;\r\n        PlayerData.SavePlayerData(data);\r\n    }\r\n    static choose(id) {\r\n        let data = PlayerData.GetPlayerData();\r\n        data.nowPeople = id;\r\n        PlayerData.SavePlayerData(data);\r\n        StageController.PlayerInit();\r\n    }\r\n\r\n    //#region 体力\r\n    static addEnergy(value) {\r\n        let data = PlayerData.GetPlayerData();\r\n        data.energy += value;\r\n        if (data.energy > 99)\r\n            data.energy = 99;\r\n        PlayerData.SavePlayerData(data);\r\n        if (Data.readEnergy() >= 20) {\r\n            Data.setLastEnergyTime();\r\n        }\r\n    }\r\n    static reduceEnergy() {\r\n        Data.addEnergy(-5);\r\n        if (Data.readEnergy() == 20) {\r\n            Data.setLastEnergyTime();\r\n        }\r\n    }\r\n    static setEnergy(value) {\r\n        let data = PlayerData.GetPlayerData();\r\n        data.energy = value;\r\n        PlayerData.SavePlayerData(data);\r\n    }\r\n    static readEnergy() {\r\n        let data = PlayerData.GetPlayerData();\r\n        return parseInt(data.energy);\r\n    }\r\n    static readLastEnergyTime() {\r\n        let data = PlayerData.GetPlayerData();\r\n        return parseInt(data.lastEnergyTime);\r\n    }\r\n    static setLastEnergyTime() {\r\n        let data = PlayerData.GetPlayerData();\r\n        data.lastEnergyTime = new Date().getTime();\r\n        PlayerData.SavePlayerData(data);\r\n    }\r\n    static checkEnergy() {\r\n        if (Data.readEnergy() < 20) {\r\n            let time = new Date().getTime() - Data.readLastEnergyTime();\r\n            let count = Math.floor(time / (1000 * 60));\r\n            if (count > 0) {\r\n                let energy = Data.readEnergy();\r\n                energy += count;\r\n                if (energy >= 20) {\r\n                    energy = 20;\r\n                    Data.setEnergy(energy);\r\n                    Data.setLastEnergyTime();\r\n                    return null;\r\n                }\r\n                Data.setEnergy(energy);\r\n                Data.setLastEnergyTime();\r\n                time = new Date().getTime() - Data.readLastEnergyTime()\r\n            }\r\n            if (time >= 0)\r\n                return time;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    //#endregion\r\n}","\r\nimport JJMgr, { SceneDir } from \"./Common/JJMgr\";\r\n\r\nexport default class ExportAndAdControl {\r\n\r\n\r\n    static init() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            this.showShareMenuWithTicket(true)\r\n            this.regisiterWXShareCallback()\r\n        }\r\n    }\r\n\r\n    static FirstIn(callback?) {\r\n        callback && callback();\r\n    }\r\n    static StartMenuIn() {\r\n        console.log(\"打开游戏开始界面\")\r\n    }\r\n\r\n    static StartMenuOut(callBack?: Function) {\r\n        callBack && callBack();\r\n    }\r\n    static StageIn() {\r\n\r\n\r\n    }\r\n    static StageOut() {\r\n\r\n    }\r\n    static EndIn() {\r\n\r\n    }\r\n    static EndOut(callback?) {\r\n        callback && callback();\r\n    }\r\n\r\n\r\n    /**显示右上角转发分享功能 */\r\n    static showShareMenuWithTicket(ticket) {\r\n        wx.showShareMenu({\r\n            withShareTicket: ticket,\r\n            success: function () { },\r\n            fail: function () { },\r\n            complete: function () { }\r\n        })\r\n    }\r\n    /**注册右上角转发分享监听 */\r\n    static regisiterWXShareCallback() {\r\n        var shareId = 1;\r\n        if (Laya.Browser.onWeiXin) {\r\n            var object = { title: \"分享\", image: \"\" };\r\n            Laya.Browser.window.wx.onShareAppMessage(function () {\r\n                console.log(\"用户点击了转发按钮\");\r\n                let shareObj = {\r\n                    title: object.title,\r\n                    imageUrl: object.image,\r\n                    query: \"share_id=\" + shareId,\r\n                }\r\n                return shareObj;\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n}","import BaseUI from \"./mods/BaseUI\";\r\nimport Data, { SceneUrl } from \"./tools/Data\";\r\nimport Tools from \"./mods/Tools\";\r\nimport ExportAndAdControl from \"../JJExport/ExportAndAdControl\";\r\nimport StageController from \"./stage/StageController\";\r\nimport PlayerData from \"./mods/PlayerData\";\r\n\r\nexport default class EndMenu extends BaseUI {\r\n\r\n    restartButton: Laya.Button;\r\n\r\n    videoConfirm: Laya.Image;\r\n\r\n    init() {\r\n        Data.nowScene = 3;\r\n        if (!Data.isPure) {\r\n            // let box = this.scrollList.getChildAt(0) as Laya.Box;\r\n            ExportAndAdControl.EndIn();\r\n        }\r\n        this.EnergyInit();\r\n        Tools.d2_AddClickEvent(this.restartButton, this, this.restartGame);\r\n        Tools.d2_AddClickEvent(this.videoConfirm, this, this.videoConfirmSwitch);\r\n        // Tools.buttonInit(this.restartButton, this, this.restartGame)\r\n        let data = PlayerData.GetPlayerData();\r\n        Data.AddCoin(Data.endCoin);\r\n    }\r\n    restartGame() {\r\n        //这里要插一个皮肤解锁页\r\n        // Laya.Scene.destroy(SceneUrl.ENDMENU);\r\n        // Tools.loadScene(SceneUrl.SkinLock);\r\n        let cb = () => {\r\n            ExportAndAdControl.EndOut(() => {\r\n                StageController.Init();\r\n                Laya.Scene.destroy(SceneUrl.ENDMENU);\r\n                Tools.loadScene(SceneUrl.STARTMENU);\r\n            });\r\n        }\r\n        if (this.isVideoPass) {\r\n            //TODO 广告然后加体力触发cb\r\n            Data.addEnergy(10);\r\n            cb();\r\n        } else {\r\n            cb();\r\n        }\r\n\r\n    }\r\n\r\n    isVideoPass = true;\r\n    videoConfirmSwitch() {\r\n        this.isVideoPass = !this.isVideoPass;\r\n        this.videoConfirm.alpha = this.isVideoPass ? 1 : 0;\r\n    }\r\n\r\n\r\n\r\n    //#region 体力\r\n    EnergyInit() {\r\n        this.EnergyUpdate();\r\n        Tools.d2_AddClickEvent(this.energyNeedBtn, this, () => {\r\n\r\n            //打开体力不足面板\r\n            this.openEnergyPanel();\r\n\r\n        })\r\n        Tools.d2_AddClickEvent(this.energyCancelBtn, this, this.closeEnergyPanel);\r\n        Tools.d2_AddClickEvent(this.energyVideoBtn, this, () => {\r\n            Data.addEnergy(10)\r\n            this.EnergyUpdate();\r\n        })\r\n        Laya.timer.loop(1000, this, this.EnergyUpdate)\r\n    }\r\n    openEnergyPanel() {\r\n        this.energyPanel.set_visible(true);\r\n    }\r\n    closeEnergyPanel() {\r\n        this.energyPanel.set_visible(false);\r\n    }\r\n    energyTime: Laya.FontClip;\r\n    energyValue: Laya.FontClip;\r\n    energyNeedBtn: Laya.Image;\r\n    energyVideoBtn: Laya.Image;\r\n    energyCancelBtn: Laya.Image;\r\n    energyPanel: Laya.Image;\r\n    EnergyUpdate() {\r\n        let time = Data.checkEnergy();\r\n        // this.ValueInit();\r\n        this.energyValue.value = Data.readEnergy().toString();\r\n        if (time != null) {\r\n\r\n            let image = this.energyTime;\r\n            image.set_visible(true);\r\n\r\n            time = 60 * 1000 - time;\r\n            let sec = Math.floor(time / 1000);\r\n            let min = Math.floor(sec / 60);\r\n            sec = sec % 60;\r\n            let minString;\r\n            let secString;\r\n            if (min < 10) {\r\n                minString = \"0\" + min.toString()\r\n            } else {\r\n                minString = min.toString();\r\n            }\r\n            if (sec < 10) {\r\n                secString = \"0\" + sec.toString();\r\n            } else {\r\n                secString = sec.toString();\r\n            }\r\n            let string = minString + \":\" + secString;\r\n            this.energyTime.value = string;\r\n        } else {\r\n\r\n            let image = this.energyTime;\r\n            image.set_visible(false);\r\n\r\n        }\r\n    }\r\n    //#endregion\r\n    // videoAward() {\r\n    //     // Data.AddCoin(Data.endCoin);\r\n    //     // this.coinValue.value = Data.readCoin().toString();\r\n\r\n    //     Data.AddCoin(Data.endCoin);\r\n    //     this.coinValue.value = Data.readCoin().toString();\r\n    //     this.nowCoinValue.value = (Data.endCoin * 2).toFixed(0);\r\n    //     this.combeAxis.value = (Data.endAxis * 2).toFixed(1) + \"*\";\r\n    //     this.videoButton.set_visible(false);\r\n\r\n    // }\r\n}","\r\nimport FxController from \"./FxController\";\r\nimport Stage from \"../Stage\";\r\nimport Data from \"../tools/Data\";\r\n\r\nexport default class ColliderController {\r\n    constructor() {\r\n        this.ColliderInit();\r\n    }\r\n    enable = false;\r\n    rubbishPos: Laya.Vector3 = new Laya.Vector3(-1000, -1000, -1000);\r\n    ColliderInit() {\r\n        this.enable = true;\r\n    }\r\n    ColliderUpdate() {\r\n        if (this.enable) {\r\n          \r\n        }\r\n    }\r\n    NormalBoxCheck_2D(aPos, aDirX, aDirZ, bPos, bDirX, bDirZ): boolean {\r\n        let dirX = Math.abs(bPos.x - aPos.x);\r\n        let dirZ = Math.abs(bPos.z - aPos.z);\r\n        let hitX = aDirX + bDirX;\r\n        let hitZ = aDirZ + bDirZ;\r\n        return dirX < hitX && dirZ < hitZ;\r\n    }\r\n  \r\n}","import Context from \"../Context\";\r\nimport { SoundType } from \"../enums/EnumType\";\r\n\r\n\r\nexport default class SoundManager {\r\n    private _soundFile: string[];\r\n    private _pathRoot: string;\r\n    private _soundCtx: any;\r\n\r\n    constructor() {\r\n        this._pathRoot = \"res/Sounds/\";//\"https://p.ddkaoshi.com/resource/sound/\"\r\n        this._soundCtx = {};\r\n\r\n        this._soundFile = [];\r\n        for (var key in SoundType) {\r\n            let sound = SoundType[key];\r\n            this._soundFile.push(sound);\r\n        }\r\n        console.log(this._soundFile);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        let path = this._pathRoot;\r\n        let file = \"\";\r\n        let soundFile = this._soundFile;\r\n        let soundCount = this._soundFile.length;\r\n        for (let i = 0; i < soundCount; ++i) {\r\n            file = soundFile[i];\r\n            let innerAudioContext = new Laya.SoundChannel;\r\n            innerAudioContext.url = path + file + \".mp3\";\r\n\r\n            if (file.indexOf(\"PoliceSiren\") != -1) innerAudioContext.loops = 0;\r\n\r\n            Laya.SoundManager.addChannel(innerAudioContext);\r\n            this._soundCtx[file] = true;\r\n        }\r\n\r\n        let loadUrl = [\"res/Sounds/Bgm.mp3\"];\r\n        Laya.loader.load(loadUrl, Laya.Handler.create(this, () => {\r\n            this.playMusic(\"Bgm\");\r\n        }));\r\n\r\n        Laya.SoundManager.autoReleaseSound = false;\r\n    }\r\n\r\n    play(name) {\r\n        if (this._soundCtx[name]) {\r\n            // this._soundCtx[name].play();\r\n            Laya.SoundManager.playSound(this._pathRoot + name + \".mp3\");\r\n        }\r\n    }\r\n\r\n    popCD = 50;\r\n    isPop = true\r\n    playPopSound() {\r\n        if (this.isPop) {\r\n            this.play(SoundType.Select)\r\n            this.isPop = false;\r\n            Laya.timer.once(this.popCD, this, () => {\r\n                this.isPop = true\r\n            })\r\n        }\r\n    }\r\n\r\n    playLoop(name) {\r\n        if (this._soundCtx[name]) {\r\n            // this._soundCtx[name].play();\r\n            Laya.SoundManager.playSound(this._pathRoot + name + \".mp3\", 0);\r\n        }\r\n    }\r\n\r\n    stop(name) {\r\n        if (this._soundCtx[name]) {\r\n            // this._soundCtx[name].stop();\r\n            Laya.SoundManager.stopSound(this._pathRoot + name + \".mp3\");\r\n        }\r\n    }\r\n\r\n    currentMusic: string;\r\n    playMusic(name?) {\r\n        // if (name == this.currentMusic) return;\r\n        // if (LayaSample.storageMgr.isPlaySound()) {\r\n        Laya.SoundManager.stopMusic();\r\n\r\n        if (name) {\r\n            Laya.SoundManager.playMusic(this._pathRoot + name + \".mp3\", 0);\r\n            this.currentMusic = name;\r\n        }\r\n        else {\r\n            Laya.SoundManager.playMusic(this._pathRoot + this.currentMusic + \".mp3\", 0);\r\n        }\r\n        // }\r\n    }\r\n\r\n    stopMusic() {\r\n        Laya.SoundManager.stopMusic();\r\n    }\r\n}","import Tools from \"./Tools\";\r\n\r\nexport default class camShake {\r\n\r\n    vibrateShort(cam: Laya.Sprite3D): void {\r\n        Tools.objectShake(cam, Laya.timer.delta/1000, 0.1);\r\n    }\r\n}","import TimeScene from \"../../JJExport/TimeScene\";\r\nimport Tools from \"../mods/Tools\";\r\nimport Data from \"../tools/Data\";\r\nimport StageController from \"./StageController\";\r\n\r\nexport default class FxController {\r\n\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    chestLight: Laya.Sprite3D;\r\n    fireWorkBoom: Laya.Sprite3D;\r\n    fireWorkAlawys: Laya.Sprite3D;\r\n    fireWokrRain: Laya.Sprite3D;\r\n    moveSmokeFx: Laya.Sprite3D;\r\n    finishFx: Laya.Sprite3D;\r\n    PopFx: Laya.Sprite3D;\r\n    MoveFx: Laya.Sprite3D;\r\n\r\n    fxs = []\r\n    smokeFx: Laya.Sprite3D;\r\n    rubbishPos: Laya.Vector3;\r\n    fireWork = [];\r\n\r\n    init() {\r\n        this.chestLight = Data.fxs.getChildByName(\"ChestLightFX\") as Laya.Sprite3D;\r\n        this.fireWorkBoom = Data.fxs.getChildByName(\"FireworkFX\") as Laya.Sprite3D;\r\n        this.fireWorkAlawys = Data.fxs.getChildByName(\"ConfettiSplashFX\") as Laya.Sprite3D;\r\n        this.fireWokrRain = Data.fxs.getChildByName(\"ConfettiRainFX\") as Laya.Sprite3D;\r\n        this.moveSmokeFx = Data.fxs.getChildByName(\"MoveSmokeFX\") as Laya.Sprite3D;\r\n        this.finishFx = Data.fxs.getChildByName(\"FinishFX\") as Laya.Sprite3D;\r\n        this.PopFx = Data.fxs.getChildByName(\"PopFX\") as Laya.Sprite3D;\r\n        this.MoveFx = Data.fxs.getChildByName(\"MoveFX\") as Laya.Sprite3D;\r\n    }\r\n    cleanFxs() {\r\n        for (let i = 0; i < this.fxs.length; i++) {\r\n            this.fxs[i].destroy();\r\n        }\r\n    }\r\n    BornFireWorksAlways(pos) {\r\n        this.fireWork.push(this.BornFx(pos, this.fireWorkAlawys));\r\n    }\r\n    clearFireWork() {\r\n        for (let i = 0; i < this.fireWork.length; i++) {\r\n            this.fireWork[i].destroy();\r\n        }\r\n    }\r\n    BornChestAllFx(chestPos) {\r\n        this.BornFx(Tools.Vector3Add(chestPos, new Laya.Vector3(0, 1, 6.5)), this.chestLight)\r\n\r\n        // this.BornFx(Tools.Vector3Add(chestPos, new Laya.Vector3(0, 2, 6)), this.fireWorkBoom)\r\n        // this.BornFx(Tools.Vector3Add(chestPos, new Laya.Vector3(0, 3, 10)), this.fireWokrRain)\r\n    }\r\n    BornMoveSmokeFx() {\r\n        if (this.smokeFx)\r\n            return;\r\n        let obj = this.BornFxOnly(Data.player.transform.position.clone(), this.moveSmokeFx) as Laya.Sprite3D\r\n        Data.player.addChild(obj);\r\n        obj.transform.localPosition = new Laya.Vector3(0, -1000, 0);\r\n        this.smokeFx = obj\r\n    }\r\n    BornFinishFx() {\r\n        let pos = Data.mainCam.transform.position.clone();\r\n        pos.y = 0;\r\n        pos.z += 1;\r\n        this.finishFx.transform.position = pos;\r\n        let fx = this.finishFx.getChildAt(0) as Laya.ShuriKenParticle3D;\r\n        fx.particleSystem.play();\r\n    }\r\n\r\n    PopFxs = [];\r\n    BornPopFx(pos) {\r\n        let fx;\r\n        if (this.PopFxs.length > 0) {\r\n            fx = this.PopFxs.pop();\r\n            fx.transform.position = pos;\r\n            fx.active = true;\r\n        } else {\r\n            let obj = this.PopFx.clone() as Laya.Sprite3D;\r\n            Data.scene3D.addChild(obj);\r\n            obj.transform.position = pos;\r\n            fx = obj;\r\n        }\r\n        let sys = fx.getChildAt(0) as Laya.ShuriKenParticle3D;\r\n        sys.particleSystem.startColorConstant = StageController.stageColor[2].albedoColor;\r\n        Laya.timer.once(1000, this, () => {\r\n            fx.active = false;\r\n            this.PopFxs.push(fx);\r\n        })\r\n    }\r\n    MoveFxs = [];\r\n    BornMoveFx(pos) {\r\n        let fx;\r\n        if (this.MoveFxs.length > 0) {\r\n            fx = this.MoveFxs.pop();\r\n            fx.transform.position = pos;\r\n            fx.active = true;\r\n        } else {\r\n            let obj = this.MoveFx.clone() as Laya.Sprite3D;\r\n            Data.scene3D.addChild(obj);\r\n            obj.transform.position = pos;\r\n            fx = obj;\r\n        }\r\n        let sys = fx.getChildAt(0) as Laya.ShuriKenParticle3D;\r\n        sys.particleSystem.startColorConstant = StageController.stageColor[2].albedoColor;\r\n        Laya.timer.once(1000, this, () => {\r\n            fx.active = false;\r\n            this.MoveFxs.push(fx);\r\n        })\r\n    }\r\n\r\n\r\n    BornFx(pos, prefab) {\r\n        let obj = prefab.clone();\r\n        Data.scene3D.addChild(obj);\r\n        obj.transform.position = pos;\r\n        this.fxs.push(obj);\r\n        return obj;\r\n    }\r\n    BornFxOnly(pos, prefab) {\r\n        let obj = prefab.clone();\r\n        Data.scene3D.addChild(obj);\r\n        obj.transform.position = pos;\r\n        return obj;\r\n    }\r\n\r\n}","import ColliderController from \"./stage/ColliderController\";\r\nimport Data, { SceneUrl } from \"./tools/Data\";\r\nimport Tools from \"./mods/Tools\";\r\nimport PlayerData from \"./mods/PlayerData\";\r\nimport Context from \"../JJExport/Context\";\r\nimport BaseUI from \"./mods/BaseUI\";\r\nimport ExportAndAdControl from \"../JJExport/ExportAndAdControl\";\r\nimport SoundManager from \"../JJExport/managers/SoundManager\";\r\nimport camShake from \"./mods/camShake\";\r\nimport FxController from \"./stage/FxController\";\r\nimport StageController from \"./stage/StageController\";\r\n\r\n\r\nexport default class Loading extends BaseUI {\r\n    //素材加载完信息\r\n    SceneDone: boolean = false;\r\n    FxDone: boolean = true;\r\n    bar: Laya.ProgressBar;\r\n    head: Laya.Image;\r\n\r\n    //第一，加分包\r\n    init() {\r\n        this.initLoading();\r\n        this.updateLoading(0);\r\n        if (Laya.Browser.onWeiXin) {\r\n            // let cb = () => {\r\n            //     //加载分包\r\n            //     let names = [\"res\"];\r\n            //     Context.Utils.loadSubpackagesSync(names, this, (caller, isSuccess) => {\r\n            //         if (isSuccess) {\r\n            //             caller.init1();\r\n            //             Context.CommonData.laodSubpackageFinish = true;\r\n            //         } else {\r\n            //             cb();\r\n            //         }\r\n            //     });\r\n            // }\r\n            this.init1();\r\n            // cb();\r\n        } else {\r\n            // PlayerData.clearPlayerData();\r\n            this.init1();\r\n        }\r\n    }\r\n    //第二，加配置\r\n    init1() {\r\n        this.updateLoading(0.25)\r\n        let isPure = Data.isPure;\r\n        //读存档\r\n        // PlayerData.clearPlayerData();\r\n        let data = PlayerData.GetPlayerData();\r\n        PlayerData.CheckPlayerData();\r\n        //console.log(\"玩家存档信息：\", data);\r\n\r\n        // if (isPure) {\r\n        this.initGame();\r\n        //     return;\r\n        // }\r\n        // //读导出配置表\r\n        // Laya.Browser.window.JJGetGameConfigAdShare().then((res) => {\r\n        //     //console.log(\"获取游戏配置：\", res.data.config);\r\n        //     JJMgr.instance.updateDataConfig(res.data.config);\r\n        //     Context.Platform.bannerCount = JJMgr.instance.showBannerCount;\r\n\r\n        //     //console.log(\"获取导出配置：\", res.data.ad);\r\n        //     JJMgr.instance.updateNavData(res.data.ad);\r\n\r\n        //     //console.log(\"获取分享配置：\", res.data.share);\r\n        //     var shareConfig = res.data.share[0];\r\n        //     if (shareConfig) {\r\n        //         JJMgr.instance.shareContext = { title: shareConfig.share_content, imageUrl: shareConfig.share_img, id: shareConfig.id }\r\n        //     }\r\n        //     JJMgr.instance.isFinished = JJMgr.instance.dataConfig.front_all_export_switch;\r\n        ExportAndAdControl.init();\r\n        //     this.initGame();\r\n        //     Tools.loadScene(\"JJExport/TimeScene.scene\", 999);\r\n        // });\r\n    }\r\n    //第三，加载场景\r\n    initGame() {\r\n        this.updateLoading(0.5)\r\n        //console.log(\"加载声音\")\r\n        Data.soundController = new SoundManager();\r\n        Data.camShake = new camShake();\r\n        //console.log('进入Loading界面')\r\n        //console.log(\"开始加载场景\")\r\n        let sceneName = 'main'\r\n        let url = 'res/' + sceneName + \"/Conventional/\" + sceneName + '.ls'\r\n        // let purl = 'res/' + sceneName + \"/Conventional/\" + sceneName + '.lh'\r\n        Laya.Scene3D.load(url, Laya.Handler.create(this, this.onComplete))\r\n        // Laya.Sprite3D.load(purl, Laya.Handler.create(this, this.onFxComplete))\r\n\r\n    }\r\n    //第四，正式进入游戏\r\n    StartGame() {\r\n        if (this.SceneDone && this.FxDone) {\r\n            this.updateLoading(1);\r\n            // Laya.timer.clear(this, this.checkLoad);\r\n            let cb = () => {\r\n                //console.log(\"打开游戏场景\")\r\n                Laya.stage.addChild(Data.scene3D);\r\n                //console.log(\"初始化场景信息\")\r\n                this.SceneInit();\r\n                StageController.Init();\r\n                if (Data.isPure) {\r\n                    Laya.Scene.destroy(SceneUrl.LOADING)\r\n                    Tools.loadScene(SceneUrl.STARTMENU, 0);\r\n                }\r\n                else {\r\n                    ExportAndAdControl.FirstIn(() => {\r\n                        Laya.Scene.destroy(SceneUrl.LOADING)\r\n                        Tools.loadScene(SceneUrl.STARTMENU, 0);\r\n                    })\r\n                }\r\n            }\r\n            setTimeout(() => {\r\n                cb();\r\n            }, 500);\r\n        }\r\n    }\r\n\r\n    //场景初始化\r\n    SceneInit() {\r\n        // Laya.Stat.show();\r\n        //全局变量\r\n        Data.player = Data.scene3D.getChildByName(\"Player\") as Laya.Sprite3D;\r\n        Data.mainCam = Data.scene3D.getChildByName(\"Main Camera\") as Laya.Camera;\r\n        Data.anim = Data.player.getChildByName(\"Model\").getComponent(Laya.Animator);\r\n        Data.collider = new ColliderController();\r\n        Data.fxController = new FxController();\r\n        let scene = Data.scene3D\r\n        //阴影\r\n        let light: Laya.DirectionLight = scene.getChildByName(\"Directional Light\") as Laya.DirectionLight;\r\n        light.shadowMode = Laya.ShadowMode.SoftLow;\r\n        light.shadowDistance = 50;\r\n        light.shadowResolution = 1024;\r\n        light.shadowCascadesMode = Laya.ShadowCascadesMode.NoCascades;\r\n        //水波纹动画\r\n        // Laya.timer.frameLoop(1, Data.scene3D, () => {\r\n        //     let water = Data.scene3D.getChildByName(\"Water\") as Laya.MeshSprite3D;\r\n        //     for (let i = 0; i < water.numChildren; i++) {\r\n        //         let model = water.getChildAt(i) as Laya.MeshSprite3D;\r\n        //         var mat: any = model.meshRenderer.material;\r\n        //         mat.tilingOffsetW += 0.002;\r\n        //         mat.tilingOffsetZ += 0.002;\r\n        //     }\r\n        // })\r\n        //抗锯齿\r\n        Data.mainCam.enableHDR = false;\r\n        Laya.stage.useRetinalCanvas = true;\r\n        //场景雾\r\n        // scene.enableFog = true;\r\n        // scene.fogColor = new Laya.Vector3(0.8, 0.8, 0.8); //00FFD6\r\n        // scene.fogStart = 50;\r\n        // scene.fogRange = 100;\r\n\r\n    }\r\n    //更新loading显示\r\n    isLoading = true;\r\n    tween;\r\n    initLoading() {\r\n        // this.head.rotation = -10;\r\n        // let cb1 = () => {\r\n        //     this.tween = Laya.Tween.to(this.head, { rotation: 10 }, 500, null, Laya.Handler.create(this, () => {\r\n        //         cb2();\r\n        //     }))\r\n        // }\r\n        // let cb2 = () => {\r\n        //     this.tween = Laya.Tween.to(this.head, { rotation: -10 }, 500, null, Laya.Handler.create(this, () => {\r\n        //         cb1();\r\n        //     }))\r\n        // }\r\n        // cb1();\r\n    }\r\n    updateLoading(axis) {\r\n        this.bar.value = axis;\r\n        // this.head.left = -50 + 500 * axis;\r\n    }\r\n    exitLoading() {\r\n        Laya.Tween.clearTween(this.tween);\r\n        this.isLoading = false;\r\n    }\r\n\r\n    //加载完回调\r\n    private onComplete(scene: Laya.Scene3D): void {\r\n        this.updateLoading(0.75);\r\n        Data.scene3D = scene;\r\n        Data.prefabs = Data.scene3D.getChildByName(\"Prefabs\") as Laya.Sprite3D;\r\n        Data.fxs = scene.getChildByName(\"Fx\") as Laya.Sprite3D;\r\n        this.SceneDone = true;\r\n        //console.log(\"场景加载完成\");\r\n        this.StartGame();\r\n    }\r\n    private onFxComplete(prefabs: Laya.Sprite3D): void {\r\n        this.updateLoading(0.75);\r\n        Data.fxs = prefabs.getChildByName(\"Fx\") as Laya.Sprite3D;\r\n        this.FxDone = true;\r\n        //console.log(\"额外道具加载完成\")\r\n        this.StartGame();\r\n    }\r\n}","import PlatformManager from \"../JJExport/managers/PlatformManager\";\r\nimport { ModelAnimClips } from \"./stage/ModelAnimController\";\r\nimport camShake from \"./mods/camShake\";\r\nimport Tools from \"./mods/Tools\";\r\nimport Stage from \"./Stage\";\r\nimport Data from \"./tools/Data\";\r\n\r\nexport default class StageUpdate extends Laya.Script {\r\n\r\n    onUpdate() {\r\n        if (Stage.instance.isStart) {\r\n\r\n        }\r\n    }\r\n}","import Stage from \"../Stage\";\r\nimport Tools from \"./Tools\";\r\n\r\nexport default class TouchWayCheck extends Laya.Script {\r\n\r\n\r\n    onAwake() {\r\n        this.init();\r\n    }\r\n    init() {\r\n        Laya.timer.frameLoop(1, this, this.update);\r\n    }\r\n    update() {\r\n    }\r\n    startPos;\r\n    nowPos;\r\n    touchTimer;\r\n    isDown;\r\n    calls = [];\r\n    onMouseDown(e) {\r\n        if (this.touchTimer) {\r\n            clearTimeout(this.touchTimer);\r\n        }\r\n        this.isDown = true\r\n        this.startPos = new Laya.Vector2(e.stageX, e.stageY);\r\n        this.nowPos = this.startPos;\r\n        // this.touchTimer = setTimeout(() => {\r\n        //     this.isDown = false;\r\n        // }, 1000);\r\n    }\r\n    onMouseMove(e) {\r\n        if (this.isDown) {\r\n            this.nowPos = new Laya.Vector2(e.stageX, e.stageY);\r\n            this.WayCheck();\r\n        }\r\n    }\r\n    onMouseUp(e) {\r\n        this.isDown = false;\r\n    }\r\n    WayCheck() {\r\n        let dir = Tools.Vector2Reduce(this.nowPos, this.startPos);\r\n        let scale = Tools.Vector2Scale(dir);\r\n        if (scale > 5) {\r\n            let angle = Math.atan2(dir.y, dir.x) / Math.PI * 180;\r\n            let call = \"none\"\r\n            if (angle > -135 && angle < -45) {\r\n                call = \"up\"\r\n            } else if (angle > -45 && angle < 45) {\r\n                call = \"right\"\r\n            } else if (angle < 135 && angle > 45) {\r\n                call = \"down\"\r\n            } else if (angle < -135 || angle > 135) {\r\n                call = \"left\"\r\n            }\r\n            if (call != \"none\") {\r\n                if (this.calls.length < 2) {\r\n                    this.calls.push(call);\r\n                } else {\r\n                    if (Stage.instance.isCalling) {\r\n                        this.calls[1] = call;\r\n                    } else {\r\n                        this.calls[1] = this.calls[0]\r\n                        this.calls[0] = call;\r\n                    }\r\n                }\r\n                Stage.instance.callUpdate();\r\n                // console.log(this.calls,this.calls[this.calls.length-1]);\r\n            }\r\n          \r\n        }\r\n        this.startPos = this.nowPos;\r\n    }\r\n    onDestroy() {\r\n        if (this.touchTimer) {\r\n            clearTimeout(this.touchTimer);\r\n        }\r\n    }\r\n}","import Context from \"../Context\";\r\n\r\nimport JJMgr from \"../../JJExport/Common/JJMgr\";\r\n\r\nexport default class UiManager {\r\n    /**所有ui场景 */\r\n    private scenes: Laya.Scene[];\r\n    /**最顶层场景 */\r\n    private topScene: Laya.Scene;\r\n\r\n    forceHide: boolean = false;\r\n\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    /**初始化场景 */\r\n    init() {\r\n        this.scenes = [];\r\n    }\r\n\r\n    /**获取顶层场景 */\r\n    get getTopScene() {\r\n        return this.topScene;\r\n    }\r\n\r\n    /**\r\n     * 打开场景\r\n     * @param url 地址\r\n     * @param closeOther 是否关闭其他界面\r\n     * @param param 参数\r\n     * @param parent 父节点\r\n     * @param callBack 回调函数\r\n     */\r\n    openScene(url: string, closeOther: boolean = false, param?: any, parent?: Laya.Node, callBack?: Function) {\r\n        Laya.Scene.open(url, closeOther, param, Laya.Handler.create(this, s => {\r\n            let scene = this.scenes.filter((w) => { return w.url == url });\r\n            if (scene && scene.length > 0) {\r\n                console.log(\"已打开此场景\", scene);\r\n                scene[0].close();\r\n            }\r\n            else {\r\n                if (parent) {\r\n                    parent.addChild(s);\r\n                }\r\n                else {\r\n                    Laya.stage.addChild(s);\r\n                }\r\n\r\n                this.scenes.push(s);\r\n                this.topScene = this.scenes[this.scenes.length - 1];\r\n\r\n                if (callBack) {\r\n                    callBack(s);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n\r\n    // /**关闭场景 */\r\n    // closeScene(scene?) {\r\n    //     if (scene && scene instanceof Laya.Scene) {\r\n    //         this.scenes.splice(this.scenes.indexOf(scene), 1);\r\n    //         scene.close();\r\n    //         this.topScene = this.scenes[this.scenes.length - 1];\r\n    //     }\r\n    //     else if (this.topScene) {\r\n    //         this.scenes.splice(this.scenes.indexOf(this.topScene), 1);\r\n    //         this.topScene.close();\r\n    //         this.topScene = this.scenes[this.scenes.length - 1];\r\n    //     }\r\n    //     else{\r\n\r\n    //     }\r\n    // }\r\n\r\n    /**关闭场景 */\r\n    closeScene(scene?) {\r\n        if (scene) {\r\n            if (typeof scene === 'string') {\r\n                this.scenes.forEach(sceneItem => {\r\n                    if (sceneItem.url == scene) {\r\n                        scene = sceneItem;\r\n                        return;\r\n                    }\r\n                });\r\n            }\r\n            // var index = this.scenes.indexOf(scene);\r\n        }\r\n        else if (this.topScene != null) {\r\n            scene = this.topScene;\r\n        }\r\n\r\n        if (scene && scene instanceof Laya.Scene) {\r\n            var index = this.scenes.indexOf(scene);\r\n            if (index != -1) {\r\n                this.scenes.splice(index, 1);\r\n                this.topScene = this.scenes[this.scenes.length - 1];\r\n            }\r\n            scene.close();\r\n            Context.Platform.hideBanner();\r\n            // if (scene.url == SceneType.Loading || scene.url == SceneType.Settlement || scene.url == SceneType.Reborn) return;\r\n            Laya.timer.once(100, this, () => {\r\n                var scene: any = this.topScene;\r\n                if (scene.canShowAd && !scene.isWuchu && JJMgr.instance.openSceneCount == 0) {\r\n                    Context.Platform.showBanner();\r\n                    console.log(\"UIMgr ShowBanner\", scene.url);\r\n                    // if(scene.url == SceneType.Home && scene.canShowBanner){\r\n                    //     if(scene.canShowBanner){\r\n                    //         Context.Platform.showBanner();\r\n                    //         console.log(\"UIMgr ShowBanner\", scene.url);\r\n                    //     }\r\n                    //     else{\r\n                    //         Context.Platform.hideBanner();\r\n                    //         console.log(\"UIMgr HideBanner\", scene.url);\r\n                    //     }\r\n                    // }\r\n                    // else{\r\n                    //     Context.Platform.showBanner();\r\n                    //     console.log(\"UIMgr ShowBanner\", scene.url);\r\n                    // }\r\n                }\r\n                // else {\r\n                //     Context.Platform.hideBanner();\r\n                //     console.log(\"UIMgr HideBanner\", scene.url);\r\n                // }\r\n            })\r\n        }\r\n\r\n        // if (scene) {\r\n        //     var index = this.scenes.indexOf(scene);\r\n        //     if (index != -1) {\r\n        //         this.scenes.splice(index, 1);\r\n        //         this.topScene = this.scenes[this.scenes.length - 1];\r\n        //     }\r\n        //     scene.close();\r\n\r\n        //     Laya.timer.once(100, this, () => {\r\n        //         var scene: any = this.topScene;\r\n        //         if (scene.canShowAd) {\r\n        //             Context.Platform.showBanner();\r\n        //         }\r\n        //         else {\r\n        //             Context.Platform.hideBanner();\r\n        //         }\r\n        //     })\r\n        // }\r\n    }\r\n}","/**全局变量 */\r\nexport default class CommonData {\r\n    /**游戏appId */\r\n    appId: string = \"wxa49498a30cf837f6\";\r\n    /**游戏版本 */\r\n    gameVersion: string = \"1.0.4\";\r\n    /**游戏类型 */\r\n    gameType: string = \"3D\";\r\n\r\n    /**场景资源路径 */\r\n    sceneResUrl: string = \"res/scene/Conventional/ResScene.ls\";\r\n    /**预设资源路径 */\r\n    modelResUrl: string = \"res/model/Conventional/ResScene.lh\";\r\n\r\n    /**游戏主场景-3D */\r\n    mainScene: Laya.Scene3D;\r\n\r\n    /**游戏主摄像机 */\r\n    mainCamera: Laya.Camera;\r\n\r\n    skinCamera: Laya.Camera;\r\n\r\n    /**复活次数 */\r\n    rebornCount: number = 0;\r\n\r\n    /**游戏次数 */\r\n    playCount: number = 0;\r\n\r\n    /**随机分享失败文案 */\r\n    get shareContext(): string {\r\n        let str = [\r\n            '请分享到活跃的群！',\r\n            '请分享到不同群！',\r\n            '请分享给好友！',\r\n            '请分享给20人以上的群！'\r\n        ]\r\n\r\n        let index = Math.floor(Math.random() * 4);\r\n        return str[index];\r\n    }\r\n\r\n    laodSubpackageFinish: boolean;\r\n    loadFinished: boolean;\r\n\r\n    /****************************** 业务全局变量 ******************************/\r\n    isReborn: boolean;\r\n}","export default class MyVector3 {\r\n    static add(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.add(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static subtract(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.subtract(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static mull(v1, multipy) {\r\n        var v = new Laya.Vector3;\r\n        Laya.Vector3.scale(v1, multipy, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static dot(v1, v2): number {\r\n        return Laya.Vector3.dot(v1, v2);\r\n    }\r\n\r\n    static cross(v1, v2): Laya.Vector3 {\r\n        var v = new Laya.Vector3\r\n        Laya.Vector3.cross(v1, v2, v);\r\n        return v.clone();\r\n    }\r\n\r\n    static normalized(v): Laya.Vector3 {\r\n        var vTmp = new Laya.Vector3\r\n        Laya.Vector3.normalize(v, vTmp);\r\n        return vTmp.clone();\r\n    }\r\n\r\n    static distance(v1, v2): number{\r\n        var vT = MyVector3.subtract(v1,v2);\r\n        var dis = Laya.Vector3.scalarLength(vT);\r\n        return dis\r\n    }\r\n}","import MyVector3 from \"../plugins/MyVector3\";\r\nimport Context from \"../Context\";\r\nimport { SoundType } from \"../enums/EnumType\";\r\nimport EventType from \"./EventType\";\r\nimport JJMgr from \"../../JJExport/Common/JJMgr\";\r\n\r\nexport default class UtilsFunction {\r\n    /**\r\n     * 按钮事件\r\n     * @param btn 按钮\r\n     * @param caller 事件对象\r\n     * @param callBack 回调函数\r\n     * @param isScale 是否缩放\r\n     */\r\n    addClickEvent(btn: Laya.Sprite, caller: any, callBack: Function, param?: any[], isScale?: boolean) {\r\n        btn.offAllCaller(caller);\r\n\r\n        if (btn instanceof Laya.Button && !isScale) {\r\n            let callback = (event) => {\r\n                // event.stopPropagation();\r\n                if (callBack) callBack.call(caller, event);\r\n                //TODON 添加按钮声\r\n            }\r\n            btn.on(Laya.Event.CLICK, caller, callback, [param]);\r\n        }\r\n        else {\r\n            let scaleTime = 60;\r\n            let wRatio = 1;\r\n            let scaleX = btn.scaleX * wRatio;\r\n            let scaleY = btn.scaleY * wRatio;\r\n            let size = 0.9 * wRatio;\r\n\r\n            let isPressed = false;\r\n            let cbDown = (event) => {\r\n                isPressed = true;\r\n                // event.stopPropagation();\r\n                Laya.Tween.to(btn, { scaleX: size, scaleY: size }, scaleTime);\r\n            }\r\n            btn.on(Laya.Event.MOUSE_DOWN, caller, cbDown, [param]);\r\n\r\n            let cbUp = (event) => {\r\n                if (isPressed == false) return;\r\n                isPressed = false;\r\n                // event.stopPropagation();\r\n                Laya.Tween.to(btn, { scaleX: scaleX, scaleY: scaleY }, scaleTime);\r\n                if (callBack) callBack.call(caller, event);\r\n                //TODON 添加按钮声\r\n\r\n            }\r\n            btn.on(Laya.Event.MOUSE_UP, caller, cbUp, [param]);\r\n\r\n            let cbOut = (event) => {\r\n                // event.stopPropagation();\r\n                Laya.Tween.to(btn, { scaleX: scaleX, scaleY: scaleY }, scaleTime);\r\n            }\r\n            btn.on(Laya.Event.MOUSE_OUT, caller, cbOut, [param]);\r\n        }\r\n    }\r\n\r\n    getRGB(_hexColor) {\r\n        var color = [], rgb = [];\r\n        let hexColor = _hexColor.replace(/#/, \"\");\r\n        if (hexColor.length == 3) { // 处理 \"#abc\" 成 \"#aabbcc\"\r\n            var tmp = [];\r\n            for (var i = 0; i < 3; i++) {\r\n                tmp.push(hexColor.charAt(i) + hexColor.charAt(i));\r\n            }\r\n            hexColor = tmp.join(\"\");\r\n        }\r\n\r\n        for (var i = 0; i < 3; i++) {\r\n            color[i] = \"0x\" + hexColor.substr(i * 2, 2);\r\n            // rgb.push(parseInt(Number(color[i])));\r\n            rgb.push(parseInt(color[i]));\r\n        }\r\n        return new Laya.Vector3(rgb[0] / 255, rgb[1] / 255, rgb[2] / 255);\r\n    }\r\n\r\n    getColorString(num) {\r\n        var str1 = num & 15;\r\n        var str2 = (str1 > 9) ? this.getHexValue(Number(str1)) + \"\" : str1 + \"\";\r\n        var str3 = num >>> 4;\r\n        str1 = str3 & 15;\r\n        var str4 = (str1 > 9) ? this.getHexValue(Number(str1)) + \"\" : str1 + \"\";\r\n\r\n        return str4 + str2;\r\n    }\r\n\r\n    getHexValue(num) {\r\n        switch (num) {\r\n            case 10: return 'A';\r\n            case 11: return 'B';\r\n            case 12: return 'C';\r\n            case 13: return 'D';\r\n            case 14: return 'E';\r\n            case 15: return 'F';\r\n        }\r\n    }\r\n\r\n    /**获取当前时间 时间戳s*/\r\n    getCurrentTime(): number {\r\n        return Math.floor(Date.parse((new Date()).toString()) / 1000);\r\n    }\r\n\r\n    /**反向插值 */\r\n    inverseLerp(a, b, v) {\r\n        return (v - a) / (b - a);\r\n    }\r\n\r\n    /**线性方程 */\r\n    linearEquation(point1: Laya.Point, point2: Laya.Point) {\r\n        var k = (point1.y - point2.y) / (point1.x - point1.y);\r\n        var b = point1.y - k * point1.x;\r\n\r\n        return [k, b];\r\n    }\r\n\r\n    /**读取Json文件 */\r\n    loadJsonFile(path: string, callBack: Function) {\r\n        Laya.loader.load(path, Laya.Handler.create(this, (json) => {\r\n            var data = Laya.loader.getRes(path);\r\n            callBack(data);\r\n        }), null, Laya.Loader.JSON);\r\n    }\r\n\r\n    /**\r\n     * 获取随机数组\r\n     * @param array 数组 \r\n     * @param amount 成员数量\r\n     */\r\n    getRandomArray(array: any[], amount: number): any[] {\r\n        var arrayTmp: any[] = [];\r\n\r\n        var newArray = [];\r\n        newArray = newArray.concat(array);\r\n        newArray = newArray.sort(function () { return 0.5 - Math.random() })\r\n        for (var i = 0; i < amount; i++) {\r\n            arrayTmp.push(newArray[i]);\r\n        }\r\n\r\n        return arrayTmp;\r\n    }\r\n\r\n    /**分包加载 */\r\n    loadSubpackage(loadName, caller, callback) {\r\n        if (Laya.Browser.onWeiXin) {\r\n            let loadTask = wx[\"loadSubpackage\"]({\r\n                name: loadName,\r\n                success: function (res) {\r\n                    console.log(\"分包加载成功：\", loadName);\r\n                    callback.call(res, caller, true);\r\n                },\r\n                fail: function (res) {\r\n                    console.error(\"分包加载失败：\", loadName);\r\n                    callback.call(res, caller, false);\r\n                }\r\n            })\r\n\r\n            loadTask.onProgressUpdate(res => {\r\n                console.log(res, \"分包================\");\r\n            });\r\n        }\r\n    }\r\n\r\n    /**同步加载多个分包 */\r\n    loadSubpackagesSync(loadNames: string[], caller, callback) {\r\n        var loadCount = loadNames.length;\r\n        for (var i = 0; i < loadCount; i++) {\r\n            this.loadSubpackage(loadNames[i], caller, (target, isSuccess) => {\r\n                if (isSuccess) {\r\n                    loadCount--;\r\n                    if (loadCount == 0) {\r\n                        console.log(\"全部分包加载完成\");\r\n                        callback.call(this, caller, true);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**分包加载 */\r\n    loadSubpackages(loadNames: string[], caller, callback) {\r\n        var packageCount = loadNames.length;\r\n        function loadSubpackage() {\r\n            var name = loadNames[packageCount - 1];\r\n            if (name != null) {\r\n                Context.Utils.loadSubpackage(name, caller, (target, isSuccess) => {\r\n                    if (isSuccess) {\r\n                        packageCount--;\r\n                        loadSubpackage();\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                console.log(\"全部分包加载完成\");\r\n                if (packageCount == 0) {\r\n                    callback.call(this, caller, true);\r\n                }\r\n                else {\r\n                    callback.call(this, caller, false);\r\n                }\r\n            }\r\n        }\r\n\r\n        loadSubpackage();\r\n    }\r\n\r\n    /**秒转分:秒 */\r\n    public getTimeLeft2BySecond(s: number): string {\r\n        let minutes = Math.round((s - 30) / 60) % 60;\r\n        let seconds = s % 60;\r\n\r\n        var minStr = minutes > 9 ? minutes + \":\" : \"0\" + minutes + \":\";\r\n        var secStr = seconds > 9 ? seconds + \"\" : \"0\" + seconds;\r\n        return (minutes > 0 ? minStr : \"00:\") + (seconds > 0 ? (secStr + \"\") : \"00\");\r\n    }\r\n\r\n    /**物体抖动 */\r\n    objectShake(target: Laya.Sprite3D, shakeTime: number = 1, shakeAmount: number = 0.7) {\r\n        var shake = shakeTime;\r\n        var decreaseFactor = 1;\r\n        var originalPos = target.transform.localPosition.clone();\r\n\r\n        Laya.timer.frameLoop(1, this, updateShake);\r\n\r\n        function randomPos(): Laya.Vector3 {\r\n            var x = Math.random() > 0.5 ? Math.random() : -(Math.random());\r\n            var y = Math.random() > 0.5 ? Math.random() : -(Math.random());\r\n            return new Laya.Vector3(x, y, 0);\r\n        }\r\n\r\n        function updateShake() {\r\n            if (shake > 0) {\r\n                var pos = new Laya.Vector3();\r\n                Laya.Vector3.scale(randomPos(), shakeAmount, pos);\r\n                Laya.Vector3.add(originalPos, pos, pos);\r\n                target.transform.localPosition = pos;\r\n\r\n                shake -= 0.02 * decreaseFactor;\r\n            }\r\n            else {\r\n                shake = 0;\r\n                target.transform.localPosition = originalPos;\r\n                Laya.timer.clear(this, updateShake);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**2D物体抖动 */\r\n    originPos: Laya.Vector2;\r\n    shakeTime: number\r\n    objectShake2D(target: Laya.Sprite, shakeTime: number = 1, shakeAmount: number = 0.7) {\r\n        if (this.originPos) {\r\n            Laya.timer.clear(this, this.updateShake);\r\n            target.pos(this.originPos.x, this.originPos.y);\r\n        }\r\n\r\n        this.shakeTime = shakeTime;\r\n        var decreaseFactor = 1;\r\n        this.originPos = new Laya.Vector2(target.x, target.y);\r\n\r\n        Laya.timer.frameLoop(1, this, this.updateShake, [shakeAmount, target, decreaseFactor]);\r\n    }\r\n\r\n    randomPos(): Laya.Vector2 {\r\n        var x = Math.random() > 0.5 ? Math.random() : -(Math.random());\r\n        var y = Math.random() > 0.5 ? Math.random() : -(Math.random());\r\n        return new Laya.Vector2(x, y);\r\n    }\r\n\r\n    updateShake(shakeAmount, target, decreaseFactor) {\r\n        if (this.shakeTime > 0) {\r\n            var pos = new Laya.Vector2();\r\n            Laya.Vector2.scale(this.randomPos(), shakeAmount, pos);\r\n            pos.setValue(pos.x + this.originPos.x, pos.y + this.originPos.y);\r\n            target.pos(pos.x, pos.y)\r\n\r\n            this.shakeTime -= 0.02 * decreaseFactor;\r\n        }\r\n        else {\r\n            this.shakeTime = 0;\r\n            target.pos(this.originPos.x, this.originPos.y);\r\n            Laya.timer.clear(this, this.updateShake);\r\n            this.originPos = null;\r\n        }\r\n    }\r\n\r\n\r\n    /**************************** 业务 *************************/\r\n    /**是否在同一侧 */\r\n    sameSide(vA: MyVector3, vB: MyVector3, vC: MyVector3, vP: MyVector3): boolean {\r\n        var ab = MyVector3.subtract(vB, vA);\r\n        var ac = MyVector3.subtract(vC, vA);\r\n        var ap = MyVector3.subtract(vP, vA);\r\n\r\n        var v1 = MyVector3.cross(ab, ac);\r\n        var v2 = MyVector3.cross(ab, ap);\r\n\r\n        return MyVector3.dot(v1, v2) >= 0;\r\n    }\r\n\r\n    /**是否在三角区域内 */\r\n    pointInTriangle(vA: MyVector3, vB: MyVector3, vC: MyVector3, vP: MyVector3): boolean {\r\n        return this.sameSide(vA, vB, vC, vP) && this.sameSide(vB, vC, vA, vP) && this.sameSide(vC, vA, vB, vP);\r\n    }\r\n\r\n    /**\r\n     * 遍历rootNode的子节点，查找name匹配的节点\r\n     * @param rootNode 根节点\r\n     * @param name 需要查找的节点的name\r\n     */\r\n    findNodeByName(rootNode: Laya.Sprite3D, name: string): Laya.Sprite3D {\r\n        let targetNode: Laya.Sprite3D = null\r\n\r\n        let funC = (node: Laya.Sprite3D) => {\r\n            for (let i = 0; i < node.numChildren; i++) {\r\n                if (node.getChildAt(i).name == name) {\r\n                    targetNode = node.getChildAt(i) as Laya.Sprite3D\r\n                    return\r\n                } else {\r\n                    funC(node.getChildAt(i) as Laya.Sprite3D)\r\n                }\r\n            }\r\n        }\r\n\r\n        funC(rootNode)\r\n        return targetNode\r\n    }\r\n\r\n    coinCollectAnim(startPos, endPos, parent, amount = 15, callBack = null) {\r\n        var amountTmp = amount;\r\n        for (var i = 0; i < amount; i++) {\r\n            let coin = Laya.Pool.getItemByClass(\"coin\", Laya.Image);\r\n            coin.skin = \"ui/sy_jb_01.png\";\r\n            coin.x = startPos.x;\r\n            coin.y = startPos.y;\r\n\r\n            coin.scale(0.6, 0.6);\r\n            parent.addChild(coin);\r\n\r\n            let time = 300 + Math.random() * 100 - 50;\r\n            Laya.Tween.to(coin, { x: coin.x + Math.random() * 250 - 125, y: coin.y + Math.random() * 250 - 125 }, time);\r\n            Laya.timer.once(time + 50, this, function () {\r\n                Laya.Tween.to(coin, { x: endPos.x, y: endPos.y }, 400, null, new Laya.Handler(this, function () {\r\n                    parent.removeChild(coin);\r\n                    Laya.Pool.recover(\"coin\", coin);\r\n                    amountTmp--;\r\n                    if (amountTmp == 0 && callBack) callBack(parent);\r\n                }));\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 修复相机高度\r\n     * @param camera 相机\r\n     */\r\n    fixCameraField(camera) {\r\n        let staticDT: number = 1624 - 1334;\r\n        let curDT: number = Laya.stage.displayHeight - 1334 < 0 ? 0 : Laya.stage.displayHeight - 1334;\r\n        let per = curDT / staticDT * 10;\r\n        camera.fieldOfView += per;\r\n\r\n        // camera.orthographicVerticalSize += per;\r\n    }\r\n\r\n    changeMatColor(object, color: Laya.Vector4) {\r\n        if (object.meshRenderer) {\r\n            var mat = object.meshRenderer.sharedMaterial;\r\n            mat.albedoColor = color;\r\n        }\r\n    }\r\n\r\n    // hitTargets: any[] = [];\r\n    // hitShowOutlineMat(object: any, type) {\r\n    //     if (this.hitTargets.indexOf(object) != -1) {\r\n    //         return;\r\n    //     }\r\n\r\n    //     this.hitTargets.push(object);\r\n    //     // var customMaterial = new MultiplePassOutlineMaterial();\r\n    //     var customMaterial = Context.Level.hitMats.meshRenderer.materials[type].clone();\r\n\r\n    //     var time = 40; // 40\r\n    //     if (object) {\r\n    //         if (object.name == \"Body\" && object.skinnedMeshRenderer) {\r\n    //             var oldMat = object.skinnedMeshRenderer.material.clone();\r\n    //             object.skinnedMeshRenderer.material = customMaterial; //sharedMaterial\r\n\r\n    //             Laya.timer.once(time, this, () => {\r\n    //                 if (object && object.skinnedMeshRenderer && oldMat._shader) {\r\n    //                     object.skinnedMeshRenderer.material = oldMat;\r\n\r\n    //                     var index = this.hitTargets.indexOf(object);\r\n    //                     if (index != -1) this.hitTargets.splice(index, 1);\r\n    //                 }\r\n    //             });\r\n    //         }\r\n    //         else if (object.meshRenderer) {\r\n    //             var oldMat = object.meshRenderer.material.clone();\r\n    //             object.meshRenderer.material = customMaterial;\r\n\r\n    //             Laya.timer.once(time, this, () => {\r\n    //                 if (object && object.meshRenderer && oldMat._shader) {\r\n    //                     object.meshRenderer.material = oldMat;\r\n\r\n    //                     var index = this.hitTargets.indexOf(object);\r\n    //                     if (index != -1) this.hitTargets.splice(index, 1);\r\n    //                 }\r\n    //             });\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    /**3D转屏幕坐标 */\r\n    getSpritePosBySprite3DPoint(target): Laya.Point {\r\n        var pos = target.transform.position.clone();\r\n\r\n        //特殊处理\r\n        pos.y = target.name == \"Npc1\" ? 2 : 1;\r\n\r\n        var outPos = new Laya.Vector4;\r\n        Context.CommonData.mainCamera.viewport.project(pos, Context.CommonData.mainCamera.projectionViewMatrix, outPos);\r\n        var pos2d = new Laya.Vector2(outPos.x / Laya.stage.clientScaleX, outPos.y / Laya.stage.clientScaleY);\r\n        return new Laya.Point(pos2d.x, pos2d.y);\r\n    }\r\n\r\n    getRandom(): number {\r\n        var nums = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];\r\n        var num = this.getRandomArray(nums, 1)[0];\r\n        return num;\r\n    }\r\n\r\n    getAngle(v1: Laya.Vector3, v2: Laya.Vector3): number {\r\n        var a = Laya.Vector3.dot(v1, v2)\r\n        var b = Laya.Vector3.scalarLength(v1) * Laya.Vector3.scalarLength(v2);\r\n\r\n        if (b == 0) {\r\n            if (v1.z > v2.z) return 0;\r\n            else if (v1.z < v2.z) return 180;\r\n\r\n            if (v1.y > v2.y) return 90;\r\n            else if (v1.y < v2.y) return -90;\r\n        }\r\n\r\n        var cosAngle = a / b;\r\n        var angle = Math.acos(cosAngle) * 180 / Math.PI;\r\n        return angle;\r\n    }\r\n\r\n    transform(value: number) {\r\n        let newValue = ['', '', ''];\r\n        let fr = 1000;\r\n        let num = 3;\r\n        var fm = 1;\r\n        while (value / fr >= 1) {\r\n            fr *= 10;\r\n            num += 1;\r\n            // console.log('数字', value / fr, 'num:', num);\r\n        }\r\n        if (num <= 4) { // 千\r\n            newValue[1] = 'k';\r\n            // newValue[0] = parseInt((value / 1000).toFixed(0)) + '';\r\n            newValue[0] = (value / 1000).toFixed(2)\r\n        } else if (num <= 9) { //16 万\r\n            let text1 = parseInt((num - 4).toFixed(0)) / 2 > 1 ? 'm' : 'k';  //千万：万（百万：千）\r\n            // tslint:disable-next-line:no-shadowed-variable\r\n            // fm = '0k' === text1 ? 10000 : 10000000;\r\n            fm = 'k' === text1 ? 1000 : 1000000;\r\n            newValue[1] = text1;\r\n\r\n            // let valueTmp = Math.round(value / fm);\r\n            let valueTmp = (value / fm).toFixed(2);\r\n            newValue[0] = valueTmp + '';\r\n        }\r\n        else if (num <= 16) {// 亿\r\n            let text1 = 'b';\r\n            // let text1 = (num - 8) / 2 > 1 ? 'b' : 'm';\r\n            // text1 = (num - 8) / 4 > 1 ? '000b' : text1;\r\n            // text1 = (num - 8) / 7 > 1 ? '000000b' : text1;\r\n            // tslint:disable-next-line:no-shadowed-variable\r\n            let fm = 1;\r\n            if ('m' === text1) {\r\n                fm = 1000000;\r\n            } else if ('b' === text1) {\r\n                fm = 1000000000;\r\n            }\r\n            // } else if ('000000m' === text1) {\r\n            //     fm = 1000000000000;\r\n            // } else if ('000000000m' === text1) {\r\n            //     fm = 1000000000000000;\r\n            // }\r\n            newValue[1] = text1;\r\n            // newValue[0] = parseInt((value / fm).toFixed(0)) + '';\r\n            newValue[0] = (value / fm).toFixed(2)\r\n        }\r\n        if (value < 1000) {\r\n            newValue[1] = '';\r\n            newValue[0] = Number(value).toFixed(0) + '';\r\n        }\r\n        return newValue.join('');\r\n    }\r\n\r\n\r\n    static showPoint = function (verts, triangls) {\r\n        // var vertexDeclaration= Laya.VertexMesh.getVertexDeclaration(\"POSITION\");\r\n\r\n        var vertsTemp = [];\r\n        for (var i = 0; i < verts.length; i++) {\r\n            var v = verts[i];\r\n            var cube = UtilsFunction.createBox(0.1, 0.1, 0.1);\r\n            var spr = new Laya.MeshSprite3D();\r\n            // spr.meshFilter.sharedMesh = cube;\r\n\r\n            Context.CommonData.mainScene.addChild(spr);\r\n        }\r\n\r\n        // var vertices = new Float32Array(vertsTemp);\r\n        // var indices = new Uint16Array(triangls);\r\n        // return Laya.PrimitiveMesh._createMesh(vertexDeclaration, vertices, indices);\r\n    }\r\n\r\n    static createMesh = function (verts, triangls) {\r\n        Laya.Resource.destroyUnusedResources();\r\n\r\n        var vertexDeclaration = Laya.VertexMesh.getVertexDeclaration(\"POSITION,NORMAL\");\r\n\r\n        var vertsTemp = [];\r\n        var normal = new Laya.Vector3(-1, 0, 0);\r\n        for (var i = 0; i < verts.length; i++) {\r\n            var v = verts[i];\r\n            vertsTemp.push(v.x);\r\n            vertsTemp.push(v.y);\r\n            vertsTemp.push(v.z);\r\n\r\n            // if (i % 3 == 0) {\r\n            //     normal = Context.Utils.getNormal(verts[i], verts[i + 1], verts[i + 2]);\r\n            // }\r\n\r\n            // normal = normals[i];\r\n\r\n            // vertsTemp.push(normal.x);\r\n            // vertsTemp.push(normal.y);\r\n            // vertsTemp.push(normal.z);\r\n\r\n            // if (i <= triangls.length / 3) {\r\n            //     var index = Math.floor(i / 3) + 1;\r\n            //     normal = Context.Utils.getNormal(verts[triangls[index]], verts[triangls[index - 1]], verts[triangls[index + 1]]);\r\n            // }\r\n            // else {\r\n            //     index = triangls.indexOf(i);\r\n            //     normal = Context.Utils.getNormal(verts[triangls[index]], verts[triangls[index + 1]], verts[triangls[index + 2]]);\r\n            // }\r\n\r\n            vertsTemp.push(normal.x);\r\n            vertsTemp.push(normal.y);\r\n            vertsTemp.push(normal.z);\r\n\r\n            // vertsTemp.push(-1);\r\n            // vertsTemp.push(0);\r\n            // vertsTemp.push(0);\r\n\r\n\r\n            // if (i % 3 == 0) {\r\n            //     vertsTemp.push(0);\r\n            //     vertsTemp.push(0);\r\n            // }\r\n            // else if ((i + 1) % 3 == 0) {\r\n            //     vertsTemp.push(0);\r\n            //     vertsTemp.push(1);\r\n            // }\r\n            // else {\r\n            //     vertsTemp.push(1);\r\n            //     vertsTemp.push(0);\r\n            // }\r\n        }\r\n\r\n        var vertices = new Float32Array(vertsTemp);\r\n        var indices = new Uint16Array(triangls);\r\n\r\n        // return Laya.PrimitiveMesh._createMesh(vertexDeclaration, vertices, indices);\r\n    }\r\n\r\n    static createBox2 = function (long, height, width) {\r\n        (long === void 0) && (long = 1);\r\n        (height === void 0) && (height = 1);\r\n        (width === void 0) && (width = 1);\r\n        var vertexDeclaration = Laya.VertexMesh.getVertexDeclaration(\"POSITION\");\r\n        var halfLong = long / 2;\r\n        var halfHeight = height / 2;\r\n        var halfWidth = width / 2;\r\n        var vertices = new Float32Array([\r\n            -halfLong, halfHeight, -halfWidth, halfLong, halfHeight, -halfWidth, halfLong, halfHeight, halfWidth, -halfLong, halfHeight, halfWidth,\r\n            -halfLong, -halfHeight, -halfWidth, halfLong, -halfHeight, -halfWidth, halfLong, -halfHeight, halfWidth, -halfLong, -halfHeight, halfWidth,\r\n            -halfLong, halfHeight, -halfWidth, -halfLong, halfHeight, halfWidth, -halfLong, -halfHeight, halfWidth, -halfLong, -halfHeight, -halfWidth,\r\n            halfLong, halfHeight, -halfWidth, halfLong, halfHeight, halfWidth, halfLong, -halfHeight, halfWidth, halfLong, -halfHeight, -halfWidth,\r\n            -halfLong, halfHeight, halfWidth, halfLong, halfHeight, halfWidth, halfLong, -halfHeight, halfWidth, -halfLong, -halfHeight, halfWidth,\r\n            -halfLong, halfHeight, -halfWidth, halfLong, halfHeight, -halfWidth, halfLong, -halfHeight, -halfWidth, -halfLong, -halfHeight, -halfWidth]);\r\n        var indices = new Uint16Array([\r\n            0, 1, 2, 2, 3, 0,  //由三角形012，和三角形230 组成上面 \r\n            4, 7, 6, 6, 5, 4, //同上 组成底面\r\n            8, 9, 10, 10, 11, 8, //组成左侧面\r\n            12, 15, 14, 14, 13, 12,//组成右侧面\r\n            16, 17, 18, 18, 19, 16,//组成正面\r\n            20, 23, 22, 22, 21, 20]);//后面\r\n        // return Laya.PrimitiveMesh._createMesh(vertexDeclaration, vertices, indices);\r\n    }\r\n\r\n    static createBox = function (long, height, width) {\r\n        (long === void 0) && (long = 1);\r\n        (height === void 0) && (height = 1);\r\n        (width === void 0) && (width = 1);\r\n        var vertexCount = 24;\r\n        var indexCount = 36;\r\n        var vertexDeclaration = Laya.VertexMesh.getVertexDeclaration(\"POSITION,NORMAL,UV\");\r\n        var halfLong = long / 2;\r\n        var halfHeight = height / 2;\r\n        var halfWidth = width / 2;\r\n        var vertices = new Float32Array([\r\n            -halfLong, halfHeight, -halfWidth, 0, 1, 0, 0, 0, halfLong, halfHeight, -halfWidth, 0, 1, 0, 1, 0, halfLong, halfHeight, halfWidth, 0, 1, 0, 1, 1, -halfLong, halfHeight, halfWidth, 0, 1, 0, 0, 1,\r\n            -halfLong, -halfHeight, -halfWidth, 0, -1, 0, 0, 1, halfLong, -halfHeight, -halfWidth, 0, -1, 0, 1, 1, halfLong, -halfHeight, halfWidth, 0, -1, 0, 1, 0, -halfLong, -halfHeight, halfWidth, 0, -1, 0, 0, 0,\r\n            -halfLong, halfHeight, -halfWidth, -1, 0, 0, 0, 0, -halfLong, halfHeight, halfWidth, -1, 0, 0, 1, 0, -halfLong, -halfHeight, halfWidth, -1, 0, 0, 1, 1, -halfLong, -halfHeight, -halfWidth, -1, 0, 0, 0, 1,\r\n            halfLong, halfHeight, -halfWidth, 1, 0, 0, 1, 0, halfLong, halfHeight, halfWidth, 1, 0, 0, 0, 0, halfLong, -halfHeight, halfWidth, 1, 0, 0, 0, 1, halfLong, -halfHeight, -halfWidth, 1, 0, 0, 1, 1,\r\n            -halfLong, halfHeight, halfWidth, 0, 0, 1, 0, 0, halfLong, halfHeight, halfWidth, 0, 0, 1, 1, 0, halfLong, -halfHeight, halfWidth, 0, 0, 1, 1, 1, -halfLong, -halfHeight, halfWidth, 0, 0, 1, 0, 1,\r\n            -halfLong, halfHeight, -halfWidth, 0, 0, -1, 1, 0, halfLong, halfHeight, -halfWidth, 0, 0, -1, 0, 0, halfLong, -halfHeight, -halfWidth, 0, 0, -1, 0, 1, -halfLong, -halfHeight, -halfWidth, 0, 0, -1, 1, 1]);\r\n        var indices = new Uint16Array([\r\n            0, 1, 2, 2, 3, 0,  //由三角形012，和三角形230 组成上面 \r\n            4, 7, 6, 6, 5, 4, //同上 组成底面\r\n            8, 9, 10, 10, 11, 8, //组成左侧面\r\n            12, 15, 14, 14, 13, 12,//组成右侧面\r\n            16, 17, 18, 18, 19, 16,//组成正面\r\n            20, 23, 22, 22, 21, 20]);//后面\r\n        // return Laya.PrimitiveMesh._createMesh(vertexDeclaration, vertices, indices);\r\n    }\r\n\r\n    static createTriangle(long, height, width) {\r\n        (long === void 0) && (long = 1);\r\n        (height === void 0) && (height = 1);\r\n        (width === void 0) && (width = 1);\r\n        var vertexCount = 3;\r\n        var indexCount = 3;\r\n        var vertexDeclaration = Laya.VertexMesh.getVertexDeclaration(\"POSITION,NORMAL,UV\");\r\n        var halfLong = long / 2;\r\n        var halfHeight = height / 2;\r\n        var halfWidth = width / 2;\r\n\r\n        var vertices = new Float32Array([\r\n            -halfLong, halfHeight, -halfWidth, 0, 1, 0, 0, 0, halfLong, halfHeight, -halfWidth, 0, 1, 0, 1, 0, halfLong, halfHeight, halfWidth, 0, 1, 0, 1, 1,\r\n            -halfLong, -halfHeight, -halfWidth, 0, -1, 0, 0, 0, halfLong, -halfHeight, -halfWidth, 0, -1, 0, -1, 0, halfLong, -halfHeight, halfWidth, 0, -1, 0, -1, -1,\r\n            -halfLong, halfHeight, -halfWidth, 0, -1, 0, 0, 0, halfLong, halfHeight, -halfWidth, 0, -1, 0, -1, 0, halfLong, -halfHeight, -halfWidth, 0, -1, 0, 0, -1, -halfLong, -halfHeight, -halfWidth, 0, -1, 0, -1, -1,\r\n            halfLong, halfHeight, -halfWidth, 0, 1, 0, 0, 0, halfLong, halfHeight, halfWidth, 0, 1, 0, 1, 0, halfLong, -halfHeight, -halfWidth, 0, 1, 0, 0, 1, halfLong, -halfHeight, halfWidth, 0, 1, 0, 1, 1,\r\n            -halfLong, halfHeight, -halfWidth, 0, 1, 0, 0, 0, halfLong, halfHeight, halfWidth, 0, 1, 0, 0, 0, halfLong, -halfHeight, halfWidth, 0, 1, 0, 0, 1, -halfLong, -halfHeight, -halfWidth, 0, 1, 0, 1, 1\r\n        ]);\r\n        var indices = new Uint16Array([\r\n            0, 1, 2,\r\n            5, 4, 3,\r\n            6, 9, 8, 8, 7, 6,\r\n            11, 10, 12, 12, 13, 11,\r\n            14, 15, 16, 16, 17, 14,\r\n        ]);\r\n        // return Laya.PrimitiveMesh._createMesh(vertexDeclaration, vertices, indices);\r\n    }\r\n\r\n    // var vertices=new Float32Array([\r\n    // -halfLong,halfHeight,-halfWidth,0,1,0,0,0,halfLong,halfHeight,-halfWidth,0,1,0,1,0,halfLong,halfHeight,halfWidth,0,1,0,1,1,-halfLong,halfHeight,halfWidth,0,1,0,0,1,\r\n    // -halfLong,-halfHeight,-halfWidth,0,-1,0,0,1,halfLong,-halfHeight,-halfWidth,0,-1,0,1,1,halfLong,-halfHeight,halfWidth,0,-1,0,1,0,-halfLong,-halfHeight,halfWidth,0,-1,0,0,0,\r\n    // -halfLong,halfHeight,-halfWidth,-1,0,0,0,0,-halfLong,halfHeight,halfWidth,-1,0,0,1,0,-halfLong,-halfHeight,halfWidth,-1,0,0,1,1,-halfLong,-halfHeight,-halfWidth,-1,0,0,0,1,\r\n    // halfLong,halfHeight,-halfWidth,1,0,0,1,0,halfLong,halfHeight,halfWidth,1,0,0,0,0,halfLong,-halfHeight,halfWidth,1,0,0,0,1,halfLong,-halfHeight,-halfWidth,1,0,0,1,1,\r\n    // -halfLong,halfHeight,halfWidth,0,0,1,0,0,halfLong,halfHeight,halfWidth,0,0,1,1,0,halfLong,-halfHeight,halfWidth,0,0,1,1,1,-halfLong,-halfHeight,halfWidth,0,0,1,0,1,\r\n    // -halfLong,halfHeight,-halfWidth,0,0,-1,1,0,halfLong,halfHeight,-halfWidth,0,0,-1,0,0,halfLong,-halfHeight,-halfWidth,0,0,-1,0,1,-halfLong,-halfHeight,-halfWidth,0,0,-1,1,1]);\r\n\r\n    getNormal(A, B, C): Laya.Vector3 {\r\n        var AB = MyVector3.subtract(B, A);\r\n        var AC = MyVector3.subtract(C, A);\r\n\r\n        return MyVector3.normalized(MyVector3.cross(AC, AB));\r\n    }\r\n\r\n    missTouch(target, btm = 300) {\r\n        Context.Platform.hideBanner();\r\n        // var oriBtm = target.bottom;\r\n        target.bottom = 30;\r\n\r\n        var delayTime = JJMgr.instance.dataConfig.front_banner_appear;\r\n        var tweenTime = JJMgr.instance.dataConfig.front_button_up;\r\n\r\n        Laya.timer.once(delayTime, target, () => {\r\n            Context.Platform.showBanner();\r\n            Laya.Tween.to(target, { bottom: btm }, tweenTime);\r\n        });\r\n\r\n        // Laya.timer.once(tweenTime + delayTime, this, () => {\r\n        //     Laya.Tween.to(target, { bottom: oriBtm }, 50);\r\n        // });\r\n    }\r\n\r\n    clearMissTouch(target) {\r\n        Laya.timer.clearAll(target);\r\n    }\r\n\r\n\r\n    lerpVec3(a, b, t): Laya.Vector3 {\r\n        t = this.Clamp01(t);\r\n        return new Laya.Vector3(\r\n            a.x + (b.x - a.x) * t,\r\n            a.y + (b.y - a.y) * t,\r\n            a.z + (b.z - a.z) * t,\r\n        );\r\n    }\r\n\r\n    Clamp01(v): number {\r\n        if (v > 1) return 1;\r\n        if (v < 0) return 0;\r\n        return v;\r\n    }\r\n}","// /**事件类型 */\r\nexport default class EventType {\r\n\r\n    /************* 广告 *************/\r\n    /**加载广告 */\r\n    static AD_LOAD_EVENT = \"\";\r\n    /**显示广告 */\r\n    static AD_SHOW_EVENT = \"\";\r\n    /**视频关闭 */\r\n    static AD_VIDEO_CLOSE_EVENT = \"\";\r\n\r\n    /************* 微信 *************/\r\n    /**平台唤醒 */\r\n    static PLATFORM_WAKE_EVENT = \"\";\r\n    /**平台睡眠 */\r\n    static PLATFORM_SLEEP_EVENT = \"\";\r\n\r\n    /************* 通用 *************/\r\n    /**加载完成 */\r\n    static LOAD_FINISH_EVENT = \"\";\r\n    /**游戏初始化 */\r\n    static GAME_INIT_EVENT = \"\";\r\n    /**游戏开始 */\r\n    static GAME_PLAY_EVENT = \"\";\r\n    /**复活 */\r\n    static GAME_REBORN_EVENT = \"\";\r\n    /**游戏结束 */\r\n    static GAME_OVER_EVENT = \"\";\r\n\r\n    static MOUSE_EVENT = \"\";\r\n\r\n    /************* 业务 *************/\r\n    /**更换角色皮肤 */\r\n    static CHANGE_SKIN_EVENT = \"\";\r\n    /**更换武器皮肤 */\r\n    static CHANGE_BRICK_EVENT = \"\";\r\n    /**更新关卡 */\r\n    static CHANGE_LEVEL_EVENT = \"\";\r\n    /**更新金币 */\r\n    static CHANGE_COIN_EVENT = \"\";\r\n\r\n    static SHOW_TIPS_EVENT = \"\";\r\n    static UPDATE_SHARE_COUNT = \"\";\r\n    static UPDATE_CHECK_SV = \"\"\r\n\r\n    /************* 后端 *************/\r\n    /**登录请求 */\r\n    static LOGIN_EVENT = \"\";\r\n    /**分享回调 */\r\n    static SHARE_BACK_EVENT = \"\";\r\n}","\r\n\r\nexport default class PrefabManager {\r\n    private url: string[];\r\n\r\n    constructor() {\r\n\r\n        Laya.loader.load(this.url, Laya.Handler.create(this, this.loadComplete), Laya.Handler.create(this, this.loadProgress), Laya.Loader.PREFAB);\r\n    }\r\n\r\n    /**初始化 */\r\n \r\n\r\n    /**\r\n     * 获取预制体对象\r\n     * @param name 预制体名称\r\n     */\r\n    getItem(name): any {\r\n        let prefab: Laya.Prefab = Laya.loader.getRes(name);\r\n\r\n        if (prefab) {\r\n            return Laya.Pool.getItemByCreateFun(name, prefab.create, prefab);\r\n        }\r\n        else return null;\r\n    }\r\n\r\n    /**\r\n     * 回收预制体对象\r\n     * @param name 预制体名称\r\n     * @param item 预制体对象\r\n     */\r\n    recoverItem(name, item) {\r\n        Laya.Pool.recover(name, item);\r\n        item.parent.removeChild(item);\r\n    }\r\n\r\n    loadProgress(res) {\r\n        console.log(\"预制体资源加载中...\", res);\r\n    }\r\n\r\n    loadComplete() {\r\n        console.log(\"预制体资源加载完成!\");\r\n    }\r\n}","import Context from \"../Context\";\r\nimport EventType from \"../utils/EventType\";\r\n// import ModelCreator from \"../plugins/ModelCreator\";\r\nimport MyVector3 from \"../plugins/MyVector3\";\r\n\r\n/**\r\n * 游戏控制类\r\n */\r\nexport default class GameManager {\r\n    private _isPlay: boolean;\r\n    private _isOver: boolean;\r\n    private _isPause: boolean;\r\n    private _isPressed: boolean;\r\n\r\n    // modelCreator: ModelCreator;\r\n\r\n    constructor() {\r\n        this._isPlay = false;\r\n        this._isOver = false;\r\n        this._isPause = false;\r\n        this._isPressed = false;\r\n\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDownClick);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.onMouseUpClick);\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.onMouseMoveClick);\r\n\r\n        // this.modelCreator = new ModelCreator();\r\n    }\r\n\r\n    /**是否按下 */\r\n    get isPressed(): boolean {\r\n        return this._isPressed;\r\n    }\r\n    set isPressed(value: boolean) {\r\n        this._isPressed = value;\r\n    }\r\n\r\n    /**游戏开始 */\r\n    get isPlay(): boolean {\r\n        return this._isPlay;\r\n    }\r\n    set isPlay(value: boolean) {\r\n        this._isPlay = value;\r\n    }\r\n\r\n    /**游戏结束 */\r\n    get isOver(): boolean {\r\n        return this._isOver;\r\n    }\r\n    set isOver(value: boolean) {\r\n        this._isOver = value;\r\n    }\r\n\r\n    /**游戏暂停 */\r\n    get isPause(): boolean {\r\n        return this._isPause;\r\n    }\r\n    set isPause(value: boolean) {\r\n        this._isPause = value;\r\n        Laya.timer.scale = value ? 0 : 1;\r\n    }\r\n\r\n    /**游戏时间缩放 */\r\n    set gameScale(scale) {\r\n        Laya.timer.scale = scale;\r\n    }\r\n\r\n    onMouseDownClick(evt) {\r\n        // if(!this.isPlay || this.isOver) return;\r\n        Context.Event.event(EventType.MOUSE_EVENT, { type: \"down\", evt: evt });\r\n    }\r\n\r\n    onMouseUpClick(evt) {\r\n        // if(!this.isPlay || this.isOver) return;\r\n        Context.Event.event(EventType.MOUSE_EVENT, { type: \"up\", evt: evt });\r\n    }\r\n\r\n    onMouseMoveClick(evt) {\r\n        // if(!this.isPlay || this.isOver) return;\r\n        Context.Event.event(EventType.MOUSE_EVENT, { type: \"move\", evt: evt });\r\n    }\r\n\r\n    // getCoinPoints(pointA, pointB, shotSpeed = 16, throwTime = 1.8, g = -10, amount = 30) {\r\n    //     var points = [];\r\n\r\n    //     var dTime = 0;\r\n    //     var targetY = pointA.y;\r\n    //     var gravity = new Laya.Vector3;\r\n\r\n    //     var speed = new Laya.Vector3(-(pointB.x - pointA.x) / throwTime,\r\n    //         (pointB.y - pointA.y) / throwTime - 0.5 * g * throwTime,\r\n    //         (pointB.z - pointA.z) / throwTime);\r\n\r\n    //     var posTmp = pointA;\r\n\r\n    //     // var i = 0;\r\n    //     while (posTmp.y >= targetY) { // || gravity.y >= shotSpeed\r\n    //         gravity.y = g * (dTime += 0.02);\r\n\r\n    //         let pos = new Laya.Vector3();\r\n    //         Laya.Vector3.add(speed, gravity, pos);\r\n    //         Laya.Vector3.scale(pos, 0.02, pos);\r\n\r\n    //         Laya.Vector3.add(posTmp, pos, pos);\r\n    //         posTmp = pos;\r\n\r\n    //         points.push(pos);\r\n\r\n    //         // console.log(\"coinPos: \", gravity.y, pos);\r\n\r\n    //         // i++;\r\n    //         // if (i > 10) {\r\n    //         //     i = 0;\r\n    //         //     this.modelCreator.createCoinCurve(pos);\r\n    //         // }\r\n    //     }\r\n\r\n    //     this.showCoin(points, amount);\r\n    //     return points;\r\n    // }\r\n\r\n    // showCoin(points, amount) {\r\n    //     // var dis = Math.floor(points.length / amount);\r\n    //     var dis = 6;\r\n    //     var count = 0;\r\n    //     var offsetX = Math.random() * 200 - 100;\r\n\r\n    //     for (var i = Math.floor(points.length / 4); i < points.length; i++) {\r\n    //         if(count == amount) continue;\r\n\r\n    //         if (i % dis == 0) {\r\n    //             var point = points[i];\r\n                \r\n    //             point.x = this.getThrowX(offsetX, 0, 0, (point.y - points[0].y) / 500);\r\n    //             this.modelCreator.createCoinCurve(points[i]);\r\n    //             count++;\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    getThrowX(a,b,c,X){\r\n        return a * Math.pow(X, 2) + b * X + c;\r\n    }\r\n}","export default class TweenManager {\r\n    /**\r\n     * 缩放动画\r\n     * @param target 缩放目标\r\n     * @param scaleStart 初始值\r\n     * @param scaleEnd 结束值\r\n     * @param duration 动画时长-毫秒\r\n     * @param isReset 是否自动复原\r\n     * @param isLoop 是否循环\r\n     * @param ease 缓动类型\r\n     */\r\n    toScale(target: Laya.Sprite, scaleStart: number, scaleEnd: number, duration: number, isReset: boolean, isLoop: boolean = false, ease: Function = null) {\r\n        if (!target) return;\r\n\r\n        var handler = null;\r\n        target.scale(scaleStart, scaleStart);\r\n        scale1();\r\n\r\n        function scale1() {\r\n            handler = isLoop || isReset ? new Laya.Handler(this, scale2) : null;\r\n            Laya.Tween.to(target, { scaleX: scaleEnd, scaleY: scaleEnd }, duration, ease, handler);\r\n        }\r\n\r\n        function scale2() {\r\n            handler = isLoop ? new Laya.Handler(this, scale1) : null;\r\n            Laya.Tween.to(target, { scaleX: scaleStart, scaleY: scaleStart }, duration, ease, handler);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 渐变动画，渐变到目标值\r\n     * @param {object} target \r\n     * @param {number} alpha \r\n     * @param {number} duration \r\n     * @param {boolean} isLoop \r\n     */\r\n    toAlpha(target: Laya.Sprite, alphaStart: number, alphaEnd: number, duration: number, isReset: boolean, isLoop: boolean = false, ease: Function = null) {\r\n        if (!target) return;\r\n\r\n        var handler = null;\r\n        target.alpha = alphaStart;\r\n        alpha1();\r\n\r\n        function alpha1() {\r\n            handler = isLoop || isReset ? new Laya.Handler(this, alpha2) : null;\r\n            Laya.Tween.to(target, { alpha: alphaEnd }, duration, ease, handler);\r\n        }\r\n\r\n        function alpha2() {\r\n            handler = isLoop ? new Laya.Handler(this, alpha1) : null;\r\n            Laya.Tween.to(target, { alpha: alphaStart }, duration, ease, handler);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 位移动画，移动到指定位置\r\n     * @param target \r\n     * @param pos \r\n     * @param duration \r\n     * @param isLoop \r\n     */\r\n    toPosition(target, pos, duration, isLoop = false, type = 0) {\r\n        let curPos = new Laya.Vector2(target.x, target.y);\r\n        pos1();\r\n\r\n        function pos1() {\r\n            if (isLoop) {\r\n                switch (type) {\r\n                    case 0:\r\n                        var handler = new Laya.Handler(this, pos2);\r\n                        break;\r\n                    case 1:\r\n                        var handler = new Laya.Handler(this, pos3);\r\n                        break;\r\n                }\r\n            }\r\n            // let handler = isLoop ? new Laya.Handler(this, pos2) : null;\r\n            Laya.Tween.to(target, { x: pos.x, y: pos.y }, duration, null, handler);\r\n        }\r\n\r\n        function pos2() {\r\n            Laya.Tween.to(target, { x: curPos.x, y: curPos.y }, duration, null, Laya.Handler.create(this, pos1));\r\n        }\r\n\r\n        function pos3() {\r\n            target.x = curPos.x;\r\n            target.y = curPos.y;\r\n            pos1();\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 移动动画-3D\r\n     * @param target 移动目标\r\n     * @param position 移动位置\r\n     * @param duration 动画时长-毫秒\r\n     * @param ease 缓动类型\r\n     * @param originalPos 起始位置\r\n     */\r\n    toPosition3D(target: Laya.Sprite3D, position: Laya.Vector3, duration: number, ease?: Function, originalPos?: Laya.Vector3, callBack?: Function, progressCallback?: Function) {\r\n        if (originalPos) target.transform.position = originalPos;\r\n\r\n        var tween = new Laya.Tween();\r\n        var pos = target.transform.position.clone();\r\n\r\n        tween.to(pos, { x: position.x, y: position.y, z: position.z }, duration, ease, Laya.Handler.create(this, () => {\r\n            target.transform.position = position;\r\n            if(callBack) callBack();\r\n        }));\r\n\r\n        tween.update = new Laya.Handler(this, () => {\r\n            target.transform.position = pos;\r\n            if(progressCallback) progressCallback(target, pos);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 旋转动画，旋转指定角度\r\n     * @param target \r\n     * @param angle \r\n     * @param duration \r\n     * @param isLoop \r\n     */\r\n    toRotaion(target, angle, duration, isLoop = false, isReset = false) {\r\n        var curAngle = target.rotation;\r\n        rotate1();\r\n\r\n        function rotate1() {\r\n            if (isLoop) {\r\n                var handler = new Laya.Handler(this, rotate2);\r\n            }\r\n            else if (isReset) {\r\n                var handler = new Laya.Handler(this, rotate4)\r\n            }\r\n            // let handler = isLoop ? new Laya.Handler(this, pos2) : null;\r\n            Laya.Tween.to(target, { rotation: angle }, duration, null, handler);\r\n        }\r\n\r\n        function rotate2() {\r\n            Laya.Tween.to(target, { rotation: -angle }, duration * 2, null, Laya.Handler.create(this, rotate3));\r\n        }\r\n\r\n        function rotate3() {\r\n            Laya.Tween.to(target, { rotation: angle }, duration * 2, null, Laya.Handler.create(this, rotate2));\r\n        }\r\n\r\n        function rotate4() {\r\n            Laya.Tween.to(target, { rotation: curAngle }, duration);\r\n        }\r\n    }\r\n\r\n    clear(target: any) {\r\n        Laya.Tween.clearAll(target);\r\n    }\r\n}","import Context from \"../Context\";\r\n\r\n\r\n/**\r\n * 关卡管理类\r\n */\r\nexport default class LevelManager {\r\n    parent: Laya.Sprite3D;\r\n    emerys: Laya.Sprite3D;\r\n    skins: Laya.Sprite3D;\r\n\r\n    scenes: Laya.Sprite3D; //间距-160\r\n    road: Laya.Sprite3D; //间距-10\r\n    end: Laya.Sprite3D;\r\n\r\n\r\n\r\n    skinData: any;\r\n    endPosZ: number;\r\n\r\n    carFx: Laya.Sprite3D;\r\n\r\n    createSmoke() {\r\n        return this.cloneObj(this.carFx.getChildByName(\"TireSmoke1\"));\r\n    }\r\n\r\n    createDamageSmoke1() {\r\n        return this.cloneObj(this.carFx.getChildByName(\"DamageSmoke1\"));\r\n    }\r\n\r\n    createDamageSmoke2() {\r\n        return this.cloneObj(this.carFx.getChildByName(\"DamageSmoke2\"));\r\n    }\r\n\r\n    createBomb() {\r\n        return this.cloneObj(this.carFx.getChildByName(\"BoomFX\"));\r\n    }\r\n\r\n    createDash(){\r\n        return this.cloneObj(this.carFx.getChildByName(\"DashFX\"));\r\n    }\r\n\r\n    cloneObj(obj) {\r\n        return obj.clone();\r\n    }\r\n\r\n    init(scene, model) {\r\n        return;\r\n        //读取缓存配置\r\n        // let jsonData = Context.Storage.readStorage(\"carConfig\");\r\n        // if (!jsonData) {\r\n        //     Context.Storage.writeStorage(\"carConfig\", this.carStorage);\r\n        // }\r\n        // else {\r\n        //     this.carStorage = JSON.parse(jsonData);\r\n        //     // this.updateAllStrength();\r\n        // }\r\n\r\n        // this.parent = scene.getChildByName(\"Parent\");\r\n        // this.skins = scene.getChildByName(\"Skins\");\r\n        // this.emerys = model.getChildByName(\"Emerys\");\r\n        // this.scenes = model.getChildByName(\"Scenes\");\r\n        // this.road = model.getChildByName(\"Road\");\r\n        // this.carFx = model.getChildByName(\"CarFX\");\r\n        // // var car = scene.getChildByName(\"Car1\");\r\n        // // car.addComponent(CarComponent);\r\n\r\n        // // cameraComp.setTarget(car);\r\n    }\r\n\r\n    road1Mat: Laya.Material;\r\n    road2Mat: Laya.Material;\r\n    loadLevel() {\r\n        //选择场景\r\n        var isCityScene = Math.random() > 0.5;\r\n        var sceneLength = 7; //TODON 关卡\r\n\r\n        if (isCityScene) {\r\n            var sceneIndexs = [0, 1];\r\n            var mat = this.road1Mat.clone();\r\n        }\r\n        else {\r\n            sceneIndexs = [2, 3];\r\n            mat = this.road2Mat.clone();\r\n        }\r\n\r\n        (this.road.getChildAt(0) as Laya.MeshSprite3D).meshRenderer.sharedMaterial = mat;\r\n        for (var i = 0; i < sceneLength; i++) {\r\n            var index = Context.Utils.getRandomArray(sceneIndexs, 1)[0];\r\n\r\n            // TODON 去除场景\r\n            var scene = this.cloneObj(this.scenes.getChildAt(index));\r\n            this.parent.addChild(scene);\r\n            scene.transform.position = new Laya.Vector3(0, 0, i * 160);\r\n\r\n            for (var j = 0; j < 16; j++) {\r\n                var road = this.cloneObj(this.road);\r\n                this.parent.addChild(road);\r\n                road.transform.position = new Laya.Vector3(0, 0.1, i * 160 + j * 10);\r\n            }\r\n        }\r\n\r\n        var end = this.cloneObj(this.end);\r\n        this.parent.addChild(end);\r\n        this.endPosZ = (sceneLength - 2) * 160 - 100;\r\n        end.transform.position = new Laya.Vector3(0, 0.11, this.endPosZ);\r\n\r\n    }\r\n\r\n    /**玩家缓存配置 */\r\n    carStorage = {\r\n        carConfig: {\r\n            currentUseSkinId: 1\r\n        },\r\n        carData: [\r\n            { skinId: 1, level: 1 }\r\n            // { skinId: 1, level: 1, strength: 10, dateTime: Date.now() },\r\n        ]\r\n    }\r\n\r\n    saveCarStorage() {\r\n        // Context.Storage.writeStorage(\"carConfig\", this.carStorage);\r\n    }\r\n\r\n    // updateAllStrength() {\r\n    //     var carData = this.carStorage.carData;\r\n    //     for (var i = 0; i < carData.length; i++) {\r\n    //         if (carData[i].strength < 10) {\r\n    //             var time = Date.now() - carData[i].dateTime;\r\n    //             if(time / 60000 > 5){ //五分钟加一\r\n    //                 carData[i].strength++;\r\n    //                 carData[i].dateTime = Date.now();\r\n    //             }\r\n    //             // console.log(\"时间：\", time);\r\n    //         }\r\n    //     }\r\n\r\n    //     this.saveCarStorage();\r\n    // }\r\n\r\n    // updateCarStrength(index) {\r\n    //     var carData = this.carStorage.carData.filter(w=>{re})\r\n    // }\r\n\r\n    upgradeCar(index) {\r\n        this.carStorage.carData.filter(w => { return w.skinId == index + 1 })[0].level++;\r\n        this.saveCarStorage();\r\n    }\r\n\r\n    passMissionCount: number = 0;\r\n    missionConfig: any[] = [\r\n        { type: \"video\", reward: 750, totalCount: 1, currentCount: 0 },\r\n        { type: \"comboX3\", reward: 500, totalCount: 1, currentCount: 0 },\r\n        { type: \"dontHit\", reward: 500, totalCount: 1, currentCount: 0 },\r\n        { type: \"lowHpPass\", reward: 500, totalCount: 1, currentCount: 0 },\r\n        { type: \"overtake20\", reward: 500, totalCount: 20, currentCount: 0 },\r\n        { type: \"pass3level\", reward: 500, totalCount: 3, currentCount: 0 },\r\n    ]\r\n\r\n    currentMission: number[] = [];\r\n    totalMission: number[] = [];\r\n    updateMissions() {\r\n        // this.totalMission = [];\r\n        // if (this.passMissionCount == 0 || this.passMissionCount % 6 == 0) {\r\n        this.totalMission.push(0);\r\n        // }\r\n\r\n        this.totalMission = this.totalMission.concat(Context.Utils.getRandomArray([1, 2, 3, 4, 5], 5));\r\n        // this.getCurrentMission();\r\n    }\r\n\r\n    getCurrentMission(index?) {\r\n        if (index == null) {\r\n            for (var i = this.currentMission.length; i < 3; i++) {\r\n                this.currentMission.push(this.totalMission.shift());\r\n                if (this.totalMission.length == 0) {\r\n                    this.updateMissions();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var newMission = this.totalMission.shift();\r\n\r\n            var missionConfig = this.missionConfig[this.currentMission[this.currentMission.indexOf(index)]];\r\n            missionConfig.currentCount = 0;\r\n            this.currentMission[this.currentMission.indexOf(index)] = newMission;\r\n\r\n            this.passMissionCount++;\r\n            if (this.totalMission.length < 3) {\r\n                this.updateMissions();\r\n            }\r\n\r\n            Context.Event.event(\"Update_Mission_Event\");\r\n            return newMission;\r\n        }\r\n    }\r\n\r\n    updateMission(missionIndex, clear?) {\r\n        for (var i = 0; i < this.currentMission.length; i++) {\r\n            if (missionIndex == this.currentMission[i]) {\r\n                var missionConfig = this.missionConfig[missionIndex];\r\n\r\n                if (clear && missionConfig.currentCount < missionConfig.totalCount) {\r\n                    missionConfig.currentCount = 0;\r\n                }\r\n                else {\r\n                    missionConfig.currentCount++;\r\n                }\r\n            }\r\n        }\r\n        Context.Event.event(\"Update_Mission_Event\");\r\n    }\r\n\r\n    get finishMission() {\r\n        for (var i = 0; i < this.currentMission.length; i++) {\r\n            var missionConfig = this.missionConfig[this.currentMission[i]];\r\n            if (missionConfig) {\r\n                if (missionConfig.currentCount >= missionConfig.totalCount) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}","export default class BasePlatform {\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    /**Banner广告 ID */\r\n    bannerId: string = \"\";\r\n    /**视频激励 ID */\r\n    videoId: string = \"\";\r\n    /**插屏广告 ID */\r\n    interId: string = \"\";\r\n\r\n    /**是否存在Banner广告 */\r\n    existBannerAd: boolean = false;\r\n    /**是否存在视频广告 */\r\n    existVideoAd: boolean = false;\r\n    /**是否存在插屏广告 */\r\n    existInterAd: boolean = false;\r\n\r\n    /**初始化平台 */\r\n    init() { console.error(\"初始化平台失败\"); }\r\n\r\n    /**Banner广告加载 */\r\n    loadBanner() { console.error(\"暂不支持调用接口: loadBanner\"); }\r\n    /**Banner广告显示 */\r\n    showBanner() { console.error(\"暂不支持调用接口: showBanner\"); }\r\n    /**Banner广告隐藏 */\r\n    hideBanner() { console.error(\"暂不支持调用接口: hideBanner\"); }\r\n\r\n    /**视频广告加载 */\r\n    loadVideoAd() { console.error(\"暂不支持调用接口: loadVideoAd\"); }\r\n    /**视频广告显示 */\r\n    showVideoAd() { console.error(\"暂不支持调用接口: showVideoAd\"); }\r\n}\r\n\r\n/**平台类型 */\r\nexport enum PlatformType {\r\n    /**微信 */\r\n    WeiXin,\r\n    /**QQ */\r\n    Qq,\r\n    /**vivo */\r\n    Vivo,\r\n    /**oppo */\r\n    Oppo,\r\n    /**字节跳动 - 头条，抖音，西瓜视频，皮皮虾 */\r\n    ZiJieTiaoDong,\r\n    /**梦工厂 */\r\n    Mgc,\r\n    /**百度 */\r\n    Swan,\r\n    /**安卓 */\r\n    Android,\r\n    /**IOS */\r\n    Ios\r\n}","import GameConfig from \"../../GameConfig\";\r\nimport Context from \"../Context\";\r\n\r\nexport default class WxPlatformBannerAd {\r\n\r\n    static _instance: WxPlatformBannerAd;\r\n    static get Instance(): WxPlatformBannerAd {\r\n        if (!WxPlatformBannerAd._instance) {\r\n            WxPlatformBannerAd._instance = new WxPlatformBannerAd;\r\n        }\r\n        return WxPlatformBannerAd._instance;\r\n    }\r\n\r\n    private _sysInfo: any;\r\n    get sysInfo() {\r\n        if (!this._sysInfo) {\r\n            this._sysInfo = wx[\"getSystemInfoSync\"]();\r\n        }\r\n        return this._sysInfo;\r\n    }\r\n\r\n    /**bannerIds */\r\n    bannerIds: string[];\r\n\r\n    /**使用新机制 */\r\n    useInnovation: boolean;\r\n\r\n    /**拉取并曝光banner */\r\n    isloadAndShow: boolean;\r\n\r\n    /**拉取banner失败 */\r\n    isLoadBannerError: boolean;\r\n\r\n    showBanner: Function;\r\n    hideBanner: Function;\r\n\r\n    /**初始化广告 */\r\n    initAd(isAllowArea, isAllowScene, bannerCount = 5, changeTime = 30000, refreshNum = 1, bannerNum = 1, bannerIds = [],firstBannerIds =[]) {\r\n        //本地bannerIds\r\n        this.bannerIds = firstBannerIds;\r\n\r\n        if (isAllowArea && isAllowScene) { //新机制\r\n            this.changeTime = changeTime;\r\n            this.refreshNum = refreshNum;\r\n            this.bannerNum = bannerNum;\r\n            this.bannerIds = this.bannerIds.concat(bannerIds);\r\n\r\n            this.useInnovation = true;\r\n            this.loadBannerNew();\r\n            this.showBanner = this.showBannerNew;\r\n            this.hideBanner = this.hideBannerNew;\r\n        }\r\n        else {  //旧机制\r\n            this.bannerCount = bannerCount;\r\n            this.currentCount = bannerCount;\r\n\r\n            this.useInnovation = false;\r\n            this.loadBannerOld();\r\n            this.showBanner = this.showBannerOld;\r\n            this.hideBanner = this.hideBannerOld;\r\n        }\r\n    }\r\n\r\n    /**随机使用bannerId */\r\n    getBannerId() {\r\n        var randomIndex = Math.floor(Math.random() * 100) % this.bannerIds.length;\r\n        this.currentBannerId = this.bannerIds[randomIndex];\r\n        return this.bannerIds[randomIndex];\r\n    }\r\n\r\n    /**设置banner的位置 */\r\n    setBannerTop(top) {\r\n        if (!this.currentBanner) return;\r\n\r\n        let sysInfo = this.sysInfo;\r\n        if (this.useInnovation) {\r\n            var bannerAd = this.currentBanner.banner;\r\n        }\r\n        else {\r\n            bannerAd = this.currentBanner;\r\n        }\r\n        let realHeight = bannerAd.style.realHeight + 0.1;\r\n        if (sysInfo.model.startsWith(\"iPhone X\")) realHeight += (40 / Laya.Browser.height) * GameConfig.height;\r\n        bannerAd.style.top = sysInfo.screenHeight - realHeight + top;\r\n    }\r\n\r\n    /*************** 旧banner机制 ***************/\r\n    /**banner展示次数 */\r\n    bannerCount: number;\r\n    /**当前剩余展示次数 */\r\n    currentCount: number;\r\n\r\n    /**是否正在拉取banner */\r\n    isLoading: boolean;\r\n\r\n    /**是否已经显示banner */\r\n    isShowBanner: boolean;\r\n\r\n    /**当前使用的bannerId */\r\n    currentBannerId: string\r\n\r\n    /**当前展示banner */\r\n    currentBanner: any;\r\n\r\n    private loadBannerOld() {\r\n        if (!Laya.Browser.onWeiXin) return;\r\n        if (this.isLoading) return;\r\n\r\n        this.isLoading = true;\r\n\r\n        if (this.currentBanner) {\r\n            this.currentBanner.destroy();\r\n            this.currentBanner = null;\r\n        }\r\n\r\n        let sysInfo = this.sysInfo;\r\n        let id = this.getBannerId();\r\n        let bannerAd = wx[\"createBannerAd\"]({\r\n            adUnitId: id,\r\n            style: {\r\n                top: sysInfo.screenHeight * 0.8,\r\n                width: 300,\r\n                left: sysInfo.screenWidth / 2 - 150\r\n            }\r\n        })\r\n\r\n        bannerAd.onLoad(() => {\r\n            console.log(\"create banner success\")\r\n            WxPlatformBannerAd.Instance.currentBanner = bannerAd;\r\n            WxPlatformBannerAd.Instance.isLoading = false;\r\n            WxPlatformBannerAd.Instance.isLoadBannerError = false;\r\n\r\n            if (WxPlatformBannerAd.Instance.isloadAndShow) {\r\n                WxPlatformBannerAd.Instance.isloadAndShow = false;\r\n                WxPlatformBannerAd.Instance.showBannerOld();\r\n            }\r\n        });\r\n\r\n        bannerAd.onError((err) => {\r\n            console.log(\"create banner error\", err);\r\n            WxPlatformBannerAd.Instance.isLoading = false;\r\n            WxPlatformBannerAd.Instance.isLoadBannerError = true;\r\n\r\n            //TODON 派发拉取失败事件-关闭宝箱误触页\r\n            Context.Event.event(\"Hide_Clear_View\");\r\n        });\r\n\r\n        bannerAd.onResize((res) => {\r\n            let realHeight = bannerAd.style.realHeight + 0.1;\r\n            if (sysInfo.model.startsWith(\"iPhone X\")) realHeight += (40 / Laya.Browser.height) * GameConfig.height;\r\n            bannerAd.style.top = sysInfo.screenHeight - realHeight;\r\n        });\r\n    }\r\n\r\n    private showBannerOld() {\r\n        if (!this.currentBanner) {\r\n            this.isloadAndShow = true;\r\n            this.loadBannerOld();\r\n            return;\r\n        }\r\n\r\n        if (Laya.Browser.onWeiXin) {\r\n            if (!this.currentBanner) return;\r\n            if (this.isShowBanner) return;\r\n\r\n            this.isShowBanner = true;\r\n\r\n            let banner = this.currentBanner;\r\n            banner.show();\r\n            console.log(\"show banner\");\r\n\r\n            this.setBannerTop(0);\r\n        }\r\n    }\r\n\r\n    private hideBannerOld() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            this.isloadAndShow = false;\r\n\r\n            if (this.isShowBanner == false) return;\r\n            this.isShowBanner = false;\r\n            if (!this.currentBanner) return;\r\n            this.currentBanner.hide();\r\n            console.log(\"hide banner\", this.isShowBanner, this.currentBanner);\r\n            this.countBanner();\r\n        }\r\n    }\r\n\r\n    private countBanner() {\r\n        if (!this.currentBanner) return;\r\n        if (this.currentCount == 0) {\r\n            this.currentCount = this.bannerCount;\r\n            this.loadBannerOld();\r\n        }\r\n        this.currentCount--;\r\n\r\n        console.log(\"banner剩余展示次数\", this.bannerCount);\r\n    }\r\n\r\n\r\n    /*************** 新banner机制 ***************/\r\n    /**banner刷新间隔 */\r\n    changeTime: number;\r\n    /**banner列表轮询次数 */\r\n    refreshNum: number;\r\n    /**bannerId创建banner数 */\r\n    bannerNum: number;\r\n\r\n    /**当前展示索引 */\r\n    currentIndex: number = 0;\r\n\r\n    /**banner列表 */\r\n    banners: any[];\r\n\r\n\r\n    private loadBannerNew() {\r\n        if (!Laya.Browser.onWeiXin) return;\r\n        console.log(\"create banner\");\r\n\r\n        this.banners = [];\r\n        let sysInfo = this.sysInfo;\r\n\r\n        let count = this.bannerIds.length * this.bannerNum;\r\n        let errCount = count;\r\n\r\n        for (let i = 0; i < this.bannerIds.length; i++) {\r\n            let id = this.bannerIds[i];\r\n            for (let j = 0; j < this.bannerNum; j++) {\r\n                let bannerAd = wx[\"createBannerAd\"]({\r\n                    adUnitId: id,\r\n                    style: {\r\n                        top: sysInfo.screenHeight *0.8,\r\n                        width: 300,\r\n                        left: sysInfo.screenWidth / 2 - 150\r\n                    }\r\n                })\r\n\r\n                bannerAd.onLoad(() => {\r\n                    let item = { banner: bannerAd, showCount: 0 };\r\n                    WxPlatformBannerAd.Instance.banners.push(item);\r\n                    WxPlatformBannerAd.Instance.isLoadBannerError = false;\r\n\r\n                    if (--count == 0) {\r\n                        if (WxPlatformBannerAd.Instance.isloadAndShow) {\r\n                            WxPlatformBannerAd.Instance.showBanner();\r\n                        }\r\n                        console.log(\"front_banner_ids=========\", this.banners);\r\n                    }\r\n                });\r\n\r\n                bannerAd.onError((err) => {\r\n                    console.log(\"create banner error\", err);\r\n\r\n                    if (--errCount == 0) {\r\n                        WxPlatformBannerAd.Instance.isLoadBannerError = true;\r\n                        \r\n                        //TODON 派发拉取失败事件-关闭宝箱误触页\r\n                        Context.Event.event(\"Hide_Clear_View\");\r\n                    }\r\n                });\r\n\r\n                bannerAd.onResize((res) => {\r\n                    let realHeight = bannerAd.style.realHeight + 0.1;\r\n                    if (sysInfo.model.startsWith(\"iPhone X\")) realHeight += (40 / Laya.Browser.height) * GameConfig.height;\r\n                    bannerAd.style.top = sysInfo.screenHeight - realHeight;\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    private showBannerNew() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            this.hideBannerNew();\r\n            if (!this.banners || this.banners.length == 0) {\r\n                this.loadBannerNew();\r\n                this.isloadAndShow = true;\r\n                return;\r\n            }\r\n            if (this.currentIndex >= this.banners.length) this.currentIndex = 0;\r\n            let item = this.banners[this.currentIndex];\r\n            Laya.timer.once(this.changeTime, this, this.showBannerNew);\r\n\r\n            if (!item || !item.banner) return;\r\n\r\n            this.currentIndex++;\r\n            item.banner.show();\r\n            item.showCount++;\r\n\r\n            this.currentBanner = item;\r\n            console.log(\"show banner\", this.currentIndex - 1);\r\n\r\n            this.setBannerTop(0);\r\n        }\r\n    }\r\n\r\n    private hideBannerNew() {\r\n        this.isloadAndShow = false;\r\n\r\n        if (Laya.Browser.onWeiXin) {\r\n            let item = this.currentBanner;\r\n            if (!item) return;\r\n\r\n            item.banner.hide();\r\n            if (item.showCount >= this.refreshNum) {\r\n                item.banner.destroy();\r\n                this.banners.splice(this.banners.indexOf(item), 1);\r\n                console.log(\"destroy banner\")\r\n            }\r\n            console.log(\"hide banner\", this.currentIndex - 1);\r\n            this.currentBanner = null;\r\n            Laya.timer.clear(this, this.showBannerNew);\r\n        }\r\n    }\r\n}","import BasePlatform from \"./BasePlatform\";\r\nimport Context from \"../Context\";\r\nimport { SoundType, SceneType } from \"../enums/EnumType\";\r\nimport EventType from \"../utils/EventType\";\r\nimport GameConfig from \"../../GameConfig\";\r\nimport JJMgr, { SceneDir } from \"../../JJExport/Common/JJMgr\";\r\nimport WxPlatformBannerAd from \"./WxPlatformBannerAd\";\r\nimport ExportAndAdControl from \"../ExportAndAdControl\";\r\nimport Data from \"../../scripts/tools/Data\";\r\n// import ScrollUI from \"../../JJExport/View/ScrollUI\";\r\n\r\nexport default class WxPlatform extends BasePlatform {\r\n    private shareCallBack: Function;\r\n    private shareTime: number;\r\n\r\n    sysInfo: any;\r\n\r\n    private bannerItem: any;\r\n    // private bannerList: any[] = [];\r\n\r\n    bannerCount: number;\r\n    private videoAd: any;\r\n    bannerIds: string[]\r\n\r\n    init() {\r\n        // this.bannerIds = [\"adunit-71fd188ed0fb84d3\", \"adunit-e6328d5cc7a4659b\"];\r\n        // if (Laya.Browser.onWeiXin) {\r\n        //     this.getSystemInfoSync();\r\n        //     this.videoId = \"adunit-8800b594a04d7916\";\r\n        //     this.interId = \"\";\r\n        //     this.initAd();\r\n\r\n        //     // this.login();\r\n\r\n        //     // this.regisiterWxCallback();\r\n        //     // this.showShareMenuWithTicket(true);\r\n        //     // this.regisiterWXShareCallback();\r\n\r\n        //     var launchInfo = wx.getLaunchOptionsSync();\r\n        //     var query = launchInfo.query;\r\n        //     console.log(\"init query:\", query);\r\n        // }\r\n    }\r\n\r\n\r\n    initAd() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            // this.loadBanner();\r\n            this.loadVideoAd();\r\n        }\r\n    }\r\n\r\n    currentBannerId: string\r\n    getBannerId() {\r\n        var randomIndex = Math.floor(Math.random() * 100) % this.bannerIds.length;\r\n        this.currentBannerId = this.bannerIds[randomIndex];\r\n        return this.bannerIds[randomIndex];\r\n    }\r\n\r\n\r\n    bannerSize: any;\r\n    bannerTopFactor: number = 0;\r\n    setBannerTop(top) {\r\n        WxPlatformBannerAd.Instance.setBannerTop(top);\r\n        return;\r\n        if (!this.existBannerAd) return;\r\n        // if (!this.bannerList || this.bannerList.length == 0) return;\r\n        if (!this.bannerItem) return;\r\n\r\n        this.bannerTopFactor = top;\r\n        var sysInfo = this.sysInfo;\r\n\r\n        // for (var i = 0; i < this.bannerList.length; i++) {\r\n        //     var bannerAd = this.bannerList[i];\r\n        //     let realHeight = bannerAd.style.realHeight + 0.1;\r\n        //     if (sysInfo.model.startsWith(\"iPhone X\")) realHeight += (40 / Laya.Browser.height) * GameConfig.height;\r\n        //     bannerAd.style.top = sysInfo.screenHeight - realHeight + this.bannerTopFactor;\r\n        // }\r\n\r\n        var bannerAd = this.bannerItem;\r\n        let realHeight = bannerAd.style.realHeight + 0.1;\r\n        if (sysInfo.model.startsWith(\"iPhone X\")) realHeight += (40 / Laya.Browser.height) * GameConfig.height;\r\n        bannerAd.style.top = sysInfo.screenHeight - realHeight + this.bannerTopFactor;\r\n\r\n        // if (this.bannerItem != null) {\r\n        //     this.bannerItem.style.top = this.sysInfo.screenHeight - this.bannerSize.height + this.bannerTopFactor;\r\n        // }\r\n    }\r\n\r\n    // loadGameBanner() {\r\n    //     //最多保存3个BannerAd\r\n    //     if (!Laya.Browser.onWeiXin) return;\r\n    //     // if (!this.bannerList || this.bannerList.length > 2) return;\r\n\r\n    //     var self = this;\r\n    //     var sysInfo = this.sysInfo;\r\n\r\n    //     console.log(\"GameBanner 开始加载\");\r\n    //     var bannerAd = wx.createGameBanner({\r\n    //         adUnitId: \"PBgAA14R_5vYdLZA\",\r\n    //         //    style: {\r\n    //         //        top: sysInfo.screenHeight * 0.8,\r\n    //         //        width: sysInfo.screenWidth * 0.8,\r\n    //         //        left: sysInfo.screenWidth * 0.2 / 2\r\n    //         //    }\r\n    //     });\r\n\r\n    //     bannerAd.onLoad(() => {\r\n    //         self.existBannerAd = true;\r\n    //         self.bannerList.push(bannerAd);\r\n\r\n    //         console.log(\"GameBanner 加载成功\");\r\n    //     });\r\n\r\n    //     bannerAd.onError((err) => {\r\n    //         self.existBannerAd = false;\r\n    //         console.error(\"GameBanner 加载错误\", err);\r\n    //     });\r\n\r\n    //     bannerAd.onResize(function (res) {\r\n    //         if (!bannerAd) return;\r\n    //         let realHeight = bannerAd.style.height + 0.1;\r\n    //         if (sysInfo.model.startsWith(\"iPhone X\")) realHeight += (40 / Laya.Browser.height) * GameConfig.height;\r\n    //         bannerAd.style.top = sysInfo.screenHeight - realHeight;\r\n    //     });\r\n    // }\r\n\r\n    countBanner() {\r\n        if (!this.existBannerAd) return;\r\n        // if (!this.bannerList || this.bannerList.length == 0) return;\r\n\r\n        if (this.bannerCount == 0) {\r\n            this.bannerCount = JJMgr.instance.showBannerCount;\r\n            // this.bannerList[0].destroy();\r\n            // this.bannerList.shift();\r\n            this.loadBanner();\r\n        }\r\n        this.bannerCount--;\r\n\r\n        console.log(\"剩余展示次数\", this.bannerCount);\r\n    }\r\n\r\n    loadVideoAd() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            var self = this;\r\n            var videoAd = this.videoAd;\r\n            if (videoAd != null) {\r\n                videoAd.offLoad(onLoadVideo);\r\n                videoAd.offError(onErrorVideo);\r\n                videoAd.offClose(onCloseVideo);\r\n            }\r\n\r\n            var videoAd = wx.createRewardedVideoAd({ adUnitId: self.videoId });\r\n            videoAd.onLoad(onLoadVideo);\r\n            videoAd.onError(onErrorVideo);\r\n            videoAd.onClose(onCloseVideo);\r\n            this.videoAd = videoAd;\r\n        }\r\n\r\n        function onLoadVideo() {\r\n            console.log('video 加载成功');\r\n            self.existVideoAd = true;\r\n        }\r\n\r\n        function onErrorVideo(err) {\r\n            console.error('video 加载错误', err);\r\n            self.existVideoAd = false;\r\n        }\r\n\r\n        function onCloseVideo(res) {\r\n            // 小于 2.1.0 的基础库版本，res 是一个 undefined\r\n            let isEnded = (res && res.isEnded || res === undefined) ? true : false;\r\n            if (isEnded) {\r\n                //观看视频成功次数埋点\r\n            }\r\n            Context.Event.event(EventType.AD_VIDEO_CLOSE_EVENT, { isEnded: isEnded });\r\n        }\r\n    }\r\n\r\n    showVideoAd() {\r\n        if (!Laya.Browser.onWeiXin) return;\r\n        if (!this.existVideoAd) {\r\n            Context.Platform.showToast(\"暂无视频\", 2000);\r\n            this.videoAd.load();\r\n            return;\r\n        }\r\n        if (Laya.Browser.onWeiXin) {\r\n            var videoAd = this.videoAd;\r\n            videoAd.show().then(() => { }).catch(err => {\r\n                videoAd.load().then(() => videoAd.show());\r\n            });\r\n        }\r\n    }\r\n\r\n    // bannerLoadError: boolean = false;\r\n\r\n    isLoading: boolean;\r\n    isloadAndShow: boolean\r\n    loadBanner(isShow?) {\r\n        //最多保存3个BannerAd\r\n        if (!Laya.Browser.onWeiXin) return;\r\n        // if (!this.bannerList || this.bannerList.length > 2) return;\r\n\r\n        if (isShow)\r\n            this.isloadAndShow = isShow;\r\n\r\n        if (this.isLoading) return;\r\n\r\n        this.isLoading = true;\r\n        //if (this.bannerList.length == 0) \r\n        this.existBannerAd = false;\r\n\r\n        var self = this;\r\n        var sysInfo = this.sysInfo;\r\n\r\n        var id = this.getBannerId();\r\n        var bannerAd = wx.createBannerAd({\r\n            adUnitId: id,\r\n            style: {\r\n                top: sysInfo.screenHeight * 0.8,\r\n                width: 300,\r\n                left: sysInfo.screenWidth / 2 - 150\r\n            }\r\n        });\r\n\r\n        bannerAd.onLoad(() => {\r\n            console.log(\"Banner 加载成功\");\r\n            self.existBannerAd = true;\r\n\r\n            self.bannerItem = bannerAd;\r\n            // self.bannerList.push(bannerAd);\r\n\r\n            self.isLoading = false;\r\n            self.bannerLoadError = false;\r\n\r\n            if (self.isloadAndShow) {\r\n                self.isloadAndShow = false;\r\n\r\n                var scene: any = Context.UI.getTopScene;\r\n                if (scene && scene.canShowAd && !scene.isWuchu && JJMgr.instance.openSceneCount == 0) {\r\n                    self.showBanner();\r\n                    // console.log(\"==============1\");\r\n                }\r\n            }\r\n            else {\r\n                if (!self.isShowBanner) {\r\n                    var scene: any = Context.UI.getTopScene;\r\n                    if (scene && scene.canShowAd && !scene.isWuchu && JJMgr.instance.openSceneCount == 0) {\r\n                        self.showBanner();\r\n                        // console.log(\"==============2\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        bannerAd.onError((err) => {\r\n            self.existBannerAd = false;\r\n            console.error(\"Banner 加载错误\", err);\r\n\r\n            // self.bannerId = self.fakeBannerId;\r\n            //self.loadGameBanner();\r\n\r\n            self.isLoading = false;\r\n\r\n            //TODON 报错强行关闭界面\r\n            self.bannerLoadError = true;\r\n            Context.Event.event(\"Hide_Clear_View\");\r\n        });\r\n\r\n        bannerAd.onResize((res) => {\r\n            if (!bannerAd) return;\r\n            let realHeight = bannerAd.style.realHeight + 0.1;\r\n            bannerAd.style.top = sysInfo.screenHeight - realHeight + self.bannerTopFactor;\r\n        });\r\n\r\n        // //监听banner尺寸修正\r\n        // bannerAd.onResize(res => {\r\n        //     if (isIphonex) {\r\n        //         bannerAd.style.top = winSize.windowHeight - this.bannerAd.style.realHeight - 10\r\n        //     } else {\r\n        //         this.bannerAd.style.top = winSize.windowHeight - this.bannerAd.style.realHeight\r\n        //     }\r\n        //     this.bannerAd.style.left = winSize.windowWidth / 2 - this.bannerAd.style.realWidth / 2\r\n        // })\r\n    }\r\n\r\n    // showScrollUI() {\r\n    //     // if (this.isShowBanner) return;\r\n    //     // this.isShowBanner = true;\r\n    //     if (ScrollUI.scrollScene == null) {\r\n    //         JJMgr.instance.openScene(SceneDir.SCENE_SCROLLUI);\r\n    //     }\r\n    //     else {\r\n    //         Laya.stage.setChildIndex(ScrollUI.scrollScene, Laya.stage.numChildren - 1);\r\n    //     }\r\n    // }\r\n\r\n    // hideScrollUI() {\r\n    //     // if (!this.isShowBanner) return;\r\n    //     // this.isShowBanner = false;\r\n    //     if (ScrollUI.scrollScene != null) {\r\n    //         JJMgr.instance.closeScene(SceneDir.SCENE_SCROLLUI);\r\n    //         ScrollUI.scrollScene = null;\r\n    //     }\r\n    // }\r\n\r\n    isShowBanner: boolean = false;\r\n    showBanner(isSetTop?, isFull?) {\r\n        // if (this.bannerLoadError && JJMgr.instance.isFinished) {\r\n        //     this.showScrollUI();\r\n        //     return;\r\n        // }\r\n        if (!Laya.Browser.onWeiXin)\r\n            return;\r\n        WxPlatformBannerAd.Instance.showBanner();\r\n        return;\r\n        if (!this.existBannerAd) {\r\n            this.loadBanner(true);\r\n            console.log(\"加载并展示\");\r\n            return;\r\n        }\r\n\r\n        if (!this.bannerItem) return;\r\n        // if (!this.bannerList || this.bannerList.length == 0) return;\r\n        if (this.isShowBanner) return;\r\n\r\n        if (Laya.Browser.onWeiXin) {\r\n            if (Context.UI.forceHide) {\r\n                Context.UI.forceHide = false;\r\n                return;\r\n            }\r\n            this.isShowBanner = true;\r\n            // this.countBanner();\r\n\r\n            // var banner = this.bannerList[0];\r\n            var banner = this.bannerItem;\r\n            if (!banner) return;\r\n            banner.show();\r\n\r\n            this.JJBannerAdShowCount();\r\n            console.log(\"show banner\");\r\n\r\n            // if (isFull) {\r\n            //     banner.style.width = this.sysInfo.screenWidth;\r\n            //     banner.style.left = 0 //this.sysInfo.screenWidth / 2\r\n            // }\r\n            // else {\r\n            //     banner.style.width = this.sysInfo.screenWidth * 0.8;\r\n            //     banner.style.left = this.sysInfo.screenWidth * 0.2 / 2\r\n            //     // banner.width = this.sysInfo.screenWidth * 0.8;\r\n            // }\r\n\r\n            if (isSetTop) return;\r\n            this.setBannerTop(0);\r\n        }\r\n    }\r\n\r\n    hideBanner() {\r\n        if (!Laya.Browser.onWeiXin)\r\n            return;\r\n        WxPlatformBannerAd.Instance.hideBanner();\r\n\r\n        // if (JJMgr.instance.isFinished) {\r\n        //     this.hideScrollUI();\r\n        // }\r\n\r\n        if (!this.existBannerAd) return;\r\n        if (!this.bannerItem) return;\r\n        // if (!this.bannerList || this.bannerList.length == 0) return;\r\n        if (this.isShowBanner == false) return;\r\n\r\n        if (Laya.Browser.onWeiXin) {\r\n            this.isShowBanner = false;\r\n\r\n            // var banner = this.bannerList[0];\r\n            var banner = this.bannerItem;\r\n            if (!banner) return;\r\n            banner.hide();\r\n            console.log(\"hide banner\");\r\n\r\n            this.countBanner();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // login() {\r\n    //     if (Laya.Browser.onWeiXin) {\r\n    //         var self = this;\r\n    //         wx.login(\r\n    //             {\r\n    //                 pkgName: \"\",\r\n    //                 success: function (loginRes) {\r\n    //                     let code = loginRes.code;\r\n    //                     let param: any = {};\r\n    //                     param.code = code;\r\n\r\n    //                     JJMgr.instance.initJJ(Context.CommonData.gameVersion, code, () => {\r\n    //                         // Laya.timer.once(3000, this, ()=>{\r\n    //                         self.regisiterWxCallback();\r\n    //                         self.showShareMenuWithTicket(true);\r\n    //                         self.regisiterWXShareCallback();\r\n    //                         // });\r\n    //                     });\r\n\r\n    //                 },\r\n    //                 fail: function () {\r\n    //                 },\r\n    //                 complete: function () {\r\n    //                 }\r\n    //             }\r\n    //         );\r\n    //     }\r\n    // }\r\n\r\n    getSystemInfoSync() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            this.sysInfo = wx.getSystemInfoSync();\r\n\r\n            // var name: string = this.sysInfo.model;\r\n            // var num = name.split(' ')[1];\r\n            // if (Number(num) < 8) {\r\n            //     Context.Storage.setValue(Context.Storage.storageName.isSound, false);\r\n            // }\r\n        }\r\n    }\r\n\r\n    /**微信回调 */\r\n    regisiterWxCallback() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            wx.offShow(this.onShowEvent);\r\n            wx.onShow(this.onShowEvent);\r\n            wx.offHide(this.onHideEvent);\r\n            wx.onHide(this.onHideEvent);\r\n        }\r\n    }\r\n\r\n    /**切到前台 */\r\n    onShowEvent(e) {\r\n        // ExportAndAdControl.ISeeYou_ReCheck(e);\r\n        Data.soundController.playMusic(SoundType.BGM)\r\n    }\r\n    // onShowEvent(e) {\r\n    //     let isRpt: boolean = e.referrerInfo && e.referrerInfo.extraData && e.referrerInfo.extraData.is_rpt\r\n    //     console.log(\"启动场景\", e.scene, JJMgr.instance.dataConfig.front_rpt_scene.indexOf(e.scene) != -1, JJMgr.instance.dataConfig.front_rpt_scene.indexOf(e.scene.toString()) != -1, isRpt);\r\n    //     if (JJMgr.instance.dataConfig.front_rpt_scene.indexOf(e.scene.toString()) != -1 || isRpt) {\r\n    //         console.log(\"gwc----------------\");\r\n    //         JJMgr.instance.is_rpt = true;\r\n    //         JJMgr.instance.closeAllTrap();\r\n\r\n    //         if (Context.UI.getTopScene && Context.UI.getTopScene.url == SceneType.Home) {\r\n    //             JJMgr.instance.closeScene(SceneDir.SCENE_FULLGAMEUI);\r\n    //             JJMgr.instance.closeScene(SceneDir.SCENE_RECOMMENDUI);\r\n\r\n    //             Context.UI.closeScene(SceneType.Home);\r\n    //             Context.UI.openScene(SceneType.Home);\r\n    //         }\r\n    //         else if(!Context.UI.getTopScene){\r\n    //             JJMgr.instance.closeScene(SceneDir.SCENE_FULLGAMEUI);\r\n    //             JJMgr.instance.closeScene(SceneDir.SCENE_RECOMMENDUI);\r\n\r\n    //             Context.UI.openScene(SceneType.BusyLoading);\r\n    //         }\r\n\r\n    //         // if(Context.UI.getTopScene && Context.UI.getTopScene.url == SceneType.Clean){\r\n    //         Context.Event.event(\"Hide_Clear_View\");\r\n    //         // }\r\n    //     }\r\n\r\n\r\n\r\n    //     if (Context.UI.getTopScene && Context.UI.getTopScene.url == SceneType.Game3D && JJMgr.instance.openSceneCount == 0) {\r\n    //         Context.Game.isPlay = true;\r\n    //         // if (JJMgr.instance.dataConfig.front_main_banner_switch) {\r\n    //         //     Context.Platform.showBanner();\r\n    //         //     // console.log(\"==============3\");\r\n    //         // }\r\n    //     }\r\n\r\n    //     // if ((Context.UI.getTopScene.url == SceneType.Settlement || Context.UI.getTopScene.url == SceneType.Reborn) && !JJMgr.instance.isOpenWeChat) {\r\n    //     //     Laya.timer.once(1000, this, () => {\r\n    //     //         if (JJMgr.instance.isFinished) {\r\n    //     //             JJMgr.instance.openScene(SceneDir.SCENE_WECHATUI);\r\n    //     //         }\r\n    //     //     });\r\n    //     // }\r\n\r\n    //     Context.Event.event(EventType.PLATFORM_WAKE_EVENT);\r\n\r\n    //     // if(Context.UI.getTopScene.url == SceneType.Game3D){\r\n    //     //     Context.Game.isPlay = true;\r\n    //     // }\r\n    // }\r\n\r\n    /**切到后台 */\r\n    onHideEvent() {\r\n        // Context.Game.isPause = true;\r\n        console.log(\"onHide\");\r\n        // Context.Storage.setValue(Context.Storage.storageName.offlineTime, new Date().getTime());\r\n        Context.Event.event(EventType.PLATFORM_SLEEP_EVENT);\r\n        // Context.Platform.JJSendIconExposure();\r\n\r\n        if (Context.Game.isPlay) {\r\n            Context.Game.isPlay = false;\r\n        }\r\n    }\r\n\r\n    /**显示右上角转发分享功能 */\r\n    showShareMenuWithTicket(ticket) {\r\n        wx.showShareMenu({\r\n            withShareTicket: ticket,\r\n            success: function () { },\r\n            fail: function () { },\r\n            complete: function () { }\r\n        })\r\n    }\r\n\r\n    /**注册右上角转发分享监听 */\r\n    regisiterWXShareCallback() {\r\n        var shareId = 1;\r\n        if (Laya.Browser.onWeiXin) {\r\n            var object = JJMgr.instance.shareContext;\r\n            wx.onShareAppMessage(function () {\r\n                console.log(\"用户点击了转发按钮\");\r\n                let shareObj = {\r\n                    title: object.title,\r\n                    imageUrl: object.image,\r\n                    query: \"share_id=\" + shareId,\r\n                    success: function (res) {\r\n                        //console.log(\"分享成功\");\r\n                    },\r\n                    fail: function () {\r\n                        //console.log(\"分享失败\");\r\n                    },\r\n                }\r\n                return shareObj;\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示提示内容\r\n     * @param title 描述内容\r\n     * @param duration 时间(毫秒)\r\n     */\r\n    showToast(title, duration) {\r\n        if (Laya.Browser.onWeiXin) {\r\n            wx.showToast({\r\n                title: title,\r\n                duration: duration,\r\n                icon: 'none',\r\n                success: function () { },\r\n                fail: function () { },\r\n                complete: function () { },\r\n                image: \"\",\r\n                mask: false\r\n            });\r\n        }\r\n    }\r\n\r\n    /**分享游戏 */\r\n    shareGame(callBack?: Function) {\r\n        if (Laya.Browser.onWeiXin) {\r\n            console.log(\"分享游戏\");\r\n            // var shareId = 1;\r\n            var object = JJMgr.instance.shareContext;\r\n            this.JJShareAppMessage(object, callBack);\r\n\r\n            // var shareObj = {\r\n            //     title: object.title,\r\n            //     imageUrl: object.image,\r\n            //     query: \"share_id=\" + shareId,\r\n            //     success: function () { },\r\n            //     fail: function () { },\r\n            //     complete: function () { },\r\n            // };\r\n\r\n            // wx.shareAppMessage(shareObj);\r\n\r\n            // if (callBack) {\r\n            //     console.log(\"分享回调\", callBack);\r\n            //     this.shareCallBack = callBack;\r\n            //     this.shareTime = new Date().getTime();\r\n            // }\r\n        }\r\n    }\r\n\r\n    /**手机短震动 */\r\n    playVibrateShort() {\r\n        // && Context.Storage.storageData.isVibrate\r\n        if (Laya.Browser.onWeiXin ) {\r\n            wx.vibrateShort({\r\n                success: function () { },\r\n                fail: function () { },\r\n                complete: function () { }\r\n            })\r\n        }\r\n    }\r\n\r\n    /**手机长震动 */\r\n    playVibrateLong() {\r\n        // && Context.Storage.storageData.isVibrate\r\n        if (Laya.Browser.onWeiXin ) {\r\n            wx.vibrateLong({\r\n                success: function () { },\r\n                fail: function () { },\r\n                complete: function () { }\r\n            })\r\n        }\r\n    }\r\n\r\n    showModal(content) { //提示，取消，重新分享\r\n        if (!Laya.Browser.onWeiXin) return;\r\n        var self = this;\r\n        wx.showModal({\r\n            title: \"提示\",\r\n            content: content,\r\n            showCancel: true,\r\n            confirmText: \"重新分享\",\r\n\r\n            success(res) {\r\n                if (res.confirm) {\r\n                    console.log(\"点击确定\");\r\n                    self.shareGame(self.shareCallBack);\r\n                }\r\n                else if (res.cancel) {\r\n                    console.log(\"点击取消\");\r\n                }\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    /******************** ald-统计 ********************/\r\n    /**\r\n     * 埋点事件\r\n     * @param eventName 事件名称\r\n     * @param params 参数\r\n     */\r\n    aldSendEvent(eventName: string, params?) {\r\n        // console.log(\"埋点：\", eventName);\r\n        // if (Laya.Browser.onWeiXin) {\r\n        //     // wx.aldSendEvent(eventName, params);\r\n\r\n        //     //九九事件打点\r\n        //     wx[\"JJSendEvent\"](() => {\r\n        //         return {\r\n        //             name: eventName,\r\n        //             param: params\r\n        //         }\r\n        //     });\r\n        // }\r\n    }\r\n\r\n    aldSendOpenid(openId: string) {\r\n        // if (Laya.Browser.onWeiXin) {\r\n        //     wx.aldSendOpenid(openId);\r\n        // }\r\n    }\r\n\r\n    /******************** jiujiu-统计 ********************/\r\n    // ids: any[] = [];\r\n    // updateIds(ids) {\r\n    //     var newIds = [];\r\n    //     for (var i = 0; i < ids.length; i++) {\r\n    //         if (newIds.indexOf(ids[i]) == -1) {\r\n    //             newIds.push(ids[i]);\r\n    //         }\r\n    //     }\r\n    //     ids = newIds;\r\n\r\n    //     for (var i = 0; i < ids.length; i++) {\r\n    //         var hasId = this.ids.filter(w => {\r\n    //             if (w.id == ids[i]) {\r\n    //                 w.num++;\r\n    //                 return w;\r\n    //             }\r\n    //         }).length > 0;\r\n\r\n    //         if (!hasId) {\r\n    //             var id = { id: ids[i], num: 1 }\r\n    //             this.ids.push(id);\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    // /**\r\n    //  * 发送广告主icon曝光数统计\r\n    //  * @param ids 展示id\r\n    //  */\r\n    // JJSendIconExposure() {\r\n    //     if (Laya.Browser.onWeiXin) {\r\n    //         wx[\"JJSendIconExposure\"](() => {\r\n    //             var ids = [].concat(Context.Platform.ids);\r\n    //             Context.Platform.ids = [];\r\n    //             return ids;\r\n    //         });\r\n    //     }\r\n    // }\r\n\r\n    /**\r\n     * 统计Banner曝光数\r\n     */\r\n    JJBannerAdShowCount() {\r\n        var self = this;\r\n        if (Laya.Browser.onWeiXin) {\r\n            wx[\"JJBannerAdShowCount\"](() => {\r\n                return {\r\n                    adUnitId: self.currentBannerId,\r\n                    adUnitName: \"banner\",\r\n                    pageName: 'all'\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 统计激励视频曝光数\r\n     * @param isEnded 是否播放结束\r\n     * @param videoName 激励视频名称\r\n     */\r\n    JJSendVideoAdCount(isEnded, videoName) {\r\n        var self = this;\r\n        if (Laya.Browser.onWeiXin) {\r\n            wx[\"JJSendVideoAdCount\"](() => {\r\n                return {\r\n                    adUnitId: self.videoId,\r\n                    adUnitName: videoName,\r\n                    isEnded: isEnded\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 主动转发统计素材分享次数\r\n     * @param cb 分享回调\r\n     */\r\n    JJShareAppMessage(shareData, cb) {\r\n        wx[\"JJShareAppMessage\"](() => {\r\n            return {\r\n                title: shareData.title,\r\n                imageUrl: shareData.imageUrl,\r\n                id: shareData.id\r\n            }\r\n        }).then(res => {\r\n            cb(res);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 被动转发统计素材分享次数\r\n     */\r\n    JJOnShareAppMessage(shareData) {\r\n        wx[\"JJOnShareAppMessage\"](() => {\r\n            return {\r\n                title: shareData.title,\r\n                imageUrl: shareData.imageUrl,\r\n                id: shareData.id\r\n            }\r\n        });\r\n    }\r\n\r\n    JJStageStart(id, name) {\r\n        if (Laya.Browser.onWeiXin) {\r\n            wx[\"JJStage\"].onStart({\r\n                stageId: id,\r\n                stageName: name\r\n            })\r\n        }\r\n    }\r\n\r\n    JJStageEnd(id, name, event = \"complete\", params: any = { desc: \"关卡完成\" }) {\r\n        if (Laya.Browser.onWeiXin) {\r\n            wx[\"JJStage\"].onEnd({\r\n                stageId: id,\r\n                stageName: name,\r\n                event: event,\r\n                params: params\r\n            });\r\n        }\r\n    }\r\n\r\n    set bannerLoadError(v) { }\r\n    get bannerLoadError() { return WxPlatformBannerAd.Instance.isLoadBannerError }\r\n}","import BasePlatform, { PlatformType } from \"../platforms/BasePlatform\";\r\nimport WxPlatform from \"../platforms/WxPlatform\";\r\n\r\nexport default class PlatformManager extends WxPlatform {\r\n    // platformType: PlatformType;\r\n    // platform: WxPlatform;\r\n\r\n    // constructor(){\r\n    //     this.init();\r\n    // }\r\n\r\n    // init() {\r\n    //     this.platformType = PlatformType.WeiXin;\r\n\r\n    //     if (!this.platform) {\r\n    //         if (Laya.Browser.onWeiXin) {\r\n    //             this.platform = new WxPlatform();\r\n    //             this.platform.init();\r\n    //         }\r\n    //         // if (Laya.Browser.onQGMiniGame) {\r\n    //         //     this.platform = new OppoPlatform();\r\n    //         // }\r\n    //         // if (Laya.Browser.onQQMiniGame) {\r\n    //         //     this.platform = new QqPlatform();\r\n    //         // }\r\n    //     }\r\n    // }\r\n\r\n    // showBanner() {\r\n    //     this.platform.showBanner();\r\n    // }\r\n\r\n    // hideBanner() {\r\n    //     this.platform.hideBanner();\r\n    // }\r\n}","import Context from \"../Context\";\r\n\r\nexport default class NetManager {\r\n    host = \"https://api.jiujiuhuyu.com/\";\r\n    appKey = \"1a398b4ddd333191da6d1d20794d2fde\";\r\n\r\n    //method请求api\r\n    //parm  请求参数\r\n    //cb    完成回调\r\n    /**\r\n     * 发送 HTTP 请求。\r\n     * @param\turl\t\t\t\t请求的地址。大多数浏览器实施了一个同源安全策略，并且要求这个 URL 与包含脚本的文本具有相同的主机名和端口。\r\n     * @param\tdata\t\t\t(default = null)发送的数据。\r\n     * @param\tmethod\t\t\t(default = \"get\")用于请求的 HTTP 方法。值包括 \"get\"、\"post\"、\"head\"。\r\n     * @param\tresponseType\t(default = \"text\")Web 服务器的响应类型，可设置为 \"text\"、\"json\"、\"xml\"、\"arraybuffer\"。\r\n     * @param\theaders\t\t\t(default = null) HTTP 请求的头部信息。参数形如key-value数组：key是头部的名称，不应该包括空白、\r\n     * 冒号或换行；value是头部的值，不应该包括换行。比如[\"Content-Type\", \"application/json\"]。\r\n     */\r\n    request(method, param, cb, type = \"get\") {\r\n        let httpRequest = new Laya.HttpRequest();\r\n        httpRequest.once(Laya.Event.COMPLETE, this, cb); //response\r\n        httpRequest.once(Laya.Event.ERROR, this, this.errorHandler);\r\n        httpRequest.on(Laya.Event.PROGRESS, this, this.progressHandler);\r\n\r\n        let url = this.host + method;\r\n        // let data = JSON.stringify(param);\r\n        if (type == \"get\") {\r\n            httpRequest.send(url + param, \"\", \"get\", \"json\");\r\n        }\r\n        else if (type == \"post\") {\r\n            httpRequest.send(url, param, \"post\", \"json\", [\"Content-Type\", \"application/json;charset=UTF-8\"]);\r\n        }\r\n    }\r\n\r\n    errorHandler(res) {\r\n        console.error(\"HTTP 错误：\", res);\r\n    }\r\n\r\n    progressHandler(res) {\r\n        //console.log(\"HTTP 进度:\", res);\r\n    }\r\n\r\n    // response(res) {\r\n    //     let cb = this.callBackFunc[this.callBackFunc.length - 1];\r\n    //     this.callBackFunc.splice(this.callBackFunc.length - 1, 1);\r\n    //     if (cb) cb(res);\r\n    // }\r\n\r\n    getJJGameConfigs() {\r\n        let param: any = {};\r\n        param.version = Context.CommonData.gameVersion;\r\n        param.app_key = this.appKey;\r\n        param = this.getParam(param);\r\n        this.request(\"game/configs\", param, function (res) {\r\n            console.log(res);\r\n        });\r\n    }\r\n\r\n    getJJGameAds(position = '') {\r\n        let param: any = {};\r\n        param.app_key = this.appKey;\r\n        param.position_id = position;\r\n        param = this.getParam(param);\r\n        this.request(\"ads\", param, function (res) {\r\n            console.log(res);\r\n        });\r\n    }\r\n\r\n    getParam(param) {\r\n        var paramStr = \"?\"\r\n        for (let key in param) {\r\n            paramStr += key + \"=\" + param[key] + \"&\";\r\n        }\r\n        return paramStr;\r\n    }\r\n\r\n    gameConfigs = {\r\n\r\n    }\r\n}","import UiManager from \"./managers/UiManager\";\r\nimport CommonData from \"./utils/CommonData\";\r\nimport UtilsFunction from \"./utils/UtilsFunction\";\r\nimport EventType from \"./utils/EventType\";\r\nimport PrefabManager from \"./managers/PrefabManager\";\r\nimport GameManager from \"./managers/GameManager\";\r\nimport TweenManager from \"./managers/TweenManager\";\r\nimport LevelManager from \"./managers/LevelManager\";\r\nimport PlatformManager from \"./managers/PlatformManager\";\r\n// import StrengthManager from \"./managers/StrengthManager\";\r\nimport SoundManager from \"./managers/SoundManager\";\r\n// import CarAssemblyManager from \"./managers/CarAssemblyManager\";\r\nimport NetManager from \"./managers/NetManager\";\r\n// import CompoundManager from \"./managers/CompoundManager\";\r\n\r\nexport default class Context {\r\n    private static uiManager: UiManager;\r\n    private static storageManager: StorageManager;\r\n    private static prefabManager: PrefabManager\r\n    private static commonData: CommonData;\r\n    private static utils: UtilsFunction;\r\n    private static event: Laya.EventDispatcher;\r\n    private static gameManager: GameManager;\r\n    private static tweenManager: TweenManager;\r\n    private static platformManager: PlatformManager;\r\n    private static levelManager: LevelManager;\r\n    // private static strengthManager: StrengthManager;\r\n    private static soundManager: SoundManager;\r\n    private static netManager: NetManager;\r\n\r\n\r\n\r\n\r\n    // private static carAssemblyManage: CarAssemblyManager;\r\n\r\n    // private static compoundManager: CompoundManager;\r\n\r\n    /**初始化 */\r\n    static init() {\r\n        //事件初始化\r\n        for (var prop in EventType) {\r\n            // console.log(prop);\r\n            EventType[prop] = prop;\r\n        }\r\n\r\n        Context.UI;\r\n        Context.Storage;\r\n        Context.Prefab;\r\n        Context.CommonData;\r\n        Context.Utils;\r\n        Context.Event;\r\n        Context.Game;\r\n        Context.Tween;\r\n        Context.Level;\r\n        Context.Platform;\r\n        Context.Streng;\r\n        Context.Sound;\r\n\r\n    }\r\n\r\n    /**ui管理器 */\r\n    static get UI() {\r\n        if (!this.uiManager) {\r\n            this.uiManager = new UiManager();\r\n        }\r\n        return this.uiManager;\r\n    }\r\n\r\n    /**缓存管理器 */\r\n    static get Storage() {\r\n        if (!this.storageManager) {\r\n            this.storageManager = new StorageManager();\r\n        }\r\n        return this.storageManager;\r\n    }\r\n\r\n    /**扩展工具 */\r\n    static get Utils() {\r\n        if (!this.utils) {\r\n            this.utils = new UtilsFunction();\r\n        }\r\n        return this.utils;\r\n    }\r\n\r\n    /**全局数据 */\r\n    static get CommonData() {\r\n        if (!this.commonData) {\r\n            this.commonData = new CommonData();\r\n        }\r\n        return this.commonData;\r\n    }\r\n\r\n    /**全局事件 */\r\n    static get Event() {\r\n        if (!this.event) {\r\n            this.event = new Laya.EventDispatcher();\r\n        }\r\n        return this.event;\r\n    }\r\n\r\n    /**预制体管理器 */\r\n    static get Prefab() {\r\n        if (!this.prefabManager) {\r\n            this.prefabManager = new PrefabManager();\r\n        }\r\n        return this.prefabManager;\r\n    }\r\n\r\n    /**游戏控制器 */\r\n    static get Game() {\r\n        if (!this.gameManager) {\r\n            this.gameManager = new GameManager();\r\n        }\r\n        return this.gameManager;\r\n    }\r\n\r\n    /**缓动控制器 */\r\n    static get Tween() {\r\n        if (!this.tweenManager) {\r\n            this.tweenManager = new TweenManager();\r\n        }\r\n        return this.tweenManager;\r\n    }\r\n\r\n    /**关卡管理器 */\r\n    static get Level() {\r\n        if (!this.levelManager) {\r\n            this.levelManager = new LevelManager();\r\n        }\r\n        return this.levelManager;\r\n    }\r\n\r\n    /**平台管理器 */\r\n    static get Platform() {\r\n        if (!this.platformManager) {\r\n            this.platformManager = new PlatformManager();\r\n        }\r\n        return this.platformManager;\r\n    }\r\n\r\n    /**体力系统 */\r\n    static get Streng() {\r\n        // if(!this.strengthManager){\r\n        //     this.strengthManager = new StrengthManager();\r\n        // }\r\n\r\n        // return this.strengthManager;\r\n        return null;\r\n    }\r\n\r\n    /**音效管理器 */\r\n    static get Sound() {\r\n        if (!this.soundManager) {\r\n            this.soundManager = new SoundManager();\r\n        }\r\n\r\n        return this.soundManager;\r\n    }\r\n\r\n\r\n    // /**音效管理器 */\r\n    // static get CarAssembly(){\r\n    //     if(!this.carAssemblyManage){\r\n    //         this.carAssemblyManage = new CarAssemblyManager();\r\n    //     }\r\n\r\n    //     return this.carAssemblyManage;\r\n    // }\r\n\r\n    static get Net() {\r\n        if (!this.netManager) {\r\n            this.netManager = new NetManager();\r\n        }\r\n\r\n        return this.netManager;\r\n    }\r\n\r\n    // /**合成管理器 */\r\n    // static get Compound(){\r\n    //     if(!this.compoundManager){\r\n    //         this.compoundManager = new CompoundManager();\r\n    //     }\r\n    //     return this.compoundManager;\r\n    // }\r\n}\r\n\r\n\r\n// Object.keys(Context.CommonData).forEach(console.log)\r\n\r\n// for (var prop in EventType) {\r\n//     console.log(prop);\r\n//     EventType[prop] = prop;\r\n// } // 反射","import JJMgr from \"./JJMgr\";\r\n\r\nexport default class JJUtils {\r\n\r\n    //网络请求\r\n    public static httpRequest(url: string, params: any, type: string = 'get', completeHandler?: Function) {\r\n        var xhr: Laya.HttpRequest = new Laya.HttpRequest();\r\n        xhr.http.timeout = 5000;//设置超时时间；\r\n        xhr.once(Laya.Event.COMPLETE, this, completeHandler);\r\n        xhr.once(Laya.Event.ERROR, this, this.httpRequest, [url, params, type, completeHandler]);\r\n        if (type == \"get\") {\r\n            xhr.send(url + '?' + params, \"\", type, \"text\");\r\n        } else if (type == \"post\") {\r\n            xhr.send(url, JSON.stringify(params), type, \"text\");\r\n        }\r\n    }\r\n\r\n    //打乱数组\r\n    public static shuffleArr(arr: any[]) {\r\n        let i = arr.length;\r\n        while (i) {\r\n            let j = Math.floor(Math.random() * i--);\r\n            [arr[j], arr[i]] = [arr[i], arr[j]];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    public static fixNodeY(node) {\r\n        node.y = node.y * Laya.stage.displayHeight / Laya.stage.designHeight\r\n    }\r\n\r\n    public static visibleDelay(node, duration: number = 1500) {\r\n        node.visible = false\r\n        Laya.timer.once(duration, this, () => {\r\n            node.visible = true\r\n        })\r\n    }\r\n\r\n    public static tMove(node, x, t, cb?: Function) {\r\n        Laya.Tween.to(node, { x: x }, t, null, new Laya.Handler(this, () => {\r\n            cb && cb()\r\n        }))\r\n    }\r\n    public static tMoveDraw(node, x,y, t, cb?: Function) {\r\n        Laya.Tween.to(node, { x: x ,y:y}, t, null, new Laya.Handler(this, () => {\r\n            cb && cb()\r\n        }))\r\n    }\r\n\r\n    // public static allowScene() {\r\n    //     if (Laya.Browser.onWeiXin) {\r\n    //         var launchInfo = wx.getLaunchOptionsSync();\r\n    //         console.log(\"当前场景：\", launchInfo.scene);\r\n\r\n    //         let s: string = JJMgr.instance.dataConfig.front_wuchu_scene;\r\n    //         if (s.search('|') == -1) {\r\n    //             let sInt: number = parseInt(s)\r\n    //             return sInt == launchInfo.scene\r\n    //         }\r\n    //         let sArr: string[] = s.split('|')\r\n    //         for (let i = 0; i < sArr.length; i++) {\r\n    //             let sInt: number = parseInt(sArr[i])\r\n    //             if (sInt == launchInfo.scene) {\r\n    //                 return false\r\n    //             }\r\n    //         }\r\n    //         return true;\r\n    //     }\r\n    //     return true;\r\n    // }\r\n\r\n    public static allowScene() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            var launchInfo = wx[\"getLaunchOptionsSync\"]();\r\n            console.log(\"当前场景：\", launchInfo.scene);\r\n\r\n            var isAllow = true;\r\n\r\n            let s: string = JJMgr.instance.dataConfig.front_wuchu_scene;\r\n            if (s == null) isAllow = true;\r\n            if (s.search('|') == -1) {\r\n                let sInt: number = parseInt(s)\r\n                isAllow = sInt != launchInfo.scene\r\n            }\r\n            let sArr: string[] = s.split('|')\r\n            for (let i = 0; i < sArr.length; i++) {\r\n                let sInt: number = parseInt(sArr[i])\r\n                if (sInt == launchInfo.scene) {\r\n                    isAllow = false\r\n                }\r\n            }\r\n            return isAllow\r\n        }\r\n        return true;\r\n    }\r\n}","import PlayerData from \"../../scripts/mods/PlayerData\";\r\nimport Context from \"../Context\";\r\nimport EventType from \"../utils/EventType\";\r\nimport JJUtils from \"./JJUtils\"\r\n\r\n\r\nexport enum SceneDir {\r\n    SCENE_FRIENDGAME = 'JJExport/FriendGameUI.scene',   //好友都在玩的爆款游戏弹窗\r\n    SCENE_SCROLLUI = 'JJExport/ScrollUI.scene',         //游戏内滚动导出栏\r\n    SCENE_RECOMMENDUI = 'JJExport/RecommendUI.scene',   //热门推荐全屏幕导出页\r\n    SCENE_FULLGAMEUI = 'JJExport/FullGameUI.scene',     //全屏幕导出页\r\n    SCENE_FINISHGAMEUI = 'JJExport/FinishGameUI.scene', //结算页 6 个 icon\r\n    SCENE_DRAWUI = 'JJExport/DrawUI.scene',              //抽屉\r\n    SCENE_PROGRAMUI = 'JJExport/ProgramUI.scene',\r\n    SCENE_WECHATUI = 'JJExport/WeChatUI.scene',\r\n    SCENE_CLEAN = 'JJExport/Clean.scene',\r\n    SCENE_CLEAN_END = 'JJExport/Clean1.scene'\r\n}\r\n\r\nexport default class JJMgr {\r\n    private static _instance: JJMgr\r\n    public static get instance(): JJMgr {\r\n        if (!this._instance) {\r\n            this._instance = new JJMgr()\r\n        }\r\n        return this._instance\r\n    }\r\n\r\n    is_rpt: boolean = false;\r\n\r\n    /**后台配置参数 */\r\n    dataConfig = {\r\n        /******************** 通用参数 ********************/\r\n        /**误触屏蔽地区+版本号控制参数 */\r\n        is_allow_area: false,\r\n        /**导出屏蔽地区 */\r\n        is_allow_export: false,\r\n        /**误触场景值控制参数 */\r\n        front_wuchu_scene: '1001|1002',\r\n        /**⽀持出现误触关卡数参数 */\r\n        front_pass_gate: 1,\r\n        /**从第⼏关开始不⽀持出现误触参数 */\r\n        front_wuchu_finish_gate: 5,\r\n\r\n        /**时间⽔印开关 */\r\n        front_time_tag_switch: false,\r\n        /**分享视频切换次数 */\r\n        front_share_number: 1,\r\n\r\n        /******************** 导出参数 ********************/\r\n        /**是否显示导出 */\r\n        front_all_export_switch: true,\r\n        /**进⼊游戏⾸⻚前是否弹导出位 */\r\n        front_homepage_ad_switch: false,\r\n\r\n        /**⾸屏热⻔推荐导出⻚⾃动调起跳转的概率 */\r\n        front_start_remen_chance: 100,\r\n        /**⾸屏⽹红爆款导出⻚是否⾃动调起跳转的概率 */\r\n        front_start_wanghong_chance: 100,\r\n\r\n        /**游戏⾸⻚对联导出位是否显示 */\r\n        front_duilian_export_switch: false,\r\n        /**游戏⾸⻚对联每排显示数量 */\r\n        front_duilian_icon_number: 4,\r\n\r\n        /**是否显示⾸⻚[点我有惊喜]/[更多游戏] */\r\n        front_jingxi_export_switch: false,\r\n\r\n        /**游戏内热⻔推荐导出位⾃动调起跳转的概率 */\r\n        front_inside_remen_chance: 100,\r\n        /**游戏内⽹红爆款导出⻚是否⾃动调起跳转的概率 */\r\n        front_inside_wanghong_chance: 100,\r\n\r\n        /**进⼊结算⻚⾃动调起跳转概率 */\r\n        front_jiesuan_tiaozhuan_chance: 100,\r\n        /**结算⻚下⼀步弹导出⻚的概率 */\r\n        front_jiesuan_next_export_chance: 0,\r\n\r\n        /**是否弹出免费提示[单独导出icon-每3秒切换一次，做缩放动效] */\r\n        front_freetips_switch: true,\r\n\r\n        /**第⼏关开始显示[随机玩]按钮 */\r\n        front_randompaly_start_level: 1,\r\n\r\n        /**控制第⼏关出现模仿官⽅返回的按钮 */\r\n        front_game_number_official: 1,\r\n\r\n        /******************** 广告参数 ********************/\r\n        /**第⼀个猛点宝箱增加控制从第⼏关开始 */\r\n        front_first_box_gate: 1,\r\n        /**第⼆个猛点宝箱增加控制从第⼏关开始 */\r\n        front_second_box_gate: 1,\r\n\r\n        /**每关卡宝箱出现概率 */\r\n        front_box_chance: 100,\r\n        /**宝箱误触进度条数值回退值 */\r\n        front_progress_bar_return: 0.006,\r\n        /**宝箱误触最⼤点击数的减数 */\r\n        front_progress_bar_reduce: 6,\r\n        /**猛点宝箱进度条区间 */\r\n        front_box_clicks: [2, 8],\r\n        /**是否强制触发宝箱效果 */\r\n        front_is_box_force: false,\r\n\r\n        /**误触场景底部 banner 出现时间 */\r\n        front_banner_show_time: 1000,\r\n        /**误触场景底部 banner 隐藏时间 */\r\n        front_banner_hide_time: 1000,\r\n\r\n        /**第N关开始游戏内⽹红爆款导出⻚可出现误触 */\r\n        front_wuchu_wanghong_gate: 1,\r\n        /**第N关开始游戏内热⻔推荐导出⻚可出现误触 */\r\n        front_wuchu_remen_gate: 1,\r\n\r\n        /**进⼊结算⻚开始计时，结算⻚banner出现的时间 */\r\n        front_banner_appear: 1000,\r\n        /**进⼊结算⻚开始计时，结算⻚【下⼀关】按钮上移时间 */\r\n        front_button_up: 1000,\r\n\r\n        /**bannerId列表 */\r\n        front_banner_ids: [],\r\n        /**同个bannerID需要创建多少个banner实例 */\r\n        front_create_banner_num: 2,\r\n        /**每个bannerID实例展示front_banner_change_time毫秒后 */\r\n        front_banner_change_time: 3000,\r\n        /**banner实例数组使⽤显示多少次后重新销毁创建*/\r\n        front_banner_refresh_num: 2,\r\n\r\n        /**同⼀banner实例展示多少次之后，重新创建另⼀个bannerID创建的实例 */\r\n        front_banner_number: 8,\r\n\r\n        /**游戏进⾏⻚底部是否展示banner */\r\n        front_banner_switch: false,\r\n\r\n        /**每次⾸次进⼊游戏⾸⻚是否弹视频 */\r\n        front_homepage_video_switch: false,\r\n        /**点击[开始游戏]⾃动调起视频 */\r\n        front_start_game_switch: false,\r\n        /**点击[开始游戏]允许⾃动调起视频次数 */\r\n        front_start_video_number: 1,\r\n\r\n        /**从第⼏关开始可右上⻆出现格⼦⼴告[值为0则不显示] */\r\n        front_top_gezi_gate: 1,\r\n        /**[格⼦⼴告]是否显示 */\r\n        front_wx_duilian_switch: false,\r\n        /**游戏⾸⻚格⼦⼴告显示数量 */\r\n        front_gezi_number: 4,\r\n        /**游戏⾸⻚【插屏⼴告】是否弹出 */\r\n        front_wx_ad_switch: false,\r\n\r\n        //屏蔽的appid\r\n        front_shield_appids:[],\r\n        //宝箱页伴随的视频广告关卡参数\r\n        front_startpage_num:100,\r\n        //屏蔽的场景值\r\n        front_rpt_scene:[],\r\n        //双倍跳转几率\r\n        front_double_jump_chance:0\r\n    }\r\n\r\n    closeAllTrap() {\r\n        this.dataConfig.is_allow_area = false;\r\n        // this.dataConfig.front_chouti_export_switch = false;\r\n        this.dataConfig.front_jingxi_export_switch = false;\r\n        this.dataConfig.front_duilian_export_switch = false;\r\n        this.dataConfig.front_homepage_ad_switch = false;\r\n        // this.dataConfig.front_ad_scene_switch = false;\r\n        this.dataConfig.front_wx_ad_switch = false;\r\n        this.dataConfig.front_wx_duilian_switch = false;\r\n    }\r\n\r\n\r\n    // get isShowExport() {\r\n    //     // if (this.dataConfig.front_ad_scene_switch) {\r\n    //     //     return JJUtils.allowScene() && this.dataConfig.front_homepage_ad_switch;\r\n    //     // }\r\n    //     // else {\r\n    //     //     return this.dataConfig.front_homepage_ad_switch;\r\n    //     // }\r\n    // }\r\n\r\n    // get isShowExportDrawBtn() {\r\n    //     // if (this.dataConfig.front_ad_scene_switch) {\r\n    //     //     return JJUtils.allowScene() && this.dataConfig.front_chouti_export_switch;\r\n    //     // }\r\n    //     // else {\r\n    //     //     return this.dataConfig.front_chouti_export_switch;\r\n    //     // }\r\n    // }\r\n\r\n    // get isShowExportMoreBtn() {\r\n    //     // if (this.dataConfig.front_ad_scene_switch) {\r\n    //     //     return JJUtils.allowScene() && this.dataConfig.front_jingxi_export_switch;\r\n    //     // }\r\n    //     // else {\r\n    //     //     return this.dataConfig.front_jingxi_export_switch;\r\n    //     // }\r\n    // }\r\n\r\n    // get isShowExportmidBox() {\r\n    //     if (this.dataConfig.front_ad_scene_switch) {\r\n    //         return JJUtils.allowScene() && this.dataConfig.front_duilian_export_switch;\r\n    //     }\r\n    //     else {\r\n    //         return this.dataConfig.front_duilian_export_switch;\r\n    //     }\r\n    // }\r\n\r\n\r\n    navDataArr: JJNavData[] = []\r\n    JJConfigUrl: string = 'https://jiujiu.99huyu.cn/m/dqtiancai/config.json'\r\n\r\n    isFinished: boolean;\r\n    openSceneCount: number = 0;\r\n    isOpenWeChat: boolean;\r\n    isOpenFullGameUI: boolean;\r\n\r\n    /**是否显示全屏导出页 */\r\n    // canShowFullScreen(level): boolean {\r\n    //     return level >= this.dataConfig.front_auto_remen_level;\r\n    // }\r\n\r\n    /**本日可用分享次数 */\r\n    get shareAmount() {\r\n        var amount = this.dataConfig.front_share_number;\r\n        return amount != null ? amount : 4;\r\n    }\r\n\r\n    shareConfig: any;\r\n\r\n    set shareContext(value) {\r\n        this.shareConfig = value;\r\n    }\r\n\r\n    /**分享文案 */\r\n    get shareContext() {\r\n        return this.shareConfig;\r\n        // console.log(\"调分享\", this.dataConfig.front_share_config);\r\n        // return this.dataConfig.front_share_config;\r\n    }\r\n\r\n    /**是否开启误触 */\r\n    get isOpenWuChu() {\r\n        // console.log(\"场景：\", JJUtils.allowScene(), \"关卡：\", Context.Storage.storageData.level >= this.dataConfig.front_pass_gate, \"区域：\", this.dataConfig.is_allow_area);\r\n\r\n        return JJUtils.allowScene() && PlayerData.GetPlayerData().grade >= this.dataConfig.front_pass_gate && this.dataConfig.is_allow_area; // && Context.CommonData.dontColseWuchu;\r\n        // return this.dataConfig.front_wuchu_level && Context.Storage.storageData.level + 1 >= this.dataConfig.front_wuchu_level && this.dataConfig.is_allow_area == 1;\r\n    }\r\n\r\n    /**banner展示次数 */\r\n    get showBannerCount() {\r\n        return this.dataConfig.front_banner_number;\r\n    }\r\n\r\n    // /**血开关 */\r\n    // get showBlood() {\r\n    //     return this.dataConfig.front_blood_switch;\r\n    // }\r\n\r\n    isOpenDraw: boolean = false;\r\n\r\n    // /**\r\n    //  * 初始化JJ导出 (建议尽早调用)\r\n    //  * @param version 当前游戏版本\r\n    //  * @param completeCB 初始化完成回调\r\n    //  */\r\n    // initJJ(version: string = '1.0.0', code: string = \"\", completeCB?: Function) {\r\n    //     JJUtils.httpRequest(this.JJConfigUrl, 'version=' + version + \"&code=\" + code, 'get', (res) => {\r\n    //         res = JSON.parse(res)\r\n    //         console.log('JJ config.json:', res)\r\n    //         this.dataConfig = res.data.config\r\n    //         this.navDataArr = res.data.mores.remen_game\r\n    //         this.isFinished = false//this.dataConfig.front_all_export_switch;\r\n    //         Context.Event.event(EventType.UPDATE_SHARE_COUNT, { amount: this.shareAmount });\r\n    //         Context.Platform.bannerCount = this.dataConfig.front_banner_number;\r\n    //         completeCB && completeCB()\r\n\r\n    //         if (res.data.userinfo && res.data.userinfo.openid != \"\") {\r\n    //             Context.Platform.aldSendOpenid(res.data.userinfo.openid);\r\n    //         }\r\n\r\n    //         // Context.Platform.regisiterWXShareCallback();\r\n    //     })\r\n    // }\r\n\r\n    /**\r\n     * 打开导出场景\r\n     * @param sceneDir 场景的路径名称 (全局枚举SceneDir)\r\n     * @param closeOther 是否关闭其他界面\r\n     * @param param 启动参数  \r\n     * @param parent 设置父节点  \r\n     * 启动参数包括 :\r\n     * {\r\n     * closeCallbackFun:()=>{},      关闭场景时的回调函数\r\n     * continueCallbackFun:()=>{},   全屏导出界面点击 继续游戏 时的回调函数\r\n     * grade:0,                      全屏导出界面点击 继续游戏 时grade>=后台参数 则弹出推荐导出\r\n     * posY:1334,                    游戏内滚动导出栏 | 结算界面导出  的Y坐标\r\n     * fixY:true,                    游戏内滚动导出栏 | 结算界面导出  是否需要适配屏幕高度\r\n     * }\r\n     */\r\n    openScene(sceneDir: SceneDir, closeOther: boolean = false, param?: any, parent?: any, completeCB?: Function) {\r\n        if (!JJMgr.instance.dataConfig.front_all_export_switch) return;\r\n\r\n        // if (sceneDir == SceneDir.SCENE_WECHATUI) {\r\n        //     if (!JJMgr.instance.dataConfig.front_message_switch) return;\r\n        // }\r\n\r\n        if (sceneDir == SceneDir.SCENE_DRAWUI && this.isOpenDraw) {\r\n            this.closeScene(SceneDir.SCENE_DRAWUI);\r\n        }\r\n\r\n        Laya.Scene.open(sceneDir, closeOther, param, Laya.Handler.create(this, (v) => {\r\n            if (sceneDir != SceneDir.SCENE_DRAWUI && sceneDir != SceneDir.SCENE_FINISHGAMEUI && sceneDir != SceneDir.SCENE_SCROLLUI && sceneDir != SceneDir.SCENE_WECHATUI) {\r\n                this.openSceneCount++;\r\n            }\r\n            Laya.stage.addChild(v);\r\n            if (completeCB) completeCB();\r\n        }))\r\n    }\r\n\r\n    closeScene(sceneDir: SceneDir) {\r\n        Laya.Scene.close(sceneDir)\r\n    }\r\n\r\n    //跳转\r\n    NavigateApp(index: number, cancelCB?: Function, successCB?: Function) {\r\n        if (this.navDataArr.length == 0) return;\r\n\r\n        console.log(\"跳转\", this.navDataArr[index].appid);\r\n        Context.Platform.aldSendEvent(\"导出-总点击数\");\r\n\r\n        if (Laya.Browser.onWeiXin) {\r\n            var self = this;\r\n            // Laya.Browser.window.wx.navigateToMiniProgram({\r\n            //     appId: this.navDataArr[index].appid,\r\n            //     path: this.navDataArr[index].path,\r\n            //     success(res) {\r\n            //         // 打开成功\r\n            //         Context.Platform.aldSendEvent(\"导出成功-总用户数\");\r\n            //         Context.Platform.aldSendEvent(\"导出成功-\" + self.navDataArr[index].title);\r\n            //         successCB && successCB()\r\n            //     },\r\n            //     fail(res) {\r\n            //         // 打开失败\r\n            //         cancelCB && cancelCB()\r\n            //     }\r\n            // })\r\n\r\n            var promiseObj = wx[\"JJNavigateToMiniProgram\"](() => {\r\n                return {\r\n                    appId: self.navDataArr[index].appid,\r\n                    path: self.navDataArr[index].path,\r\n                    id: self.navDataArr[index].id\r\n                }\r\n            });\r\n\r\n            promiseObj.then(\r\n                (res) => {\r\n                    // 打开成功逻辑写在这里\r\n                    console.log('success');\r\n                    Context.Platform.aldSendEvent(\"导出成功-总用户数\");\r\n                    Context.Platform.aldSendEvent(\"导出成功-\" + self.navDataArr[index].title);\r\n                },\r\n                (err) => {\r\n                    // 失败的逻辑写在这里\r\n                    console.log('fail', err);\r\n                    cancelCB && cancelCB()\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    getSubtitle(index: number, sub: boolean = true) {\r\n        if (this.navDataArr[index] == null) return \" \";\r\n\r\n        if (sub) {\r\n            if (this.navDataArr[index].subtitle && this.navDataArr[index].subtitle != '') {\r\n                return this.navDataArr[index].subtitle\r\n            } else {\r\n                return this.navDataArr[index].title\r\n            }\r\n        } else {\r\n            return this.navDataArr[index].title\r\n        }\r\n    }\r\n\r\n    getTitle(data: any, sub: boolean = true) {\r\n        if (data == null) return \" \";\r\n\r\n        if (sub) {\r\n            if (data.subtitle && data.subtitle != '') {\r\n                return data.subtitle\r\n            } else {\r\n                return data.title\r\n            }\r\n        } else {\r\n            return data.title\r\n        }\r\n    }\r\n\r\n    updateDataConfig(config) {\r\n        var configs = config.data;\r\n        this.dataConfig.is_allow_area = config.is_allow_area;\r\n        this.dataConfig.front_wuchu_scene = config.front_wuchu_scene;\r\n        this.dataConfig.is_allow_export = config.is_allow_export;\r\n\r\n        for (let key in configs) {\r\n            this.dataConfig[key] = configs[key].config_val;\r\n        }\r\n\r\n        console.log(this.dataConfig);\r\n        Context.Event.event(EventType.UPDATE_SHARE_COUNT, { amount: this.dataConfig.front_share_number });\r\n    }\r\n\r\n    updateNavData(data) {\r\n        this.navDataArr = [];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var dataItem = data[i];\r\n            var navData = new JJNavData;\r\n            navData.appid = dataItem.channel_game_appid;\r\n            navData.title = dataItem.channel_game_name;\r\n            navData.path = dataItem.path;\r\n            navData.subtitle = dataItem.originality.copywriting;\r\n            navData.icon = dataItem.originality.material;\r\n            navData.id = dataItem.originality.id;\r\n\r\n            this.navDataArr.push(navData);\r\n        }\r\n    }\r\n\r\n    // chaneDataType(data){\r\n    //     var newData = {};\r\n    //     for(var i = 0; i < data.length; i++){\r\n    //         newData[data[i].config_key] = data[i];\r\n    //     }\r\n\r\n    //     console.log(data);\r\n    // }\r\n}\r\n\r\nclass JJNavData {\r\n    appid: string;\r\n    icon: string;\r\n    path: string;\r\n    title: string;\r\n    subtitle: string;\r\n    id: number;\r\n}","export default class D3Tween {\r\n    /**动画帧数与时间换算：每帧时间（ms) = 1000 / 帧数 */\r\n    tween: Laya.Tween;\r\n    /**动画组 */\r\n    tweens: any[];\r\n\r\n    /**目标 */\r\n    target: Laya.Sprite3D;\r\n    /**是否本地坐标 */\r\n    isLocal: boolean;\r\n\r\n    /**动画帧回调 args: progress(进度 0 - 1) */\r\n    updateTweenCallback: Function;\r\n\r\n    constructor() {\r\n        this.tween = new Laya.Tween();\r\n        this.tweens = [];\r\n    }\r\n\r\n    getTimeByFrame(frame) {\r\n        return Math.round(1000 / 100 * frame); // 60可替换为实际帧率\r\n    }\r\n\r\n    toTween(target: Laya.Sprite3D, value: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }, time: number, completeFun?: Function, ease?: Function, isLocal: boolean = true) {\r\n        this.target = target;\r\n        this.isLocal = isLocal;\r\n\r\n        //当前值\r\n        var ov: any = {};\r\n        //目标值\r\n        var tv: any = {};\r\n\r\n        if (value.pos) {\r\n            var targetPos = isLocal ? target.transform.localPosition.clone() : target.transform.position.clone();\r\n\r\n            ov.posX = targetPos.x\r\n            ov.posY = targetPos.y;\r\n            ov.posZ = targetPos.z;\r\n\r\n            tv.posX = value.pos.x;\r\n            tv.posY = value.pos.y;\r\n            tv.posZ = value.pos.z;\r\n        }\r\n        if (value.rot) {\r\n            var targetRot = isLocal ? target.transform.localRotationEuler.clone() : target.transform.rotationEuler.clone(); //target.transform.rotationEuler.clone();//\r\n\r\n            ov.rotX = targetRot.x;\r\n            ov.rotY = targetRot.y;\r\n            ov.rotZ = targetRot.z;\r\n\r\n            tv.rotX = value.rot.x;\r\n            tv.rotY = value.rot.y;\r\n            tv.rotZ = value.rot.z;\r\n        }\r\n        if (value.sca) {\r\n            var targetSca = target.transform.getWorldLossyScale().clone();\r\n\r\n            ov.scaX = targetSca.x;\r\n            ov.scaY = targetSca.y;\r\n            ov.scaZ = targetSca.z;\r\n\r\n            tv.scaX = value.sca.x;\r\n            tv.scaY = value.sca.y;\r\n            tv.scaZ = value.sca.z;\r\n        }\r\n\r\n        this.tween.to(ov, {\r\n            posX: tv.posX, posY: tv.posY, posZ: tv.posZ,\r\n            rotX: tv.rotX, rotY: tv.rotY, rotZ: tv.rotZ,\r\n            scaX: tv.scaX, scaY: tv.scaY, scaZ: tv.scaZ\r\n        }, time, ease, Laya.Handler.create(this, () => {\r\n            completeFun && completeFun();\r\n            var nextTWeen = this.tweens.shift();\r\n            if (nextTWeen) {\r\n                this.toTween(this.target, nextTWeen.value, nextTWeen.time, nextTWeen.completeFun, ease);\r\n            }\r\n            else {\r\n                if (this.updateTweenCallback) {\r\n                    this.updateTweenCallback = null;\r\n                }\r\n            }\r\n        }));\r\n\r\n        var progressTimer = 0;\r\n        this.tween.update = new Laya.Handler(this, () => {\r\n            //进度\r\n            progressTimer += Laya.timer.delta;\r\n            let progress = progressTimer / time;\r\n            if (progress > 1) progress = 1;\r\n\r\n            if (value.pos) {\r\n                if (isLocal) {\r\n                    target.transform.localPosition = new Laya.Vector3(ov.posX, ov.posY, ov.posZ);\r\n                }\r\n                else {\r\n                    target.transform.position = new Laya.Vector3(ov.posX, ov.posY, ov.posZ);\r\n                }\r\n            }\r\n            if (value.rot) {\r\n                if (isLocal) {\r\n                    target.transform.localRotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n                }\r\n                else {\r\n                    target.transform.rotationEuler = new Laya.Vector3(ov.rotX, ov.rotY, ov.rotZ);\r\n                }\r\n            }\r\n            if (value.sca) {\r\n                target.transform.setWorldLossyScale(new Laya.Vector3(ov.scaX, ov.scaY, ov.scaZ));\r\n            }\r\n\r\n            this.updateTweenCallback && this.updateTweenCallback(progress)\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    clearTween(value?: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }) {\r\n        this.tweens = [];\r\n        this.tween.clear();\r\n\r\n        if (this.target && value) {\r\n            if (value.pos) {\r\n                if (this.isLocal) {\r\n                    this.target.transform.localPosition = new Laya.Vector3(value.pos.x, value.pos.y, value.pos.z);\r\n                }\r\n                else {\r\n                    this.target.transform.position = new Laya.Vector3(value.pos.x, value.pos.y, value.pos.z);\r\n                }\r\n            }\r\n            if (value.rot) {\r\n                this.target.transform.rotationEuler = new Laya.Vector3(value.rot.x, value.rot.y, value.rot.z);\r\n            }\r\n            if (value.sca) {\r\n                this.target.transform.setWorldLossyScale(new Laya.Vector3(value.sca.x, value.sca.y, value.sca.z));\r\n            }\r\n        }\r\n    }\r\n\r\n    then(value: { pos?: Laya.Vector3, rot?: Laya.Vector3, sca?: Laya.Vector3 }, time: number, completeFun?: Function) {\r\n        this.tweens.push({ value: value, time: time, completeFun: completeFun });\r\n        return this;\r\n    }\r\n}","import BaseUI from \"./mods/BaseUI\"\r\nimport Data, { SceneUrl } from \"./tools/Data\"\r\nimport Tools from \"./mods/Tools\"\r\nimport ExportAndAdControl from \"../JJExport/ExportAndAdControl\"\r\nimport PlayerData from \"./mods/PlayerData\"\r\nimport StageUpdate from \"./StageUpdate\"\r\nimport TouchWayCheck from \"./mods/TouchWayCheck\"\r\nimport StageController from \"./stage/StageController\"\r\nimport Tween3D from \"./mods/Tween3D\"\r\nimport CamFollow from \"./mods/CamFollow\"\r\nimport ModelAnimController, { ModelAnimClips } from \"./stage/ModelAnimController\"\r\nimport SoundManager from \"../JJExport/managers/SoundManager\"\r\nimport { SoundType } from \"../JJExport/enums/EnumType\"\r\nimport JJMgr, { SceneDir } from \"../JJExport/Common/JJMgr\"\r\nimport D3Tween from \"./mods/D3Tween\"\r\nimport FxController from \"./stage/FxController\"\r\n\r\n\r\nexport default class Stage extends BaseUI {\r\n    static instance: Stage;\r\n    update: StageUpdate;\r\n    touchWayCheck: TouchWayCheck;\r\n    //一些UI\r\n    TotarialUI: Laya.Image;\r\n    // collectAllUI: Laya.Image;\r\n    TotarialAnim;\r\n\r\n    energyValue: Laya.FontClip;\r\n    energyTime: Laya.FontClip;\r\n    //参数\r\n    isStart = false;\r\n    isSuccess = true;\r\n    isCalling = false;\r\n    nowCube = [];\r\n    stageID = 0;\r\n\r\n    init() {\r\n        Stage.instance = this;\r\n        this.update = this.getComponent(StageUpdate);\r\n        if (!Data.isPure) {\r\n            // let box = this.scrollList.getChildAt(0) as Laya.Box;\r\n            ExportAndAdControl.StageIn();\r\n        }\r\n        Data.nowScene = 2;\r\n\r\n        // ////console.log(\"Stage开始执行\")\r\n        this.ButtonInit();\r\n        this.ValueInit();\r\n        this.GameInit();\r\n\r\n        this.GameStart();\r\n    }\r\n    //按钮初始化\r\n    ButtonInit() {\r\n        // Tools.buttonInit(this.drawBtn, this, this.DrawUI)\r\n        // Tools.buttonInit(this.backBtn, this, this.BackUI)\r\n    }\r\n    //数据初始化\r\n    ValueInit() {\r\n        let grade = PlayerData.GetPlayerData().grade;\r\n    }\r\n    //教程\r\n    Totarial() {\r\n        var tl: Laya.Animation = new Laya.Animation();\r\n        //加载动画文件\r\n        tl.loadAnimation(\"Anim/Totourial.ani\");\r\n        //添加到舞台\r\n        tl.x = this.scene.width / 2;\r\n        tl.y = this.scene.height - 300;\r\n        this.scene.addChild(tl);\r\n        //播放Animation动画\r\n        tl.play();\r\n        this.TotarialAnim = tl\r\n        //特殊UI\r\n        // this.collectAllUI.set_visible(false);\r\n        this.TotarialUI.set_visible(true);\r\n        // if (Data.readGrade() == 1) {\r\n        //     this.springPanel.set_visible(true);\r\n        // } else if (Data.readGrade() == 3) {\r\n        //     this.beaconPanel.set_visible(true);\r\n        // } else if (Data.readGrade() == 7) {\r\n        //     this.holePanel.set_visible(true);\r\n        // }\r\n        Tools.TouchOn(this.TotarialEnd, () => { }, () => { }, this);\r\n    }\r\n    TotarialEnd() {\r\n        // this.collectAllUI.set_visible(false);\r\n\r\n        Tools.TouchOff(this.GameStart, () => { }, () => { }, this)\r\n        this.TotarialAnim.destroy();\r\n        this.TotarialUI.destroy();\r\n    }\r\n    //抽屉\r\n    DrawUI() {\r\n        Tools.loadScene(SceneDir.SCENE_FULLGAMEUI, 200, () => { }, { autoChance: JJMgr.instance.dataConfig.front_inside_wanghong_chance })\r\n    }\r\n    //返回导出按钮\r\n    BackUI() {\r\n        Tools.loadScene(SceneDir.SCENE_RECOMMENDUI, 200, () => { }, { autoChance: JJMgr.instance.dataConfig.front_inside_remen_chance });\r\n    }\r\n    //游戏初始化\r\n    GameInit() {\r\n        // let end = Data.scene3D.getChildByName(\"End\") as Laya.Sprite3D;\r\n        // let chest = end.getChildByName(\"Chest\") as Laya.Sprite3D;\r\n        // let anim = chest.getComponent(Laya.Animator);\r\n        // // Data.fxController.BornChestAllFx(chest.transform.position.clone());\r\n        // anim.play(\"Idle\");\r\n    }\r\n    //游戏开始\r\n    GameStart() {\r\n        ////console.log(\"游戏正式开始\")\r\n        this.isStart = true;\r\n        this.PlayerStart();\r\n        Data.reduceEnergy();\r\n        // Laya.SoundManager.setMusicVolume(0);\r\n    }\r\n    //游戏结束\r\n    GameEnd() {\r\n        if (!this.isStart)\r\n            return;\r\n\r\n        this.callDoneAndCanel();\r\n        this.touchWayCheck.destroy();\r\n        ////console.log(\"游戏结束\")\r\n        ////console.log(\"结算板子数：\", this.nowCube.length);\r\n        this.isStart = false;\r\n        this.getComponent(StageUpdate).destroy();\r\n        Data.isSuccess = this.isSuccess;\r\n        // this.EndAnim();\r\n        ExportAndAdControl.StageOut();\r\n        // this.collectAllUI.set_visible(true);\r\n        Data.soundController.play(SoundType.Win);\r\n\r\n        Laya.timer.once(500, this, () => {\r\n            Data.fxController.BornFinishFx();\r\n            Laya.timer.once(2000, this, () => {\r\n                Data.AddGrade();\r\n                // Laya.SoundManager.setMusicVolume(1);\r\n                Laya.Scene.destroy(SceneUrl.STAGEUI);\r\n                Tools.loadScene(SceneUrl.ENDMENU);\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n    //结束动画\r\n    EndAnim() {\r\n        let t = new Tween3D();\r\n        let end = Data.scene3D.getChildByName(\"End\") as Laya.Sprite3D;\r\n        let chest = end.getChildByName(\"Chest\") as Laya.Sprite3D;\r\n        let endPos = chest.transform.position.clone();\r\n        // Data.fxController.smokeFx.transform.localPositionY = 0;\r\n        //最小都有20;\r\n        endPos.y = 0;\r\n        let endItemIs = Math.floor(this.nowCube.length / 5);\r\n        let endItemIndex = this.nowCube.length % 5\r\n        let distance = 20 + (endItemIs) * 7 + 1 + endItemIndex;\r\n        let isChest = false;\r\n        if (endItemIs == StageController.endItemCount) {\r\n            endPos.z -= 0.5;\r\n            distance = endPos.z - Data.player.transform.position.clone().z;\r\n            endItemIndex = 0;\r\n            if (this.nowCube.length == (StageController.cubeCount - StageController.trailCubeCount)) {\r\n                isChest = true;\r\n            }\r\n        }\r\n        else {\r\n            endPos.z = Data.player.transform.position.clone().z + distance - 0.5;\r\n        }\r\n        let time = distance * 50;\r\n        let time1 = 50 * 20;\r\n        let tcam = new Tween3D();\r\n        let nowCamPos = Data.mainCam.transform.position.clone();\r\n        let camPos1 = new Laya.Vector3(nowCamPos.x + (endPos.x - nowCamPos.x) * time1 / time - 5, nowCamPos.y - 8, nowCamPos.z + distance * time1 / time);\r\n        let camPos2 = new Laya.Vector3(endPos.x - 8, nowCamPos.y - 8, nowCamPos.z + distance);\r\n        let camPos3 = new Laya.Vector3(endPos.x, nowCamPos.y - 10, nowCamPos.z + distance + 1);\r\n        let camRot1 = new Laya.Vector3(-35, -180 + 30, 0);\r\n        let camRot3 = new Laya.Vector3(-40, -180, 0);\r\n        tcam.toTween(Data.mainCam, { pos: camPos1, rot: camRot1 }, time1)\r\n            .then({ pos: camPos2 }, time - time1, () => {\r\n                if (isChest)\r\n                    tcam.toTween(Data.mainCam, { pos: camPos3, rot: camRot3 }, 1000)\r\n            })\r\n        t.toTween(Data.player, { pos: endPos }, time, () => {\r\n            // Data.fxController.smokeFx.transform.localPositionY = -1000;\r\n            if (isChest) {\r\n                let goPos = Data.model.transform.localPosition.clone();\r\n                goPos.z += 2;\r\n                // ModelAnimController.playAnim(ModelAnimClips.End);\r\n                setTimeout(() => {\r\n                    this.coinAnimGo(chest);\r\n                }, 1000);\r\n                t.toTween(Data.model, { pos: goPos, rot: new Laya.Vector3(0, 0, 0) }, 1000, () => {\r\n                    // ModelAnimController.FadeIn(ModelAnimClips.Dance);\r\n                    let anim = chest.getComponent(Laya.Animator);\r\n                    anim.speed = 0.5;\r\n                    // Tools.vibrateShort();\r\n                    anim.play(\"Play\");\r\n                    t.toTween(Data.model, { rot: new Laya.Vector3(0, 180, 0) }, 500);\r\n                    // Data.fxController.BornFireWorksAlways(new Laya.Vector3(Data.player.transform.position.clone().x + 3, 0, Data.player.transform.position.clone().z))\r\n                    // Data.fxController.BornFireWorksAlways(new Laya.Vector3(Data.player.transform.position.clone().x - 3, 0, Data.player.transform.position.clone().z))\r\n                    setTimeout(() => {\r\n                        ExportAndAdControl.StageOut();\r\n                        Laya.Scene.destroy(SceneUrl.STAGEUI);\r\n                        Tools.loadScene(SceneUrl.ENDMENU);\r\n                    }, 2000);\r\n                })\r\n                // Data.soundController.play(SoundType.Chest);\r\n            } else {\r\n                // Data.fxController.BornFireWorksAlways(new Laya.Vector3(Data.player.transform.position.clone().x + 3, 0, Data.player.transform.position.clone().z))\r\n                // Data.fxController.BornFireWorksAlways(new Laya.Vector3(Data.player.transform.position.clone().x - 3, 0, Data.player.transform.position.clone().z))\r\n                setTimeout(() => {\r\n                    Laya.Scene.destroy(SceneUrl.STAGEUI);\r\n                    Tools.loadScene(SceneUrl.ENDMENU);\r\n                }, 2000);\r\n                // Data.soundController.play(SoundType.Finish);\r\n            }\r\n        })\r\n        for (let i = 0; i < endItemIs; i++) {\r\n            for (let j = 1; j <= 5; j++) {\r\n                let distance = 20 + i * 7 + 0.5 + j;\r\n                let cubePos = new Laya.Vector3(Data.player.transform.position.clone().x, 0, Data.player.transform.position.clone().z + distance);\r\n                let cubeTimer = distance * 50;\r\n                this.EndCubeSet(cubePos, cubeTimer)\r\n            }\r\n            // let distance = 20 + (i + 1) * 7\r\n            // setTimeout(() => {\r\n            //     Data.fxController.clearFireWork();\r\n            //     Data.fxController.BornFireWorksAlways(new Laya.Vector3(Data.player.transform.position.clone().x + 3, 0, Data.player.transform.position.clone().z))\r\n            //     Data.fxController.BornFireWorksAlways(new Laya.Vector3(Data.player.transform.position.clone().x - 3, 0, Data.player.transform.position.clone().z))\r\n            // }, distance * 50);\r\n        }\r\n        for (let i = 0; i < endItemIndex; i++) {\r\n            let distance = 20 + endItemIs * 7 + 1.5 + i;\r\n            let cubePos = new Laya.Vector3(Data.player.transform.position.clone().x, 0, Data.player.transform.position.clone().z + distance);\r\n            let cubeTimer = distance * 50;\r\n            this.EndCubeSet(cubePos, cubeTimer)\r\n        }\r\n        Data.endAxis = 1 + endItemIs * 0.1;\r\n        Data.endCoin = Data.endAxis * 10;\r\n        if (isChest) {\r\n            Data.endCoin += 30;\r\n        }\r\n    }\r\n    coinAnimGo(pos): void {\r\n        // pos = Tools.getSpritePosBySprite3DPoint(pos);\r\n        // pos.y -= 300\r\n        // Tools.coinCollectAnimAni(this.coinAnim, pos, new Laya.Vector2(this.coinValue.x, this.coinValue.y), this.scene, 30);\r\n    }\r\n    //结束放方块\r\n    EndCubeSet(pos, timer) {\r\n        if (this.nowCube.length == 0)\r\n            return true;\r\n        setTimeout(() => {\r\n            // Tools.vibrateShort();\r\n            let useCube = this.nowCube[this.nowCube.length - 1] as Laya.Sprite3D;\r\n            Data.scene3D.addChild(useCube);\r\n            useCube.transform.position = pos;\r\n            this.putDownCube(useCube);\r\n            this.nowCube.splice(this.nowCube.length - 1, 1);\r\n            Data.model.transform.localPositionY = 0.3 + 0.3 * this.nowCube.length;\r\n            // Data.soundController.play(SoundType.PutBrick);\r\n        }, timer);\r\n        return false;\r\n    }\r\n    //玩家事件\r\n    PlayerStart() {\r\n        StageController.PlayerInit();\r\n        let tween = new D3Tween();\r\n        tween.toTween(Data.model, {\r\n            pos: new Laya.Vector3(0, 0.5, 0)\r\n        }, 250, () => {\r\n            this.Totarial();\r\n            this.pickPosCube(Data.player.transform.position.clone());\r\n            this.touchWayCheck = this.addComponent(TouchWayCheck);\r\n        }, Laya.Ease.cubicIn, true)\r\n\r\n    }\r\n    //更新命令\r\n    callUpdate() {\r\n        if (this.isCalling)\r\n            return;\r\n        this.isCalling = true;\r\n        let calls = this.touchWayCheck.calls;\r\n        let call = calls[0];\r\n        this.doCall(call);\r\n    }\r\n    //路径点\r\n    trailPos = [];\r\n    trailPosTime = [];\r\n    //执行命令\r\n    doCall(call) {\r\n        let playerPos = Data.player.transform.position.clone();\r\n        let toPos = playerPos;\r\n        playerPos.y = 0;\r\n        //第一个点（途径的点）\r\n        this.trailPos = [];\r\n        this.trailPosTime = [];\r\n        this.trailPos.push(toPos);\r\n        //排点嵌套\r\n        let endPos = this.getNextPos(playerPos, call)\r\n        //路径点优化\r\n        let finalTrailPos = [];\r\n        let goTime = 50;\r\n        let goFxTime = 50;\r\n        let moveFxPoint = []\r\n        finalTrailPos.push(this.trailPos[0]);\r\n        this.trailPosTime.push(0);\r\n        for (let i = 1; i < this.trailPos.length - 1; i++) {\r\n            if (this.checkPosSpecial(this.trailPos[i]) != \"\") {\r\n                finalTrailPos.push(this.trailPos[i]);\r\n                this.trailPosTime.push(goTime);\r\n                goTime = 0;\r\n            } else {\r\n                moveFxPoint.push({\r\n                    pos: this.trailPos[i],\r\n                    time: goFxTime\r\n                });\r\n            }\r\n            goFxTime += 50;\r\n            goTime += 50;\r\n        }\r\n        for (let i = 0; i < moveFxPoint.length; i++) {\r\n            Laya.timer.once(moveFxPoint[i].time, this, () => {\r\n                Data.fxController.BornMoveFx(moveFxPoint[i].pos);\r\n            })\r\n        }\r\n        finalTrailPos.push(this.trailPos[this.trailPos.length - 1]);\r\n        this.trailPosTime.push(goTime);\r\n        this.trailPos = finalTrailPos;\r\n\r\n        //去到点操作\r\n        if (this.trailPos.length > 1) {\r\n            let count = 0;\r\n            let cb = (isStart = false) => {\r\n                //途径点查看是否有可以捡起Cube\r\n                if (this.pickPosCube(this.trailPos[count], isStart)) {\r\n                    // ModelAnimController.FadeIn(ModelAnimClips.Move);\r\n                    this.GameEnd()\r\n                }\r\n                //判定是否结束点\r\n                if (Laya.Vector3.equals(this.trailPos[count], StageController.endPos[this.stageID])) {\r\n                    this.doCall(call);\r\n                    return;\r\n                }\r\n                //判定是否是起点\r\n                if (Laya.Vector3.equals(this.trailPos[count], StageController.startPos[this.stageID])) {\r\n                    ////console.log(\"离开\", this.stageID)\r\n                    this.stageID--;\r\n                    ////console.log(\"去往\", this.stageID)\r\n                    if (this.stageID >= 0) {\r\n                        this.doCall(call);\r\n                        return;\r\n                    } else {\r\n                        this.stageID = 0;\r\n                        ////console.log(\"已返回起始点\")\r\n                    }\r\n                }\r\n                //特殊点判断\r\n                if (count != 0) {\r\n                    //判定轨道\r\n                    if (!this.checkPosTrail(this.trailPos[count])) {\r\n                        // this.backCollectUI.set_visible(true);\r\n                        setTimeout(() => {\r\n                            // this.backCollectUI.set_visible(false);\r\n                        }, 2000);\r\n                        this.callDoneAndCanel();\r\n                        return;\r\n                    }\r\n                    //判定是否为虫洞\r\n                    if (this.checkPosWorm(this.trailPos[count])) {\r\n                        return;\r\n                    }\r\n                    //判定是否是beacon\r\n                    if (this.checkPosBeacon(this.trailPos[count])) {\r\n                        return;\r\n                    }\r\n                    //判定是否为Spring转角\r\n                    if (this.checkPosSpring(this.trailPos[count], call)) {\r\n                        return;\r\n                    }\r\n                    //判定是否为Stop\r\n                    if (this.checkPosStop(this.trailPos[count])) {\r\n                        this.callDone();\r\n                        return;\r\n                    }\r\n                } else {\r\n                    if (!this.checkPosTrail(this.trailPos[count + 1])) {\r\n                        // this.backCollectUI.set_visible(true);\r\n                        setTimeout(() => {\r\n                            // this.backCollectUI.set_visible(false);\r\n                        }, 2000);\r\n                        this.callDoneAndCanel();\r\n                        return;\r\n                    }\r\n                }\r\n                //执行下一步\r\n                count++;\r\n                if (count < this.trailPos.length) {\r\n                    let tween = new Tween3D();\r\n                    // Data.fxController.smokeFx.transform.localPositionY = 0;\r\n                    tween.toTween(Data.player, { pos: this.trailPos[count] }, this.trailPosTime[count], cb);\r\n                }\r\n                else {\r\n                    this.callDone();\r\n                }\r\n            }\r\n            cb(true);\r\n        } else {\r\n            this.callDone();\r\n            //结束动作\r\n        }\r\n        //end\r\n    }\r\n    //命令完成\r\n    callDone() {\r\n        let calls = this.touchWayCheck.calls;\r\n        calls.splice(0, 1);\r\n        // Tools.vibrateShort();\r\n        if (calls.length > 0) {\r\n            let call = calls[0];\r\n            this.doCall(call);\r\n        } else {\r\n            this.isCalling = false;\r\n            // Data.fxController.smokeFx.transform.localPositionY = -1000;\r\n            // for (let i = 0; i < Data.player.numChildren; i++) {\r\n            //     let child = Data.player.getChildAt(i) as Laya.Sprite3D;\r\n            //     let moveT = new Tween3D();\r\n            //     let basePos = new Laya.Vector3(0, child.transform.localPositionY, 0);\r\n            //     moveT.toTween(child, { pos: basePos }, 50, () => { }, true);\r\n            // }\r\n        }\r\n    }\r\n    //命令完成且清空\r\n    callDoneAndCanel() {\r\n        // Tools.vibrateShort();\r\n        this.touchWayCheck.calls = [];\r\n        this.isCalling = false;\r\n        // Data.fxController.smokeFx.transform.localPositionY = -1000;\r\n        // for (let i = 0; i < Data.player.numChildren; i++) {\r\n        //     let child = Data.player.getChildAt(i) as Laya.Sprite3D;\r\n        //     let moveT = new Tween3D();\r\n        //     let basePos = new Laya.Vector3(0, child.transform.localPositionY, 0);\r\n        //     moveT.toTween(child, { pos: basePos }, 50, () => { }, true);\r\n        // }\r\n    }\r\n    //寻路嵌套(核心)\r\n    getNextPos(nowPos, distance) {\r\n        let roadCubes = StageController.roadCubes[this.stageID];\r\n        let canGoPos = nowPos;\r\n        for (let i = 0; i < roadCubes.length; i++) {\r\n            let dir = Tools.Vector3Reduce(roadCubes[i], nowPos);\r\n            let dis = Laya.Vector3.scalarLength(dir);\r\n            if (dis == 1) {\r\n                let angle = Math.atan2(dir.z, dir.x) / Math.PI * 180;\r\n                let call = \"none\"\r\n                if (angle == 90) {\r\n                    call = \"up\"\r\n                } else if (angle == 180) {\r\n                    call = \"right\"\r\n                } else if (angle == -90) {\r\n                    call = \"down\"\r\n                } else if (angle == 0) {\r\n                    call = \"left\"\r\n                }\r\n                if (distance == call) {\r\n                    canGoPos = roadCubes[i];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (nowPos != canGoPos) {\r\n            //途径点\r\n            this.trailPos.push(canGoPos);\r\n            canGoPos = this.getNextPos(canGoPos, distance);\r\n        }\r\n        return canGoPos;\r\n    }\r\n    getCanGoPos(nowPos) {\r\n\r\n    }\r\n    //查看该点是否特殊点\r\n    checkPosSpecial(pos) {\r\n        let canPickCubes = StageController.canPickCubes[this.stageID];\r\n        for (let i = 0; i < canPickCubes.length; i++) {\r\n            let obj = canPickCubes[i] as Laya.Sprite3D;\r\n            if (Laya.Vector3.equals(obj.transform.position, pos)) {\r\n                return \"pick\";\r\n            }\r\n        }\r\n        if (Laya.Vector3.equals(pos, StageController.endPos[this.stageID])) {\r\n            return \"end\";\r\n        }\r\n        if (Laya.Vector3.equals(pos, StageController.startPos[this.stageID])) {\r\n            return \"start\";\r\n        }\r\n        let trailPoses = StageController.trailPos[this.stageID];\r\n        for (let i = 0; i < trailPoses.length; i++) {\r\n            if (Laya.Vector3.equals(pos, trailPoses[i])) {\r\n                return \"trail\";\r\n            }\r\n        }\r\n        let spring = StageController.spring;\r\n        for (let i = 0; i < spring.length; i++) {\r\n            let springPos = spring[i].transform.position;\r\n            if (Laya.Vector3.equals(pos, springPos)) {\r\n                return \"spring\";\r\n            }\r\n        }\r\n        let beacon = StageController.beacon;\r\n        for (let i = 0; i < beacon.length; i++) {\r\n            let beaconPos = beacon[i].transform.position;\r\n            if (Laya.Vector3.equals(pos, beaconPos)) {\r\n                return \"beacon\";\r\n            }\r\n        }\r\n        let In = StageController.wormHoleIn;\r\n        let Out = StageController.wormHoleOut\r\n        for (let key in In) {\r\n            let value = In[key];\r\n            if (Laya.Vector3.equals(pos, value)) {\r\n                return \"hole\";\r\n            }\r\n        }\r\n        for (let key in Out) {\r\n            let value = Out[key];\r\n            if (Laya.Vector3.equals(pos, value)) {\r\n                return \"hole\";\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    //查看要走的路径上有没有要捡的方块\r\n    pickPosCube(pos, isStart = false) {\r\n        let canPickCubes = StageController.canPickCubes[this.stageID];\r\n        let isPop = false;\r\n        for (let i = 0; i < canPickCubes.length; i++) {\r\n            let obj = canPickCubes[i] as Laya.Sprite3D;\r\n            if (Laya.Vector3.equals(obj.transform.position, pos)) {\r\n                canPickCubes.splice(i, 1);\r\n                // Data.player.addChild(obj);\r\n                // this.CubePickDo(obj);\r\n                StageController.changePickCubeMat(obj, 2)\r\n                // obj.getChildByName(\"qiu\").active = false;\r\n                let anim: Laya.Animator = obj.getComponent(Laya.Animator);\r\n                anim.play(\"Pop\", 0, 0);\r\n                Data.fxController.BornPopFx(pos);\r\n                // Data.soundController.play(SoundType.Select)\r\n                Data.soundController.playPopSound();\r\n                isPop = true;\r\n                Tools.vibrateShort();\r\n                // ModelAnimController.FadeIn(ModelAnimClips.Jump);\r\n                if (canPickCubes.length == 0) {\r\n                    // this.collectAllUI.set_visible(true);\r\n                    // setTimeout(() => {\r\n                    //     Laya.Tween.to(this.collectAllUI, { alpha: 0 }, 300)\r\n                    //     setTimeout(() => {\r\n                    //         this.collectAllUI.set_visible(false);\r\n                    //         this.collectAllUI.alpha = 1;\r\n                    //     }, 1000);\r\n                    // }, 1000);\r\n                    ////console.log(\"该板块收集完毕\", this.stageID)\r\n                    // Laya.timer.frameOnce(1, this, this.GameEnd);\r\n                    // this.GameEnd();\r\n                    // Data.fxController.BornFinishFx(Data.player.transform.position);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        if (!isPop && !isStart) {\r\n            Data.fxController.BornPopFx(pos);\r\n            Tools.vibrateShort();\r\n            // Tools.vibrateShort();\r\n        }\r\n        return false;\r\n    }\r\n    CubePickDo(cube) {\r\n        // Tools.vibrateShort();\r\n        // this.nowCube.push(cube);\r\n        // cube.transform.localPosition = new Laya.Vector3(0, 0.3 * this.nowCube.length, 0);\r\n        // Data.model.transform.localPositionY = 0.3 + 0.3 * this.nowCube.length;\r\n        // let uiPos = Tools.getSpritePosBySprite3DPoint(Data.model, new Laya.Vector2(0, 0));\r\n        // // let ui = new Laya.FontClip(this.addOneUI.skin, \"0123456789*+\")\r\n        // ui.value = \"+1\";\r\n        // ui.x = uiPos.x - 50;\r\n        // ui.y = uiPos.y - 100;\r\n        // this.scene.addChild(ui);\r\n        // Laya.Tween.to(ui, { y: ui.y - 100, alpha: 0 }, 500, null, Laya.Handler.create(this, () => {\r\n        //     ui.destroy();\r\n        // }))\r\n        // Data.soundController.play(SoundType.AddBrick);\r\n    }\r\n    //查看要走的路径是否是要铺轨的trail\r\n    checkPosTrail(pos) {\r\n        let trailPoses = StageController.trailPos[this.stageID];\r\n        if (!trailPoses)\r\n            return true;\r\n        for (let i = 0; i < trailPoses.length; i++) {\r\n            if (Laya.Vector3.equals(pos, trailPoses[i])) {\r\n                if (this.nowCube.length <= 1)\r\n                    return false;\r\n                let useCube = this.nowCube[this.nowCube.length - 1] as Laya.Sprite3D;\r\n                Data.scene3D.addChild(useCube);\r\n                useCube.transform.position = pos;\r\n                this.putDownCube(useCube);\r\n                this.nowCube.splice(this.nowCube.length - 1, 1);\r\n                StageController.trailPos[this.stageID].splice(i, 1);\r\n                Data.model.transform.localPositionY = 0.3 + 0.3 * this.nowCube.length;\r\n                // Tools.vibrateShort();\r\n                // Data.soundController.play(SoundType.PutBrick);\r\n                return true;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    //查看要走的路径是否为Spring\r\n    checkPosSpring(pos, dir) {\r\n        let spring = StageController.spring;\r\n        for (let i = 0; i < spring.length; i++) {\r\n            let springPos = spring[i].transform.position;\r\n            if (Laya.Vector3.equals(pos, springPos)) {\r\n                Tools.objectScaleTips(spring[i]);\r\n                let forward = Tools.getTransformForward(spring[i].transform);\r\n                Laya.Vector3.normalize(forward, forward);\r\n                if (forward.z == 1) {\r\n                    if (dir == \"right\") {\r\n                        this.doCall(\"down\")\r\n                    } else if (dir == \"up\") {\r\n                        this.doCall(\"left\");\r\n                    }\r\n                } else if (forward.x == 1) {\r\n                    if (dir == \"left\") {\r\n                        this.doCall(\"down\");\r\n                    } else if (dir == \"up\") {\r\n                        this.doCall(\"right\");\r\n                    }\r\n                } else if (forward.x == -1) {\r\n                    if (dir == \"right\") {\r\n                        this.doCall(\"up\");\r\n                    } else if (dir == \"down\") {\r\n                        this.doCall(\"left\");\r\n                    }\r\n                } else if (forward.z == -1) {\r\n                    if (dir == \"left\") {\r\n                        this.doCall(\"up\");\r\n                    } else if (dir == \"down\") {\r\n                        this.doCall(\"right\");\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    //查看要走的路径是否为Beacon\r\n    checkPosBeacon(pos) {\r\n        let beacon = StageController.beacon;\r\n        for (let i = 0; i < beacon.length; i++) {\r\n            let beaconPos = beacon[i].transform.position;\r\n            if (Laya.Vector3.equals(pos, beaconPos)) {\r\n                Tools.objectScaleTips(beacon[i]);\r\n                let forward = Tools.getTransformForward(beacon[i].transform);\r\n                Laya.Vector3.normalize(forward, forward);\r\n                if (forward.z == 1) {\r\n                    this.doCall(\"left\");\r\n                } else if (forward.x == 1) {\r\n                    this.doCall(\"down\");\r\n                } else if (forward.x == -1) {\r\n                    this.doCall(\"up\");\r\n                } else if (forward.z == -1) {\r\n                    this.doCall(\"right\");\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    //查看要走的路径是否为WormHole\r\n    checkPosWorm(pos) {\r\n        let In = StageController.wormHoleIn;\r\n        let Out = StageController.wormHoleOut\r\n        for (let key in In) {\r\n            let value = In[key];\r\n            if (Laya.Vector3.equals(pos, value)) {\r\n                let tween = new Tween3D();\r\n                let downPos = Tools.Vector3Reduce(pos, new Laya.Vector3(0, this.nowCube.length * 0.3 + 1.5, 0))\r\n                let upPos = this.GoOutWorm(key);\r\n                let goPos = Tools.Vector3Reduce(upPos, new Laya.Vector3(0, this.nowCube.length * 0.3 + 1.5, 0))\r\n                tween.toTween(Data.player, { pos: downPos }, 1000, () => {\r\n                    Data.player.transform.position = goPos;\r\n                })\r\n                    .then({ pos: upPos }, 1000, () => {\r\n                        this.callDoneAndCanel();\r\n                    });\r\n                return true;\r\n            }\r\n        }\r\n        for (let key in Out) {\r\n            let value = Out[key];\r\n            if (Laya.Vector3.equals(pos, value)) {\r\n                let tween = new Tween3D();\r\n                let downPos = Tools.Vector3Reduce(pos, new Laya.Vector3(0, this.nowCube.length * 0.3 + 2.5, 0))\r\n                let upPos = this.GoInWorm(key);\r\n                let goPos = Tools.Vector3Reduce(upPos, new Laya.Vector3(0, this.nowCube.length * 0.3 + 2.5, 0))\r\n                tween.toTween(Data.player, { pos: downPos }, 1000, () => {\r\n                    Data.player.transform.position = goPos;\r\n                })\r\n                    .then({ pos: upPos }, 1000, () => {\r\n                        this.callDoneAndCanel();\r\n                    });\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    GoOutWorm(id) {\r\n        let Out = StageController.wormHoleOut\r\n        return Out[id];\r\n    }\r\n    GoInWorm(id) {\r\n        let In = StageController.wormHoleIn;\r\n        return In[id]\r\n    }\r\n    //放下方块动画\r\n    putDownCube(cube) {\r\n        let endPos = cube.transform.position.clone();\r\n        let startPos = cube.transform.position.clone();\r\n        startPos.y += 0.3;\r\n        cube.transform.position = startPos;\r\n        Tools.setTransRotEulerX(cube.transform, 0);\r\n        let t = new Tween3D();\r\n        t.toTween(cube, { pos: endPos, rot: new Laya.Vector3(0, 0, 0) }, 500);\r\n    }\r\n    //查看要走的路径是否为Stop\r\n    checkPosStop(pos) {\r\n        let stop = StageController.stop;\r\n        for (let i = 0; i < stop.length; i++) {\r\n            if (Laya.Vector3.equals(stop[i], pos)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}","import GameConfig from \"../GameConfig\";\r\nimport ColliderController from \"./stage/ColliderController\";\r\nimport BaseUI from \"./mods/BaseUI\";\r\nimport Data, { SceneUrl } from \"./tools/Data\";\r\nimport Tools from \"./mods/Tools\";\r\nimport PlayerData from \"./mods/PlayerData\";\r\nimport JJMgr, { SceneDir } from \"../JJExport/Common/JJMgr\";\r\nimport JJUtils from \"../JJExport/Common/JJUtils\";\r\nimport ExportAndAdControl from \"../JJExport/ExportAndAdControl\";\r\nimport SoundManager from \"../JJExport/managers/SoundManager\";\r\nimport { SoundType } from \"../JJExport/enums/EnumType\";\r\nimport ModelAnimController, { ModelAnimClips } from \"./stage/ModelAnimController\";\r\nimport StageController from \"./stage/StageController\";\r\nimport FxController from \"./stage/FxController\";\r\nimport CamFollow from \"./mods/CamFollow\";\r\n\r\n\r\nexport default class StartMenu extends BaseUI {\r\n    startButton: Laya.Button;\r\n\r\n    // iconBox: Laya.Box;\r\n    // scrollList: Laya.Box;\r\n    finger: Laya.Image;\r\n    fingerScale: number = 1;\r\n    fingerAxis: number = 1;\r\n    fingerTimer: any;\r\n\r\n\r\n\r\n    init() {\r\n        Data.nowScene = 1;\r\n        this.zOrder = 1;\r\n        //console.log(\"初始化游戏开始界面按钮\")\r\n        Data.fxController.cleanFxs();\r\n        this.ButtonInit();\r\n        // this.coinValue.value = Data.readCoin().toString();\r\n        // let box = this.scrollList.getChildAt(0) as Laya.Box;\r\n        // this.gradeValue.value = Data.readGrade().toString();\r\n\r\n        ExportAndAdControl.StartMenuIn()\r\n        //console.log(PlayerData.GetPlayerData());\r\n        this.EnergyInit();\r\n    }\r\n\r\n    //#region 体力\r\n    EnergyInit() {\r\n        this.EnergyUpdate();\r\n        Tools.d2_AddClickEvent(this.energyNeedBtn, this, () => {\r\n\r\n            //打开体力不足面板\r\n            this.openEnergyPanel();\r\n\r\n        })\r\n        Tools.d2_AddClickEvent(this.energyCancelBtn, this, this.closeEnergyPanel);\r\n        Tools.d2_AddClickEvent(this.energyVideoBtn, this, () => {\r\n            Data.addEnergy(10)\r\n            this.EnergyUpdate();\r\n        })\r\n        Laya.timer.loop(1000, this, this.EnergyUpdate)\r\n    }\r\n    openEnergyPanel() {\r\n        this.energyPanel.set_visible(true);\r\n    }\r\n    closeEnergyPanel() {\r\n        this.energyPanel.set_visible(false);\r\n    }\r\n    energyTime: Laya.FontClip;\r\n    energyValue: Laya.FontClip;\r\n    energyNeedBtn: Laya.Image;\r\n    energyVideoBtn: Laya.Image;\r\n    energyCancelBtn: Laya.Image;\r\n    energyPanel: Laya.Image;\r\n    EnergyUpdate() {\r\n        let time = Data.checkEnergy();\r\n        // this.ValueInit();\r\n        this.energyValue.value = Data.readEnergy().toString();\r\n        if (time != null) {\r\n\r\n            let image = this.energyTime;\r\n            image.set_visible(true);\r\n\r\n            time = 60 * 1000 - time;\r\n            let sec = Math.floor(time / 1000);\r\n            let min = Math.floor(sec / 60);\r\n            sec = sec % 60;\r\n            let minString;\r\n            let secString;\r\n            if (min < 10) {\r\n                minString = \"0\" + min.toString()\r\n            } else {\r\n                minString = min.toString();\r\n            }\r\n            if (sec < 10) {\r\n                secString = \"0\" + sec.toString();\r\n            } else {\r\n                secString = sec.toString();\r\n            }\r\n            let string = minString + \":\" + secString;\r\n            this.energyTime.value = string;\r\n        } else {\r\n\r\n            let image = this.energyTime;\r\n            image.set_visible(false);\r\n\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    ButtonInit() {\r\n        // Tools.buttonInit(this.startButton, this, this.StartGame);\r\n        Tools.d2_AddClickEvent(this.startButton, this, this.StartGame)\r\n        // Tools.buttonInit(this.shopButton, this, this.OpenShop);\r\n    }\r\n    StartGame() {\r\n        //console.log(\"点击开始游戏\")\r\n\r\n        if (Data.readEnergy() < 5) {\r\n            this.openEnergyPanel();\r\n        } else {\r\n            if (Data.isPure) {\r\n                Data.collider.enable = true;\r\n                Laya.Scene.destroy(SceneUrl.STARTMENU)\r\n                Tools.loadScene(SceneUrl.STAGEUI)\r\n            } else {\r\n                ExportAndAdControl.StartMenuOut(() => {\r\n                    Data.collider.enable = true;\r\n                    Laya.Scene.destroy(SceneUrl.STARTMENU)\r\n                    Tools.loadScene(SceneUrl.STAGEUI)\r\n\r\n                });\r\n            }\r\n        }\r\n    }\r\n    MoreGame() {\r\n        // Laya.Scene.destroy(SceneUrl.STARTMENU);\r\n        Tools.loadScene(SceneDir.SCENE_FULLGAMEUI, 200, () => { }, {\r\n            closeCallbackFun: () => {\r\n                // Tools.loadScene(SceneUrl.STARTMENU,1,()=>{\r\n\r\n                // });\r\n            },\r\n            autoChance: Number(JJMgr.instance.dataConfig.front_inside_wanghong_chance),\r\n        });\r\n        // Tools.loadScene(SceneDir.SCENE_RECOMMENDUI, 200);\r\n        //console.log(\"更多游戏按钮\")\r\n    }\r\n    DrawUI() {\r\n        Tools.loadScene(SceneDir.SCENE_DRAWUI);\r\n    }\r\n\r\n    //结尾动画事件\r\n    EndAnimInit() {\r\n\r\n    }\r\n    OpenShop() {\r\n        // //console.log(\"打开商店\")\r\n        // this.ShakeShopEnd();\r\n        // this.moreGameBtnBreathEnd();\r\n        // Laya.Scene.destroy(SceneUrl.STARTMENU);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport EndMenu from \"./scripts/EndMenu\"\nimport Loading from \"./scripts/Loading\"\nimport Stage from \"./scripts/Stage\"\nimport StageUpdate from \"./scripts/StageUpdate\"\nimport StartMenu from \"./scripts/StartMenu\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=750;\r\n    static height:number=1334;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"vertical\";\r\n    static alignV:string=\"middle\";\r\n    static alignH:string=\"center\";\r\n    static startScene:any=\"Loading.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"scripts/EndMenu.ts\",EndMenu);\n        reg(\"scripts/Loading.ts\",Loading);\n        reg(\"scripts/Stage.ts\",Stage);\n        reg(\"scripts/StageUpdate.ts\",StageUpdate);\n        reg(\"scripts/StartMenu.ts\",StartMenu);\r\n    }\r\n}\r\nGameConfig.init();","import GameConfig from \"./GameConfig\";\r\nimport Data, { SceneUrl } from \"./scripts/tools/Data\";\r\nimport Tools from \"./scripts/mods/Tools\";\r\nimport { SceneDir } from \"./JJExport/Common/JJMgr\";\r\nimport { SceneType } from \"./JJExport/enums/EnumType\";\r\n\r\nclass Main {\r\n\tconstructor() {\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\r\n\r\n\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//加载IDE指定的场景\r\n\t\t// Tools.loadScene(\"JJExport/Clean.scene\");\r\n\t\tLaya.Scene.open(SceneUrl.LOADING)\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":[],"mappings":"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,EAAE,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;YAClM,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,UAAU,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;YAC1M,CAAC,QAAQ,EAAE,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;YAC1M,QAAQ,EAAE,UAAU,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,E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"}