window.__require=function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var p=n[a]={exports:{}};t[a][0].call(p.exports,function(e){return r(t[a][1][e]||e)},p,p.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({Panel_ChestOpen:[function(e,t,n){"use strict";cc._RF.push(t,"5d7fdY7dolLUofFJURPwkk8","Panel_ChestOpen");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../Bundle1_Loading/Scripts/Config/DataClass"),c=e("../../../Bundle1_Loading/Scripts/Tool/Tool"),l=e("../../../Bundle2_Main/Scripts/Mgr/AssetsMgr"),s=e("../../../Bundle2_Main/Scripts/Mgr/EquipMgr"),p=e("../../../Bundle2_Main/Scripts/Mgr/RoleMgr"),d=e("../../../Bundle2_Main/Scripts/Panel/Panel"),u=e("../../../Bundle2_Main/SeverTest/SeverMgr"),f=cc._decorator,_=f.ccclass,h=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_Chest=null,t.node_light=null,t.openChestIndex=-1,t}return r(t,e),t.prototype.init=function(){},t.prototype.openCb=function(){var e=this;cc.Tween.stopAllByTarget(this.node_Chest),this.node_Chest.opacity=255,cc.tween(this.node_Chest).repeat(4,cc.tween().parallel(cc.tween().to(.05,{scale:1.2}).to(.05,{scale:1}),cc.tween().to(.05,{angle:-10}).to(.05,{angle:0}).to(.05,{angle:10}).to(.05,{angle:0}))).call(function(){e.node_Chest.opacity=0,e.node_light.opacity=255,e.node_light.getComponent(dragonBones.ArmatureDisplay).playAnimation("play",-1)}).delay(1).call(function(){e.showGetAward()}).delay(.5).call(function(){e.close()}).start()},t.prototype.closeCb=function(){},t.prototype.initChest=function(e,t){console.log("\u6253\u5f00\u5b9d\u7bb1",e),this.openChestIndex=e,this.node_Chest.getComponent(cc.Sprite).spriteFrame=t},t.prototype.showGetAward=function(){switch(this.openChestIndex){case 0:this.getRoleTest();break;case 1:this.getEuqipTest()}},t.prototype.getRoleTest=function(){for(var e=[],t=0;t<10;t++){var n=u.default.instance.addNewRole(c.Tool.randomInt(10001,10006));e.push(new a.RewardData(n.id,p.default.getJsonData(n).name))}l.default.Instance.showGetReward(e)},t.prototype.getEuqipTest=function(){for(var e=[],t=0;t<10;t++){var n=u.default.instance.addNewEquip(c.Tool.randomInt(20001,20012));e.push(new a.RewardData(n.id,s.default.getJsonData(n.id).name))}l.default.Instance.showGetReward(e)},i([h(cc.Node)],t.prototype,"node_Chest",void 0),i([h(cc.Node)],t.prototype,"node_light",void 0),i([_],t)}(d.default);n.default=g,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/DataClass":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../../../Bundle2_Main/Scripts/Mgr/AssetsMgr":void 0,"../../../Bundle2_Main/Scripts/Mgr/EquipMgr":void 0,"../../../Bundle2_Main/Scripts/Mgr/RoleMgr":void 0,"../../../Bundle2_Main/Scripts/Panel/Panel":void 0,"../../../Bundle2_Main/SeverTest/SeverMgr":void 0}]},{},["Panel_ChestOpen"]);