window.__require=function e(t,o,n){function i(c,s){if(!o[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var d="function"==typeof __require&&__require;if(!s&&d)return d(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=o[c]={exports:{}};t[c][0].call(l.exports,function(e){return i(t[c][1][e]||e)},l,l.exports,e,t,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({Comp_FlyItem:[function(e,t,o){"use strict";cc._RF.push(t,"0f0c04vs7JKAKhD/oqONA6y","Comp_FlyItem");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../Bundle1_Loading/Scripts/Config/EnumTypes"),s=e("../../Bundle1_Loading/Scripts/Mgr/EventMgr"),a=e("../../Bundle1_Loading/Scripts/Tool/Tool"),d=e("../../Bundle2_Main/Scripts/Panel/PanelMgr"),l=cc._decorator,_=l.ccclass,h=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.coinNode=this.node.getChildByName("coinNode"),this.chest_40001_Node=this.node.getChildByName("chest_40001_Node"),this.chest_40002_Node=this.node.getChildByName("chest_40002_Node"),this.chest_40003_Node=this.node.getChildByName("chest_40003_Node"),this.chest_40004_Node=this.node.getChildByName("chest_40004_Node")},t.prototype.onEnable=function(){s.EventMgr.on(c.EventType.FlyItem_Fly_Event,this.flyItem,this)},t.prototype.onDisable=function(){s.EventMgr.off(c.EventType.FlyItem_Fly_Event,this.flyItem,this)},t.prototype.flyItem=function(e,t,o,n,i){var r=a.Tool.convertToNodeSpaceAR(this.coinNode,o);if(a.Tool.BoxCheck_2D_Normal(r.x,r.y,100,100,this.coinNode.x,this.coinNode.y,d.default.canvas.width,d.default.canvas.height).isHit&&!(t<=0)){t>10&&(t=10);var c,s=a.Tool.convertToNodeSpaceAR(this.coinNode,n);switch(e){case"coin":c=this.coinNode;break;case"chest_40001":c=this.chest_40001_Node;break;case"chest_40002":c=this.chest_40002_Node;break;case"chest_40003":c=this.chest_40003_Node;break;case"chest_40004":c=this.chest_40004_Node}if(c)for(var l=0,_=function(){var e=h.findItem(c);e.setPosition(r),e.opacity=255;var o=.3+.1*Math.random()-.05,n=new cc.Vec3(r.x+a.Tool.randomNumber(-125,125),r.y+a.Tool.randomNumber(-125,125),0);cc.tween(e).to(o,{position:n}).delay(.05).to(.4,{position:s}).call(function(){e.opacity=0,++l>=t&&i&&i()}).start()},h=this,p=0;p<t;p++)_()}},t.prototype.findItem=function(e){for(var t,o=0;o<e.childrenCount;o++)if(0==e.children[o].opacity){t=e.children[o];break}return t||(t=cc.instantiate(e.children[0]),e.addChild(t)),t.opacity=0,t},r([_],t)}(cc.Component));o.default=h,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../../Bundle2_Main/Scripts/Panel/PanelMgr":void 0}]},{},["Comp_FlyItem"]);