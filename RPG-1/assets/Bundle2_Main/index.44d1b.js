window.__require=function t(e,o,n){function r(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return r(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({AnimMgr:[function(t,e,o){"use strict";cc._RF.push(e,"d1024hAMm1C+bPIzKlnJwNE","AnimMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.AnimParts=void 0;var n=function(){function t(){}return t.changeSlot=function(t,e,o){var n=t.findSlot(e),r=n.getAttachment();if(n&&r){var i=new sp.SkeletonTexture({});i.setRealTexture(o);var a=r.region;a.u=0,a.v=0,a.u2=1,a.v2=1,a.width=o.width,a.height=o.height,a.originalWidth=o.width,a.originalHeight=o.height,a.rotate=!1,a.texture=i,r.width=o.width,r.height=o.height,r.region=a,r.setRegion&&r.setRegion(a),r.updateOffset&&r.updateOffset(),n.setAttachment(r)}else cc.warn("updatePartialSkin",e)},t.bowNames=["bow"],t.capeNames=["cape"],t.decorateNames=["decorate_l","decorate_r"],t.staffNames=["staff"],t.wingsNames=["wing_l","wing_r"],t.swordNames=["sword"],t.hatNames=["hat","hat_b"],t.maskNames=["mask"],t.hairNames=["ahoge","hair_b","hair_b2","hair_f","sideburns_l","sideburns_r"],t.faceNames=["face1"],t.clothNames=["belt","coat","coat_b","pants","pants_l","pants_r","shoes_l","shoes_r","sleeve_l1","sleeve_l2","sleeve_r1","sleeve_r2","slove_l","slove_r","socks_l","socks_r"],t}();o.default=n;o.AnimParts=function(){this.class="master",this.bow="Bow_luoti",this.cape="Cape_luoti",this.cloth="Cloth_luoti",this.decorate="Decorate_luoti",this.face="Face_luoti",this.hair="Hair_luoti",this.hat="Hat_luoti",this.mask="Mask_luoti",this.staff="Staff_luoti",this.sword="Sword_luoti",this.wings="Wings_luoti"},cc._RF.pop()},{}],AssetsMgr:[function(t,e,o){"use strict";cc._RF.push(e,"1303cHnXu1L5IA9h1WWKJPG","AssetsMgr");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Panel/PanelMgr"),i=cc._decorator,a=i.ccclass,s=(i.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"Instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(t){t&&t()},t.prototype.showGetReward=function(t,e){switch(void 0===e&&(e="page1"),e){case"toast":this.showRewardByToast(t);break;default:case"page1":this.showRewardPage1(t)}},t.prototype.updateAssets=function(){},t.prototype.showRewardPage1=function(t){r.default.showPanel("Panel_Reward",function(e){e.getComponent("Panel_Reward").rewardDataSet(t)})},t.prototype.showRewardByToast=function(){},t._instance=null,e=n([a],t)}());o.default=s,cc._RF.pop()},{"../Panel/PanelMgr":"PanelMgr"}],Btn_MapAward:[function(t,e,o){"use strict";cc._RF.push(e,"29dadjWxZZE2pYybSFR7rHE","Btn_MapAward");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Comp/Btn"),s=t("../Panel/PanelMgr"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.click=function(){s.default.showPanel("Panel_MapReward",function(t){t.getComponent("Panel_MapReward").updateData()})},i([l],e)}(a.default));o.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Comp/Btn":void 0,"../Panel/PanelMgr":"PanelMgr"}],Btn_OpenPanel:[function(t,e,o){"use strict";cc._RF.push(e,"297066bqhhKXYTECCQqWwVX","Btn_OpenPanel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Comp/Btn"),s=t("../Panel/PanelMgr"),c=cc._decorator,l=c.ccclass,p=c.property,u=c.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panelName="",e.clearUI_1=!1,e}return r(e,t),e.prototype.click=function(){this.clearUI_1&&this.clearUI1(),""!=this.panelName&&s.default.showPanel(this.panelName)},e.prototype.clearUI1=function(){s.default.clearUI1(this.panelName)},i([p(cc.String)],e.prototype,"panelName",void 0),i([p(cc.Boolean)],e.prototype,"clearUI_1",void 0),i([l,u("Btn/Btn_OpenPanel")],e)}(a.default);o.default=d,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Comp/Btn":void 0,"../Panel/PanelMgr":"PanelMgr"}],Btn_Setting:[function(t,e,o){"use strict";cc._RF.push(e,"d93daSfER1Dprm825Oy1+n2","Btn_Setting");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Comp/Btn"),s=t("../Panel/PanelMgr"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.click=function(){s.default.showPanel("Panel_Pause")},i([l],e)}(a.default));o.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Comp/Btn":void 0,"../Panel/PanelMgr":"PanelMgr"}],Btn_Test2:[function(t,e,o){"use strict";cc._RF.push(e,"1388b/WeaNOq7eCbXpHQM02","Btn_Test2");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Comp/Btn"),s=t("../../../Bundle1_Loading/Scripts/Mgr/NetWork/NetWork"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.click=function(){s.default.ins().sendSocket(s.SocketConst.GET_ROLE,{isTen:1,isDim:0}).then(function(){})},i([l],e)}(a.default));o.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Comp/Btn":void 0,"../../../Bundle1_Loading/Scripts/Mgr/NetWork/NetWork":void 0}],Btn_Test3:[function(t,e,o){"use strict";cc._RF.push(e,"75daeZU9KtEzJToJawm0i97","Btn_Test3");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Comp/Btn"),s=t("../../../Bundle1_Loading/Scripts/Config/GameData"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.click=function(){var t=parseInt(this.node.name.charAt(2));s.default.isTest&&console.log(this.node.name,t)},i([l],e)}(a.default));o.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Comp/Btn":void 0,"../../../Bundle1_Loading/Scripts/Config/GameData":void 0}],Btn_Test:[function(t,e,o){"use strict";cc._RF.push(e,"39a941v23JPeLUo9+ShC3XS","Btn_Test");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Comp/Btn"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.click=function(){},i([c],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Comp/Btn":void 0}],CoinComp:[function(t,e,o){"use strict";cc._RF.push(e,"3cf57zoovJKmYo0WK7EBVtO","CoinComp");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),s=t("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),c=t("../../SeverTest/SeverMgr"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.label=this.node.getChildByName("label").getComponent(cc.Label)},e.prototype.onEnable=function(){this.updateCoin(),s.EventMgr.on(a.EventType.Coin_Update_Event,this.updateCoin,this)},e.prototype.onDisable=function(){s.EventMgr.off(a.EventType.Coin_Update_Event,this.updateCoin,this)},e.prototype.updateCoin=function(){this.label.string=c.default.instance.localData.coin.toString()},i([p],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../SeverTest/SeverMgr":"SeverMgr"}],DestroyAuto:[function(t,e,o){"use strict";cc._RF.push(e,"705e6ZsGjFIqoa1Rbk8dBEU","DestroyAuto");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyTime=3,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.scheduleOnce(function(){t.node.destroy()},this.destroyTime)},i([c(cc.Float)],e.prototype,"destroyTime",void 0),i([s,l("Mod/DestroyAuto")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],EquipMgr:[function(t,e,o){"use strict";cc._RF.push(e,"7fec7Ai6uVFOp3DCq+oWk9n","EquipMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Bundle1_Loading/Scripts/Mgr/CfgMgr"),a=t("../../SeverTest/SeverMgr"),s=t("../Config/Main_EunmType"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.getJsonData=function(t){return i.CfgMgr.instance.getCfg("Equipment").main.find(function(e){return e.id==t})},e.getSlotNames=function(){for(var t=i.CfgMgr.instance.getCfg("Equipment").slot,e=[],o=0;o<t.length;o++)e.push(t[o].type);return e},e.getEnchantAddValue=function(t){var e=t.enchantment,o=t.quality,n=i.CfgMgr.instance.getCfg("Equipment").enchantment.find(function(t){return t.type==e}),r=n.value1,a=n.value2;return""==r?[]:""==a?[{key:r,value:.4*o}]:[{key:r,value:.25*o},{key:a,value:.25*o}]},e.translateTypeName=function(t){return i.CfgMgr.instance.getCfg("Equipment").type.find(function(e){return e.type==t}).name},e.translatePropertyName=function(t){return i.CfgMgr.instance.getCfg("Equipment").property.find(function(e){return e.type==t}).name},e.translateEnchantName=function(t){return i.CfgMgr.instance.getCfg("Equipment").enchantment.find(function(e){return e.type==t}).name},e.translateAddPropertyName=function(t){return i.CfgMgr.instance.getCfg("Equipment").addProperty.find(function(e){return e.type==t}).name},e.checkEquipIsWear=function(t){var e=a.default.instance.localData.hasRoles;for(var o in e)for(var n=e[o],r=0;r<n.ownEquip.length;r++)if(n.ownEquip[r].index==t)return n;return!1},e.checkSlotIsWear=function(t,o){for(var n=a.default.instance.localData.hasRoles[t].ownEquip,r=0;r<n.length;r++){var i=n[r];if(e.getJsonData(i.id).slot==this.getSlotNames()[o])return i}return!1},e.getSoldEquipCoin=function(){return 100},e.calEquipPropertyAdd=function(t,e){var o=0,n=[s.propertyType.mass,s.propertyType.str,s.propertyType.agile,s.propertyType.speed,s.propertyType.mental];for(var r in t.property)r==e&&(o+=t.property[r]),"allBase"==r&&-1!=n.indexOf(e)&&(o+=t.property[r]);for(var i=this.getEnchantAddValue(t),a=0;a<i.length;a++)i[a].key==e&&(o+=i[a].value);for(a=0;a<t.addProperty.length;a++){var c=t.addProperty[a];c.key==e&&(o+=c.value),"allBase"==c.key&&-1!=n.indexOf(e)&&(o+=c.value)}return o},e}(cc.Component);o.default=c,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/CfgMgr":void 0,"../../SeverTest/SeverMgr":"SeverMgr","../Config/Main_EunmType":"Main_EunmType"}],IconMgr:[function(t,e,o){"use strict";cc._RF.push(e,"3a73aauPypG0pcA+p5GuNJi","IconMgr");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),i=t("../../../Bundle1_Loading/Scripts/Mgr/BundleMgr"),a=cc._decorator,s=a.ccclass,c=(a.property,function(){function t(){}return t.loadIcon=function(t,e){var o=this;i.default.getBundle(r.BundleName.Main,function(n){n.load(o.iconUrl+t.toString(),cc.SpriteFrame,function(t,o){t?console.error("\u52a0\u8f7dicon\u5931\u8d25",name,t):e.spriteFrame=o})})},t.iconUrl="Texture/Icons/icon_",n([s],t)}());o.default=c,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/BundleMgr":void 0}],Main_Bottom:[function(t,e,o){"use strict";cc._RF.push(e,"afeebumNWBCHLqI2RiR38ms","Main_Bottom");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),s=t("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),c=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),l=t("../Panel/PanelMgr"),p=cc._decorator,u=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btns=[],e.lines=[],e.panelName=["Panel_Hero","Panel_Bag","","Panel_Chest","Panel_Copy"],e.index=2,e.minDis=145,e.maxDis=170,e.btnsY=[],e.btnsScale=[],e.btnsX=[],e.linesX=[],e}return r(e,t),e.prototype.onLoad=function(){this.main=this.node.getChildByName("main"),this.copy=this.node.getChildByName("copy"),this.btns=c.Tool.findAllNodeHasName(this.node,"btn"),this.lines=c.Tool.findAllNodeHasName(this.node,"line");for(var t=0;t<this.btns.length;t++)c.Tool.addClickEvent(this.btns[t],this.click,this,[t],!0,!1);this.index=2,this.updateBtns(1),c.Tool.addClickEvent(this.copy.getChildByName("exitBtn"),this.backNormal,this)},e.prototype.onEnable=function(){s.EventMgr.on(a.EventType.Battle_Go_Normal,this.switchNormal,this),s.EventMgr.on(a.EventType.Battle_Go_Copy,this.switchCopy,this),s.EventMgr.on(a.EventType.Battle_GoCopyTest_Event,this.switchCopy,this),s.EventMgr.on(a.EventType.Battle_GoCopySkillTest_Event,this.switchCopy,this)},e.prototype.switchCopy=function(){this.click([2]),this.main.active=!1,this.copy.active=!0},e.prototype.switchNormal=function(){this.click([2]),this.main.active=!0,this.copy.active=!1},e.prototype.update=function(t){this.updateBtns(10*t)},e.prototype.updateBtns=function(t){t>=1&&(t=1);for(var e=-375,o=0;o<this.btns.length;o++){var n=void 0;n=0==o?0==this.index?this.maxDis/2:this.minDis/2:this.index==o||this.index+1==o?this.maxDis/2+this.minDis/2:this.minDis,this.btnsScale[o]=o==this.index?1.2:1,this.btnsY[o]=o!=this.index?5:10,e+=n,this.btnsX[o]=e}for(e=-375,o=0;o<this.lines.length;o++)e+=n=o==this.index?this.maxDis:this.minDis,this.linesX[o]=e;for(o=0;o<this.btns.length;o++)this.btns[o].setScale(cc.misc.lerp(this.btns[o].scaleX,this.btnsScale[o],t)),this.btns[o].y=cc.misc.lerp(this.btns[o].y,this.btnsY[o],t),this.btns[o].x=cc.misc.lerp(this.btns[o].x,this.btnsX[o],t);for(o=0;o<this.lines.length;o++)this.lines[o].x=cc.misc.lerp(this.lines[o].x,this.linesX[o],t)},e.prototype.click=function(t){var e=t[0];e==this.index&&(e=2),this.index=e,this.nowPanelName=this.panelName[e],this.clearUI1(),""!=this.nowPanelName&&l.default.showPanel(this.nowPanelName)},e.prototype.clearUI1=function(){l.default.clearUI1(this.nowPanelName)},e.prototype.backNormal=function(){s.EventMgr.event(a.EventType.Battle_Go_Normal)},i([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../Panel/PanelMgr":"PanelMgr"}],Main_EunmType:[function(t,e,o){"use strict";cc._RF.push(e,"53187a+wj5EbJf4hSyaJeX2","Main_EunmType"),Object.defineProperty(o,"__esModule",{value:!0}),o.BattleScene=o.propertyType=o.enchantmentType=o.SlotType=void 0,function(t){t[t.weapon=0]="weapon",t[t.ring=1]="ring",t[t.necklace=2]="necklace",t[t.shoes=3]="shoes",t[t.hat=4]="hat",t[t.armor=5]="armor"}(o.SlotType||(o.SlotType={})),function(t){t.monkey="monkey",t.pig="pig",t.bear="bear",t.tiger="tiger",t.whale="whale",t.wolf="wolf",t.eagle="eagle",t.dog="dog",t.strong="strong",t.god="god",t.tricky="tricky",t.swift="swift",t.smart="smart",t.none="none"}(o.enchantmentType||(o.enchantmentType={})),function(t){t.atk="atk",t.atkInv="atkInv",t.def="def",t.spirt="spirt",t.mp="mp",t.nimble="nimble",t.allBase="allBase",t.mass="mass",t.str="str",t.agile="agile",t.speed="speed",t.mental="mental",t.hp="hp",t.rec="rec",t.crit="crit",t.critdmg="critdmg",t.dodge="dodge",t.aim="aim",t.lastTime="lastTime",t.dotCD="dotCD"}(o.propertyType||(o.propertyType={})),function(t){t.RPG_M_GM="RPG_M_GM",t.RPG_M_Battle="RPG_M_Battle",t.RPG_M_EquimentTest="RPG_M_EquimentTest",t.RPG_M_Skill="RPG_M_Skill"}(o.BattleScene||(o.BattleScene={})),cc._RF.pop()},{}],Main_GameData:[function(t,e,o){"use strict";cc._RF.push(e,"4a06cMr3OxPt4Ep9qEwfIF2","Main_GameData");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BattleNormalMapRewardData=o.BattleNormalMapData=void 0;var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(){}return t.qualityNames=["\u666e\u901a","\u826f\u597d","\u4f18\u79c0","\u7cbe\u826f","\u53f2\u8bd7","\u4f20\u8bf4","\u795e\u8bdd"],t.qualityColors=["#ffffff","#00ff00","#0000ff","#ff00ff","#ffff00","#ff0000","#ff8000"],n([i],t)}());o.default=a;o.BattleNormalMapData=function(){};o.BattleNormalMapRewardData=function(){this.coin=0,this.chest_40001=0,this.chest_40002=0,this.chest_40003=0,this.chest_40004=0},cc._RF.pop()},{}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"88713yTsSlORLCkD5sHpK0H","Main");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Bundle1_Loading/Scripts/Config/EnumTypes"),s=t("../../Bundle1_Loading/Scripts/Config/GameData"),c=t("../../Bundle1_Loading/Scripts/Mgr/EventMgr"),l=t("../../Bundle1_Loading/Scripts/Mgr/PrefabMgr"),p=t("../../Bundle1_Loading/Scripts/Mgr/SoundMgr"),u=t("../../Bundle1_Loading/Scripts/Tool/Tool"),d=t("../SeverTest/SeverMgr"),f=t("./Config/Main_EunmType"),h=t("./Mgr/AssetsMgr"),y=t("./Mgr/RedManager"),_=t("./Panel/PanelMgr"),g=cc._decorator.ccclass,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.battleNode=null,e.nowScene=null,e}return r(e,t),e.prototype.onLoad=function(){p.default.instance.PlayMusic(a.SoundType.Bgm),_.default.init(),l.default.bornPrefab("Comp_FlyItem",_.default.canvas),l.default.bornPrefab("Comp_Toast",_.default.canvas),h.default.Instance.init(),y.default.ins().initRedPoint(),s.default.isTest&&(u.Tool.setStatsColor(cc.Color.GREEN),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){switch(t.keyCode){case cc.macro.KEY.f1:d.default.instance.addCoin(1e4);break;case cc.macro.KEY.num0:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,0);break;case cc.macro.KEY.num1:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,1);break;case cc.macro.KEY.num2:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,2);break;case cc.macro.KEY.num3:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,3);break;case cc.macro.KEY.num4:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,4);break;case cc.macro.KEY.num5:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,5);break;case cc.macro.KEY.num6:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,6);break;case cc.macro.KEY.num7:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,7);break;case cc.macro.KEY.num8:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,8);break;case cc.macro.KEY.num9:c.EventMgr.event(a.EventType.KeyBoard_Test_Event,9)}})),this.battleNode=this.node.getChildByName("battleNode"),this.switchScene(f.BattleScene.RPG_M_Battle),c.EventMgr.on(a.EventType.Switch_Scene_Event,this.switchScene,this)},e.prototype.onDisable=function(){c.EventMgr.clearTarget(this)},e.prototype.start=function(){},e.prototype.switchScene=function(t){var e=this;this.nowScene&&this.nowScene.destroy(),l.default.bornPrefab(t,this.battleNode,function(t){e.nowScene=t})},i([g],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../Bundle1_Loading/Scripts/Config/GameData":void 0,"../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/PrefabMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/SoundMgr":void 0,"../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../SeverTest/SeverMgr":"SeverMgr","./Config/Main_EunmType":"Main_EunmType","./Mgr/AssetsMgr":"AssetsMgr","./Mgr/RedManager":"RedManager","./Panel/PanelMgr":"PanelMgr"}],MoveLeftRight:[function(t,e,o){"use strict";cc._RF.push(e,"be40egcF1pFHqvR7o7IigLI","MoveLeftRight");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,a.menu),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseX=0,e.offset=5,e.way=1,e}return r(e,t),e.prototype.start=function(){this.baseX=this.node.x},e.prototype.update=function(t){this.node.x+=t*this.way*this.offset*2,this.node.x>this.baseX+this.offset?this.way=-1:this.node.x<this.baseX-this.offset&&(this.way=1)},i([s,c("Mod/MoveLeftRight")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],MoveUpDown:[function(t,e,o){"use strict";cc._RF.push(e,"e82505vMUhDI7R76DeJ22bz","MoveUpDown");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,a.menu),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseY=0,e.offset=5,e.way=1,e}return r(e,t),e.prototype.start=function(){this.baseY=this.node.y},e.prototype.update=function(t){this.node.y+=t*this.way*this.offset*2,this.node.y>this.baseY+this.offset?this.way=-1:this.node.y<this.baseY-this.offset&&(this.way=1)},i([s,c("Mod/MoveUpDown")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Nimo_Fontclip:[function(t,e,o){"use strict";cc._RF.push(e,"1acc2idIgpH4LdOKwPtNPCK","Nimo_Fontclip");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Nimo_Fontclip=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._value="0123456789.:",e._sheet="0123456789.:",e._spaceX=0,e._isCenter=!1,e.spriteFrame=null,e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.change()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sheet",{get:function(){return this._sheet},set:function(t){this._sheet=t,this.change()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spaceX",{get:function(){return this._spaceX},set:function(t){this._spaceX=t,this.change()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCenter",{get:function(){return this._isCenter},set:function(t){this._isCenter=t,this.change()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){this.change()},e.prototype.start=function(){this.change()},e.prototype.change=function(){for(var t=0;t<this.node.children.length;t++)this.node.children[t].destroy();var e=Array.from(this.value),o=Array.from(this.sheet),n=this.spriteFrame.getRect().width,r=this.spriteFrame.getRect().height,i=n/o.length,a=0;for(this.isCenter&&(a=-(e.length-1)*i/2),t=0;t<e.length;t++){var s=new cc.Node(e[t]),c=s.addComponent(cc.Sprite);this.node.addChild(s),c.spriteFrame=this.spriteFrame.clone();var l=o.indexOf(e[t]);c.spriteFrame.setRect(new cc.Rect(i*l,0,i,r)),s.width=i,s.height=r,s.setPosition(new cc.Vec2(a+t*i+this._spaceX*t,0))}},i([c({visible:!0,displayName:"value"})],e.prototype,"value",null),i([c({visible:!1,serializable:!0})],e.prototype,"_value",void 0),i([c({visible:!0,displayName:"sheet"})],e.prototype,"sheet",null),i([c({visible:!1,serializable:!0})],e.prototype,"_sheet",void 0),i([c({visible:!0,displayName:"spaceX"})],e.prototype,"spaceX",null),i([c({visible:!1,serializable:!0})],e.prototype,"_spaceX",void 0),i([c],e.prototype,"isCenter",null),i([c({visible:!1,serializable:!0})],e.prototype,"_isCenter",void 0),i([c(cc.SpriteFrame)],e.prototype,"spriteFrame",void 0),i([s,l("NimoUI/Fontclip")],e)}(cc.Component);o.Nimo_Fontclip=p,cc._RF.pop()},{}],PanelMgr:[function(t,e,o){"use strict";cc._RF.push(e,"a0645p/WdlNebwOvkud/pME","PanelMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../Bundle1_Loading/Scripts/Mgr/BundleMgr"),r=t("./Panel"),i=function(){function t(){}return t.init=function(){this.canvas=cc.find("Canvas"),this.ui_1=this.canvas.getChildByName("ui_1"),this.ui_2=this.canvas.getChildByName("ui_2"),this.ui_3=this.canvas.getChildByName("ui_3")},t.showPanel=function(e,o){var i=this;if(this.showList.includes(e)?console.warn(e+"\u5df2\u7ecf\u5728\u5c55\u793a\u961f\u5217\u4e2d\uff0c\u4e0d\u9700\u8981\u91cd\u590d\u5c55\u793a"):this.showList.push(e),!(this.showList.length>1)){for(var a,s=0;s<this.panelCache.length;s++)if(this.panelCache[s].name==e){a=this.panelCache[s];break}var c=function(){var n=a.jsonAsset.json,s=t["ui_"+n.index];if(1==n.index&&e!=t.nowUI1PanelName)console.warn("\u73b0\u5728ui_1\u5c42\u5c55\u793a\u7684\u662f",t.nowUI1PanelName,"\u4e0d\u662f",e);else if(s&&0!=s.isValid)if(s.getChildByName(e))console.warn("\u5df2\u7ecf\u5b58\u5728\u540c\u540d\u9762\u677f\uff0c\u4e0d\u9700\u8981\u91cd\u590d\u521b\u5efa");else if(-1==i.showList.indexOf(e))console.warn("\u5df2\u7ecf\u4ece\u5c55\u793a\u961f\u5217\u4e2d\u79fb\u9664\uff0c\u4e0d\u9700\u8981\u521b\u5efa");else{var c=cc.instantiate(a.prefab);c.getComponent(r.default).panelAnimType=n.animType,s.addChild(c),o&&o(c)}else console.warn("\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u7236\u8282\u70b9\uff0cindex = "+n.index);i.showList.shift(),i.showList.length>0&&i.showPanel(i.showList[0])};a?c():n.default.getBundle(e,function(o){var n;o.load("info",cc.JsonAsset,function(r,s){r?cc.error(r):(n=s,s.addRef(),o.load(e,cc.Prefab,function(o,r){o?cc.error(o):(i.addPanel(e,r,n),a=t.panelCache[0],c())}))})})}},t.addPanel=function(e,o,n){t.panelCache.unshift(new a(e,o,n))},t.clearUI1=function(e){var o=t.ui_1.getComponentsInChildren(r.default);this.nowUI1PanelName=e;for(var n=0;n<o.length;n++)o[n].node.name!=e&&o[n].close()},t.panelOpen_SmallToBig=function(t,e,o){void 0===o&&(o=1),t.scale=0,cc.tween(t).to(this.panelShowTime_SmallToBig,{scale:o}).call(function(){e&&e()}).start()},t.panelClose_SmallToBig=function(t,e,o){void 0===o&&(o=1),t.scale=o,cc.tween(t).to(this.panelShowTime_SmallToBig,{scale:0}).call(function(){e&&e()}).start()},t.panelOpen_BottomToTop=function(t,e,o){void 0===o&&(o=0),t.y=-2e3,cc.tween(t).to(this.panelShowTime_BottomToTop,{y:o}).call(function(){e&&e()}).start()},t.panelClose_BottomToTop=function(t,e,o){void 0===o&&(o=0);var n=o+2e3;cc.tween(t).to(this.panelShowTime_BottomToTop,{y:n}).call(function(){e&&e()}).start()},t.panelOpen_TopToBottom=function(t,e,o){void 0===o&&(o=0),t.y=2e3,cc.tween(t).to(this.panelShowTime_TopToBottom,{y:o}).call(function(){e&&e()}).start()},t.panelClose_TopToBottom=function(t,e,o){void 0===o&&(o=0);var n=o-2e3;cc.tween(t).to(this.panelShowTime_TopToBottom,{y:n}).call(function(){e&&e()}).start()},t.panelOpen_LeftToRight=function(t,e,o){void 0===o&&(o=0),t.x=-1750,cc.tween(t).to(this.panelShowTime_LeftToRight,{x:o}).call(function(){e&&e()}).start()},t.panelClose_LeftToRight=function(t,e,o){void 0===o&&(o=0);var n=o+1750;cc.tween(t).to(this.panelShowTime_LeftToRight,{x:n}).call(function(){e&&e()}).start()},t.panelOpen_RightToLeft=function(t,e,o){void 0===o&&(o=0),t.x=1750,cc.tween(t).to(this.panelShowTime_RightToLeft,{x:o}).call(function(){e&&e()}).start()},t.panelClose_RightToLeft=function(t,e,o){void 0===o&&(o=0);var n=o-1750;cc.tween(t).to(this.panelShowTime_RightToLeft,{x:n}).call(function(){e&&e()}).start()},t.panelOpen_BottomToTop_Return=function(t,e,o){void 0===o&&(o=0),t.y=-2e3,cc.tween(t).to(this.panelShowTime_BottomToTop_Return,{y:o}).call(function(){e&&e()}).start()},t.panelClose_BottomToTop_Return=function(t,e,o){void 0===o&&(o=0);var n=o-2e3;cc.tween(t).to(this.panelShowTime_BottomToTop_Return,{y:n}).call(function(){e&&e()}).start()},t.showList=[],t.panelCache=[],t.nowUI1PanelName="",t.panelShowTime_SmallToBig=.2,t.panelShowTime_BottomToTop=.4,t.panelShowTime_TopToBottom=.4,t.panelShowTime_LeftToRight=.4,t.panelShowTime_RightToLeft=.4,t.panelShowTime_BottomToTop_Return=.3,t}();o.default=i;var a=function(){function t(t,e,o){this.name=t,this.prefab=e,this.jsonAsset=o,this.prefab.addRef(),this.jsonAsset.addRef()}return t.prototype.release=function(){this.prefab.decRef(),this.jsonAsset.decRef()},t}();cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/BundleMgr":void 0,"./Panel":"Panel"}],Panel:[function(t,e,o){"use strict";cc._RF.push(e,"54569NEE2NJK7RwymAgWxjM","Panel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),s=t("../Panel/PanelMgr"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeBtns=[],e.panelAnimType="None",e.afterOpenCbs=[],e.afterCloseCbs=[],e}return r(e,t),e.prototype.onLoad=function(){this.panel=this.node.getChildByName("panel");for(var t=0;t<this.closeBtns.length;t++)a.Tool.addClickEvent(this.closeBtns[t],this.close,this);this.panel.opacity=0,this.init()},e.prototype.start=function(){this.open()},e.prototype.onDisable=function(){},e.prototype.open=function(){var t=this,e=this.panel.getComponent(cc.Widget);e&&(e.enabled=!1,e.enabled=!0),this.scheduleOnce(function(){if(t.panel.opacity=255,"None"!=t.panelAnimType){var e,o=t;switch(t.panelAnimType){case"SmallToBig":e=t.panel.scale;break;case"BottomToTop":case"TopToBottom":case"BottomToTop_Return":e=t.panel.y;break;case"LeftToRight":case"RightToLeft":e=t.panel.x}s.default["panelOpen_"+t.panelAnimType](o.panel,function(){o.openCb();for(var e=0;e<o.afterOpenCbs.length;e++)o.afterOpenCbs[e]();switch(t.node.parent.name){case"ui_2":s.default.ui_1.active=!1}},e)}else t.openCb()})},e.prototype.close=function(){if("None"==this.panelAnimType)return this.closeCb(),void this.node.destroy();var t,e=this;switch(this.panelAnimType){case"SmallToBig":t=this.panel.scale;break;case"BottomToTop":case"TopToBottom":case"BottomToTop_Return":t=this.panel.y;break;case"LeftToRight":case"RightToLeft":t=this.panel.x}switch(this.node.parent.name){case"ui_2":s.default.ui_1.active=!0}s.default["panelClose_"+this.panelAnimType](this.panel,function(){e.closeCb();for(var t=0;t<e.afterCloseCbs.length;t++)e.afterCloseCbs[t]();e.node.destroy()},t)},e.prototype.init=function(){},e.prototype.openCb=function(){},e.prototype.closeCb=function(){},i([p([cc.Node])],e.prototype,"closeBtns",void 0),i([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../Panel/PanelMgr":"PanelMgr"}],RedManager:[function(t,e,o){"use strict";var n;cc._RF.push(e,"b4054vQbjRMV7ZYRY14ZOiw","RedManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.RedPointDef=o.RedTypes=o.RedEvent=void 0;var r,i=t("../../../Bundle1_Loading/Scripts/Mgr/EventMgr");o.RedEvent={RED_POINT_UPDATE:"RedPoint"},function(t){t[t.None=0]="None",t[t.chest=3]="chest",t[t.chest1=301]="chest1",t[t.chest2=302]="chest2",t[t.chest3=303]="chest3",t[t.chest4=304]="chest4"}(r=o.RedTypes||(o.RedTypes={})),o.RedPointDef=((n={})[r.chest]=[r.chest1,r.chest2,r.chest3,r.chest4],n);var a=function(){function t(){this.redStatus={},this.redSum={},this.allRedPointDef={}}return t.ins=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.initRedPoint=function(){for(var t in r)if(r.hasOwnProperty(t)){var e=r[t];this.redStatus[e]=!1,this.redSum[e]=0}var n=function(t){if(o.RedPointDef.hasOwnProperty(t)){var e=o.RedPointDef[t],n={};e.forEach(function(t){n[t]=1}),i.allRedPointDef[t]=n}},i=this;for(var t in o.RedPointDef)n(t)},t.prototype.getRedPointState=function(t,e){return e?!!this.redStatus[t]&&this.redStatus[t][e]:this.redStatus[t]},t.prototype.getRedPointSum=function(t,e){15==t&&(e=null);var o=e?this.redSum[t]?this.redSum[t][e]:0:this.redSum[t],n=0;if("[object Object]"===Object.prototype.toString.call(o))for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n+=o[r]);else n=o;return n},t.prototype.checkOtherRedPoint=function(t,e){for(var o in this.allRedPointDef)if(this.allRedPointDef.hasOwnProperty(o)&&1==this.allRedPointDef[o][t]){var n=0;for(var r in this.allRedPointDef[o])Object.prototype.hasOwnProperty.call(this.allRedPointDef[o],r)&&(n+=this.getRedPointSum(r,e)||0);this.setRedPointState(o,n>0,n,e)}},t.prototype.checkChildState=function(t,e){if(this.allRedPointDef[t]){var o=this.allRedPointDef[t];for(var n in o)if(o.hasOwnProperty(n)&&this.getRedPointState(n,e))return!0}return!1},t.prototype.setRedPointState=function(t,e,n,r){this.getRedPointState(t,r)==e&&this.getRedPointSum(t,r)==n||(e?(r?(this.redStatus[t]=this.redStatus[t]||{},this.redSum[t]=this.redSum[t]||{},this.redStatus[t][r]=e,this.redSum[t][r]=n):(this.redStatus[t]=e,this.redSum[t]=n),this.checkOtherRedPoint(t,r),i.EventMgr.event(o.RedEvent.RED_POINT_UPDATE,t,e,r)):this.checkChildState(t,r)==e&&(r?(this.redStatus[t]=this.redStatus[t]||{},this.redSum[t]=this.redSum[t]||{},this.redStatus[t][r]=e,this.redSum[t][r]=n):(this.redStatus[t]=e,this.redSum[t]=n),this.checkOtherRedPoint(t,r),i.EventMgr.event(o.RedEvent.RED_POINT_UPDATE,t,e,r)))},t._instance=null,t}();o.default=a,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0}],RedPoint:[function(t,e,o){"use strict";cc._RF.push(e,"e0dbaS6CHtHQY62D1RiwkXf","RedPoint");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),s=t("../Mgr/RedManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=c.disallowMultiple,d=c.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.redType=s.RedTypes.None,e.redNode=null,e._redState=!1,e.isLoading=!1,e._type=0,e}return r(e,t),e.prototype.onLoad=function(){this._redState=!1,this.load_Sp_Label(),this.eventLintener()},e.prototype.start=function(){!this.isLoading&&this.initLoad()},e.prototype.load_Sp_Label=function(){this.redNode.zIndex=999,this.redNode.active=!1,this._redLb=this.redNode.getComponentInChildren(cc.Label),this._redLb&&(this._redLb.getComponent(cc.Label).string="")},e.prototype.onDestroy=function(){this._type=null,this.redNode&&this.redNode.parent&&this.redNode.destroy(),a.EventMgr.off(s.RedEvent.RED_POINT_UPDATE,this.updateRedPoint,this)},e.prototype.eventLintener=function(){a.EventMgr.on(s.RedEvent.RED_POINT_UPDATE,this.updateRedPoint,this)},e.prototype.initLoad=function(){if(this.redNode){this.redNode.active=!1;var t=s.default.ins().getRedPointState(this.redType,this._type);this.updateRedPoint(this.redType,t,this._type)}else console.error(this)},e.prototype.changeType=function(t){if(this.redNode){this._redSum=null,this._type=t,this._redState=!1,this.redNode.active=!1;var e=s.default.ins().getRedPointState(this.redType,this._type);this.updateRedPoint(this.redType,e,this._type)}},e.prototype.updateRedPoint=function(t,e,o){var n=s.default.ins().getRedPointSum(this.redType,o)||0;e=n>0,this._type&&o!=this._type||this.redType!=t||this._redState==e&&this._redSum==n||(this._redState=e,this._redSum=n,this._redLb&&(this._redLb.getComponent(cc.Label).string=n+""),!this.redNode.active&&this._redState?(this.redNode.active=!0,this.redNode.scale=1,this.redNode.stopAllActions(),cc.tween(this.redNode).repeatForever(cc.tween(this.redNode).to(.2,{scale:1.2}).to(.5,{scale:1})).start()):this.redNode.active&&!this._redState&&(this.redNode.stopAllActions(),this.redNode.active=!1))},e.prototype.update=function(){},i([p({type:cc.Enum(s.RedTypes),displayName:"\u7ea2\u70b9\u7c7b\u578b"})],e.prototype,"redType",void 0),i([p({type:cc.Node,displayName:"\u7ea2\u70b9\u8282\u70b9"})],e.prototype,"redNode",void 0),i([l,u(),d("RedPoint")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../Mgr/RedManager":"RedManager"}],RoleAnim:[function(t,e,o){"use strict";cc._RF.push(e,"eff2cCuonZHxo6u08kY++2g","RoleAnim");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idleAnim="",e.walkAnim="",e.attackAnim="",e.deadAnim="",e.attackDoTime=.45,e.attackEndTime=.9,e.spine=null,e.nowAnim="",e}return r(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){this.spine=this.node.getComponent(sp.Skeleton),this.idle()},e.prototype.idle=function(){this.nowAnim!=this.idleAnim&&(this.nowAnim=this.idleAnim,this.spine.setAnimation(0,this.idleAnim,!0))},e.prototype.walk=function(){this.nowAnim!=this.walkAnim&&(this.nowAnim=this.walkAnim,this.spine.setAnimation(0,this.walkAnim,!0))},e.prototype.attack=function(t,e){this.nowAnim=this.attackAnim,this.spine.setAnimation(0,this.attackAnim,!1),this.scheduleOnce(function(){t&&t()},this.attackDoTime),this.scheduleOnce(function(){e&&e()},this.attackEndTime)},e.prototype.dead=function(){this.nowAnim=this.deadAnim,this.spine.setAnimation(0,this.deadAnim,!1)},i([c(cc.String)],e.prototype,"idleAnim",void 0),i([c(cc.String)],e.prototype,"walkAnim",void 0),i([c(cc.String)],e.prototype,"attackAnim",void 0),i([c(cc.String)],e.prototype,"deadAnim",void 0),i([c(cc.Float)],e.prototype,"attackDoTime",void 0),i([c(cc.Float)],e.prototype,"attackEndTime",void 0),i([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],RoleMgr:[function(t,e,o){"use strict";cc._RF.push(e,"bffa5cq8eZICKEZ3cdUiaQw","RoleMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../Bundle1_Loading/Scripts/Mgr/CfgMgr"),r=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),i=t("../Config/Main_EunmType"),a=t("./EquipMgr"),s=t("./SkillMgr"),c=function(){function t(){}return t.calJsonData=function(){return n.CfgMgr.instance.getCfg("RoleCal")},Object.defineProperty(t,"growUpBPAxis",{get:function(){return this.calJsonData().global[0].growUpBPAxis},enumerable:!1,configurable:!0}),Object.defineProperty(t,"orignalBPAxis",{get:function(){return this.calJsonData().global[0].orignalBPAxis},enumerable:!1,configurable:!0}),t.calValue=function(t,e,o){var n=o.mass,r=o.str,i=o.agile,a=o.speed,s=o.mental;return e+this.calMass(t)*n+this.calStr(t)*r+this.calAgile(t)*i+this.calSpeed(t)*a+this.calMental(t)*s},t.calHP=function(t){for(var e=this.calJsonData().base[0].HP,o=this.calValue(t,e,this.calJsonData().cal[0]),n=0,r=t.ownEquip,c=0;c<r.length;c++)n+=a.default.calEquipPropertyAdd(r[c],i.propertyType.hp);var l=0,p=t.ownSkill;for(c=0;c<p.length;c++)l+=s.default.calSkillAdd(p[c],i.propertyType.hp);return(o+n)*(1+l)},t.calMP=function(t){for(var e=this.calJsonData().base[0].MP,o=this.calValue(t,e,this.calJsonData().cal[1]),n=0,r=t.ownEquip,s=0;s<r.length;s++)n+=a.default.calEquipPropertyAdd(r[s],i.propertyType.mp);return o+n},t.calAtk=function(t){for(var e=this.calJsonData().base[0].Atk,o=this.calValue(t,e,this.calJsonData().cal[2]),n=0,r=t.ownEquip,c=0;c<r.length;c++)n+=a.default.calEquipPropertyAdd(r[c],i.propertyType.atk);var l=0,p=t.ownSkill;for(c=0;c<p.length;c++)l+=s.default.calSkillAdd(p[c],i.propertyType.atk);return(o+n)*(1+l)},t.calDef=function(t){for(var e=this.calJsonData().base[0].Def,o=this.calValue(t,e,this.calJsonData().cal[3]),n=0,r=t.ownEquip,c=0;c<r.length;c++)n+=a.default.calEquipPropertyAdd(r[c],i.propertyType.def);var l=0,p=t.ownSkill;for(c=0;c<p.length;c++)l+=s.default.calSkillAdd(p[c],i.propertyType.def);return(o+n)*(1+l)},t.calNimble=function(t){for(var e=this.calJsonData().base[0].Agile,o=this.calValue(t,e,this.calJsonData().cal[4]),n=0,r=t.ownEquip,s=0;s<r.length;s++)n+=a.default.calEquipPropertyAdd(r[s],i.propertyType.nimble);return o+n},t.calSpirt=function(t){for(var e=this.calJsonData().base[0].Spirt,o=this.calValue(t,e,this.calJsonData().cal[5]),n=0,r=t.ownEquip,s=0;s<r.length;s++)n+=a.default.calEquipPropertyAdd(r[s],i.propertyType.spirt);return o+n},t.calRecovery=function(t){for(var e=this.calJsonData().base[0].Rec,o=(this.calValue(t,e,this.calJsonData().cal[6]),t.ownEquip),n=0;n<o.length;n++)a.default.calEquipPropertyAdd(o[n],i.propertyType.rec);return this.calValue(t,e,this.calJsonData().cal[6])},t.calRange=function(t){var e=this.getJsonData(t);switch(e.class){case"Warrior":return 50;case"Archer":return 150;case"Master":return 100;default:return e.range}},t.calMoveSpeed=function(t){return t.id>3e4?this.moveSpeed/4:this.moveSpeed},t.calAtkInvertal=function(t){for(var e=1,o=t.ownEquip,n=0;n<o.length;n++)e=a.default.calEquipPropertyAdd(o[n],i.propertyType.atkInv);return t.str/t.speed+e},t.calPower=function(t){var e=this.calHP(t),o=this.calMP(t),n=this.calAtk(t),r=this.calDef(t),i=this.calNimble(t),a=this.calSpirt(t),s=this.calRecovery(t);return Math.floor(1*e+1*o+3*n+3*r+3*i+7*a+6*s)},t.calAim=function(t){for(var e=t.ownEquip,o=0,n=0;n<e.length;n++)o+=a.default.calEquipPropertyAdd(e[n],i.propertyType.aim);return o},t.calDodge=function(t){for(var e=t.ownEquip,o=0,n=0;n<e.length;n++)o+=a.default.calEquipPropertyAdd(e[n],i.propertyType.dodge);var r=t.ownSkill,c=0;for(n=0;n<r.length;n++)c+=s.default.calSkillAdd(r[n],i.propertyType.dodge);return o+c},t.calCrit=function(t){for(var e=t.ownEquip,o=0,n=0;n<e.length;n++)o+=a.default.calEquipPropertyAdd(e[n],i.propertyType.crit);var r=t.ownSkill,c=0;for(n=0;n<r.length;n++)c+=s.default.calSkillAdd(r[n],i.propertyType.crit);return o+c},t.calCritDamage=function(t){for(var e=t.ownEquip,o=0,n=0;n<e.length;n++)o+=a.default.calEquipPropertyAdd(e[n],i.propertyType.critdmg);var r=t.ownSkill,c=0;for(n=0;n<r.length;n++)c+=s.default.calSkillAdd(r[n],i.propertyType.critdmg);return 1.5+o+c},t.calMass=function(t,e){void 0===e&&(e=!1);for(var o=t.mass/this.orignalBPAxis+t.mass*t.level/this.growUpBPAxis+t.massAdd,n=0,r=t.ownEquip,s=0;s<r.length;s++)n+=a.default.calEquipPropertyAdd(r[s],i.propertyType.mass);return e?o:o+n},t.calStr=function(t,e){void 0===e&&(e=!1);for(var o=t.str/this.orignalBPAxis+t.str*t.level/this.growUpBPAxis+t.strAdd,n=0,r=t.ownEquip,s=0;s<r.length;s++)n+=a.default.calEquipPropertyAdd(r[s],i.propertyType.str);return e?o:o+n},t.calAgile=function(t,e){void 0===e&&(e=!1);for(var o=t.agile/this.orignalBPAxis+t.agile*t.level/this.growUpBPAxis+t.agileAdd,n=0,r=t.ownEquip,s=0;s<r.length;s++)n+=a.default.calEquipPropertyAdd(r[s],i.propertyType.agile);return e?o:o+n},t.calSpeed=function(t,e){void 0===e&&(e=!1);for(var o=t.speed/this.orignalBPAxis+t.speed*t.level/this.growUpBPAxis+t.speedAdd,n=0,r=t.ownEquip,s=0;s<r.length;s++)n+=a.default.calEquipPropertyAdd(r[s],i.propertyType.speed);return e?o:o+n},t.calMental=function(t,e){void 0===e&&(e=!1);for(var o=t.mental/this.orignalBPAxis+t.mental*t.level/this.growUpBPAxis+t.mentalAdd,n=0,r=t.ownEquip,s=0;s<r.length;s++)n+=a.default.calEquipPropertyAdd(r[s],i.propertyType.mental);return e?o:o+n},t.calAllBPPoint=function(t){return this.calMass(t,!0)+this.calStr(t,!0)+this.calAgile(t,!0)+this.calSpeed(t,!0)+this.calMental(t,!0)},t.getJsonData=function(t){var e=t.id>3e4?"Monster":"Roles";return n.CfgMgr.instance.getCfg(e).find(function(e){return e.id==t.id})},t.calHurt=function(t,e,o){return void 0===o&&(o=1),3*t*t/(t+3*e)*o*r.Tool.randomNumber(.9,1.1)},t.calHitChance=function(t,e,o,n){var r=t/e*.9+o-n;return r>1?r=1:r<0&&(r=0),r},t.getBattleSkill=function(t){for(var e=t.ownSkill,o=[],n=[],r=0;r<e.length;r++){var i=s.default.getJsonData(e[r].id);"active"==i.type?o.push(e[r].id):"trigger"==i.type&&n.push(e[r].id)}return{activeS:o,triggerS:n}},t.closeRange=50,t.farRange=200,t.moveSpeed=200,t.freePoint=1,t.maxFormationCount=5,t.growPointDownValue=4,t.roleUpgradeCoin=100,t}();o.default=c,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/CfgMgr":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../Config/Main_EunmType":"Main_EunmType","./EquipMgr":"EquipMgr","./SkillMgr":"SkillMgr"}],RotationAuto:[function(t,e,o){"use strict";cc._RF.push(e,"7c23eSMzdVA1oMwooNWLbdo","RotationAuto");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,a.menu),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(){this.node.angle+=1},i([s,c("Mod/RotationAuto")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScaleAuto:[function(t,e,o){"use strict";cc._RF.push(e,"1e1darApd5HkKLVwqGfXDGP","ScaleAuto");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,a.menu),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseScale=0,e}return r(e,t),e.prototype.onLoad=function(){this.baseScale=this.node.scale},e.prototype.onEnable=function(){this.tween=cc.tween(this.node).repeatForever(cc.tween(this.node).to(.5,{scale:1.1*this.baseScale}).to(.5,{scale:this.baseScale})).start()},e.prototype.onDisable=function(){this.tween.stop(),this.node.scale=this.baseScale},i([s,c("Mod/ScaleAuto")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScaleOnce:[function(t,e,o){"use strict";cc._RF.push(e,"b631cUHrrFD97lgL7y4z37b","ScaleOnce");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,a.menu),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=this.node.scale;this.node.scale=0,cc.tween(this.node).to(1,{scale:t},{easing:"elasticOut"}).start()},i([s,c("Mod/ScaleOnce")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SeverData:[function(t,e,o){"use strict";cc._RF.push(e,"7a866UtGlpJM6j/3t6EbWlZ","SeverData"),Object.defineProperty(o,"__esModule",{value:!0}),o.ItemData=o.EquipData=o.SkillData=o.RoleData=void 0;var n=t("../Scripts/Config/Main_GameData");o.default=function(){this.coin=0,this.hasRoles={},this.roleMaxIndex=0,this.nowChoosingNormalMapId=1,this.lastChoosingNormalMapTime=0,this.remainNormalMapReward=new n.BattleNormalMapRewardData,this.nowFormation=[],this.hasEquips={},this.equipMaxIndex=0,this.hasItems=[]};o.RoleData=function(){this.ownSkill=[],this.ownEquip=[]};o.SkillData=function(){};o.EquipData=function(){};o.ItemData=function(){},cc._RF.pop()},{"../Scripts/Config/Main_GameData":"Main_GameData"}],SeverMgr:[function(t,e,o){"use strict";cc._RF.push(e,"6f8ffvhM4hA8pbudKxt+v7t","SeverMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Bundle1_Loading/Scripts/Config/EnumTypes"),s=t("../../Bundle1_Loading/Scripts/Mgr/CfgMgr"),c=t("../../Bundle1_Loading/Scripts/Mgr/EventMgr"),l=t("../../Bundle1_Loading/Scripts/Mgr/StorageMgr"),p=t("../../Bundle1_Loading/Scripts/Mgr/TimeMgr"),u=t("../../Bundle1_Loading/Scripts/Tool/Tool"),d=t("../Scripts/Config/Main_GameData"),f=t("../Scripts/Mgr/EquipMgr"),h=t("../Scripts/Mgr/RoleMgr"),y=t("../Scripts/Mgr/SkillMgr"),_=t("./SeverData"),g=cc._decorator,v=g.ccclass,m=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocal=!0,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){if(o.instance=this,this.isLocal&&(this.severData=l.default.instance.storageData.severData),this.localData=new _.default,!this.severData){this.severData=new _.default;for(var t=[],e=0;e<1;e++)t.push(this.addNewRole(10001).index);this.changeRoleFormation(t),this.addCoin(1e4),this.addItem(40001),this.addItem(40002),this.setNowChoosingNormalMapId(1),this.saveSeverData(),console.log("\u521d\u59cb\u5316\u5b58\u6863",this.localData,this.severData)}this.updateNowCoin(),this.updateNowRoles(),this.updateNowSelectRoles(),this.updateNowEquips(),this.updateNowItems(),this.updateNowChoosingNormalMapId()},e.prototype.saveSeverData=function(){this.isLocal&&(l.default.instance.storageData.severData=this.severData,l.default.instance.writeStorage(l.default.instance.storageName.severData,l.default.instance.storageData.severData))},e.prototype.updateNowRoles=function(){this.localData.hasRoles=JSON.parse(JSON.stringify(this.severData.hasRoles)),c.EventMgr.event(a.EventType.Role_Update_Event),this.saveSeverData()},e.prototype.updateNowSelectRoles=function(){this.localData.nowFormation=u.Tool.cloneArray_Obj(this.severData.nowFormation),c.EventMgr.event(a.EventType.Role_Update_Event),this.saveSeverData()},e.prototype.updateNowCoin=function(){this.localData.coin=this.severData.coin,c.EventMgr.event(a.EventType.Coin_Update_Event),this.saveSeverData()},e.prototype.updateNowEquips=function(){this.localData.hasEquips=JSON.parse(JSON.stringify(this.severData.hasEquips)),c.EventMgr.event(a.EventType.Equip_Update_Event),this.saveSeverData()},e.prototype.updateNowItems=function(){this.localData.hasItems=JSON.parse(JSON.stringify(this.severData.hasItems)),c.EventMgr.event(a.EventType.Item_Update_Event),this.saveSeverData()},e.prototype.updateNowChoosingNormalMapId=function(){this.localData.nowChoosingNormalMapId=this.severData.nowChoosingNormalMapId,this.saveSeverData(),c.EventMgr.event(a.EventType.Battle_NormalMap_Change)},e.prototype.addNewRole=function(t){var e=new _.RoleData;e.id=t,e.quality=1,e.level=1;var o=h.default.getJsonData(e),n=h.default.growPointDownValue;e.mass=u.Tool.randomInt(o.mass-n,o.mass),e.str=u.Tool.randomInt(o.str-n,o.str),e.agile=u.Tool.randomInt(o.agile-n,o.agile),e.speed=u.Tool.randomInt(o.speed-n,o.speed),e.mental=u.Tool.randomInt(o.mental-n,o.mental),e.massAdd=0,e.strAdd=0,e.agileAdd=0,e.speedAdd=0,e.mentalAdd=0,e.BPPoint=0;var r=y.default.getBornSkills(e);e.ownSkill=[];for(var i=0;i<r.length;i++){var a=new _.SkillData;a.id=r[i],e.ownSkill.push(a)}e.BPPoint=1;var s=this.severData.roleMaxIndex.toString();return this.severData.roleMaxIndex++,e.index=s,this.severData.hasRoles[s]=e,this.updateNowRoles(),e},e.prototype.reduceRole=function(t){this.severData.hasRoles=u.Tool.deleteObjectValue(this.severData.hasRoles,t),this.updateNowRoles()},e.prototype.changeRoleFormation=function(t){this.severData.nowFormation=u.Tool.cloneArray_normal(t),this.updateNowSelectRoles()},e.prototype.upgradeRole=function(t,e){t=Math.floor(t),this.addCoin(-t);var o=this.severData.hasRoles[e];o.level++,o.BPPoint+=h.default.freePoint,this.updateNowRoles()},e.prototype.addCoin=function(t){t=Math.floor(t),this.severData.coin+=t,this.updateNowCoin()},e.prototype.confirmAddPoint=function(t,e,o,n,r,i){var a=e+o+n+r+i,s=this.severData.hasRoles[t];s.BPPoint<a||(s.BPPoint-=a,s.massAdd+=e,s.strAdd+=o,s.agileAdd+=n,s.speedAdd+=r,s.mentalAdd+=i,this.updateNowRoles())},e.prototype.refreshFreeAddPoint=function(t){for(var e=this.severData.hasRoles[t],o=["massAdd","strAdd","agileAdd","speedAdd","mentalAdd"],n=0,r=0;r<o.length;r++)n+=e[o[r]],e[o[r]]=0;e.BPPoint+=n,this.updateNowRoles()},e.prototype.refreshGrowPoint=function(t){var e=this.severData.hasRoles[t],o=h.default.getJsonData(e),n=h.default.growPointDownValue;e.mass=u.Tool.randomInt(o.mass-n,o.mass),e.str=u.Tool.randomInt(o.str-n,o.str),e.agile=u.Tool.randomInt(o.agile-n,o.agile),e.speed=u.Tool.randomInt(o.speed-n,o.speed),e.mental=u.Tool.randomInt(o.mental-n,o.mental),this.updateNowRoles()},e.prototype.refreshSkill=function(t){var e=this.severData.hasRoles[t],o=y.default.getBornSkills(e);e.ownSkill=[];for(var n=0;n<o.length;n++){var r=new _.SkillData;r.id=o[n],e.ownSkill.push(r)}this.updateNowRoles()},e.prototype.addNewEquip=function(t){var e=new _.EquipData;e.id=t,e.quality=u.Tool.randomInt(1,100),e.level=1,e.addProperty=[],e.skill=[];var o=f.default.getJsonData(e.id);e.property=JSON.parse(JSON.stringify(o.property)),e.quality>15?e.enchantment=o.enchantment:e.enchantment="none";var n=[];for(var r in o.addProperty){var i={key:r,value:o.addProperty[r]};n.push(i)}if(n.length>0)for(var a=Math.floor(e.quality/10),s=0;s<a;s++){var c=u.Tool.getRandomInArray(n);e.addProperty.push({key:c.key,value:c.value})}var l=this.severData.equipMaxIndex.toString();return this.severData.equipMaxIndex++,e.index=l,this.severData.hasEquips[l]=e,this.updateNowEquips(),e},e.prototype.soldEquip=function(t){this.addCoin(f.default.getSoldEquipCoin(t)),this.severData.hasEquips=u.Tool.deleteObjectValue(this.severData.hasEquips,t),this.updateNowEquips()},e.prototype.roleAddEquip=function(t,e){var o=this.severData.hasRoles[t],n=this.severData.hasEquips[e];if(o.level<n.level)console.log("\u89d2\u8272\u7b49\u7ea7\u4e0d\u591f");else{for(var r=u.Tool.cloneArray_Obj(this.severData.hasRoles[t].ownEquip),i=0;i<r.length;i++)if(f.default.getJsonData(r[i].id).slot==f.default.getJsonData(this.severData.hasEquips[e].id).slot){console.log("\u6709\u540c\u69fd\u4f4d"),r.splice(i,1);break}r.push(this.severData.hasEquips[e]),this.severData.hasRoles[t].ownEquip=r,this.updateNowRoles()}},e.prototype.roleReduceEquip=function(t,e){for(var o=this.severData.hasRoles[t].ownEquip,n=0;n<o.length;n++)if(o[n].index==e){o.splice(n,1);break}this.updateNowRoles()},e.prototype.addItem=function(t){for(var e=this,o=function(){e.updateNowItems()},n=0;n<this.severData.hasItems.length;n++)if(this.severData.hasItems[n].id==t)return this.severData.hasItems[n].count++,void o();var r=new _.ItemData;r.id=t,r.count=1,this.severData.hasItems.push(r),o()},e.prototype.useItem=function(t){for(var e=0;e<this.severData.hasItems.length;e++)if(this.severData.hasItems[e].id==t)return this.severData.hasItems[e].count--,this.severData.hasItems[e].count<=0&&this.severData.hasItems.splice(e,1),void this.updateNowItems()},e.prototype.setNowChoosingNormalMapId=function(t){this.severData.nowChoosingNormalMapId=t,this.severData.lastChoosingNormalMapTime=p.default.instance.getNowTime(),this.updateNowChoosingNormalMapId()},e.prototype.getNowNormalMapRewardInfo=function(){var t=this,e=new d.BattleNormalMapRewardData,o=s.CfgMgr.instance.getCfg("MapData").main.find(function(e){return e.id==t.severData.nowChoosingNormalMapId}),n=o.coin,r=o.drops,i=(p.default.instance.getNowTime()-this.severData.lastChoosingNormalMapTime)/6e4;i=Math.floor(i),e.coin=n*i;for(var a=[],c=0;c<i;c++)a.push(u.Tool.getRandomInArray(r));for(c=0;c<a.length;c++)e["chest_"+a[c]]||(e["chest_"+a[c]]=0),e["chest_"+a[c]]++;return e},e.prototype.getNowNormalMapReward=function(){var t=this.getNowNormalMapRewardInfo();this.addCoin(t.coin);for(var e=0;e<t.chest_40001;e++)this.addItem(40001);for(e=0;e<t.chest_40002;e++)this.addItem(40002);for(e=0;e<t.chest_40003;e++)this.addItem(40003);for(e=0;e<t.chest_40004;e++)this.addItem(40004);return this.severData.lastChoosingNormalMapTime=p.default.instance.getNowTime(),this.updateNowChoosingNormalMapId(),t},e.prototype.openChest=function(){},o=i([v],e)}(cc.Component));o.default=m,cc._RF.pop()},{"../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../Bundle1_Loading/Scripts/Mgr/CfgMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/StorageMgr":void 0,"../../Bundle1_Loading/Scripts/Mgr/TimeMgr":void 0,"../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../Scripts/Config/Main_GameData":"Main_GameData","../Scripts/Mgr/EquipMgr":"EquipMgr","../Scripts/Mgr/RoleMgr":"RoleMgr","../Scripts/Mgr/SkillMgr":"SkillMgr","./SeverData":"SeverData"}],ShakeAuto:[function(t,e,o){"use strict";cc._RF.push(e,"557f2p+555Nnrv4GlNhpags","ShakeAuto");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),s=cc._decorator,c=s.ccclass,l=(s.property,s.menu),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=this;a.Tool.objectShake(this.node),this.schedule(function(){a.Tool.objectShake(t.node)},2)},i([c,l("Mod/ShakeAuto")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0}],SkillMgr:[function(t,e,o){"use strict";cc._RF.push(e,"da30aWAZhlAno6qShM2xKFN","SkillMgr");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../Bundle1_Loading/Scripts/Mgr/CfgMgr"),i=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),a=t("./RoleMgr"),s=cc._decorator,c=s.ccclass,l=(s.property,function(){function t(){}var e;return e=t,t.getJsonData=function(t){return r.CfgMgr.instance.getCfg("Skill").main.find(function(e){return e.id==t})},t.getSkillDesc=function(t){for(var o=e.getJsonData(t.id),n=o.property,i=r.CfgMgr.instance.getCfg("Skill").property,a=o.desc,s=0;s<i.length;s++)if(n[i[s].type]){var c="{"+i[s].type+"}";a=a.replace(c,n[i[s].type])}return a},t.calSkillAdd=function(t,o){var n=0,r=e.getJsonData(t.id);for(var i in r.property)i==o&&(n+=r.property[i]);return n/100},t.getBornSkills=function(t){var e,o=a.default.getJsonData(t),n=o.class,r=[],s=o.skillSlots;switch(n){case"Warrior":r.push(i.Tool.getRandomInArray(this.warriorMainSkill)),e=i.Tool.cloneArray_normal(this.warriorPassiveSkill);break;case"Archer":r.push(i.Tool.getRandomInArray(this.archerMainSkill)),e=i.Tool.cloneArray_normal(this.archerPassiveSkill);break;case"Master":r.push(i.Tool.getRandomInArray(this.masterMainSkill)),e=i.Tool.cloneArray_normal(this.masterPassiveSkill);break;default:console.error("\u89d2\u8272\u804c\u9636\u9519\u8bef",t,n)}for(var c=0;c<s-1&&0!=e.length;c++)r.push(i.Tool.takeRandomInArray(e));return r},t.warriorMainSkill=["50001","50002","50003"],t.archerMainSkill=["50004","50005","50006"],t.masterMainSkill=["50007","50008","50009"],t.warriorPassiveSkill=["50010","50013","50016"],t.archerPassiveSkill=["50011","50014","50017"],t.masterPassiveSkill=["50012","50015","50018"],e=n([c],t)}());o.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/CfgMgr":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"./RoleMgr":"RoleMgr"}]},{},["RoleAnim","Btn_MapAward","Btn_OpenPanel","Btn_Setting","Btn_Test","Btn_Test2","Btn_Test3","CoinComp","Main_Bottom","RedPoint","Main_EunmType","Main_GameData","Main","AnimMgr","AssetsMgr","EquipMgr","IconMgr","RedManager","RoleMgr","SkillMgr","DestroyAuto","MoveLeftRight","MoveUpDown","Nimo_Fontclip","RotationAuto","ScaleAuto","ScaleOnce","ShakeAuto","Panel","PanelMgr","SeverData","SeverMgr"]);