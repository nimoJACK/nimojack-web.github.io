window.__require=function e(t,o,n){function i(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){return i(t[a][1][e]||e)},d,d.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({Panel_CreateHero_Choose:[function(e,t,o){"use strict";cc._RF.push(t,"ae975wUi9lFXpJKwcYCbmFM","Panel_CreateHero_Choose");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Bundle1_Loading/Scripts/Tool/Tool"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isInit=!1,t.data=[],t.isShow=!1,t.speed=2e3,t}return i(t,e),t.prototype.initData=function(e){this.data=e,this.isInit=!0,this.bgNode=this.node.getChildByName("bg"),this.maskNode=this.node.getChildByName("mask"),this.layoutNode=this.maskNode.getChildByName("scrollview").getChildByName("view").getChildByName("content");for(var t=this.data.length,o=1;o<t;o++){var n=cc.instantiate(this.layoutNode.children[0]);this.layoutNode.addChild(n)}for(o=0;o<this.layoutNode.childrenCount;o++)this.layoutNode.children[o].getChildByName("label").getComponent(cc.Label).string=this.data[o].name,a.Tool.addClickEvent(this.layoutNode.children[o],this.onClickItem,this,[o],!0,!1);a.Tool.addClickEvent(this.bgNode,this.onClickShow,this,[],!0,!1)},t.prototype.onClickShow=function(){var e=!this.isShow;this.isShow=e,this.node.setSiblingIndex(this.node.parent.childrenCount-1)},t.prototype.onClickItem=function(e){var t=e[0];this.bgNode.getChildByName("label").getComponent(cc.Label).string=this.data[t].name,this.panel.selectHero(this.data[t].id),this.onClickShow()},t.prototype.update=function(e){if(this.isInit){var t=this.isShow?400:50;this.isShow?this.maskNode.height<t&&(this.maskNode.height+=this.speed*e,this.maskNode.height>t&&(this.maskNode.height=t)):this.maskNode.height>t&&(this.maskNode.height-=this.speed*e,this.maskNode.height<t&&(this.maskNode.height=t))}},r([c],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0}],Panel_CreateHero:[function(e,t,o){"use strict";cc._RF.push(t,"2a6aeH6VG1Okax7KqrBVvA5","Panel_CreateHero");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Bundle1_Loading/Scripts/Config/EnumTypes"),s=e("../../../Bundle1_Loading/Scripts/Mgr/CfgMgr"),c=e("../../../Bundle1_Loading/Scripts/Mgr/EventMgr"),l=e("../../../Bundle1_Loading/Scripts/Tool/Tool"),d=e("../../../Bundle2_Main/Scripts/Mgr/RoleMgr"),h=e("../../../Bundle2_Main/Scripts/Panel/Panel"),p=e("../../../Bundle2_Main/SeverTest/SeverMgr"),u=e("./Panel_CreateHero_Choose"),f=cc._decorator,_=f.ccclass,g=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.choose=null,t.btnCreate=null,t.nowHeroId=-1,t}return i(t,e),t.prototype.init=function(){var e=s.CfgMgr.instance.getCfg("Roles");this.choose.panel=this,this.choose.initData(e),l.Tool.addClickEvent(this.btnCreate,this.createHero,this)},t.prototype.selectHero=function(e){this.nowHeroId=e},t.prototype.createHero=function(){if(-1!=this.nowHeroId){var e=p.default.instance.addNewRole(this.nowHeroId);c.EventMgr.event(a.EventType.Tips_Toast_Event,"\u521b\u5efa\u89d2\u8272\u3010"+d.default.getJsonData(e).name+e.index+"\u3011\u6210\u529f")}else c.EventMgr.event(a.EventType.Tips_Toast_Event,"\u8bf7\u9009\u62e9\u89d2\u8272")},r([g(u.default)],t.prototype,"choose",void 0),r([g(cc.Node)],t.prototype,"btnCreate",void 0),r([_],t)}(h.default);o.default=y,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Config/EnumTypes":void 0,"../../../Bundle1_Loading/Scripts/Mgr/CfgMgr":void 0,"../../../Bundle1_Loading/Scripts/Mgr/EventMgr":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../../../Bundle2_Main/Scripts/Mgr/RoleMgr":void 0,"../../../Bundle2_Main/Scripts/Panel/Panel":void 0,"../../../Bundle2_Main/SeverTest/SeverMgr":void 0,"./Panel_CreateHero_Choose":"Panel_CreateHero_Choose"}]},{},["Panel_CreateHero","Panel_CreateHero_Choose"]);