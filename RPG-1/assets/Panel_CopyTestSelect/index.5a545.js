window.__require=function e(t,o,i){function n(a,r){if(!o[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!r&&c)return c(s,!0);if(l)return l(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var h=o[a]={exports:{}};t[a][0].call(h.exports,function(e){return n(t[a][1][e]||e)},h,h.exports,e,t,o,i)}return o[a].exports}for(var l="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({Panel_CopyTestSelect_LevelSelect:[function(e,t,o){"use strict";cc._RF.push(t,"9d44eesvBlL7Iv/ucsffSlC","Panel_CopyTestSelect_LevelSelect");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Bundle1_Loading/Scripts/Tool/Tool"),r=e("./Panel_CopyTestSelect"),s=cc._decorator,c=s.ccclass,h=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel=null,t.isInit=!1,t.data=[],t.isShow=!1,t.speed=2e3,t}return n(t,e),t.prototype.onLoad=function(){for(var e=[],t=1;t<=100;t++)e.push(t);this.initData(e),this.onClickShow(),this.onClickItem([0])},t.prototype.initData=function(e){this.data=e,this.isInit=!0,this.bgNode=this.node.getChildByName("bg"),this.maskNode=this.node.getChildByName("mask"),this.layoutNode=this.maskNode.getChildByName("scrollview").getChildByName("view").getChildByName("content");for(var t=this.data.length,o=1;o<t;o++){var i=cc.instantiate(this.layoutNode.children[0]);this.layoutNode.addChild(i)}for(o=0;o<this.layoutNode.childrenCount;o++)this.layoutNode.children[o].getChildByName("label").getComponent(cc.Label).string=this.data[o],a.Tool.addClickEvent(this.layoutNode.children[o],this.onClickItem,this,[o],!0,!1);a.Tool.addClickEvent(this.bgNode,this.onClickShow,this,[],!0,!1)},t.prototype.onClickShow=function(){var e=!this.isShow;this.isShow=e,this.node.setSiblingIndex(this.node.parent.childrenCount-1)},t.prototype.onClickItem=function(e){var t=e[0];this.bgNode.getChildByName("label").getComponent(cc.Label).string=this.data[t],this.panel.updateMonsterLevel(this.data[t]),this.onClickShow()},t.prototype.update=function(e){if(this.isInit){var t=this.isShow?400:50;this.isShow?this.maskNode.height<t&&(this.maskNode.height+=this.speed*e,this.maskNode.height>t&&(this.maskNode.height=t)):this.maskNode.height>t&&(this.maskNode.height-=this.speed*e,this.maskNode.height<t&&(this.maskNode.height=t))}},l([h(r.default)],t.prototype,"panel",void 0),l([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"./Panel_CopyTestSelect":"Panel_CopyTestSelect"}],Panel_CopyTestSelect:[function(e,t,o){"use strict";cc._RF.push(t,"26594ILPpRKRrWeDsDCv5Dm","Panel_CopyTestSelect");var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=this&&this.__decorate||function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Bundle1_Loading/Scripts/Comp/Bar"),r=e("../../../Bundle1_Loading/Scripts/Mgr/CfgMgr"),s=e("../../../Bundle1_Loading/Scripts/Tool/Tool"),c=e("../../../Bundle2_Main/Scripts/Mgr/IconMgr"),h=e("../../../Bundle2_Main/Scripts/Mgr/RoleMgr"),d=e("../../../Bundle2_Main/Scripts/Panel/Panel"),p=e("../../../Bundle2_Main/SeverTest/SeverData"),u=e("../../../Bundle2_Main/SeverTest/SeverMgr"),g=e("../Panel_CopyTest/Panel_CopyTest"),m=cc._decorator,C=m.ccclass,y=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.role=null,t.monster=null,t.roleSelect=null,t.monsterSelect=null,t.monsterChoose=null,t.roleContent=null,t.monsterContent=null,t.monsterDatas=[],t}return n(t,e),t.prototype.init=function(){s.Tool.addClickEvent(this.roleSelect,this.switchRole,this),s.Tool.addClickEvent(this.monsterSelect,this.switchMonster,this)},t.prototype.initData=function(e){this.roleContent=this.role.getChildByName("view").getChildByName("content"),this.monsterContent=this.monster.getChildByName("view").getChildByName("content");var t=u.default.instance.localData.hasRoles,o=function(e,t,o,i,n,l,r,s,h,d){var p=e.getChildByName("icon"),u=p.getChildByName("level").getComponent(cc.Label),g=p.getChildByName("lock"),m=p.getChildByName("isChoose"),C=p.getChildByName("star");c.default.loadIcon(t,p.getChildByName("icon").getComponent(cc.Sprite));for(var y=0;y<C.children.length;y++)C.children[y].getChildByName("active").opacity=y<r?255:0;g.opacity=h?255:0,m.opacity=!h&&d?255:0,u.string=n.toString();var v=e.getChildByName("stat"),f=v.getChildByName("name").getComponent(cc.Label),_=v.getChildByName("exp_value").getComponent(cc.Label),N=v.getChildByName("exp_bar").getComponent(a.default),S=v.getChildByName("battle_value").getComponent(cc.Label);f.string=i,N.value=n/l,_.string=n+"/"+l,S.string=s.toString()},i=[];for(var n in t)i.push(n);for(var l=1;l<i.length;l++){var d=cc.instantiate(this.roleContent.children[0]);this.roleContent.addChild(d)}for(l=0;l<this.roleContent.children.length;l++){var g=t[i[l]],m=h.default.getJsonData(g);o(this.roleContent.children[l],g.id,g.index,m.name+g.index.toString(),g.level,m.levelMax,g.quality,h.default.calPower(g),!1,!1),s.Tool.addClickEvent(this.roleContent.children[l].getChildByName("icon"),this.select,this,[g,e])}var C=r.CfgMgr.instance.getCfg("Monster");for(l=1;l<C.length;l++)d=cc.instantiate(this.monsterContent.children[0]),this.monsterContent.addChild(d);for(l=0;l<C.length;l++)(g=new p.RoleData).id=C[l].id,g.quality=1,g.level=1,g.mass=C[l].mass,g.str=C[l].str,g.agile=C[l].agile,g.speed=C[l].speed,g.mental=C[l].mental,g.massAdd=0,g.strAdd=0,g.agileAdd=0,g.speedAdd=0,g.mentalAdd=0,g.ownSkill=[],this.monsterDatas.push(g);for(l=0;l<this.monsterDatas.length;l++)o(this.monsterContent.children[l],this.monsterDatas[l].id,this.monsterDatas[l].index,C[l].name,this.monsterDatas[l].level,C[l].levelMax,this.monsterDatas[l].quality,h.default.calPower(this.monsterDatas[l]),!1,!1),s.Tool.addClickEvent(this.monsterContent.children[l].getChildByName("icon"),this.select,this,[this.monsterDatas[l],e]);this.switchRole()},t.prototype.select=function(e){var t=e[0],o=e[1];g.default.instance.select(t,o),this.close()},t.prototype.switchRole=function(){this.role.active=!0,this.monster.active=!1,this.roleSelect.getChildByName("active").active=!0,this.monsterSelect.getChildByName("active").active=!1,this.monsterChoose.active=!1},t.prototype.switchMonster=function(){this.role.active=!1,this.monster.active=!0,this.roleSelect.getChildByName("active").active=!1,this.monsterSelect.getChildByName("active").active=!0,this.monsterChoose.active=!0},t.prototype.updateMonsterLevel=function(e){for(var t=function(e,t,o,i,n,l,r,s,h,d){var p=e.getChildByName("icon"),u=p.getChildByName("level").getComponent(cc.Label),g=p.getChildByName("lock"),m=p.getChildByName("isChoose"),C=p.getChildByName("star");c.default.loadIcon(t,p.getChildByName("icon").getComponent(cc.Sprite));for(var y=0;y<C.children.length;y++)C.children[y].getChildByName("active").opacity=y<r?255:0;g.opacity=h?255:0,m.opacity=!h&&d?255:0,u.string=n.toString();var v=e.getChildByName("stat"),f=v.getChildByName("name").getComponent(cc.Label),_=v.getChildByName("exp_value").getComponent(cc.Label),N=v.getChildByName("exp_bar").getComponent(a.default),S=v.getChildByName("battle_value").getComponent(cc.Label);f.string=i,N.value=n/l,_.string=n+"/"+l,S.string=s.toString()},o=r.CfgMgr.instance.getCfg("Monster"),i=0;i<this.monsterDatas.length;i++)this.monsterDatas[i].level=e,t(this.monsterContent.children[i],this.monsterDatas[i].id,this.monsterDatas[i].index,o[i].name,this.monsterDatas[i].level,o[i].levelMax,this.monsterDatas[i].quality,h.default.calPower(this.monsterDatas[i]),!1,!1)},l([y(cc.Node)],t.prototype,"role",void 0),l([y(cc.Node)],t.prototype,"monster",void 0),l([y(cc.Node)],t.prototype,"roleSelect",void 0),l([y(cc.Node)],t.prototype,"monsterSelect",void 0),l([y(cc.Node)],t.prototype,"monsterChoose",void 0),l([C],t)}(d.default);o.default=v,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Comp/Bar":void 0,"../../../Bundle1_Loading/Scripts/Mgr/CfgMgr":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../../../Bundle2_Main/Scripts/Mgr/IconMgr":void 0,"../../../Bundle2_Main/Scripts/Mgr/RoleMgr":void 0,"../../../Bundle2_Main/Scripts/Panel/Panel":void 0,"../../../Bundle2_Main/SeverTest/SeverData":void 0,"../../../Bundle2_Main/SeverTest/SeverMgr":void 0,"../Panel_CopyTest/Panel_CopyTest":void 0}]},{},["Panel_CopyTestSelect","Panel_CopyTestSelect_LevelSelect"]);