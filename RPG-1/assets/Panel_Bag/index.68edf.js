window.__require=function t(e,n,i){function o(a,c){if(!n[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var d="function"==typeof __require&&__require;if(!c&&d)return d(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var s=n[a]={exports:{}};e[a][0].call(s.exports,function(t){return o(e[a][1][t]||t)},s,s.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)o(i[a]);return o}({Panel_Bag:[function(t,e,n){"use strict";cc._RF.push(e,"0964680RR5He51LpNgiWsxJ","Panel_Bag");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Bundle1_Loading/Scripts/Mgr/CfgMgr"),c=t("../../../Bundle1_Loading/Scripts/Tool/Tool"),l=t("../../../Bundle2_Main/Scripts/Mgr/IconMgr"),d=t("../../../Bundle2_Main/Scripts/Panel/Panel"),s=t("../../../Bundle2_Main/SeverTest/SeverMgr"),p=cc._decorator,h=p.ccclass,u=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.infoNode=null,e.nowSelectIndex=0,e.data=[],e}return o(e,t),e.prototype.init=function(){this.initData()},e.prototype.openCb=function(){},e.prototype.closeCb=function(){},e.prototype.initData=function(){var t=s.default.instance.localData.hasItems,e=t.length;e<60&&(e=60);for(var n=0;n<e;n++){var i=this.content.children[n];i?i.active=!0:(i=cc.instantiate(this.content.children[0]),this.content.addChild(i)),c.Tool.addClickEvent(i,this.itemClick,this,[n])}this.data=t,this.updateData()},e.prototype.updateData=function(){for(var t=0;t<this.content.children.length;t++)t<this.data.length?this.itemDeal(this.content.children[t],this.data[t].id,this.data[t].count,t==this.nowSelectIndex):this.itemEmptyDeal(this.content.children[t],t==this.nowSelectIndex);this.nowSelectIndex>=this.data.length?this.showEmptyDeal():this.showDeal(this.data[this.nowSelectIndex])},e.prototype.itemDeal=function(t,e,n,i){var o=t.getChildByName("icon").getComponent(cc.Sprite),r=t.getChildByName("select"),a=t.getChildByName("count");l.default.loadIcon(e,o),r.active=i,a.active=!0,a.getComponent(cc.Label).string="x"+n.toString()},e.prototype.itemEmptyDeal=function(t,e){var n=t.getChildByName("icon"),i=t.getChildByName("empty"),o=t.getChildByName("select"),r=t.getChildByName("count");n.active=!1,o.active=e,i.active=!0,r.active=!1},e.prototype.showDeal=function(t){var e=this.infoNode.getChildByName("item"),n=this.infoNode.getChildByName("name"),i=this.infoNode.getChildByName("desc"),o=a.CfgMgr.instance.getCfg("Item").find(function(e){return e.id==t.id});n.getComponent(cc.Label).string=o.name,i.getComponent(cc.Label).string=o.desc,e.getChildByName("icon").active=!0,l.default.loadIcon(t.id,e.getChildByName("icon").getComponent(cc.Sprite))},e.prototype.showEmptyDeal=function(){var t=this.infoNode.getChildByName("item"),e=this.infoNode.getChildByName("name"),n=this.infoNode.getChildByName("desc");e.getComponent(cc.Label).string="\u7a7a",n.getComponent(cc.Label).string="\u8fd9\u91cc\u7a7a\u7a7a\u5982\u4e5f",t.getChildByName("icon").active=!1},e.prototype.itemClick=function(t){var e=t[0];this.nowSelectIndex=e,this.updateData()},r([u(cc.Node)],e.prototype,"content",void 0),r([u(cc.Node)],e.prototype,"infoNode",void 0),r([h],e)}(d.default);n.default=f,cc._RF.pop()},{"../../../Bundle1_Loading/Scripts/Mgr/CfgMgr":void 0,"../../../Bundle1_Loading/Scripts/Tool/Tool":void 0,"../../../Bundle2_Main/Scripts/Mgr/IconMgr":void 0,"../../../Bundle2_Main/Scripts/Panel/Panel":void 0,"../../../Bundle2_Main/SeverTest/SeverMgr":void 0}]},{},["Panel_Bag"]);